{"text": "2025-08-21 18:28:44.348 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.346100", "seconds": 8.3461}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.348075+05:30", "timestamp": 1755781124.348075}}}
{"text": "2025-08-21 18:28:44.375 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.373937", "seconds": 8.373937}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.375912+05:30", "timestamp": 1755781124.375912}}}
{"text": "2025-08-21 18:28:44.471 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.469308", "seconds": 8.469308}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.471283+05:30", "timestamp": 1755781124.471283}}}
{"text": "2025-08-21 18:28:44.488 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.486200", "seconds": 8.4862}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.488175+05:30", "timestamp": 1755781124.488175}}}
{"text": "2025-08-21 18:28:44.505 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.503893", "seconds": 8.503893}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.505868+05:30", "timestamp": 1755781124.505868}}}
{"text": "2025-08-21 18:28:44.523 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.521431", "seconds": 8.521431}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.523406+05:30", "timestamp": 1755781124.523406}}}
{"text": "2025-08-21 18:28:44.540 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.538118", "seconds": 8.538118}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.540093+05:30", "timestamp": 1755781124.540093}}}
{"text": "2025-08-21 18:28:44.554 | DEBUG    | app.ws.live:emit_summary:430 - Emitted orders summary: seq=11\n", "record": {"elapsed": {"repr": "0:00:08.552254", "seconds": 8.552254}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted orders summary: seq=11", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.554229+05:30", "timestamp": 1755781124.554229}}}
{"text": "2025-08-21 18:28:44.672 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:08.670351", "seconds": 8.670351}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.672326+05:30", "timestamp": 1755781124.672326}}}
{"text": "2025-08-21 18:28:44.673 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:08.671327", "seconds": 8.671327}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.673302+05:30", "timestamp": 1755781124.673302}}}
{"text": "2025-08-21 18:28:44.695 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.693061", "seconds": 8.693061}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.695036+05:30", "timestamp": 1755781124.695036}}}
{"text": "2025-08-21 18:28:44.728 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.726413", "seconds": 8.726413}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.728388+05:30", "timestamp": 1755781124.728388}}}
{"text": "2025-08-21 18:28:44.826 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.824252", "seconds": 8.824252}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.826227+05:30", "timestamp": 1755781124.826227}}}
{"text": "2025-08-21 18:28:44.935 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:08.933666", "seconds": 8.933666}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:44.935641+05:30", "timestamp": 1755781124.935641}}}
{"text": "2025-08-21 18:28:45.008 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.006709", "seconds": 9.006709}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.008684+05:30", "timestamp": 1755781125.008684}}}
{"text": "2025-08-21 18:28:45.024 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.022602", "seconds": 9.022602}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.024577+05:30", "timestamp": 1755781125.024577}}}
{"text": "2025-08-21 18:28:45.209 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=12\n", "record": {"elapsed": {"repr": "0:00:09.207696", "seconds": 9.207696}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=12", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.209671+05:30", "timestamp": 1755781125.209671}}}
{"text": "2025-08-21 18:28:45.214 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=13\n", "record": {"elapsed": {"repr": "0:00:09.212078", "seconds": 9.212078}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=13", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.214053+05:30", "timestamp": 1755781125.214053}}}
{"text": "2025-08-21 18:28:45.224 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.222112", "seconds": 9.222112}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.224087+05:30", "timestamp": 1755781125.224087}}}
{"text": "2025-08-21 18:28:45.245 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.243490", "seconds": 9.24349}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.245465+05:30", "timestamp": 1755781125.245465}}}
{"text": "2025-08-21 18:28:45.268 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.266604", "seconds": 9.266604}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.268579+05:30", "timestamp": 1755781125.268579}}}
{"text": "2025-08-21 18:28:45.453 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.451428", "seconds": 9.451428}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.453403+05:30", "timestamp": 1755781125.453403}}}
{"text": "2025-08-21 18:28:45.471 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.469420", "seconds": 9.46942}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.471395+05:30", "timestamp": 1755781125.471395}}}
{"text": "2025-08-21 18:28:45.488 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.486434", "seconds": 9.486434}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.488409+05:30", "timestamp": 1755781125.488409}}}
{"text": "2025-08-21 18:28:45.605 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.603917", "seconds": 9.603917}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.605892+05:30", "timestamp": 1755781125.605892}}}
{"text": "2025-08-21 18:28:45.632 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.630877", "seconds": 9.630877}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.632852+05:30", "timestamp": 1755781125.632852}}}
{"text": "2025-08-21 18:28:45.845 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.843298", "seconds": 9.843298}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.845273+05:30", "timestamp": 1755781125.845273}}}
{"text": "2025-08-21 18:28:45.847 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:09.845071", "seconds": 9.845071}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.847046+05:30", "timestamp": 1755781125.847046}}}
{"text": "2025-08-21 18:28:45.847 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:09.845854", "seconds": 9.845854}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.847829+05:30", "timestamp": 1755781125.847829}}}
{"text": "2025-08-21 18:28:45.862 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.860349", "seconds": 9.860349}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.862324+05:30", "timestamp": 1755781125.862324}}}
{"text": "2025-08-21 18:28:45.878 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.876312", "seconds": 9.876312}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.878287+05:30", "timestamp": 1755781125.878287}}}
{"text": "2025-08-21 18:28:45.890 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:09.888258", "seconds": 9.888258}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.890233+05:30", "timestamp": 1755781125.890233}}}
{"text": "2025-08-21 18:28:45.891 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:09.889357", "seconds": 9.889357}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.891332+05:30", "timestamp": 1755781125.891332}}}
{"text": "2025-08-21 18:28:45.922 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.920134", "seconds": 9.920134}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.922109+05:30", "timestamp": 1755781125.922109}}}
{"text": "2025-08-21 18:28:45.963 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:09.961140", "seconds": 9.96114}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:45.963115+05:30", "timestamp": 1755781125.963115}}}
{"text": "2025-08-21 18:28:46.055 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.053773", "seconds": 10.053773}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.055748+05:30", "timestamp": 1755781126.055748}}}
{"text": "2025-08-21 18:28:46.109 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.107601", "seconds": 10.107601}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.109576+05:30", "timestamp": 1755781126.109576}}}
{"text": "2025-08-21 18:28:46.152 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:10.150543", "seconds": 10.150543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.152518+05:30", "timestamp": 1755781126.152518}}}
{"text": "2025-08-21 18:28:46.153 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:10.151557", "seconds": 10.151557}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.153532+05:30", "timestamp": 1755781126.153532}}}
{"text": "2025-08-21 18:28:46.154 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1035939.12, today=-1035939.12\n", "record": {"elapsed": {"repr": "0:00:10.152450", "seconds": 10.15245}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1035939.12, today=-1035939.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.154425+05:30", "timestamp": 1755781126.154425}}}
{"text": "2025-08-21 18:28:46.155 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=979376.4, today=979376.4\n", "record": {"elapsed": {"repr": "0:00:10.153952", "seconds": 10.153952}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=979376.4, today=979376.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.155927+05:30", "timestamp": 1755781126.155927}}}
{"text": "2025-08-21 18:28:46.157 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2023835.42, today=-2023835.42\n", "record": {"elapsed": {"repr": "0:00:10.155217", "seconds": 10.155217}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2023835.42, today=-2023835.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.157192+05:30", "timestamp": 1755781126.157192}}}
{"text": "2025-08-21 18:28:46.158 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=193902.15, today=193902.15\n", "record": {"elapsed": {"repr": "0:00:10.156192", "seconds": 10.156192}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=193902.15, today=193902.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.158167+05:30", "timestamp": 1755781126.158167}}}
{"text": "2025-08-21 18:28:46.159 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=327707.85, today=327707.85\n", "record": {"elapsed": {"repr": "0:00:10.157114", "seconds": 10.157114}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=327707.85, today=327707.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.159089+05:30", "timestamp": 1755781126.159089}}}
{"text": "2025-08-21 18:28:46.160 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1558788.14, day: -1558788.14\n", "record": {"elapsed": {"repr": "0:00:10.158184", "seconds": 10.158184}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1558788.14, day: -1558788.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.160159+05:30", "timestamp": 1755781126.160159}}}
{"text": "2025-08-21 18:28:46.161 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:10.159060", "seconds": 10.15906}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.161035+05:30", "timestamp": 1755781126.161035}}}
{"text": "2025-08-21 18:28:46.161 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:10.159877", "seconds": 10.159877}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.161852+05:30", "timestamp": 1755781126.161852}}}
{"text": "2025-08-21 18:28:46.163 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:10.161093", "seconds": 10.161093}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.163068+05:30", "timestamp": 1755781126.163068}}}
{"text": "2025-08-21 18:28:46.163 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:10.161912", "seconds": 10.161912}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.163887+05:30", "timestamp": 1755781126.163887}}}
{"text": "2025-08-21 18:28:46.165 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:46.154313+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:10.163143", "seconds": 10.163143}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:46.154313+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.165118+05:30", "timestamp": 1755781126.165118}}}
{"text": "2025-08-21 18:28:46.166 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1558788.14, day=-1558788.14, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1328.35, unrealized=-1035939.12, today_pnl=-1035939.12), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=391.55, unrealized=979376.4, today_pnl=979376.4), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=654.4, unrealized=-2023835.42, today_pnl=-2023835.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=574.54, unrealized=193902.15, today_pnl=193902.15), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2200.3, unrealized=327707.85, today_pnl=327707.85)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 46, 154313, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:10.164387", "seconds": 10.164387}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1558788.14, day=-1558788.14, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1328.35, unrealized=-1035939.12, today_pnl=-1035939.12), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=391.55, unrealized=979376.4, today_pnl=979376.4), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=654.4, unrealized=-2023835.42, today_pnl=-2023835.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=574.54, unrealized=193902.15, today_pnl=193902.15), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2200.3, unrealized=327707.85, today_pnl=327707.85)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 46, 154313, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.166362+05:30", "timestamp": 1755781126.166362}}}
{"text": "2025-08-21 18:28:46.167 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1558788.14, day=-1558788.14, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1328.35, unrealized=-1035939.12, today_pnl=-1035939.12), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=391.55, unrealized=979376.4, today_pnl=979376.4), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=654.4, unrealized=-2023835.42, today_pnl=-2023835.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=574.54, unrealized=193902.15, today_pnl=193902.15), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2200.3, unrealized=327707.85, today_pnl=327707.85)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 46, 154313, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:10.165647", "seconds": 10.165647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1558788.14, day=-1558788.14, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1328.35, unrealized=-1035939.12, today_pnl=-1035939.12), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=391.55, unrealized=979376.4, today_pnl=979376.4), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=654.4, unrealized=-2023835.42, today_pnl=-2023835.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=574.54, unrealized=193902.15, today_pnl=193902.15), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2200.3, unrealized=327707.85, today_pnl=327707.85)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 46, 154313, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.167622+05:30", "timestamp": 1755781126.167622}}}
{"text": "2025-08-21 18:28:46.168 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1558788.14\n", "record": {"elapsed": {"repr": "0:00:10.166518", "seconds": 10.166518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1558788.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.168493+05:30", "timestamp": 1755781126.168493}}}
{"text": "2025-08-21 18:28:46.169 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.167351", "seconds": 10.167351}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.169326+05:30", "timestamp": 1755781126.169326}}}
{"text": "2025-08-21 18:28:46.169 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.167902", "seconds": 10.167902}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.169877+05:30", "timestamp": 1755781126.169877}}}
{"text": "2025-08-21 18:28:46.170 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.168713", "seconds": 10.168713}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.170688+05:30", "timestamp": 1755781126.170688}}}
{"text": "2025-08-21 18:28:46.171 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.169542", "seconds": 10.169542}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.171517+05:30", "timestamp": 1755781126.171517}}}
{"text": "2025-08-21 18:28:46.172 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.170113", "seconds": 10.170113}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.172088+05:30", "timestamp": 1755781126.172088}}}
{"text": "2025-08-21 18:28:46.172 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.170573", "seconds": 10.170573}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.172548+05:30", "timestamp": 1755781126.172548}}}
{"text": "2025-08-21 18:28:46.173 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.171043", "seconds": 10.171043}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.173018+05:30", "timestamp": 1755781126.173018}}}
{"text": "2025-08-21 18:28:46.173 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.171504", "seconds": 10.171504}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.173479+05:30", "timestamp": 1755781126.173479}}}
{"text": "2025-08-21 18:28:46.174 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.172179", "seconds": 10.172179}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.174154+05:30", "timestamp": 1755781126.174154}}}
{"text": "2025-08-21 18:28:46.175 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.173092", "seconds": 10.173092}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.175067+05:30", "timestamp": 1755781126.175067}}}
{"text": "2025-08-21 18:28:46.175 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.173794", "seconds": 10.173794}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.175769+05:30", "timestamp": 1755781126.175769}}}
{"text": "2025-08-21 18:28:46.176 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.174989", "seconds": 10.174989}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.176964+05:30", "timestamp": 1755781126.176964}}}
{"text": "2025-08-21 18:28:46.178 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.176132", "seconds": 10.176132}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.178107+05:30", "timestamp": 1755781126.178107}}}
{"text": "2025-08-21 18:28:46.178 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.176950", "seconds": 10.17695}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.178925+05:30", "timestamp": 1755781126.178925}}}
{"text": "2025-08-21 18:28:46.179 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.177558", "seconds": 10.177558}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.179533+05:30", "timestamp": 1755781126.179533}}}
{"text": "2025-08-21 18:28:46.180 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.178546", "seconds": 10.178546}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.180521+05:30", "timestamp": 1755781126.180521}}}
{"text": "2025-08-21 18:28:46.181 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.179266", "seconds": 10.179266}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.181241+05:30", "timestamp": 1755781126.181241}}}
{"text": "2025-08-21 18:28:46.182 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.180911", "seconds": 10.180911}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.182886+05:30", "timestamp": 1755781126.182886}}}
{"text": "2025-08-21 18:28:46.184 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.182079", "seconds": 10.182079}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.184054+05:30", "timestamp": 1755781126.184054}}}
{"text": "2025-08-21 18:28:46.185 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.183146", "seconds": 10.183146}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.185121+05:30", "timestamp": 1755781126.185121}}}
{"text": "2025-08-21 18:28:46.185 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.183814", "seconds": 10.183814}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.185789+05:30", "timestamp": 1755781126.185789}}}
{"text": "2025-08-21 18:28:46.186 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.184404", "seconds": 10.184404}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.186379+05:30", "timestamp": 1755781126.186379}}}
{"text": "2025-08-21 18:28:46.186 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.184977", "seconds": 10.184977}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.186952+05:30", "timestamp": 1755781126.186952}}}
{"text": "2025-08-21 18:28:46.187 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.185529", "seconds": 10.185529}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.187504+05:30", "timestamp": 1755781126.187504}}}
{"text": "2025-08-21 18:28:46.188 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.186135", "seconds": 10.186135}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.188110+05:30", "timestamp": 1755781126.18811}}}
{"text": "2025-08-21 18:28:46.188 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.186715", "seconds": 10.186715}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.188690+05:30", "timestamp": 1755781126.18869}}}
{"text": "2025-08-21 18:28:46.189 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.187379", "seconds": 10.187379}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.189354+05:30", "timestamp": 1755781126.189354}}}
{"text": "2025-08-21 18:28:46.190 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.188364", "seconds": 10.188364}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.190339+05:30", "timestamp": 1755781126.190339}}}
{"text": "2025-08-21 18:28:46.191 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.189199", "seconds": 10.189199}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.191174+05:30", "timestamp": 1755781126.191174}}}
{"text": "2025-08-21 18:28:46.191 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.190019", "seconds": 10.190019}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.191994+05:30", "timestamp": 1755781126.191994}}}
{"text": "2025-08-21 18:28:46.192 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.190728", "seconds": 10.190728}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.192703+05:30", "timestamp": 1755781126.192703}}}
{"text": "2025-08-21 18:28:46.193 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:10.191306", "seconds": 10.191306}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.193281+05:30", "timestamp": 1755781126.193281}}}
{"text": "2025-08-21 18:28:46.194 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.192306", "seconds": 10.192306}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.194281+05:30", "timestamp": 1755781126.194281}}}
{"text": "2025-08-21 18:28:46.196 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.194042", "seconds": 10.194042}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.196017+05:30", "timestamp": 1755781126.196017}}}
{"text": "2025-08-21 18:28:46.197 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.195859", "seconds": 10.195859}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.197834+05:30", "timestamp": 1755781126.197834}}}
{"text": "2025-08-21 18:28:46.200 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.198685", "seconds": 10.198685}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.200660+05:30", "timestamp": 1755781126.20066}}}
{"text": "2025-08-21 18:28:46.201 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.199739", "seconds": 10.199739}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.201714+05:30", "timestamp": 1755781126.201714}}}
{"text": "2025-08-21 18:28:46.202 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.200850", "seconds": 10.20085}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.202825+05:30", "timestamp": 1755781126.202825}}}
{"text": "2025-08-21 18:28:46.204 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.202352", "seconds": 10.202352}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.204327+05:30", "timestamp": 1755781126.204327}}}
{"text": "2025-08-21 18:28:46.205 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.203529", "seconds": 10.203529}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.205504+05:30", "timestamp": 1755781126.205504}}}
{"text": "2025-08-21 18:28:46.206 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.204420", "seconds": 10.20442}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.206395+05:30", "timestamp": 1755781126.206395}}}
{"text": "2025-08-21 18:28:46.207 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.205512", "seconds": 10.205512}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.207487+05:30", "timestamp": 1755781126.207487}}}
{"text": "2025-08-21 18:28:46.208 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.206469", "seconds": 10.206469}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.208444+05:30", "timestamp": 1755781126.208444}}}
{"text": "2025-08-21 18:28:46.209 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.207028", "seconds": 10.207028}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.209003+05:30", "timestamp": 1755781126.209003}}}
{"text": "2025-08-21 18:28:46.209 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.207593", "seconds": 10.207593}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.209568+05:30", "timestamp": 1755781126.209568}}}
{"text": "2025-08-21 18:28:46.210 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.208102", "seconds": 10.208102}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.210077+05:30", "timestamp": 1755781126.210077}}}
{"text": "2025-08-21 18:28:46.210 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.208514", "seconds": 10.208514}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.210489+05:30", "timestamp": 1755781126.210489}}}
{"text": "2025-08-21 18:28:46.210 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.209020", "seconds": 10.20902}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.210995+05:30", "timestamp": 1755781126.210995}}}
{"text": "2025-08-21 18:28:46.211 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.209468", "seconds": 10.209468}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.211443+05:30", "timestamp": 1755781126.211443}}}
{"text": "2025-08-21 18:28:46.212 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.210138", "seconds": 10.210138}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.212113+05:30", "timestamp": 1755781126.212113}}}
{"text": "2025-08-21 18:28:46.212 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.210725", "seconds": 10.210725}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.212700+05:30", "timestamp": 1755781126.2127}}}
{"text": "2025-08-21 18:28:46.213 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.211638", "seconds": 10.211638}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.213613+05:30", "timestamp": 1755781126.213613}}}
{"text": "2025-08-21 18:28:46.214 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.212308", "seconds": 10.212308}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.214283+05:30", "timestamp": 1755781126.214283}}}
{"text": "2025-08-21 18:28:46.214 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.212918", "seconds": 10.212918}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.214893+05:30", "timestamp": 1755781126.214893}}}
{"text": "2025-08-21 18:28:46.215 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.213665", "seconds": 10.213665}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.215640+05:30", "timestamp": 1755781126.21564}}}
{"text": "2025-08-21 18:28:46.216 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.214422", "seconds": 10.214422}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.216397+05:30", "timestamp": 1755781126.216397}}}
{"text": "2025-08-21 18:28:46.217 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.215185", "seconds": 10.215185}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.217160+05:30", "timestamp": 1755781126.21716}}}
{"text": "2025-08-21 18:28:46.218 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.216110", "seconds": 10.21611}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.218085+05:30", "timestamp": 1755781126.218085}}}
{"text": "2025-08-21 18:28:46.219 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.217398", "seconds": 10.217398}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.219373+05:30", "timestamp": 1755781126.219373}}}
{"text": "2025-08-21 18:28:46.220 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.218390", "seconds": 10.21839}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.220365+05:30", "timestamp": 1755781126.220365}}}
{"text": "2025-08-21 18:28:46.220 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.219014", "seconds": 10.219014}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.220989+05:30", "timestamp": 1755781126.220989}}}
{"text": "2025-08-21 18:28:46.222 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.220044", "seconds": 10.220044}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.222019+05:30", "timestamp": 1755781126.222019}}}
{"text": "2025-08-21 18:28:46.223 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.221441", "seconds": 10.221441}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.223416+05:30", "timestamp": 1755781126.223416}}}
{"text": "2025-08-21 18:28:46.224 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.222486", "seconds": 10.222486}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.224461+05:30", "timestamp": 1755781126.224461}}}
{"text": "2025-08-21 18:28:46.225 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=14\n", "record": {"elapsed": {"repr": "0:00:10.223249", "seconds": 10.223249}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=14", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.225224+05:30", "timestamp": 1755781126.225224}}}
{"text": "2025-08-21 18:28:46.229 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.227999", "seconds": 10.227999}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:46.229974+05:30", "timestamp": 1755781126.229974}}}
{"text": "2025-08-21 18:28:46.230 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.228642", "seconds": 10.228642}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.230617+05:30", "timestamp": 1755781126.230617}}}
{"text": "2025-08-21 18:28:46.231 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.229405", "seconds": 10.229405}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:46.231380+05:30", "timestamp": 1755781126.23138}}}
{"text": "2025-08-21 18:28:46.233 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.231124", "seconds": 10.231124}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:46.233099+05:30", "timestamp": 1755781126.233099}}}
{"text": "2025-08-21 18:28:46.233 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.231829", "seconds": 10.231829}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:46.233804+05:30", "timestamp": 1755781126.233804}}}
{"text": "2025-08-21 18:28:46.234 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.232510", "seconds": 10.23251}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:46.234485+05:30", "timestamp": 1755781126.234485}}}
{"text": "2025-08-21 18:28:46.235 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.233182", "seconds": 10.233182}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:46.235157+05:30", "timestamp": 1755781126.235157}}}
{"text": "2025-08-21 18:28:46.235 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.233807", "seconds": 10.233807}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:46.235782+05:30", "timestamp": 1755781126.235782}}}
{"text": "2025-08-21 18:28:46.236 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.234508", "seconds": 10.234508}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:46.236483+05:30", "timestamp": 1755781126.236483}}}
{"text": "2025-08-21 18:28:46.237 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.235298", "seconds": 10.235298}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:46.237273+05:30", "timestamp": 1755781126.237273}}}
{"text": "2025-08-21 18:28:46.238 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.236166", "seconds": 10.236166}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:46.238141+05:30", "timestamp": 1755781126.238141}}}
{"text": "2025-08-21 18:28:46.248 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.246058", "seconds": 10.246058}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.248033+05:30", "timestamp": 1755781126.248033}}}
{"text": "2025-08-21 18:28:46.278 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.276508", "seconds": 10.276508}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.278483+05:30", "timestamp": 1755781126.278483}}}
{"text": "2025-08-21 18:28:46.304 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.302343", "seconds": 10.302343}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.304318+05:30", "timestamp": 1755781126.304318}}}
{"text": "2025-08-21 18:28:46.395 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.393522", "seconds": 10.393522}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.395497+05:30", "timestamp": 1755781126.395497}}}
{"text": "2025-08-21 18:28:46.412 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.410153", "seconds": 10.410153}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.412128+05:30", "timestamp": 1755781126.412128}}}
{"text": "2025-08-21 18:28:46.460 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.458706", "seconds": 10.458706}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.460681+05:30", "timestamp": 1755781126.460681}}}
{"text": "2025-08-21 18:28:46.478 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.476402", "seconds": 10.476402}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.478377+05:30", "timestamp": 1755781126.478377}}}
{"text": "2025-08-21 18:28:46.578 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:10.576243", "seconds": 10.576243}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.578218+05:30", "timestamp": 1755781126.578218}}}
{"text": "2025-08-21 18:28:46.581 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:10.579041", "seconds": 10.579041}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.581016+05:30", "timestamp": 1755781126.581016}}}
{"text": "2025-08-21 18:28:46.582 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:10.580162", "seconds": 10.580162}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:46.582137+05:30", "timestamp": 1755781126.582137}}}
{"text": "2025-08-21 18:28:47.155 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=15\n", "record": {"elapsed": {"repr": "0:00:11.153323", "seconds": 11.153323}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=15", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:47.155298+05:30", "timestamp": 1755781127.155298}}}
{"text": "2025-08-21 18:28:47.157 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=16\n", "record": {"elapsed": {"repr": "0:00:11.155823", "seconds": 11.155823}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=16", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:47.157798+05:30", "timestamp": 1755781127.157798}}}
{"text": "2025-08-21 18:28:47.163 | DEBUG    | app.ws.live:emit_summary:430 - Emitted orders summary: seq=17\n", "record": {"elapsed": {"repr": "0:00:11.161346", "seconds": 11.161346}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted orders summary: seq=17", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:47.163321+05:30", "timestamp": 1755781127.163321}}}
{"text": "2025-08-21 18:28:47.496 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:11.494857", "seconds": 11.494857}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:47.496832+05:30", "timestamp": 1755781127.496832}}}
{"text": "2025-08-21 18:28:47.528 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:11.526891", "seconds": 11.526891}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:47.528866+05:30", "timestamp": 1755781127.528866}}}
{"text": "2025-08-21 18:28:47.840 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:11.838529", "seconds": 11.838529}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:47.840504+05:30", "timestamp": 1755781127.840504}}}
{"text": "2025-08-21 18:28:47.874 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:11.872358", "seconds": 11.872358}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:47.874333+05:30", "timestamp": 1755781127.874333}}}
{"text": "2025-08-21 18:28:48.171 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:12.169971", "seconds": 12.169971}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.171946+05:30", "timestamp": 1755781128.171946}}}
{"text": "2025-08-21 18:28:48.173 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:12.171998", "seconds": 12.171998}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.173973+05:30", "timestamp": 1755781128.173973}}}
{"text": "2025-08-21 18:28:48.174 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1072316.8, today=-1072316.8\n", "record": {"elapsed": {"repr": "0:00:12.172972", "seconds": 12.172972}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1072316.8, today=-1072316.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.174947+05:30", "timestamp": 1755781128.174947}}}
{"text": "2025-08-21 18:28:48.175 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=981999.3, today=981999.3\n", "record": {"elapsed": {"repr": "0:00:12.173779", "seconds": 12.173779}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=981999.3, today=981999.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.175754+05:30", "timestamp": 1755781128.175754}}}
{"text": "2025-08-21 18:28:48.176 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2043063.25, today=-2043063.25\n", "record": {"elapsed": {"repr": "0:00:12.174551", "seconds": 12.174551}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2043063.25, today=-2043063.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.176526+05:30", "timestamp": 1755781128.176526}}}
{"text": "2025-08-21 18:28:48.178 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=190162.9, today=190162.9\n", "record": {"elapsed": {"repr": "0:00:12.176157", "seconds": 12.176157}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=190162.9, today=190162.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.178132+05:30", "timestamp": 1755781128.178132}}}
{"text": "2025-08-21 18:28:48.179 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=325557.58, today=325557.58\n", "record": {"elapsed": {"repr": "0:00:12.177526", "seconds": 12.177526}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=325557.58, today=325557.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.179501+05:30", "timestamp": 1755781128.179501}}}
{"text": "2025-08-21 18:28:48.180 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1617660.27, day: -1617660.27\n", "record": {"elapsed": {"repr": "0:00:12.178588", "seconds": 12.178588}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1617660.27, day: -1617660.27", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.180563+05:30", "timestamp": 1755781128.180563}}}
{"text": "2025-08-21 18:28:48.181 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:12.179576", "seconds": 12.179576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.181551+05:30", "timestamp": 1755781128.181551}}}
{"text": "2025-08-21 18:28:48.182 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:12.180421", "seconds": 12.180421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.182396+05:30", "timestamp": 1755781128.182396}}}
{"text": "2025-08-21 18:28:48.183 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:12.181577", "seconds": 12.181577}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.183552+05:30", "timestamp": 1755781128.183552}}}
{"text": "2025-08-21 18:28:48.184 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:12.182415", "seconds": 12.182415}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.184390+05:30", "timestamp": 1755781128.18439}}}
{"text": "2025-08-21 18:28:48.185 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:48.174814+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:12.183193", "seconds": 12.183193}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:48.174814+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.185168+05:30", "timestamp": 1755781128.185168}}}
{"text": "2025-08-21 18:28:48.186 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1617660.27, day=-1617660.27, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1304.77, unrealized=-1072316.8, today_pnl=-1072316.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=387.27, unrealized=981999.3, today_pnl=981999.3), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=643.15, unrealized=-2043063.25, today_pnl=-2043063.25), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=579.91, unrealized=190162.9, today_pnl=190162.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2191.87, unrealized=325557.58, today_pnl=325557.58)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 48, 174814, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:12.184263", "seconds": 12.184263}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1617660.27, day=-1617660.27, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1304.77, unrealized=-1072316.8, today_pnl=-1072316.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=387.27, unrealized=981999.3, today_pnl=981999.3), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=643.15, unrealized=-2043063.25, today_pnl=-2043063.25), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=579.91, unrealized=190162.9, today_pnl=190162.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2191.87, unrealized=325557.58, today_pnl=325557.58)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 48, 174814, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.186238+05:30", "timestamp": 1755781128.186238}}}
{"text": "2025-08-21 18:28:48.187 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1617660.27, day=-1617660.27, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1304.77, unrealized=-1072316.8, today_pnl=-1072316.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=387.27, unrealized=981999.3, today_pnl=981999.3), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=643.15, unrealized=-2043063.25, today_pnl=-2043063.25), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=579.91, unrealized=190162.9, today_pnl=190162.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2191.87, unrealized=325557.58, today_pnl=325557.58)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 48, 174814, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:12.185719", "seconds": 12.185719}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1617660.27, day=-1617660.27, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1304.77, unrealized=-1072316.8, today_pnl=-1072316.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=387.27, unrealized=981999.3, today_pnl=981999.3), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=643.15, unrealized=-2043063.25, today_pnl=-2043063.25), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=579.91, unrealized=190162.9, today_pnl=190162.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2191.87, unrealized=325557.58, today_pnl=325557.58)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 48, 174814, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.187694+05:30", "timestamp": 1755781128.187694}}}
{"text": "2025-08-21 18:28:48.188 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1617660.27\n", "record": {"elapsed": {"repr": "0:00:12.186873", "seconds": 12.186873}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1617660.27", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.188848+05:30", "timestamp": 1755781128.188848}}}
{"text": "2025-08-21 18:28:48.190 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.188874", "seconds": 12.188874}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.190849+05:30", "timestamp": 1755781128.190849}}}
{"text": "2025-08-21 18:28:48.192 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.190962", "seconds": 12.190962}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.192937+05:30", "timestamp": 1755781128.192937}}}
{"text": "2025-08-21 18:28:48.195 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.193803", "seconds": 12.193803}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.195778+05:30", "timestamp": 1755781128.195778}}}
{"text": "2025-08-21 18:28:48.196 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.194881", "seconds": 12.194881}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.196856+05:30", "timestamp": 1755781128.196856}}}
{"text": "2025-08-21 18:28:48.197 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.195905", "seconds": 12.195905}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.197880+05:30", "timestamp": 1755781128.19788}}}
{"text": "2025-08-21 18:28:48.199 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.197385", "seconds": 12.197385}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.199360+05:30", "timestamp": 1755781128.19936}}}
{"text": "2025-08-21 18:28:48.200 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.198817", "seconds": 12.198817}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.200792+05:30", "timestamp": 1755781128.200792}}}
{"text": "2025-08-21 18:28:48.201 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.199575", "seconds": 12.199575}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.201550+05:30", "timestamp": 1755781128.20155}}}
{"text": "2025-08-21 18:28:48.202 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.200500", "seconds": 12.2005}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.202475+05:30", "timestamp": 1755781128.202475}}}
{"text": "2025-08-21 18:28:48.203 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.201259", "seconds": 12.201259}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.203234+05:30", "timestamp": 1755781128.203234}}}
{"text": "2025-08-21 18:28:48.204 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.202076", "seconds": 12.202076}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.204051+05:30", "timestamp": 1755781128.204051}}}
{"text": "2025-08-21 18:28:48.205 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.203133", "seconds": 12.203133}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.205108+05:30", "timestamp": 1755781128.205108}}}
{"text": "2025-08-21 18:28:48.205 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:12.204021", "seconds": 12.204021}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.205996+05:30", "timestamp": 1755781128.205996}}}
{"text": "2025-08-21 18:28:48.207 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.205252", "seconds": 12.205252}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.207227+05:30", "timestamp": 1755781128.207227}}}
{"text": "2025-08-21 18:28:48.208 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.206033", "seconds": 12.206033}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.208008+05:30", "timestamp": 1755781128.208008}}}
{"text": "2025-08-21 18:28:48.208 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.206765", "seconds": 12.206765}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.208740+05:30", "timestamp": 1755781128.20874}}}
{"text": "2025-08-21 18:28:48.209 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.207422", "seconds": 12.207422}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.209397+05:30", "timestamp": 1755781128.209397}}}
{"text": "2025-08-21 18:28:48.210 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.208393", "seconds": 12.208393}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.210368+05:30", "timestamp": 1755781128.210368}}}
{"text": "2025-08-21 18:28:48.211 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.209131", "seconds": 12.209131}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.211106+05:30", "timestamp": 1755781128.211106}}}
{"text": "2025-08-21 18:28:48.212 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.210040", "seconds": 12.21004}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.212015+05:30", "timestamp": 1755781128.212015}}}
{"text": "2025-08-21 18:28:48.213 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.211145", "seconds": 12.211145}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.213120+05:30", "timestamp": 1755781128.21312}}}
{"text": "2025-08-21 18:28:48.213 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.211943", "seconds": 12.211943}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.213918+05:30", "timestamp": 1755781128.213918}}}
{"text": "2025-08-21 18:28:48.214 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.212784", "seconds": 12.212784}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.214759+05:30", "timestamp": 1755781128.214759}}}
{"text": "2025-08-21 18:28:48.215 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.213600", "seconds": 12.2136}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.215575+05:30", "timestamp": 1755781128.215575}}}
{"text": "2025-08-21 18:28:48.216 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.214423", "seconds": 12.214423}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.216398+05:30", "timestamp": 1755781128.216398}}}
{"text": "2025-08-21 18:28:48.217 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.215204", "seconds": 12.215204}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.217179+05:30", "timestamp": 1755781128.217179}}}
{"text": "2025-08-21 18:28:48.218 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=18\n", "record": {"elapsed": {"repr": "0:00:12.216128", "seconds": 12.216128}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=18", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.218103+05:30", "timestamp": 1755781128.218103}}}
{"text": "2025-08-21 18:28:48.229 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.227332", "seconds": 12.227332}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.229307+05:30", "timestamp": 1755781128.229307}}}
{"text": "2025-08-21 18:28:48.240 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.238786", "seconds": 12.238786}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:48.240761+05:30", "timestamp": 1755781128.240761}}}
{"text": "2025-08-21 18:28:48.242 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.240964", "seconds": 12.240964}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:48.242939+05:30", "timestamp": 1755781128.242939}}}
{"text": "2025-08-21 18:28:48.246 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.244534", "seconds": 12.244534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:48.246509+05:30", "timestamp": 1755781128.246509}}}
{"text": "2025-08-21 18:28:48.249 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.247301", "seconds": 12.247301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:48.249276+05:30", "timestamp": 1755781128.249276}}}
{"text": "2025-08-21 18:28:48.252 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.250316", "seconds": 12.250316}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:48.252291+05:30", "timestamp": 1755781128.252291}}}
{"text": "2025-08-21 18:28:48.250 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.248175", "seconds": 12.248175}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.250150+05:30", "timestamp": 1755781128.25015}}}
{"text": "2025-08-21 18:28:48.254 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.252161", "seconds": 12.252161}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:48.254136+05:30", "timestamp": 1755781128.254136}}}
{"text": "2025-08-21 18:28:48.255 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.253841", "seconds": 12.253841}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:48.255816+05:30", "timestamp": 1755781128.255816}}}
{"text": "2025-08-21 18:28:48.256 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.254766", "seconds": 12.254766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:48.256741+05:30", "timestamp": 1755781128.256741}}}
{"text": "2025-08-21 18:28:48.257 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.255607", "seconds": 12.255607}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:48.257582+05:30", "timestamp": 1755781128.257582}}}
{"text": "2025-08-21 18:28:48.259 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.257214", "seconds": 12.257214}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:48.259189+05:30", "timestamp": 1755781128.259189}}}
{"text": "2025-08-21 18:28:48.267 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.265271", "seconds": 12.265271}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.267246+05:30", "timestamp": 1755781128.267246}}}
{"text": "2025-08-21 18:28:48.285 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.283856", "seconds": 12.283856}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.285831+05:30", "timestamp": 1755781128.285831}}}
{"text": "2025-08-21 18:28:48.568 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:12.566823", "seconds": 12.566823}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.568798+05:30", "timestamp": 1755781128.568798}}}
{"text": "2025-08-21 18:28:48.570 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:12.568488", "seconds": 12.568488}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.570463+05:30", "timestamp": 1755781128.570463}}}
{"text": "2025-08-21 18:28:48.571 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:12.569132", "seconds": 12.569132}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:48.571107+05:30", "timestamp": 1755781128.571107}}}
{"text": "2025-08-21 18:28:49.070 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=19\n", "record": {"elapsed": {"repr": "0:00:13.068464", "seconds": 13.068464}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=19", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:49.070439+05:30", "timestamp": 1755781129.070439}}}
{"text": "2025-08-21 18:28:49.073 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=20\n", "record": {"elapsed": {"repr": "0:00:13.071063", "seconds": 13.071063}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=20", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:49.073038+05:30", "timestamp": 1755781129.073038}}}
{"text": "2025-08-21 18:28:49.402 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:13.400183", "seconds": 13.400183}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:49.402158+05:30", "timestamp": 1755781129.402158}}}
{"text": "2025-08-21 18:28:49.435 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:13.433881", "seconds": 13.433881}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:49.435856+05:30", "timestamp": 1755781129.435856}}}
{"text": "2025-08-21 18:28:49.729 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:13.727784", "seconds": 13.727784}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:49.729759+05:30", "timestamp": 1755781129.729759}}}
{"text": "2025-08-21 18:28:49.758 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:13.756053", "seconds": 13.756053}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:49.758028+05:30", "timestamp": 1755781129.758028}}}
{"text": "2025-08-21 18:28:49.774 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:13.772372", "seconds": 13.772372}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:49.774347+05:30", "timestamp": 1755781129.774347}}}
{"text": "2025-08-21 18:28:49.795 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:13.793965", "seconds": 13.793965}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:49.795940+05:30", "timestamp": 1755781129.79594}}}
{"text": "2025-08-21 18:28:50.076 | DEBUG    | app.ws.live:emit_summary:430 - Emitted orders summary: seq=21\n", "record": {"elapsed": {"repr": "0:00:14.074698", "seconds": 14.074698}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted orders summary: seq=21", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.076673+05:30", "timestamp": 1755781130.076673}}}
{"text": "2025-08-21 18:28:50.081 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.079872", "seconds": 14.079872}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.081847+05:30", "timestamp": 1755781130.081847}}}
{"text": "2025-08-21 18:28:50.083 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:14.081549", "seconds": 14.081549}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.083524+05:30", "timestamp": 1755781130.083524}}}
{"text": "2025-08-21 18:28:50.084 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:14.082321", "seconds": 14.082321}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.084296+05:30", "timestamp": 1755781130.084296}}}
{"text": "2025-08-21 18:28:50.163 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:14.161732", "seconds": 14.161732}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.163707+05:30", "timestamp": 1755781130.163707}}}
{"text": "2025-08-21 18:28:50.164 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:14.162772", "seconds": 14.162772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.164747+05:30", "timestamp": 1755781130.164747}}}
{"text": "2025-08-21 18:28:50.166 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1033428.98, today=-1033428.98\n", "record": {"elapsed": {"repr": "0:00:14.164778", "seconds": 14.164778}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1033428.98, today=-1033428.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.166753+05:30", "timestamp": 1755781130.166753}}}
{"text": "2025-08-21 18:28:50.167 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=984981.25, today=984981.25\n", "record": {"elapsed": {"repr": "0:00:14.165604", "seconds": 14.165604}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=984981.25, today=984981.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.167579+05:30", "timestamp": 1755781130.167579}}}
{"text": "2025-08-21 18:28:50.168 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2054427.77, today=-2054427.77\n", "record": {"elapsed": {"repr": "0:00:14.166414", "seconds": 14.166414}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2054427.77, today=-2054427.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.168389+05:30", "timestamp": 1755781130.168389}}}
{"text": "2025-08-21 18:28:50.169 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=188461.9, today=188461.9\n", "record": {"elapsed": {"repr": "0:00:14.167819", "seconds": 14.167819}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=188461.9, today=188461.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.169794+05:30", "timestamp": 1755781130.169794}}}
{"text": "2025-08-21 18:28:50.170 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=331716.66, today=331716.66\n", "record": {"elapsed": {"repr": "0:00:14.168914", "seconds": 14.168914}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=331716.66, today=331716.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.170889+05:30", "timestamp": 1755781130.170889}}}
{"text": "2025-08-21 18:28:50.171 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1582696.94, day: -1582696.94\n", "record": {"elapsed": {"repr": "0:00:14.169738", "seconds": 14.169738}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1582696.94, day: -1582696.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.171713+05:30", "timestamp": 1755781130.171713}}}
{"text": "2025-08-21 18:28:50.172 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:14.170643", "seconds": 14.170643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.172618+05:30", "timestamp": 1755781130.172618}}}
{"text": "2025-08-21 18:28:50.173 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:14.171266", "seconds": 14.171266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.173241+05:30", "timestamp": 1755781130.173241}}}
{"text": "2025-08-21 18:28:50.173 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:14.172003", "seconds": 14.172003}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.173978+05:30", "timestamp": 1755781130.173978}}}
{"text": "2025-08-21 18:28:50.174 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:14.172630", "seconds": 14.17263}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.174605+05:30", "timestamp": 1755781130.174605}}}
{"text": "2025-08-21 18:28:50.175 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:50.166637+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:14.173549", "seconds": 14.173549}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:50.166637+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.175524+05:30", "timestamp": 1755781130.175524}}}
{"text": "2025-08-21 18:28:50.177 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1582696.94, day=-1582696.94, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1329.98, unrealized=-1033428.98, today_pnl=-1033428.98), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=382.41, unrealized=984981.25, today_pnl=984981.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=636.5, unrealized=-2054427.77, today_pnl=-2054427.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=582.35, unrealized=188461.9, today_pnl=188461.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2216.02, unrealized=331716.66, today_pnl=331716.66)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 50, 166637, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:14.175138", "seconds": 14.175138}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1582696.94, day=-1582696.94, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1329.98, unrealized=-1033428.98, today_pnl=-1033428.98), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=382.41, unrealized=984981.25, today_pnl=984981.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=636.5, unrealized=-2054427.77, today_pnl=-2054427.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=582.35, unrealized=188461.9, today_pnl=188461.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2216.02, unrealized=331716.66, today_pnl=331716.66)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 50, 166637, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.177113+05:30", "timestamp": 1755781130.177113}}}
{"text": "2025-08-21 18:28:50.179 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1582696.94, day=-1582696.94, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1329.98, unrealized=-1033428.98, today_pnl=-1033428.98), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=382.41, unrealized=984981.25, today_pnl=984981.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=636.5, unrealized=-2054427.77, today_pnl=-2054427.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=582.35, unrealized=188461.9, today_pnl=188461.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2216.02, unrealized=331716.66, today_pnl=331716.66)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 50, 166637, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:14.177757", "seconds": 14.177757}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1582696.94, day=-1582696.94, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1329.98, unrealized=-1033428.98, today_pnl=-1033428.98), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=382.41, unrealized=984981.25, today_pnl=984981.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=636.5, unrealized=-2054427.77, today_pnl=-2054427.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=582.35, unrealized=188461.9, today_pnl=188461.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2216.02, unrealized=331716.66, today_pnl=331716.66)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 50, 166637, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.179732+05:30", "timestamp": 1755781130.179732}}}
{"text": "2025-08-21 18:28:50.181 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1582696.94\n", "record": {"elapsed": {"repr": "0:00:14.179304", "seconds": 14.179304}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1582696.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.181279+05:30", "timestamp": 1755781130.181279}}}
{"text": "2025-08-21 18:28:50.182 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.181006", "seconds": 14.181006}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.182981+05:30", "timestamp": 1755781130.182981}}}
{"text": "2025-08-21 18:28:50.184 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.182467", "seconds": 14.182467}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.184442+05:30", "timestamp": 1755781130.184442}}}
{"text": "2025-08-21 18:28:50.185 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.183400", "seconds": 14.1834}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.185375+05:30", "timestamp": 1755781130.185375}}}
{"text": "2025-08-21 18:28:50.186 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.184678", "seconds": 14.184678}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.186653+05:30", "timestamp": 1755781130.186653}}}
{"text": "2025-08-21 18:28:50.188 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.186309", "seconds": 14.186309}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.188284+05:30", "timestamp": 1755781130.188284}}}
{"text": "2025-08-21 18:28:50.189 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.187331", "seconds": 14.187331}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.189306+05:30", "timestamp": 1755781130.189306}}}
{"text": "2025-08-21 18:28:50.190 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.188896", "seconds": 14.188896}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.190871+05:30", "timestamp": 1755781130.190871}}}
{"text": "2025-08-21 18:28:50.191 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.189947", "seconds": 14.189947}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.191922+05:30", "timestamp": 1755781130.191922}}}
{"text": "2025-08-21 18:28:50.192 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.190682", "seconds": 14.190682}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.192657+05:30", "timestamp": 1755781130.192657}}}
{"text": "2025-08-21 18:28:50.193 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.191525", "seconds": 14.191525}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.193500+05:30", "timestamp": 1755781130.1935}}}
{"text": "2025-08-21 18:28:50.194 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.192579", "seconds": 14.192579}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.194554+05:30", "timestamp": 1755781130.194554}}}
{"text": "2025-08-21 18:28:50.195 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:14.193608", "seconds": 14.193608}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.195583+05:30", "timestamp": 1755781130.195583}}}
{"text": "2025-08-21 18:28:50.196 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.194323", "seconds": 14.194323}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.196298+05:30", "timestamp": 1755781130.196298}}}
{"text": "2025-08-21 18:28:50.197 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.195214", "seconds": 14.195214}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.197189+05:30", "timestamp": 1755781130.197189}}}
{"text": "2025-08-21 18:28:50.197 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.195931", "seconds": 14.195931}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.197906+05:30", "timestamp": 1755781130.197906}}}
{"text": "2025-08-21 18:28:50.198 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.196512", "seconds": 14.196512}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.198487+05:30", "timestamp": 1755781130.198487}}}
{"text": "2025-08-21 18:28:50.199 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.197493", "seconds": 14.197493}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.199468+05:30", "timestamp": 1755781130.199468}}}
{"text": "2025-08-21 18:28:50.200 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.198223", "seconds": 14.198223}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.200198+05:30", "timestamp": 1755781130.200198}}}
{"text": "2025-08-21 18:28:50.201 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.199073", "seconds": 14.199073}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.201048+05:30", "timestamp": 1755781130.201048}}}
{"text": "2025-08-21 18:28:50.202 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.200170", "seconds": 14.20017}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.202145+05:30", "timestamp": 1755781130.202145}}}
{"text": "2025-08-21 18:28:50.203 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.201282", "seconds": 14.201282}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.203257+05:30", "timestamp": 1755781130.203257}}}
{"text": "2025-08-21 18:28:50.204 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.202261", "seconds": 14.202261}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.204236+05:30", "timestamp": 1755781130.204236}}}
{"text": "2025-08-21 18:28:50.205 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.203784", "seconds": 14.203784}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.205759+05:30", "timestamp": 1755781130.205759}}}
{"text": "2025-08-21 18:28:50.206 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:14.204625", "seconds": 14.204625}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.206600+05:30", "timestamp": 1755781130.2066}}}
{"text": "2025-08-21 18:28:50.207 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=22\n", "record": {"elapsed": {"repr": "0:00:14.205969", "seconds": 14.205969}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=22", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.207944+05:30", "timestamp": 1755781130.207944}}}
{"text": "2025-08-21 18:28:50.260 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.258594", "seconds": 14.258594}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:50.260569+05:30", "timestamp": 1755781130.260569}}}
{"text": "2025-08-21 18:28:50.261 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.259867", "seconds": 14.259867}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:50.261842+05:30", "timestamp": 1755781130.261842}}}
{"text": "2025-08-21 18:28:50.262 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.260517", "seconds": 14.260517}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:50.262492+05:30", "timestamp": 1755781130.262492}}}
{"text": "2025-08-21 18:28:50.263 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.261201", "seconds": 14.261201}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:50.263176+05:30", "timestamp": 1755781130.263176}}}
{"text": "2025-08-21 18:28:50.263 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.261933", "seconds": 14.261933}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:50.263908+05:30", "timestamp": 1755781130.263908}}}
{"text": "2025-08-21 18:28:50.264 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.262759", "seconds": 14.262759}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:50.264734+05:30", "timestamp": 1755781130.264734}}}
{"text": "2025-08-21 18:28:50.265 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.263656", "seconds": 14.263656}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:50.265631+05:30", "timestamp": 1755781130.265631}}}
{"text": "2025-08-21 18:28:50.266 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.264926", "seconds": 14.264926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:50.266901+05:30", "timestamp": 1755781130.266901}}}
{"text": "2025-08-21 18:28:50.269 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.267244", "seconds": 14.267244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:50.269219+05:30", "timestamp": 1755781130.269219}}}
{"text": "2025-08-21 18:28:50.270 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.268104", "seconds": 14.268104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:50.270079+05:30", "timestamp": 1755781130.270079}}}
{"text": "2025-08-21 18:28:50.938 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=23\n", "record": {"elapsed": {"repr": "0:00:14.936998", "seconds": 14.936998}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=23", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:50.938973+05:30", "timestamp": 1755781130.938973}}}
{"text": "2025-08-21 18:28:52.140 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:16.138447", "seconds": 16.138447}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.140422+05:30", "timestamp": 1755781132.140422}}}
{"text": "2025-08-21 18:28:52.141 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:16.139530", "seconds": 16.13953}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.141505+05:30", "timestamp": 1755781132.141505}}}
{"text": "2025-08-21 18:28:52.142 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1048892.77, today=-1048892.77\n", "record": {"elapsed": {"repr": "0:00:16.140418", "seconds": 16.140418}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1048892.77, today=-1048892.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.142393+05:30", "timestamp": 1755781132.142393}}}
{"text": "2025-08-21 18:28:52.143 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=981834.84, today=981834.84\n", "record": {"elapsed": {"repr": "0:00:16.141394", "seconds": 16.141394}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=981834.84, today=981834.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.143369+05:30", "timestamp": 1755781132.143369}}}
{"text": "2025-08-21 18:28:52.144 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2044687.57, today=-2044687.57\n", "record": {"elapsed": {"repr": "0:00:16.142405", "seconds": 16.142405}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2044687.57, today=-2044687.57", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.144380+05:30", "timestamp": 1755781132.14438}}}
{"text": "2025-08-21 18:28:52.145 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=195773.7, today=195773.7\n", "record": {"elapsed": {"repr": "0:00:16.143272", "seconds": 16.143272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=195773.7, today=195773.7", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.145247+05:30", "timestamp": 1755781132.145247}}}
{"text": "2025-08-21 18:28:52.146 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=333071.62, today=333071.62\n", "record": {"elapsed": {"repr": "0:00:16.144646", "seconds": 16.144646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=333071.62, today=333071.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.146621+05:30", "timestamp": 1755781132.146621}}}
{"text": "2025-08-21 18:28:52.147 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1582900.18, day: -1582900.18\n", "record": {"elapsed": {"repr": "0:00:16.145607", "seconds": 16.145607}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1582900.18, day: -1582900.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.147582+05:30", "timestamp": 1755781132.147582}}}
{"text": "2025-08-21 18:28:52.148 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:16.146244", "seconds": 16.146244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.148219+05:30", "timestamp": 1755781132.148219}}}
{"text": "2025-08-21 18:28:52.148 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:16.147024", "seconds": 16.147024}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.148999+05:30", "timestamp": 1755781132.148999}}}
{"text": "2025-08-21 18:28:52.149 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:16.147755", "seconds": 16.147755}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.149730+05:30", "timestamp": 1755781132.14973}}}
{"text": "2025-08-21 18:28:52.150 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:16.148327", "seconds": 16.148327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.150302+05:30", "timestamp": 1755781132.150302}}}
{"text": "2025-08-21 18:28:52.150 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:52.142273+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:16.148908", "seconds": 16.148908}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:52.142273+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.150883+05:30", "timestamp": 1755781132.150883}}}
{"text": "2025-08-21 18:28:52.151 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1582900.18, day=-1582900.18, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1319.96, unrealized=-1048892.77, today_pnl=-1048892.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=387.54, unrealized=981834.84, today_pnl=981834.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=642.2, unrealized=-2044687.57, today_pnl=-2044687.57), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=571.86, unrealized=195773.7, today_pnl=195773.7), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2221.33, unrealized=333071.62, today_pnl=333071.62)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 52, 142273, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:16.149723", "seconds": 16.149723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1582900.18, day=-1582900.18, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1319.96, unrealized=-1048892.77, today_pnl=-1048892.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=387.54, unrealized=981834.84, today_pnl=981834.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=642.2, unrealized=-2044687.57, today_pnl=-2044687.57), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=571.86, unrealized=195773.7, today_pnl=195773.7), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2221.33, unrealized=333071.62, today_pnl=333071.62)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 52, 142273, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.151698+05:30", "timestamp": 1755781132.151698}}}
{"text": "2025-08-21 18:28:52.152 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1582900.18, day=-1582900.18, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1319.96, unrealized=-1048892.77, today_pnl=-1048892.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=387.54, unrealized=981834.84, today_pnl=981834.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=642.2, unrealized=-2044687.57, today_pnl=-2044687.57), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=571.86, unrealized=195773.7, today_pnl=195773.7), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2221.33, unrealized=333071.62, today_pnl=333071.62)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 52, 142273, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:16.150734", "seconds": 16.150734}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1582900.18, day=-1582900.18, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1319.96, unrealized=-1048892.77, today_pnl=-1048892.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=387.54, unrealized=981834.84, today_pnl=981834.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=642.2, unrealized=-2044687.57, today_pnl=-2044687.57), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=571.86, unrealized=195773.7, today_pnl=195773.7), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2221.33, unrealized=333071.62, today_pnl=333071.62)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 52, 142273, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.152709+05:30", "timestamp": 1755781132.152709}}}
{"text": "2025-08-21 18:28:52.153 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1582900.18\n", "record": {"elapsed": {"repr": "0:00:16.151759", "seconds": 16.151759}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1582900.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.153734+05:30", "timestamp": 1755781132.153734}}}
{"text": "2025-08-21 18:28:52.154 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=24\n", "record": {"elapsed": {"repr": "0:00:16.152893", "seconds": 16.152893}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=24", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.154868+05:30", "timestamp": 1755781132.154868}}}
{"text": "2025-08-21 18:28:52.272 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.270144", "seconds": 16.270144}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:52.272119+05:30", "timestamp": 1755781132.272119}}}
{"text": "2025-08-21 18:28:52.274 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.272107", "seconds": 16.272107}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:52.274082+05:30", "timestamp": 1755781132.274082}}}
{"text": "2025-08-21 18:28:52.275 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.273810", "seconds": 16.27381}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:52.275785+05:30", "timestamp": 1755781132.275785}}}
{"text": "2025-08-21 18:28:52.276 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.274873", "seconds": 16.274873}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:52.276848+05:30", "timestamp": 1755781132.276848}}}
{"text": "2025-08-21 18:28:52.278 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.276650", "seconds": 16.27665}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:52.278625+05:30", "timestamp": 1755781132.278625}}}
{"text": "2025-08-21 18:28:52.279 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.277569", "seconds": 16.277569}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:52.279544+05:30", "timestamp": 1755781132.279544}}}
{"text": "2025-08-21 18:28:52.280 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.278467", "seconds": 16.278467}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:52.280442+05:30", "timestamp": 1755781132.280442}}}
{"text": "2025-08-21 18:28:52.281 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.279267", "seconds": 16.279267}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:52.281242+05:30", "timestamp": 1755781132.281242}}}
{"text": "2025-08-21 18:28:52.282 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.280298", "seconds": 16.280298}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:52.282273+05:30", "timestamp": 1755781132.282273}}}
{"text": "2025-08-21 18:28:52.283 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.281084", "seconds": 16.281084}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:52.283059+05:30", "timestamp": 1755781132.283059}}}
{"text": "2025-08-21 18:28:52.736 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=25\n", "record": {"elapsed": {"repr": "0:00:16.734877", "seconds": 16.734877}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=25", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:52.736852+05:30", "timestamp": 1755781132.736852}}}
{"text": "2025-08-21 18:28:54.063 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:18.061538", "seconds": 18.061538}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.063513+05:30", "timestamp": 1755781134.063513}}}
{"text": "2025-08-21 18:28:54.066 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:18.064282", "seconds": 18.064282}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.066257+05:30", "timestamp": 1755781134.066257}}}
{"text": "2025-08-21 18:28:54.070 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1069517.35, today=-1069517.35\n", "record": {"elapsed": {"repr": "0:00:18.068274", "seconds": 18.068274}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1069517.35, today=-1069517.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.070249+05:30", "timestamp": 1755781134.070249}}}
{"text": "2025-08-21 18:28:54.071 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=985710.41, today=985710.41\n", "record": {"elapsed": {"repr": "0:00:18.069368", "seconds": 18.069368}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=985710.41, today=985710.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.071343+05:30", "timestamp": 1755781134.071343}}}
{"text": "2025-08-21 18:28:54.073 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2057635.16, today=-2057635.16\n", "record": {"elapsed": {"repr": "0:00:18.071177", "seconds": 18.071177}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2057635.16, today=-2057635.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.073152+05:30", "timestamp": 1755781134.073152}}}
{"text": "2025-08-21 18:28:54.076 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=193562.96, today=193562.96\n", "record": {"elapsed": {"repr": "0:00:18.074295", "seconds": 18.074295}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=193562.96, today=193562.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.076270+05:30", "timestamp": 1755781134.07627}}}
{"text": "2025-08-21 18:28:54.081 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=337287.5, today=337287.5\n", "record": {"elapsed": {"repr": "0:00:18.079422", "seconds": 18.079422}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=337287.5, today=337287.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.081397+05:30", "timestamp": 1755781134.081397}}}
{"text": "2025-08-21 18:28:54.082 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1610591.64, day: -1610591.64\n", "record": {"elapsed": {"repr": "0:00:18.080794", "seconds": 18.080794}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1610591.64, day: -1610591.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.082769+05:30", "timestamp": 1755781134.082769}}}
{"text": "2025-08-21 18:28:54.084 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:18.082450", "seconds": 18.08245}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.084425+05:30", "timestamp": 1755781134.084425}}}
{"text": "2025-08-21 18:28:54.085 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:18.083559", "seconds": 18.083559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.085534+05:30", "timestamp": 1755781134.085534}}}
{"text": "2025-08-21 18:28:54.087 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:18.085671", "seconds": 18.085671}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.087646+05:30", "timestamp": 1755781134.087646}}}
{"text": "2025-08-21 18:28:54.088 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:18.086877", "seconds": 18.086877}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.088852+05:30", "timestamp": 1755781134.088852}}}
{"text": "2025-08-21 18:28:54.090 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:54.070114+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:18.088486", "seconds": 18.088486}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:54.070114+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.090461+05:30", "timestamp": 1755781134.090461}}}
{"text": "2025-08-21 18:28:54.095 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1610591.64, day=-1610591.64, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1306.59, unrealized=-1069517.35, today_pnl=-1069517.35), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=381.22, unrealized=985710.41, today_pnl=985710.41), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.62, unrealized=-2057635.16, today_pnl=-2057635.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=575.03, unrealized=193562.96, today_pnl=193562.96), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2237.87, unrealized=337287.5, today_pnl=337287.5)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 54, 70114, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:18.093195", "seconds": 18.093195}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1610591.64, day=-1610591.64, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1306.59, unrealized=-1069517.35, today_pnl=-1069517.35), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=381.22, unrealized=985710.41, today_pnl=985710.41), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.62, unrealized=-2057635.16, today_pnl=-2057635.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=575.03, unrealized=193562.96, today_pnl=193562.96), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2237.87, unrealized=337287.5, today_pnl=337287.5)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 54, 70114, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.095170+05:30", "timestamp": 1755781134.09517}}}
{"text": "2025-08-21 18:28:54.097 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1610591.64, day=-1610591.64, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1306.59, unrealized=-1069517.35, today_pnl=-1069517.35), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=381.22, unrealized=985710.41, today_pnl=985710.41), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.62, unrealized=-2057635.16, today_pnl=-2057635.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=575.03, unrealized=193562.96, today_pnl=193562.96), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2237.87, unrealized=337287.5, today_pnl=337287.5)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 54, 70114, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:18.095639", "seconds": 18.095639}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1610591.64, day=-1610591.64, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1306.59, unrealized=-1069517.35, today_pnl=-1069517.35), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=381.22, unrealized=985710.41, today_pnl=985710.41), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.62, unrealized=-2057635.16, today_pnl=-2057635.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=575.03, unrealized=193562.96, today_pnl=193562.96), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2237.87, unrealized=337287.5, today_pnl=337287.5)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 54, 70114, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.097614+05:30", "timestamp": 1755781134.097614}}}
{"text": "2025-08-21 18:28:54.101 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1610591.64\n", "record": {"elapsed": {"repr": "0:00:18.099512", "seconds": 18.099512}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1610591.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.101487+05:30", "timestamp": 1755781134.101487}}}
{"text": "2025-08-21 18:28:54.105 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=26\n", "record": {"elapsed": {"repr": "0:00:18.103113", "seconds": 18.103113}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=26", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.105088+05:30", "timestamp": 1755781134.105088}}}
{"text": "2025-08-21 18:28:54.284 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.282404", "seconds": 18.282404}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:54.284379+05:30", "timestamp": 1755781134.284379}}}
{"text": "2025-08-21 18:28:54.285 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.283228", "seconds": 18.283228}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:54.285203+05:30", "timestamp": 1755781134.285203}}}
{"text": "2025-08-21 18:28:54.286 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.284085", "seconds": 18.284085}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:54.286060+05:30", "timestamp": 1755781134.28606}}}
{"text": "2025-08-21 18:28:54.287 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.285158", "seconds": 18.285158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:54.287133+05:30", "timestamp": 1755781134.287133}}}
{"text": "2025-08-21 18:28:54.288 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.286138", "seconds": 18.286138}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:54.288113+05:30", "timestamp": 1755781134.288113}}}
{"text": "2025-08-21 18:28:54.289 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.287078", "seconds": 18.287078}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:54.289053+05:30", "timestamp": 1755781134.289053}}}
{"text": "2025-08-21 18:28:54.290 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.288136", "seconds": 18.288136}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:54.290111+05:30", "timestamp": 1755781134.290111}}}
{"text": "2025-08-21 18:28:54.291 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.289401", "seconds": 18.289401}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:54.291376+05:30", "timestamp": 1755781134.291376}}}
{"text": "2025-08-21 18:28:54.292 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.290240", "seconds": 18.29024}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:54.292215+05:30", "timestamp": 1755781134.292215}}}
{"text": "2025-08-21 18:28:54.293 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.291111", "seconds": 18.291111}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:54.293086+05:30", "timestamp": 1755781134.293086}}}
{"text": "2025-08-21 18:28:54.434 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=27\n", "record": {"elapsed": {"repr": "0:00:18.432807", "seconds": 18.432807}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=27", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:54.434782+05:30", "timestamp": 1755781134.434782}}}
{"text": "2025-08-21 18:28:55.853 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:58:55.851Z'}\n", "record": {"elapsed": {"repr": "0:00:19.851510", "seconds": 19.85151}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:58:55.851Z'}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:55.853485+05:30", "timestamp": 1755781135.853485}}}
{"text": "2025-08-21 18:28:55.895 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:58:55.893Z'}\n", "record": {"elapsed": {"repr": "0:00:19.893039", "seconds": 19.893039}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:58:55.893Z'}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:55.895014+05:30", "timestamp": 1755781135.895014}}}
{"text": "2025-08-21 18:28:55.993 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:19.991464", "seconds": 19.991464}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:55.993439+05:30", "timestamp": 1755781135.993439}}}
{"text": "2025-08-21 18:28:55.994 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:19.992627", "seconds": 19.992627}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:55.994602+05:30", "timestamp": 1755781135.994602}}}
{"text": "2025-08-21 18:28:55.995 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1102870.19, today=-1102870.19\n", "record": {"elapsed": {"repr": "0:00:19.993326", "seconds": 19.993326}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1102870.19, today=-1102870.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:55.995301+05:30", "timestamp": 1755781135.995301}}}
{"text": "2025-08-21 18:28:55.996 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=982341.53, today=982341.53\n", "record": {"elapsed": {"repr": "0:00:19.994240", "seconds": 19.99424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=982341.53, today=982341.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:55.996215+05:30", "timestamp": 1755781135.996215}}}
{"text": "2025-08-21 18:28:55.997 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2041046.48, today=-2041046.48\n", "record": {"elapsed": {"repr": "0:00:19.995336", "seconds": 19.995336}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2041046.48, today=-2041046.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:55.997311+05:30", "timestamp": 1755781135.997311}}}
{"text": "2025-08-21 18:28:55.998 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=199143.81, today=199143.81\n", "record": {"elapsed": {"repr": "0:00:19.996371", "seconds": 19.996371}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=199143.81, today=199143.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:55.998346+05:30", "timestamp": 1755781135.998346}}}
{"text": "2025-08-21 18:28:55.999 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=328891.35, today=328891.35\n", "record": {"elapsed": {"repr": "0:00:19.997069", "seconds": 19.997069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=328891.35, today=328891.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:55.999044+05:30", "timestamp": 1755781135.999044}}}
{"text": "2025-08-21 18:28:56.000 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1633539.98, day: -1633539.98\n", "record": {"elapsed": {"repr": "0:00:19.998178", "seconds": 19.998178}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1633539.98, day: -1633539.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:56.000153+05:30", "timestamp": 1755781136.000153}}}
{"text": "2025-08-21 18:28:56.001 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:19.999187", "seconds": 19.999187}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:56.001162+05:30", "timestamp": 1755781136.001162}}}
{"text": "2025-08-21 18:28:56.002 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:20.000208", "seconds": 20.000208}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:56.002183+05:30", "timestamp": 1755781136.002183}}}
{"text": "2025-08-21 18:28:56.002 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:20.000962", "seconds": 20.000962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:56.002937+05:30", "timestamp": 1755781136.002937}}}
{"text": "2025-08-21 18:28:56.003 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:20.001517", "seconds": 20.001517}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:56.003492+05:30", "timestamp": 1755781136.003492}}}
{"text": "2025-08-21 18:28:56.004 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:55.995196+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:20.002131", "seconds": 20.002131}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:55.995196+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:56.004106+05:30", "timestamp": 1755781136.004106}}}
{"text": "2025-08-21 18:28:56.004 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1633539.98, day=-1633539.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1284.97, unrealized=-1102870.19, today_pnl=-1102870.19), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=386.72, unrealized=982341.53, today_pnl=982341.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=644.33, unrealized=-2041046.48, today_pnl=-2041046.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=567.02, unrealized=199143.81, today_pnl=199143.81), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2204.94, unrealized=328891.35, today_pnl=328891.35)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 55, 995196, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:20.002894", "seconds": 20.002894}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1633539.98, day=-1633539.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1284.97, unrealized=-1102870.19, today_pnl=-1102870.19), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=386.72, unrealized=982341.53, today_pnl=982341.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=644.33, unrealized=-2041046.48, today_pnl=-2041046.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=567.02, unrealized=199143.81, today_pnl=199143.81), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2204.94, unrealized=328891.35, today_pnl=328891.35)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 55, 995196, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:56.004869+05:30", "timestamp": 1755781136.004869}}}
{"text": "2025-08-21 18:28:56.005 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1633539.98, day=-1633539.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1284.97, unrealized=-1102870.19, today_pnl=-1102870.19), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=386.72, unrealized=982341.53, today_pnl=982341.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=644.33, unrealized=-2041046.48, today_pnl=-2041046.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=567.02, unrealized=199143.81, today_pnl=199143.81), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2204.94, unrealized=328891.35, today_pnl=328891.35)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 55, 995196, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:20.003864", "seconds": 20.003864}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1633539.98, day=-1633539.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1284.97, unrealized=-1102870.19, today_pnl=-1102870.19), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=386.72, unrealized=982341.53, today_pnl=982341.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=644.33, unrealized=-2041046.48, today_pnl=-2041046.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=567.02, unrealized=199143.81, today_pnl=199143.81), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2204.94, unrealized=328891.35, today_pnl=328891.35)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 55, 995196, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:56.005839+05:30", "timestamp": 1755781136.005839}}}
{"text": "2025-08-21 18:28:56.006 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1633539.98\n", "record": {"elapsed": {"repr": "0:00:20.004968", "seconds": 20.004968}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1633539.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:56.006943+05:30", "timestamp": 1755781136.006943}}}
{"text": "2025-08-21 18:28:56.007 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=28\n", "record": {"elapsed": {"repr": "0:00:20.005748", "seconds": 20.005748}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=28", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:56.007723+05:30", "timestamp": 1755781136.007723}}}
{"text": "2025-08-21 18:28:56.294 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.292465", "seconds": 20.292465}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:56.294440+05:30", "timestamp": 1755781136.29444}}}
{"text": "2025-08-21 18:28:56.295 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.293942", "seconds": 20.293942}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:56.295917+05:30", "timestamp": 1755781136.295917}}}
{"text": "2025-08-21 18:28:56.296 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.294873", "seconds": 20.294873}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:56.296848+05:30", "timestamp": 1755781136.296848}}}
{"text": "2025-08-21 18:28:56.297 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.295976", "seconds": 20.295976}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:56.297951+05:30", "timestamp": 1755781136.297951}}}
{"text": "2025-08-21 18:28:56.298 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.296709", "seconds": 20.296709}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:56.298684+05:30", "timestamp": 1755781136.298684}}}
{"text": "2025-08-21 18:28:56.299 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.297356", "seconds": 20.297356}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:56.299331+05:30", "timestamp": 1755781136.299331}}}
{"text": "2025-08-21 18:28:56.300 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.298313", "seconds": 20.298313}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:56.300288+05:30", "timestamp": 1755781136.300288}}}
{"text": "2025-08-21 18:28:56.301 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.299144", "seconds": 20.299144}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:56.301119+05:30", "timestamp": 1755781136.301119}}}
{"text": "2025-08-21 18:28:56.302 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.300625", "seconds": 20.300625}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:56.302600+05:30", "timestamp": 1755781136.3026}}}
{"text": "2025-08-21 18:28:56.303 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.301559", "seconds": 20.301559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:56.303534+05:30", "timestamp": 1755781136.303534}}}
{"text": "2025-08-21 18:28:57.378 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.376843", "seconds": 21.376843}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.378818+05:30", "timestamp": 1755781137.378818}}}
{"text": "2025-08-21 18:28:57.408 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.406586", "seconds": 21.406586}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.408561+05:30", "timestamp": 1755781137.408561}}}
{"text": "2025-08-21 18:28:57.426 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.424285", "seconds": 21.424285}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.426260+05:30", "timestamp": 1755781137.42626}}}
{"text": "2025-08-21 18:28:57.589 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.587922", "seconds": 21.587922}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.589897+05:30", "timestamp": 1755781137.589897}}}
{"text": "2025-08-21 18:28:57.610 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.608354", "seconds": 21.608354}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.610329+05:30", "timestamp": 1755781137.610329}}}
{"text": "2025-08-21 18:28:57.630 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.629008", "seconds": 21.629008}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.630983+05:30", "timestamp": 1755781137.630983}}}
{"text": "2025-08-21 18:28:57.721 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.719402", "seconds": 21.719402}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.721377+05:30", "timestamp": 1755781137.721377}}}
{"text": "2025-08-21 18:28:57.778 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.776398", "seconds": 21.776398}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.778373+05:30", "timestamp": 1755781137.778373}}}
{"text": "2025-08-21 18:28:57.798 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.796235", "seconds": 21.796235}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.798210+05:30", "timestamp": 1755781137.79821}}}
{"text": "2025-08-21 18:28:57.806 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=29\n", "record": {"elapsed": {"repr": "0:00:21.804067", "seconds": 21.804067}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=29", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.806042+05:30", "timestamp": 1755781137.806042}}}
{"text": "2025-08-21 18:28:57.809 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=30\n", "record": {"elapsed": {"repr": "0:00:21.807748", "seconds": 21.807748}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=30", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.809723+05:30", "timestamp": 1755781137.809723}}}
{"text": "2025-08-21 18:28:57.837 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:21.835800", "seconds": 21.8358}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.837775+05:30", "timestamp": 1755781137.837775}}}
{"text": "2025-08-21 18:28:57.839 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:21.837514", "seconds": 21.837514}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.839489+05:30", "timestamp": 1755781137.839489}}}
{"text": "2025-08-21 18:28:57.842 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1081024.09, today=-1081024.09\n", "record": {"elapsed": {"repr": "0:00:21.840595", "seconds": 21.840595}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1081024.09, today=-1081024.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.842570+05:30", "timestamp": 1755781137.84257}}}
{"text": "2025-08-21 18:28:57.845 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=977674.49, today=977674.49\n", "record": {"elapsed": {"repr": "0:00:21.843221", "seconds": 21.843221}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=977674.49, today=977674.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.845196+05:30", "timestamp": 1755781137.845196}}}
{"text": "2025-08-21 18:28:57.846 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2055185.67, today=-2055185.67\n", "record": {"elapsed": {"repr": "0:00:21.844051", "seconds": 21.844051}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2055185.67, today=-2055185.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.846026+05:30", "timestamp": 1755781137.846026}}}
{"text": "2025-08-21 18:28:57.847 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=192856.09, today=192856.09\n", "record": {"elapsed": {"repr": "0:00:21.845081", "seconds": 21.845081}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=192856.09, today=192856.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.847056+05:30", "timestamp": 1755781137.847056}}}
{"text": "2025-08-21 18:28:57.847 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=329169.82, today=329169.82\n", "record": {"elapsed": {"repr": "0:00:21.845927", "seconds": 21.845927}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=329169.82, today=329169.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.847902+05:30", "timestamp": 1755781137.847902}}}
{"text": "2025-08-21 18:28:57.849 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1636509.36, day: -1636509.36\n", "record": {"elapsed": {"repr": "0:00:21.847444", "seconds": 21.847444}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1636509.36, day: -1636509.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.849419+05:30", "timestamp": 1755781137.849419}}}
{"text": "2025-08-21 18:28:57.850 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:21.848276", "seconds": 21.848276}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.850251+05:30", "timestamp": 1755781137.850251}}}
{"text": "2025-08-21 18:28:57.853 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:21.851175", "seconds": 21.851175}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.853150+05:30", "timestamp": 1755781137.85315}}}
{"text": "2025-08-21 18:28:57.854 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:21.852919", "seconds": 21.852919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.854894+05:30", "timestamp": 1755781137.854894}}}
{"text": "2025-08-21 18:28:57.856 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:21.854592", "seconds": 21.854592}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.856567+05:30", "timestamp": 1755781137.856567}}}
{"text": "2025-08-21 18:28:57.858 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:57.842170+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:21.856115", "seconds": 21.856115}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:57.842170+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.858090+05:30", "timestamp": 1755781137.85809}}}
{"text": "2025-08-21 18:28:57.860 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1636509.36, day=-1636509.36, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1299.13, unrealized=-1081024.09, today_pnl=-1081024.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=394.33, unrealized=977674.49, today_pnl=977674.49), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=636.05, unrealized=-2055185.67, today_pnl=-2055185.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=576.05, unrealized=192856.09, today_pnl=192856.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2206.03, unrealized=329169.82, today_pnl=329169.82)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 57, 842170, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:21.858247", "seconds": 21.858247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1636509.36, day=-1636509.36, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1299.13, unrealized=-1081024.09, today_pnl=-1081024.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=394.33, unrealized=977674.49, today_pnl=977674.49), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=636.05, unrealized=-2055185.67, today_pnl=-2055185.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=576.05, unrealized=192856.09, today_pnl=192856.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2206.03, unrealized=329169.82, today_pnl=329169.82)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 57, 842170, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.860222+05:30", "timestamp": 1755781137.860222}}}
{"text": "2025-08-21 18:28:57.862 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1636509.36, day=-1636509.36, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1299.13, unrealized=-1081024.09, today_pnl=-1081024.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=394.33, unrealized=977674.49, today_pnl=977674.49), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=636.05, unrealized=-2055185.67, today_pnl=-2055185.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=576.05, unrealized=192856.09, today_pnl=192856.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2206.03, unrealized=329169.82, today_pnl=329169.82)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 57, 842170, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:21.860452", "seconds": 21.860452}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1636509.36, day=-1636509.36, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1299.13, unrealized=-1081024.09, today_pnl=-1081024.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=394.33, unrealized=977674.49, today_pnl=977674.49), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=636.05, unrealized=-2055185.67, today_pnl=-2055185.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=576.05, unrealized=192856.09, today_pnl=192856.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2206.03, unrealized=329169.82, today_pnl=329169.82)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 57, 842170, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.862427+05:30", "timestamp": 1755781137.862427}}}
{"text": "2025-08-21 18:28:57.863 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1636509.36\n", "record": {"elapsed": {"repr": "0:00:21.861976", "seconds": 21.861976}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1636509.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.863951+05:30", "timestamp": 1755781137.863951}}}
{"text": "2025-08-21 18:28:57.865 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:21.863693", "seconds": 21.863693}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.865668+05:30", "timestamp": 1755781137.865668}}}
{"text": "2025-08-21 18:28:57.866 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:21.864861", "seconds": 21.864861}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.866836+05:30", "timestamp": 1755781137.866836}}}
{"text": "2025-08-21 18:28:57.868 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:21.867017", "seconds": 21.867017}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.868992+05:30", "timestamp": 1755781137.868992}}}
{"text": "2025-08-21 18:28:57.873 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:21.871101", "seconds": 21.871101}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.873076+05:30", "timestamp": 1755781137.873076}}}
{"text": "2025-08-21 18:28:57.874 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:21.872649", "seconds": 21.872649}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.874624+05:30", "timestamp": 1755781137.874624}}}
{"text": "2025-08-21 18:28:57.876 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:21.874387", "seconds": 21.874387}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.876362+05:30", "timestamp": 1755781137.876362}}}
{"text": "2025-08-21 18:28:57.877 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:21.875223", "seconds": 21.875223}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.877198+05:30", "timestamp": 1755781137.877198}}}
{"text": "2025-08-21 18:28:57.878 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:21.876089", "seconds": 21.876089}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.878064+05:30", "timestamp": 1755781137.878064}}}
{"text": "2025-08-21 18:28:57.878 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:21.876981", "seconds": 21.876981}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.878956+05:30", "timestamp": 1755781137.878956}}}
{"text": "2025-08-21 18:28:57.880 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.878238", "seconds": 21.878238}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.880213+05:30", "timestamp": 1755781137.880213}}}
{"text": "2025-08-21 18:28:57.881 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.879068", "seconds": 21.879068}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.881043+05:30", "timestamp": 1755781137.881043}}}
{"text": "2025-08-21 18:28:57.881 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.879828", "seconds": 21.879828}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.881803+05:30", "timestamp": 1755781137.881803}}}
{"text": "2025-08-21 18:28:57.882 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.880657", "seconds": 21.880657}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.882632+05:30", "timestamp": 1755781137.882632}}}
{"text": "2025-08-21 18:28:57.883 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.881669", "seconds": 21.881669}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.883644+05:30", "timestamp": 1755781137.883644}}}
{"text": "2025-08-21 18:28:57.885 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.883481", "seconds": 21.883481}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.885456+05:30", "timestamp": 1755781137.885456}}}
{"text": "2025-08-21 18:28:57.886 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.884901", "seconds": 21.884901}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.886876+05:30", "timestamp": 1755781137.886876}}}
{"text": "2025-08-21 18:28:57.888 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.886509", "seconds": 21.886509}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.888484+05:30", "timestamp": 1755781137.888484}}}
{"text": "2025-08-21 18:28:57.889 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:21.887305", "seconds": 21.887305}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.889280+05:30", "timestamp": 1755781137.88928}}}
{"text": "2025-08-21 18:28:57.890 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=31\n", "record": {"elapsed": {"repr": "0:00:21.888239", "seconds": 21.888239}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=31", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:57.890214+05:30", "timestamp": 1755781137.890214}}}
{"text": "2025-08-21 18:28:58.015 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.013950", "seconds": 22.01395}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.015925+05:30", "timestamp": 1755781138.015925}}}
{"text": "2025-08-21 18:28:58.035 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.033038", "seconds": 22.033038}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.035013+05:30", "timestamp": 1755781138.035013}}}
{"text": "2025-08-21 18:28:58.059 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.057996", "seconds": 22.057996}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.059971+05:30", "timestamp": 1755781138.059971}}}
{"text": "2025-08-21 18:28:58.093 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.091630", "seconds": 22.09163}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.093605+05:30", "timestamp": 1755781138.093605}}}
{"text": "2025-08-21 18:28:58.111 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.109515", "seconds": 22.109515}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.111490+05:30", "timestamp": 1755781138.11149}}}
{"text": "2025-08-21 18:28:58.146 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.144482", "seconds": 22.144482}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.146457+05:30", "timestamp": 1755781138.146457}}}
{"text": "2025-08-21 18:28:58.177 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.175514", "seconds": 22.175514}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.177489+05:30", "timestamp": 1755781138.177489}}}
{"text": "2025-08-21 18:28:58.305 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.303108", "seconds": 22.303108}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:58.305083+05:30", "timestamp": 1755781138.305083}}}
{"text": "2025-08-21 18:28:58.306 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.304109", "seconds": 22.304109}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:58.306084+05:30", "timestamp": 1755781138.306084}}}
{"text": "2025-08-21 18:28:58.306 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.304884", "seconds": 22.304884}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:58.306859+05:30", "timestamp": 1755781138.306859}}}
{"text": "2025-08-21 18:28:58.307 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.305618", "seconds": 22.305618}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:58.307593+05:30", "timestamp": 1755781138.307593}}}
{"text": "2025-08-21 18:28:58.308 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.306292", "seconds": 22.306292}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:58.308267+05:30", "timestamp": 1755781138.308267}}}
{"text": "2025-08-21 18:28:58.310 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.308069", "seconds": 22.308069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:58.310044+05:30", "timestamp": 1755781138.310044}}}
{"text": "2025-08-21 18:28:58.310 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.308676", "seconds": 22.308676}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:58.310651+05:30", "timestamp": 1755781138.310651}}}
{"text": "2025-08-21 18:28:58.311 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.309813", "seconds": 22.309813}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:58.311788+05:30", "timestamp": 1755781138.311788}}}
{"text": "2025-08-21 18:28:58.312 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.310437", "seconds": 22.310437}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:58.312412+05:30", "timestamp": 1755781138.312412}}}
{"text": "2025-08-21 18:28:58.313 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.311079", "seconds": 22.311079}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:28:58.313054+05:30", "timestamp": 1755781138.313054}}}
{"text": "2025-08-21 18:28:58.463 | DEBUG    | app.ws.live:emit_summary:430 - Emitted orders summary: seq=32\n", "record": {"elapsed": {"repr": "0:00:22.461818", "seconds": 22.461818}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted orders summary: seq=32", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.463793+05:30", "timestamp": 1755781138.463793}}}
{"text": "2025-08-21 18:28:58.734 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.732092", "seconds": 22.732092}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.734067+05:30", "timestamp": 1755781138.734067}}}
{"text": "2025-08-21 18:28:58.737 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:22.735420", "seconds": 22.73542}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.737395+05:30", "timestamp": 1755781138.737395}}}
{"text": "2025-08-21 18:28:58.738 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:22.736636", "seconds": 22.736636}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.738611+05:30", "timestamp": 1755781138.738611}}}
{"text": "2025-08-21 18:28:58.759 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.757732", "seconds": 22.757732}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.759707+05:30", "timestamp": 1755781138.759707}}}
{"text": "2025-08-21 18:28:58.777 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.775078", "seconds": 22.775078}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.777053+05:30", "timestamp": 1755781138.777053}}}
{"text": "2025-08-21 18:28:58.807 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:22.805998", "seconds": 22.805998}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.807973+05:30", "timestamp": 1755781138.807973}}}
{"text": "2025-08-21 18:28:58.809 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:22.807057", "seconds": 22.807057}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.809032+05:30", "timestamp": 1755781138.809032}}}
{"text": "2025-08-21 18:28:58.960 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:22.958204", "seconds": 22.958204}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:58.960179+05:30", "timestamp": 1755781138.960179}}}
{"text": "2025-08-21 18:28:59.007 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.005673", "seconds": 23.005673}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.007648+05:30", "timestamp": 1755781139.007648}}}
{"text": "2025-08-21 18:28:59.113 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.111398", "seconds": 23.111398}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.113373+05:30", "timestamp": 1755781139.113373}}}
{"text": "2025-08-21 18:28:59.178 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.176049", "seconds": 23.176049}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.178024+05:30", "timestamp": 1755781139.178024}}}
{"text": "2025-08-21 18:28:59.325 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.323423", "seconds": 23.323423}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.325398+05:30", "timestamp": 1755781139.325398}}}
{"text": "2025-08-21 18:28:59.327 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:23.325073", "seconds": 23.325073}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.327048+05:30", "timestamp": 1755781139.327048}}}
{"text": "2025-08-21 18:28:59.327 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:23.325934", "seconds": 23.325934}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.327909+05:30", "timestamp": 1755781139.327909}}}
{"text": "2025-08-21 18:28:59.548 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=33\n", "record": {"elapsed": {"repr": "0:00:23.546833", "seconds": 23.546833}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=33", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.548808+05:30", "timestamp": 1755781139.548808}}}
{"text": "2025-08-21 18:28:59.551 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=34\n", "record": {"elapsed": {"repr": "0:00:23.549640", "seconds": 23.54964}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=34", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.551615+05:30", "timestamp": 1755781139.551615}}}
{"text": "2025-08-21 18:28:59.670 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:23.668785", "seconds": 23.668785}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.670760+05:30", "timestamp": 1755781139.67076}}}
{"text": "2025-08-21 18:28:59.671 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:23.669656", "seconds": 23.669656}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.671631+05:30", "timestamp": 1755781139.671631}}}
{"text": "2025-08-21 18:28:59.672 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1073213.68, today=-1073213.68\n", "record": {"elapsed": {"repr": "0:00:23.670299", "seconds": 23.670299}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1073213.68, today=-1073213.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.672274+05:30", "timestamp": 1755781139.672274}}}
{"text": "2025-08-21 18:28:59.672 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=976881.08, today=976881.08\n", "record": {"elapsed": {"repr": "0:00:23.670852", "seconds": 23.670852}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=976881.08, today=976881.08", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.672827+05:30", "timestamp": 1755781139.672827}}}
{"text": "2025-08-21 18:28:59.673 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2040884.0, today=-2040884.0\n", "record": {"elapsed": {"repr": "0:00:23.671387", "seconds": 23.671387}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2040884.0, today=-2040884.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.673362+05:30", "timestamp": 1755781139.673362}}}
{"text": "2025-08-21 18:28:59.673 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=195603.72, today=195603.72\n", "record": {"elapsed": {"repr": "0:00:23.671919", "seconds": 23.671919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=195603.72, today=195603.72", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.673894+05:30", "timestamp": 1755781139.673894}}}
{"text": "2025-08-21 18:28:59.674 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=339442.03, today=339442.03\n", "record": {"elapsed": {"repr": "0:00:23.672457", "seconds": 23.672457}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=339442.03, today=339442.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.674432+05:30", "timestamp": 1755781139.674432}}}
{"text": "2025-08-21 18:28:59.675 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1602170.85, day: -1602170.85\n", "record": {"elapsed": {"repr": "0:00:23.673264", "seconds": 23.673264}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1602170.85, day: -1602170.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.675239+05:30", "timestamp": 1755781139.675239}}}
{"text": "2025-08-21 18:28:59.675 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:23.673898", "seconds": 23.673898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.675873+05:30", "timestamp": 1755781139.675873}}}
{"text": "2025-08-21 18:28:59.676 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:23.674558", "seconds": 23.674558}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.676533+05:30", "timestamp": 1755781139.676533}}}
{"text": "2025-08-21 18:28:59.677 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:23.675695", "seconds": 23.675695}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.677670+05:30", "timestamp": 1755781139.67767}}}
{"text": "2025-08-21 18:28:59.678 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:23.676445", "seconds": 23.676445}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.678420+05:30", "timestamp": 1755781139.67842}}}
{"text": "2025-08-21 18:28:59.679 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:59.672181+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:23.677606", "seconds": 23.677606}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:28:59.672181+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.679581+05:30", "timestamp": 1755781139.679581}}}
{"text": "2025-08-21 18:28:59.682 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1602170.85, day=-1602170.85, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1304.19, unrealized=-1073213.68, today_pnl=-1073213.68), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=395.62, unrealized=976881.08, today_pnl=976881.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=644.42, unrealized=-2040884.0, today_pnl=-2040884.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=572.1, unrealized=195603.72, today_pnl=195603.72), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2246.32, unrealized=339442.03, today_pnl=339442.03)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 59, 672181, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:23.680757", "seconds": 23.680757}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1602170.85, day=-1602170.85, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1304.19, unrealized=-1073213.68, today_pnl=-1073213.68), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=395.62, unrealized=976881.08, today_pnl=976881.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=644.42, unrealized=-2040884.0, today_pnl=-2040884.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=572.1, unrealized=195603.72, today_pnl=195603.72), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2246.32, unrealized=339442.03, today_pnl=339442.03)] updated_at=datetime.datetime(2025, 8, 21, 18, 28, 59, 672181, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.682732+05:30", "timestamp": 1755781139.682732}}}
{"text": "2025-08-21 18:28:59.684 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1602170.85, day=-1602170.85, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1304.19, unrealized=-1073213.68, today_pnl=-1073213.68), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=395.62, unrealized=976881.08, today_pnl=976881.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=644.42, unrealized=-2040884.0, today_pnl=-2040884.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=572.1, unrealized=195603.72, today_pnl=195603.72), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2246.32, unrealized=339442.03, today_pnl=339442.03)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 59, 672181, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:23.682615", "seconds": 23.682615}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1602170.85, day=-1602170.85, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1304.19, unrealized=-1073213.68, today_pnl=-1073213.68), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=395.62, unrealized=976881.08, today_pnl=976881.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=644.42, unrealized=-2040884.0, today_pnl=-2040884.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=572.1, unrealized=195603.72, today_pnl=195603.72), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2246.32, unrealized=339442.03, today_pnl=339442.03)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 28, 59, 672181, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.684590+05:30", "timestamp": 1755781139.68459}}}
{"text": "2025-08-21 18:28:59.686 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1602170.85\n", "record": {"elapsed": {"repr": "0:00:23.684976", "seconds": 23.684976}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1602170.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.686951+05:30", "timestamp": 1755781139.686951}}}
{"text": "2025-08-21 18:28:59.688 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.686192", "seconds": 23.686192}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.688167+05:30", "timestamp": 1755781139.688167}}}
{"text": "2025-08-21 18:28:59.688 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.686910", "seconds": 23.68691}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.688885+05:30", "timestamp": 1755781139.688885}}}
{"text": "2025-08-21 18:28:59.689 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.687496", "seconds": 23.687496}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.689471+05:30", "timestamp": 1755781139.689471}}}
{"text": "2025-08-21 18:28:59.689 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.688022", "seconds": 23.688022}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.689997+05:30", "timestamp": 1755781139.689997}}}
{"text": "2025-08-21 18:28:59.690 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.688749", "seconds": 23.688749}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.690724+05:30", "timestamp": 1755781139.690724}}}
{"text": "2025-08-21 18:28:59.691 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.689802", "seconds": 23.689802}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.691777+05:30", "timestamp": 1755781139.691777}}}
{"text": "2025-08-21 18:28:59.692 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.690552", "seconds": 23.690552}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.692527+05:30", "timestamp": 1755781139.692527}}}
{"text": "2025-08-21 18:28:59.693 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.691239", "seconds": 23.691239}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.693214+05:30", "timestamp": 1755781139.693214}}}
{"text": "2025-08-21 18:28:59.693 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.691869", "seconds": 23.691869}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.693844+05:30", "timestamp": 1755781139.693844}}}
{"text": "2025-08-21 18:28:59.694 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.692571", "seconds": 23.692571}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.694546+05:30", "timestamp": 1755781139.694546}}}
{"text": "2025-08-21 18:28:59.695 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.693186", "seconds": 23.693186}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.695161+05:30", "timestamp": 1755781139.695161}}}
{"text": "2025-08-21 18:28:59.695 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.693797", "seconds": 23.693797}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.695772+05:30", "timestamp": 1755781139.695772}}}
{"text": "2025-08-21 18:28:59.696 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.694441", "seconds": 23.694441}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.696416+05:30", "timestamp": 1755781139.696416}}}
{"text": "2025-08-21 18:28:59.697 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.695055", "seconds": 23.695055}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.697030+05:30", "timestamp": 1755781139.69703}}}
{"text": "2025-08-21 18:28:59.697 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:23.695707", "seconds": 23.695707}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.697682+05:30", "timestamp": 1755781139.697682}}}
{"text": "2025-08-21 18:28:59.698 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.696390", "seconds": 23.69639}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.698365+05:30", "timestamp": 1755781139.698365}}}
{"text": "2025-08-21 18:28:59.699 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.697124", "seconds": 23.697124}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.699099+05:30", "timestamp": 1755781139.699099}}}
{"text": "2025-08-21 18:28:59.699 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.697791", "seconds": 23.697791}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.699766+05:30", "timestamp": 1755781139.699766}}}
{"text": "2025-08-21 18:28:59.700 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.698474", "seconds": 23.698474}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.700449+05:30", "timestamp": 1755781139.700449}}}
{"text": "2025-08-21 18:28:59.701 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.699106", "seconds": 23.699106}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.701081+05:30", "timestamp": 1755781139.701081}}}
{"text": "2025-08-21 18:28:59.701 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.699705", "seconds": 23.699705}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.701680+05:30", "timestamp": 1755781139.70168}}}
{"text": "2025-08-21 18:28:59.702 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.700310", "seconds": 23.70031}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.702285+05:30", "timestamp": 1755781139.702285}}}
{"text": "2025-08-21 18:28:59.702 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.701018", "seconds": 23.701018}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.702993+05:30", "timestamp": 1755781139.702993}}}
{"text": "2025-08-21 18:28:59.704 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.702185", "seconds": 23.702185}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.704160+05:30", "timestamp": 1755781139.70416}}}
{"text": "2025-08-21 18:28:59.705 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.703462", "seconds": 23.703462}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.705437+05:30", "timestamp": 1755781139.705437}}}
{"text": "2025-08-21 18:28:59.706 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.705003", "seconds": 23.705003}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.706978+05:30", "timestamp": 1755781139.706978}}}
{"text": "2025-08-21 18:28:59.707 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.705657", "seconds": 23.705657}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.707632+05:30", "timestamp": 1755781139.707632}}}
{"text": "2025-08-21 18:28:59.708 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.706306", "seconds": 23.706306}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.708281+05:30", "timestamp": 1755781139.708281}}}
{"text": "2025-08-21 18:28:59.708 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.706910", "seconds": 23.70691}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.708885+05:30", "timestamp": 1755781139.708885}}}
{"text": "2025-08-21 18:28:59.709 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.707559", "seconds": 23.707559}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.709534+05:30", "timestamp": 1755781139.709534}}}
{"text": "2025-08-21 18:28:59.710 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=35\n", "record": {"elapsed": {"repr": "0:00:23.708446", "seconds": 23.708446}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=35", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.710421+05:30", "timestamp": 1755781139.710421}}}
{"text": "2025-08-21 18:28:59.899 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.897473", "seconds": 23.897473}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.899448+05:30", "timestamp": 1755781139.899448}}}
{"text": "2025-08-21 18:28:59.958 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:23.956556", "seconds": 23.956556}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:28:59.958531+05:30", "timestamp": 1755781139.958531}}}
{"text": "2025-08-21 18:29:00.262 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:24.260407", "seconds": 24.260407}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:00.262382+05:30", "timestamp": 1755781140.262382}}}
{"text": "2025-08-21 18:29:00.311 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:24.309664", "seconds": 24.309664}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:00.311639+05:30", "timestamp": 1755781140.311639}}}
{"text": "2025-08-21 18:29:00.314 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.312302", "seconds": 24.312302}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:00.314277+05:30", "timestamp": 1755781140.314277}}}
{"text": "2025-08-21 18:29:00.315 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.313720", "seconds": 24.31372}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:00.315695+05:30", "timestamp": 1755781140.315695}}}
{"text": "2025-08-21 18:29:00.317 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.315778", "seconds": 24.315778}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:00.317753+05:30", "timestamp": 1755781140.317753}}}
{"text": "2025-08-21 18:29:00.320 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.318282", "seconds": 24.318282}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:00.320257+05:30", "timestamp": 1755781140.320257}}}
{"text": "2025-08-21 18:29:00.321 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.319042", "seconds": 24.319042}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:00.321017+05:30", "timestamp": 1755781140.321017}}}
{"text": "2025-08-21 18:29:00.322 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.320230", "seconds": 24.32023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:00.322205+05:30", "timestamp": 1755781140.322205}}}
{"text": "2025-08-21 18:29:00.323 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.321203", "seconds": 24.321203}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:00.323178+05:30", "timestamp": 1755781140.323178}}}
{"text": "2025-08-21 18:29:00.324 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.322441", "seconds": 24.322441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:00.324416+05:30", "timestamp": 1755781140.324416}}}
{"text": "2025-08-21 18:29:00.325 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.323845", "seconds": 24.323845}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:00.325820+05:30", "timestamp": 1755781140.32582}}}
{"text": "2025-08-21 18:29:00.327 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.325976", "seconds": 24.325976}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:00.327951+05:30", "timestamp": 1755781140.327951}}}
{"text": "2025-08-21 18:29:00.361 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:24.359960", "seconds": 24.35996}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:00.361935+05:30", "timestamp": 1755781140.361935}}}
{"text": "2025-08-21 18:29:00.404 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:24.402711", "seconds": 24.402711}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:00.404686+05:30", "timestamp": 1755781140.404686}}}
{"text": "2025-08-21 18:29:00.621 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:24.620022", "seconds": 24.620022}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:00.621997+05:30", "timestamp": 1755781140.621997}}}
{"text": "2025-08-21 18:29:00.623 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:24.621628", "seconds": 24.621628}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:00.623603+05:30", "timestamp": 1755781140.623603}}}
{"text": "2025-08-21 18:29:00.624 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:24.622429", "seconds": 24.622429}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:00.624404+05:30", "timestamp": 1755781140.624404}}}
{"text": "2025-08-21 18:29:01.028 | DEBUG    | app.ws.live:emit_summary:430 - Emitted orders summary: seq=36\n", "record": {"elapsed": {"repr": "0:00:25.026318", "seconds": 25.026318}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted orders summary: seq=36", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.028293+05:30", "timestamp": 1755781141.028293}}}
{"text": "2025-08-21 18:29:01.161 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=37\n", "record": {"elapsed": {"repr": "0:00:25.159542", "seconds": 25.159542}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=37", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.161517+05:30", "timestamp": 1755781141.161517}}}
{"text": "2025-08-21 18:29:01.163 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=38\n", "record": {"elapsed": {"repr": "0:00:25.161560", "seconds": 25.16156}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=38", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.163535+05:30", "timestamp": 1755781141.163535}}}
{"text": "2025-08-21 18:29:01.392 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:25.390810", "seconds": 25.39081}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.392785+05:30", "timestamp": 1755781141.392785}}}
{"text": "2025-08-21 18:29:01.393 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:25.391693", "seconds": 25.391693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.393668+05:30", "timestamp": 1755781141.393668}}}
{"text": "2025-08-21 18:29:01.394 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1078576.7, today=-1078576.7\n", "record": {"elapsed": {"repr": "0:00:25.392548", "seconds": 25.392548}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1078576.7, today=-1078576.7", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.394523+05:30", "timestamp": 1755781141.394523}}}
{"text": "2025-08-21 18:29:01.395 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=980757.72, today=980757.72\n", "record": {"elapsed": {"repr": "0:00:25.393355", "seconds": 25.393355}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=980757.72, today=980757.72", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.395330+05:30", "timestamp": 1755781141.39533}}}
{"text": "2025-08-21 18:29:01.396 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2031702.78, today=-2031702.78\n", "record": {"elapsed": {"repr": "0:00:25.394072", "seconds": 25.394072}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2031702.78, today=-2031702.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.396047+05:30", "timestamp": 1755781141.396047}}}
{"text": "2025-08-21 18:29:01.396 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=194316.41, today=194316.41\n", "record": {"elapsed": {"repr": "0:00:25.394723", "seconds": 25.394723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=194316.41, today=194316.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.396698+05:30", "timestamp": 1755781141.396698}}}
{"text": "2025-08-21 18:29:01.397 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=340105.12, today=340105.12\n", "record": {"elapsed": {"repr": "0:00:25.395416", "seconds": 25.395416}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=340105.12, today=340105.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.397391+05:30", "timestamp": 1755781141.397391}}}
{"text": "2025-08-21 18:29:01.397 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1595100.23, day: -1595100.23\n", "record": {"elapsed": {"repr": "0:00:25.395978", "seconds": 25.395978}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1595100.23, day: -1595100.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.397953+05:30", "timestamp": 1755781141.397953}}}
{"text": "2025-08-21 18:29:01.398 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:25.396516", "seconds": 25.396516}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.398491+05:30", "timestamp": 1755781141.398491}}}
{"text": "2025-08-21 18:29:01.399 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:25.397918", "seconds": 25.397918}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.399893+05:30", "timestamp": 1755781141.399893}}}
{"text": "2025-08-21 18:29:01.400 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:25.398574", "seconds": 25.398574}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.400549+05:30", "timestamp": 1755781141.400549}}}
{"text": "2025-08-21 18:29:01.401 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:25.399151", "seconds": 25.399151}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.401126+05:30", "timestamp": 1755781141.401126}}}
{"text": "2025-08-21 18:29:01.401 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:01.394367+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:25.399696", "seconds": 25.399696}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:01.394367+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.401671+05:30", "timestamp": 1755781141.401671}}}
{"text": "2025-08-21 18:29:01.402 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1595100.23, day=-1595100.23, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1300.72, unrealized=-1078576.7, today_pnl=-1078576.7), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=389.3, unrealized=980757.72, today_pnl=980757.72), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=649.79, unrealized=-2031702.78, today_pnl=-2031702.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.95, unrealized=194316.41, today_pnl=194316.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2248.92, unrealized=340105.12, today_pnl=340105.12)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 1, 394367, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:25.400565", "seconds": 25.400565}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1595100.23, day=-1595100.23, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1300.72, unrealized=-1078576.7, today_pnl=-1078576.7), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=389.3, unrealized=980757.72, today_pnl=980757.72), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=649.79, unrealized=-2031702.78, today_pnl=-2031702.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.95, unrealized=194316.41, today_pnl=194316.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2248.92, unrealized=340105.12, today_pnl=340105.12)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 1, 394367, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.402540+05:30", "timestamp": 1755781141.40254}}}
{"text": "2025-08-21 18:29:01.403 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1595100.23, day=-1595100.23, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1300.72, unrealized=-1078576.7, today_pnl=-1078576.7), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=389.3, unrealized=980757.72, today_pnl=980757.72), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=649.79, unrealized=-2031702.78, today_pnl=-2031702.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.95, unrealized=194316.41, today_pnl=194316.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2248.92, unrealized=340105.12, today_pnl=340105.12)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 1, 394367, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:25.401702", "seconds": 25.401702}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1595100.23, day=-1595100.23, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1300.72, unrealized=-1078576.7, today_pnl=-1078576.7), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=389.3, unrealized=980757.72, today_pnl=980757.72), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=649.79, unrealized=-2031702.78, today_pnl=-2031702.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.95, unrealized=194316.41, today_pnl=194316.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2248.92, unrealized=340105.12, today_pnl=340105.12)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 1, 394367, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.403677+05:30", "timestamp": 1755781141.403677}}}
{"text": "2025-08-21 18:29:01.404 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1595100.23\n", "record": {"elapsed": {"repr": "0:00:25.402554", "seconds": 25.402554}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1595100.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.404529+05:30", "timestamp": 1755781141.404529}}}
{"text": "2025-08-21 18:29:01.405 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:25.403607", "seconds": 25.403607}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.405582+05:30", "timestamp": 1755781141.405582}}}
{"text": "2025-08-21 18:29:01.406 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:25.404731", "seconds": 25.404731}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.406706+05:30", "timestamp": 1755781141.406706}}}
{"text": "2025-08-21 18:29:01.407 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:25.405623", "seconds": 25.405623}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.407598+05:30", "timestamp": 1755781141.407598}}}
{"text": "2025-08-21 18:29:01.408 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:25.406259", "seconds": 25.406259}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.408234+05:30", "timestamp": 1755781141.408234}}}
{"text": "2025-08-21 18:29:01.409 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:25.407261", "seconds": 25.407261}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.409236+05:30", "timestamp": 1755781141.409236}}}
{"text": "2025-08-21 18:29:01.410 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:25.408223", "seconds": 25.408223}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.410198+05:30", "timestamp": 1755781141.410198}}}
{"text": "2025-08-21 18:29:01.410 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:25.408905", "seconds": 25.408905}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.410880+05:30", "timestamp": 1755781141.41088}}}
{"text": "2025-08-21 18:29:01.411 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.409686", "seconds": 25.409686}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.411661+05:30", "timestamp": 1755781141.411661}}}
{"text": "2025-08-21 18:29:01.412 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.410638", "seconds": 25.410638}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.412613+05:30", "timestamp": 1755781141.412613}}}
{"text": "2025-08-21 18:29:01.413 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.411166", "seconds": 25.411166}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.413141+05:30", "timestamp": 1755781141.413141}}}
{"text": "2025-08-21 18:29:01.413 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.411754", "seconds": 25.411754}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.413729+05:30", "timestamp": 1755781141.413729}}}
{"text": "2025-08-21 18:29:01.414 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.412215", "seconds": 25.412215}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.414190+05:30", "timestamp": 1755781141.41419}}}
{"text": "2025-08-21 18:29:01.414 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.412714", "seconds": 25.412714}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.414689+05:30", "timestamp": 1755781141.414689}}}
{"text": "2025-08-21 18:29:01.415 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.413469", "seconds": 25.413469}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.415444+05:30", "timestamp": 1755781141.415444}}}
{"text": "2025-08-21 18:29:01.415 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=39\n", "record": {"elapsed": {"repr": "0:00:25.414004", "seconds": 25.414004}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=39", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.415979+05:30", "timestamp": 1755781141.415979}}}
{"text": "2025-08-21 18:29:01.444 | DEBUG    | app.ws.live:emit_delta:408 - Emitted holdings delta: seq=40\n", "record": {"elapsed": {"repr": "0:00:25.442056", "seconds": 25.442056}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted holdings delta: seq=40", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.444031+05:30", "timestamp": 1755781141.444031}}}
{"text": "2025-08-21 18:29:01.519 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.517758", "seconds": 25.517758}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.519733+05:30", "timestamp": 1755781141.519733}}}
{"text": "2025-08-21 18:29:01.559 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.558010", "seconds": 25.55801}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.559985+05:30", "timestamp": 1755781141.559985}}}
{"text": "2025-08-21 18:29:01.872 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.870111", "seconds": 25.870111}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.872086+05:30", "timestamp": 1755781141.872086}}}
{"text": "2025-08-21 18:29:01.903 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.901934", "seconds": 25.901934}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.903909+05:30", "timestamp": 1755781141.903909}}}
{"text": "2025-08-21 18:29:01.946 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.944210", "seconds": 25.94421}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.946185+05:30", "timestamp": 1755781141.946185}}}
{"text": "2025-08-21 18:29:01.990 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:25.988939", "seconds": 25.988939}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:01.990914+05:30", "timestamp": 1755781141.990914}}}
{"text": "2025-08-21 18:29:02.220 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:26.218878", "seconds": 26.218878}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.220853+05:30", "timestamp": 1755781142.220853}}}
{"text": "2025-08-21 18:29:02.222 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:26.220437", "seconds": 26.220437}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.222412+05:30", "timestamp": 1755781142.222412}}}
{"text": "2025-08-21 18:29:02.223 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:26.221179", "seconds": 26.221179}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.223154+05:30", "timestamp": 1755781142.223154}}}
{"text": "2025-08-21 18:29:02.329 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.327955", "seconds": 26.327955}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:02.329930+05:30", "timestamp": 1755781142.32993}}}
{"text": "2025-08-21 18:29:02.330 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.328813", "seconds": 26.328813}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:02.330788+05:30", "timestamp": 1755781142.330788}}}
{"text": "2025-08-21 18:29:02.331 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.329610", "seconds": 26.32961}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:02.331585+05:30", "timestamp": 1755781142.331585}}}
{"text": "2025-08-21 18:29:02.332 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.330296", "seconds": 26.330296}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:02.332271+05:30", "timestamp": 1755781142.332271}}}
{"text": "2025-08-21 18:29:02.332 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.330904", "seconds": 26.330904}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:02.332879+05:30", "timestamp": 1755781142.332879}}}
{"text": "2025-08-21 18:29:02.333 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.331461", "seconds": 26.331461}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:02.333436+05:30", "timestamp": 1755781142.333436}}}
{"text": "2025-08-21 18:29:02.333 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.331981", "seconds": 26.331981}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:02.333956+05:30", "timestamp": 1755781142.333956}}}
{"text": "2025-08-21 18:29:02.334 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.332476", "seconds": 26.332476}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:02.334451+05:30", "timestamp": 1755781142.334451}}}
{"text": "2025-08-21 18:29:02.334 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.332983", "seconds": 26.332983}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:02.334958+05:30", "timestamp": 1755781142.334958}}}
{"text": "2025-08-21 18:29:02.335 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.333496", "seconds": 26.333496}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:02.335471+05:30", "timestamp": 1755781142.335471}}}
{"text": "2025-08-21 18:29:02.950 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:26.948214", "seconds": 26.948214}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.950189+05:30", "timestamp": 1755781142.950189}}}
{"text": "2025-08-21 18:29:02.951 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:26.949141", "seconds": 26.949141}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.951116+05:30", "timestamp": 1755781142.951116}}}
{"text": "2025-08-21 18:29:02.951 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1118259.22, today=-1118259.22\n", "record": {"elapsed": {"repr": "0:00:26.949884", "seconds": 26.949884}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1118259.22, today=-1118259.22", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.951859+05:30", "timestamp": 1755781142.951859}}}
{"text": "2025-08-21 18:29:02.952 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=979516.36, today=979516.36\n", "record": {"elapsed": {"repr": "0:00:26.950702", "seconds": 26.950702}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=979516.36, today=979516.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.952677+05:30", "timestamp": 1755781142.952677}}}
{"text": "2025-08-21 18:29:02.953 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2036491.0, today=-2036491.0\n", "record": {"elapsed": {"repr": "0:00:26.951553", "seconds": 26.951553}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2036491.0, today=-2036491.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.953528+05:30", "timestamp": 1755781142.953528}}}
{"text": "2025-08-21 18:29:02.954 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=191720.0, today=191720.0\n", "record": {"elapsed": {"repr": "0:00:26.952179", "seconds": 26.952179}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=191720.0, today=191720.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.954154+05:30", "timestamp": 1755781142.954154}}}
{"text": "2025-08-21 18:29:02.954 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=345158.08, today=345158.08\n", "record": {"elapsed": {"repr": "0:00:26.952838", "seconds": 26.952838}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=345158.08, today=345158.08", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.954813+05:30", "timestamp": 1755781142.954813}}}
{"text": "2025-08-21 18:29:02.955 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1638355.78, day: -1638355.78\n", "record": {"elapsed": {"repr": "0:00:26.953425", "seconds": 26.953425}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1638355.78, day: -1638355.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.955400+05:30", "timestamp": 1755781142.9554}}}
{"text": "2025-08-21 18:29:02.956 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:26.954385", "seconds": 26.954385}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.956360+05:30", "timestamp": 1755781142.95636}}}
{"text": "2025-08-21 18:29:02.957 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:26.955508", "seconds": 26.955508}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.957483+05:30", "timestamp": 1755781142.957483}}}
{"text": "2025-08-21 18:29:02.958 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:26.956095", "seconds": 26.956095}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.958070+05:30", "timestamp": 1755781142.95807}}}
{"text": "2025-08-21 18:29:02.958 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:26.956723", "seconds": 26.956723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.958698+05:30", "timestamp": 1755781142.958698}}}
{"text": "2025-08-21 18:29:02.959 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:02.951763+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:26.957230", "seconds": 26.95723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:02.951763+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.959205+05:30", "timestamp": 1755781142.959205}}}
{"text": "2025-08-21 18:29:02.959 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1638355.78, day=-1638355.78, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1275.0, unrealized=-1118259.22, today_pnl=-1118259.22), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=391.32, unrealized=979516.36, today_pnl=979516.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=646.99, unrealized=-2036491.0, today_pnl=-2036491.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=577.68, unrealized=191720.0, today_pnl=191720.0), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2268.73, unrealized=345158.08, today_pnl=345158.08)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 2, 951763, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:26.957905", "seconds": 26.957905}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1638355.78, day=-1638355.78, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1275.0, unrealized=-1118259.22, today_pnl=-1118259.22), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=391.32, unrealized=979516.36, today_pnl=979516.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=646.99, unrealized=-2036491.0, today_pnl=-2036491.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=577.68, unrealized=191720.0, today_pnl=191720.0), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2268.73, unrealized=345158.08, today_pnl=345158.08)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 2, 951763, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.959880+05:30", "timestamp": 1755781142.95988}}}
{"text": "2025-08-21 18:29:02.960 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1638355.78, day=-1638355.78, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1275.0, unrealized=-1118259.22, today_pnl=-1118259.22), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=391.32, unrealized=979516.36, today_pnl=979516.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=646.99, unrealized=-2036491.0, today_pnl=-2036491.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=577.68, unrealized=191720.0, today_pnl=191720.0), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2268.73, unrealized=345158.08, today_pnl=345158.08)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 2, 951763, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:26.958916", "seconds": 26.958916}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1638355.78, day=-1638355.78, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1275.0, unrealized=-1118259.22, today_pnl=-1118259.22), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=391.32, unrealized=979516.36, today_pnl=979516.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=646.99, unrealized=-2036491.0, today_pnl=-2036491.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=577.68, unrealized=191720.0, today_pnl=191720.0), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2268.73, unrealized=345158.08, today_pnl=345158.08)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 2, 951763, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.960891+05:30", "timestamp": 1755781142.960891}}}
{"text": "2025-08-21 18:29:02.961 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1638355.78\n", "record": {"elapsed": {"repr": "0:00:26.959934", "seconds": 26.959934}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1638355.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.961909+05:30", "timestamp": 1755781142.961909}}}
{"text": "2025-08-21 18:29:02.962 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:26.960994", "seconds": 26.960994}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.962969+05:30", "timestamp": 1755781142.962969}}}
{"text": "2025-08-21 18:29:02.963 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:26.961841", "seconds": 26.961841}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.963816+05:30", "timestamp": 1755781142.963816}}}
{"text": "2025-08-21 18:29:02.964 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:26.963009", "seconds": 26.963009}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.964984+05:30", "timestamp": 1755781142.964984}}}
{"text": "2025-08-21 18:29:02.965 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:26.963644", "seconds": 26.963644}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.965619+05:30", "timestamp": 1755781142.965619}}}
{"text": "2025-08-21 18:29:02.966 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:26.964315", "seconds": 26.964315}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.966290+05:30", "timestamp": 1755781142.96629}}}
{"text": "2025-08-21 18:29:02.967 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:26.965222", "seconds": 26.965222}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.967197+05:30", "timestamp": 1755781142.967197}}}
{"text": "2025-08-21 18:29:02.968 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:26.966217", "seconds": 26.966217}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.968192+05:30", "timestamp": 1755781142.968192}}}
{"text": "2025-08-21 18:29:02.968 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:26.966915", "seconds": 26.966915}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.968890+05:30", "timestamp": 1755781142.96889}}}
{"text": "2025-08-21 18:29:02.969 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:26.967472", "seconds": 26.967472}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.969447+05:30", "timestamp": 1755781142.969447}}}
{"text": "2025-08-21 18:29:02.970 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:26.968998", "seconds": 26.968998}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.970973+05:30", "timestamp": 1755781142.970973}}}
{"text": "2025-08-21 18:29:02.971 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:26.969574", "seconds": 26.969574}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.971549+05:30", "timestamp": 1755781142.971549}}}
{"text": "2025-08-21 18:29:02.972 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:26.970262", "seconds": 26.970262}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.972237+05:30", "timestamp": 1755781142.972237}}}
{"text": "2025-08-21 18:29:02.973 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:26.971332", "seconds": 26.971332}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.973307+05:30", "timestamp": 1755781142.973307}}}
{"text": "2025-08-21 18:29:02.974 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:26.972354", "seconds": 26.972354}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.974329+05:30", "timestamp": 1755781142.974329}}}
{"text": "2025-08-21 18:29:02.974 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=41\n", "record": {"elapsed": {"repr": "0:00:26.972928", "seconds": 26.972928}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=41", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:02.974903+05:30", "timestamp": 1755781142.974903}}}
{"text": "2025-08-21 18:29:03.077 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=42\n", "record": {"elapsed": {"repr": "0:00:27.075400", "seconds": 27.0754}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=42", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:03.077375+05:30", "timestamp": 1755781143.077375}}}
{"text": "2025-08-21 18:29:04.336 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.334458", "seconds": 28.334458}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:04.336433+05:30", "timestamp": 1755781144.336433}}}
{"text": "2025-08-21 18:29:04.337 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.335261", "seconds": 28.335261}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:04.337236+05:30", "timestamp": 1755781144.337236}}}
{"text": "2025-08-21 18:29:04.337 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.335888", "seconds": 28.335888}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:04.337863+05:30", "timestamp": 1755781144.337863}}}
{"text": "2025-08-21 18:29:04.338 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.336500", "seconds": 28.3365}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:04.338475+05:30", "timestamp": 1755781144.338475}}}
{"text": "2025-08-21 18:29:04.339 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.337421", "seconds": 28.337421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:04.339396+05:30", "timestamp": 1755781144.339396}}}
{"text": "2025-08-21 18:29:04.340 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.338092", "seconds": 28.338092}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:04.340067+05:30", "timestamp": 1755781144.340067}}}
{"text": "2025-08-21 18:29:04.340 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.338676", "seconds": 28.338676}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:04.340651+05:30", "timestamp": 1755781144.340651}}}
{"text": "2025-08-21 18:29:04.341 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.339275", "seconds": 28.339275}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:04.341250+05:30", "timestamp": 1755781144.34125}}}
{"text": "2025-08-21 18:29:04.341 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.339826", "seconds": 28.339826}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:04.341801+05:30", "timestamp": 1755781144.341801}}}
{"text": "2025-08-21 18:29:04.342 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.340413", "seconds": 28.340413}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:04.342388+05:30", "timestamp": 1755781144.342388}}}
{"text": "2025-08-21 18:29:04.793 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:28.791380", "seconds": 28.79138}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.793355+05:30", "timestamp": 1755781144.793355}}}
{"text": "2025-08-21 18:29:04.794 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:28.792150", "seconds": 28.79215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.794125+05:30", "timestamp": 1755781144.794125}}}
{"text": "2025-08-21 18:29:04.794 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1133642.0, today=-1133642.0\n", "record": {"elapsed": {"repr": "0:00:28.792886", "seconds": 28.792886}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1133642.0, today=-1133642.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.794861+05:30", "timestamp": 1755781144.794861}}}
{"text": "2025-08-21 18:29:04.795 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=975131.89, today=975131.89\n", "record": {"elapsed": {"repr": "0:00:28.793571", "seconds": 28.793571}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=975131.89, today=975131.89", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.795546+05:30", "timestamp": 1755781144.795546}}}
{"text": "2025-08-21 18:29:04.796 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2028804.43, today=-2028804.43\n", "record": {"elapsed": {"repr": "0:00:28.794238", "seconds": 28.794238}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2028804.43, today=-2028804.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.796213+05:30", "timestamp": 1755781144.796213}}}
{"text": "2025-08-21 18:29:04.796 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=185305.37, today=185305.37\n", "record": {"elapsed": {"repr": "0:00:28.794876", "seconds": 28.794876}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=185305.37, today=185305.37", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.796851+05:30", "timestamp": 1755781144.796851}}}
{"text": "2025-08-21 18:29:04.797 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=354748.01, today=354748.01\n", "record": {"elapsed": {"repr": "0:00:28.795362", "seconds": 28.795362}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=354748.01, today=354748.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.797337+05:30", "timestamp": 1755781144.797337}}}
{"text": "2025-08-21 18:29:04.797 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1647261.16, day: -1647261.16\n", "record": {"elapsed": {"repr": "0:00:28.795913", "seconds": 28.795913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1647261.16, day: -1647261.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.797888+05:30", "timestamp": 1755781144.797888}}}
{"text": "2025-08-21 18:29:04.798 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:28.796553", "seconds": 28.796553}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.798528+05:30", "timestamp": 1755781144.798528}}}
{"text": "2025-08-21 18:29:04.799 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:28.797372", "seconds": 28.797372}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.799347+05:30", "timestamp": 1755781144.799347}}}
{"text": "2025-08-21 18:29:04.800 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:28.798068", "seconds": 28.798068}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.800043+05:30", "timestamp": 1755781144.800043}}}
{"text": "2025-08-21 18:29:04.800 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:28.798744", "seconds": 28.798744}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.800719+05:30", "timestamp": 1755781144.800719}}}
{"text": "2025-08-21 18:29:04.801 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:04.794764+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:28.799260", "seconds": 28.79926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:04.794764+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.801235+05:30", "timestamp": 1755781144.801235}}}
{"text": "2025-08-21 18:29:04.802 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1647261.16, day=-1647261.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1265.03, unrealized=-1133642.0, today_pnl=-1133642.0), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=398.48, unrealized=975131.89, today_pnl=975131.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=651.49, unrealized=-2028804.43, today_pnl=-2028804.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=586.88, unrealized=185305.37, today_pnl=185305.37), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2306.34, unrealized=354748.01, today_pnl=354748.01)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 4, 794764, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:28.800257", "seconds": 28.800257}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1647261.16, day=-1647261.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1265.03, unrealized=-1133642.0, today_pnl=-1133642.0), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=398.48, unrealized=975131.89, today_pnl=975131.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=651.49, unrealized=-2028804.43, today_pnl=-2028804.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=586.88, unrealized=185305.37, today_pnl=185305.37), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2306.34, unrealized=354748.01, today_pnl=354748.01)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 4, 794764, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.802232+05:30", "timestamp": 1755781144.802232}}}
{"text": "2025-08-21 18:29:04.803 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1647261.16, day=-1647261.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1265.03, unrealized=-1133642.0, today_pnl=-1133642.0), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=398.48, unrealized=975131.89, today_pnl=975131.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=651.49, unrealized=-2028804.43, today_pnl=-2028804.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=586.88, unrealized=185305.37, today_pnl=185305.37), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2306.34, unrealized=354748.01, today_pnl=354748.01)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 4, 794764, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:28.801997", "seconds": 28.801997}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1647261.16, day=-1647261.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1265.03, unrealized=-1133642.0, today_pnl=-1133642.0), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=398.48, unrealized=975131.89, today_pnl=975131.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=651.49, unrealized=-2028804.43, today_pnl=-2028804.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=586.88, unrealized=185305.37, today_pnl=185305.37), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2306.34, unrealized=354748.01, today_pnl=354748.01)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 4, 794764, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.803972+05:30", "timestamp": 1755781144.803972}}}
{"text": "2025-08-21 18:29:04.804 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1647261.16\n", "record": {"elapsed": {"repr": "0:00:28.802884", "seconds": 28.802884}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1647261.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.804859+05:30", "timestamp": 1755781144.804859}}}
{"text": "2025-08-21 18:29:04.805 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=43\n", "record": {"elapsed": {"repr": "0:00:28.803999", "seconds": 28.803999}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=43", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.805974+05:30", "timestamp": 1755781144.805974}}}
{"text": "2025-08-21 18:29:04.944 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=44\n", "record": {"elapsed": {"repr": "0:00:28.942143", "seconds": 28.942143}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=44", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:04.944118+05:30", "timestamp": 1755781144.944118}}}
{"text": "2025-08-21 18:29:06.343 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.341585", "seconds": 30.341585}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:06.343560+05:30", "timestamp": 1755781146.34356}}}
{"text": "2025-08-21 18:29:06.344 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.342424", "seconds": 30.342424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:06.344399+05:30", "timestamp": 1755781146.344399}}}
{"text": "2025-08-21 18:29:06.345 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.343161", "seconds": 30.343161}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:06.345136+05:30", "timestamp": 1755781146.345136}}}
{"text": "2025-08-21 18:29:06.346 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.344210", "seconds": 30.34421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:06.346185+05:30", "timestamp": 1755781146.346185}}}
{"text": "2025-08-21 18:29:06.346 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.344829", "seconds": 30.344829}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:06.346804+05:30", "timestamp": 1755781146.346804}}}
{"text": "2025-08-21 18:29:06.347 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.345372", "seconds": 30.345372}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:06.347347+05:30", "timestamp": 1755781146.347347}}}
{"text": "2025-08-21 18:29:06.347 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.345841", "seconds": 30.345841}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:06.347816+05:30", "timestamp": 1755781146.347816}}}
{"text": "2025-08-21 18:29:06.348 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.346290", "seconds": 30.34629}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:06.348265+05:30", "timestamp": 1755781146.348265}}}
{"text": "2025-08-21 18:29:06.348 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.346744", "seconds": 30.346744}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:06.348719+05:30", "timestamp": 1755781146.348719}}}
{"text": "2025-08-21 18:29:06.349 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.347198", "seconds": 30.347198}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:06.349173+05:30", "timestamp": 1755781146.349173}}}
{"text": "2025-08-21 18:29:06.537 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:30.535519", "seconds": 30.535519}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.537494+05:30", "timestamp": 1755781146.537494}}}
{"text": "2025-08-21 18:29:06.540 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:30.538234", "seconds": 30.538234}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.540209+05:30", "timestamp": 1755781146.540209}}}
{"text": "2025-08-21 18:29:06.541 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1108899.85, today=-1108899.85\n", "record": {"elapsed": {"repr": "0:00:30.539585", "seconds": 30.539585}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1108899.85, today=-1108899.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.541560+05:30", "timestamp": 1755781146.54156}}}
{"text": "2025-08-21 18:29:06.542 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=970597.36, today=970597.36\n", "record": {"elapsed": {"repr": "0:00:30.540513", "seconds": 30.540513}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=970597.36, today=970597.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.542488+05:30", "timestamp": 1755781146.542488}}}
{"text": "2025-08-21 18:29:06.544 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2048215.5, today=-2048215.5\n", "record": {"elapsed": {"repr": "0:00:30.542810", "seconds": 30.54281}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2048215.5, today=-2048215.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.544785+05:30", "timestamp": 1755781146.544785}}}
{"text": "2025-08-21 18:29:06.547 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=178301.69, today=178301.69\n", "record": {"elapsed": {"repr": "0:00:30.545669", "seconds": 30.545669}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=178301.69, today=178301.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.547644+05:30", "timestamp": 1755781146.547644}}}
{"text": "2025-08-21 18:29:06.548 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=363787.63, today=363787.63\n", "record": {"elapsed": {"repr": "0:00:30.546880", "seconds": 30.54688}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=363787.63, today=363787.63", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.548855+05:30", "timestamp": 1755781146.548855}}}
{"text": "2025-08-21 18:29:06.549 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1644428.67, day: -1644428.67\n", "record": {"elapsed": {"repr": "0:00:30.547758", "seconds": 30.547758}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1644428.67, day: -1644428.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.549733+05:30", "timestamp": 1755781146.549733}}}
{"text": "2025-08-21 18:29:06.550 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:30.548951", "seconds": 30.548951}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.550926+05:30", "timestamp": 1755781146.550926}}}
{"text": "2025-08-21 18:29:06.552 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:30.550477", "seconds": 30.550477}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.552452+05:30", "timestamp": 1755781146.552452}}}
{"text": "2025-08-21 18:29:06.553 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:30.551769", "seconds": 30.551769}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.553744+05:30", "timestamp": 1755781146.553744}}}
{"text": "2025-08-21 18:29:06.555 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:30.553422", "seconds": 30.553422}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.555397+05:30", "timestamp": 1755781146.555397}}}
{"text": "2025-08-21 18:29:06.556 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:06.541450+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:30.554309", "seconds": 30.554309}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:06.541450+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.556284+05:30", "timestamp": 1755781146.556284}}}
{"text": "2025-08-21 18:29:06.557 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1644428.67, day=-1644428.67, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1281.07, unrealized=-1108899.85, today_pnl=-1108899.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=405.87, unrealized=970597.36, today_pnl=970597.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=640.13, unrealized=-2048215.5, today_pnl=-2048215.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.93, unrealized=178301.69, today_pnl=178301.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2341.79, unrealized=363787.63, today_pnl=363787.63)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 6, 541450, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:30.555408", "seconds": 30.555408}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1644428.67, day=-1644428.67, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1281.07, unrealized=-1108899.85, today_pnl=-1108899.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=405.87, unrealized=970597.36, today_pnl=970597.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=640.13, unrealized=-2048215.5, today_pnl=-2048215.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.93, unrealized=178301.69, today_pnl=178301.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2341.79, unrealized=363787.63, today_pnl=363787.63)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 6, 541450, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.557383+05:30", "timestamp": 1755781146.557383}}}
{"text": "2025-08-21 18:29:06.558 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1644428.67, day=-1644428.67, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1281.07, unrealized=-1108899.85, today_pnl=-1108899.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=405.87, unrealized=970597.36, today_pnl=970597.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=640.13, unrealized=-2048215.5, today_pnl=-2048215.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.93, unrealized=178301.69, today_pnl=178301.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2341.79, unrealized=363787.63, today_pnl=363787.63)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 6, 541450, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:30.556829", "seconds": 30.556829}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1644428.67, day=-1644428.67, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1281.07, unrealized=-1108899.85, today_pnl=-1108899.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=405.87, unrealized=970597.36, today_pnl=970597.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=640.13, unrealized=-2048215.5, today_pnl=-2048215.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.93, unrealized=178301.69, today_pnl=178301.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2341.79, unrealized=363787.63, today_pnl=363787.63)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 6, 541450, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.558804+05:30", "timestamp": 1755781146.558804}}}
{"text": "2025-08-21 18:29:06.560 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1644428.67\n", "record": {"elapsed": {"repr": "0:00:30.558584", "seconds": 30.558584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1644428.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.560559+05:30", "timestamp": 1755781146.560559}}}
{"text": "2025-08-21 18:29:06.561 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=45\n", "record": {"elapsed": {"repr": "0:00:30.559616", "seconds": 30.559616}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=45", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.561591+05:30", "timestamp": 1755781146.561591}}}
{"text": "2025-08-21 18:29:06.741 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=46\n", "record": {"elapsed": {"repr": "0:00:30.739257", "seconds": 30.739257}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=46", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:06.741232+05:30", "timestamp": 1755781146.741232}}}
{"text": "2025-08-21 18:29:08.168 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:32.166339", "seconds": 32.166339}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.168314+05:30", "timestamp": 1755781148.168314}}}
{"text": "2025-08-21 18:29:08.169 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:32.167072", "seconds": 32.167072}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.169047+05:30", "timestamp": 1755781148.169047}}}
{"text": "2025-08-21 18:29:08.169 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1108899.85, today=-1108899.85\n", "record": {"elapsed": {"repr": "0:00:32.168010", "seconds": 32.16801}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1108899.85, today=-1108899.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.169985+05:30", "timestamp": 1755781148.169985}}}
{"text": "2025-08-21 18:29:08.171 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=970597.36, today=970597.36\n", "record": {"elapsed": {"repr": "0:00:32.169236", "seconds": 32.169236}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=970597.36, today=970597.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.171211+05:30", "timestamp": 1755781148.171211}}}
{"text": "2025-08-21 18:29:08.171 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2048215.5, today=-2048215.5\n", "record": {"elapsed": {"repr": "0:00:32.170010", "seconds": 32.17001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2048215.5, today=-2048215.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.171985+05:30", "timestamp": 1755781148.171985}}}
{"text": "2025-08-21 18:29:08.172 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=178301.69, today=178301.69\n", "record": {"elapsed": {"repr": "0:00:32.170722", "seconds": 32.170722}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=178301.69, today=178301.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.172697+05:30", "timestamp": 1755781148.172697}}}
{"text": "2025-08-21 18:29:08.173 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=363787.63, today=363787.63\n", "record": {"elapsed": {"repr": "0:00:32.171445", "seconds": 32.171445}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=363787.63, today=363787.63", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.173420+05:30", "timestamp": 1755781148.17342}}}
{"text": "2025-08-21 18:29:08.174 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1644428.67, day: -1644428.67\n", "record": {"elapsed": {"repr": "0:00:32.172344", "seconds": 32.172344}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1644428.67, day: -1644428.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.174319+05:30", "timestamp": 1755781148.174319}}}
{"text": "2025-08-21 18:29:08.175 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:32.173251", "seconds": 32.173251}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.175226+05:30", "timestamp": 1755781148.175226}}}
{"text": "2025-08-21 18:29:08.176 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:32.174422", "seconds": 32.174422}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.176397+05:30", "timestamp": 1755781148.176397}}}
{"text": "2025-08-21 18:29:08.177 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:32.175648", "seconds": 32.175648}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.177623+05:30", "timestamp": 1755781148.177623}}}
{"text": "2025-08-21 18:29:08.179 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:32.177099", "seconds": 32.177099}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.179074+05:30", "timestamp": 1755781148.179074}}}
{"text": "2025-08-21 18:29:08.180 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:08.169859+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:32.178783", "seconds": 32.178783}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:08.169859+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.180758+05:30", "timestamp": 1755781148.180758}}}
{"text": "2025-08-21 18:29:08.182 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1644428.67, day=-1644428.67, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1281.07, unrealized=-1108899.85, today_pnl=-1108899.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=405.87, unrealized=970597.36, today_pnl=970597.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=640.13, unrealized=-2048215.5, today_pnl=-2048215.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.93, unrealized=178301.69, today_pnl=178301.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2341.79, unrealized=363787.63, today_pnl=363787.63)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 8, 169859, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:32.180636", "seconds": 32.180636}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1644428.67, day=-1644428.67, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1281.07, unrealized=-1108899.85, today_pnl=-1108899.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=405.87, unrealized=970597.36, today_pnl=970597.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=640.13, unrealized=-2048215.5, today_pnl=-2048215.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.93, unrealized=178301.69, today_pnl=178301.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2341.79, unrealized=363787.63, today_pnl=363787.63)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 8, 169859, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.182611+05:30", "timestamp": 1755781148.182611}}}
{"text": "2025-08-21 18:29:08.184 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1644428.67, day=-1644428.67, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1281.07, unrealized=-1108899.85, today_pnl=-1108899.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=405.87, unrealized=970597.36, today_pnl=970597.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=640.13, unrealized=-2048215.5, today_pnl=-2048215.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.93, unrealized=178301.69, today_pnl=178301.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2341.79, unrealized=363787.63, today_pnl=363787.63)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 8, 169859, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:32.182337", "seconds": 32.182337}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1644428.67, day=-1644428.67, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1281.07, unrealized=-1108899.85, today_pnl=-1108899.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=405.87, unrealized=970597.36, today_pnl=970597.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=640.13, unrealized=-2048215.5, today_pnl=-2048215.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.93, unrealized=178301.69, today_pnl=178301.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2341.79, unrealized=363787.63, today_pnl=363787.63)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 8, 169859, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.184312+05:30", "timestamp": 1755781148.184312}}}
{"text": "2025-08-21 18:29:08.185 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1644428.67\n", "record": {"elapsed": {"repr": "0:00:32.183838", "seconds": 32.183838}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1644428.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.185813+05:30", "timestamp": 1755781148.185813}}}
{"text": "2025-08-21 18:29:08.187 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=47\n", "record": {"elapsed": {"repr": "0:00:32.186002", "seconds": 32.186002}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=47", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.187977+05:30", "timestamp": 1755781148.187977}}}
{"text": "2025-08-21 18:29:08.349 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.347960", "seconds": 32.34796}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:08.349935+05:30", "timestamp": 1755781148.349935}}}
{"text": "2025-08-21 18:29:08.350 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.349008", "seconds": 32.349008}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:08.350983+05:30", "timestamp": 1755781148.350983}}}
{"text": "2025-08-21 18:29:08.351 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.349904", "seconds": 32.349904}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:08.351879+05:30", "timestamp": 1755781148.351879}}}
{"text": "2025-08-21 18:29:08.352 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.350932", "seconds": 32.350932}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:08.352907+05:30", "timestamp": 1755781148.352907}}}
{"text": "2025-08-21 18:29:08.354 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.352242", "seconds": 32.352242}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:08.354217+05:30", "timestamp": 1755781148.354217}}}
{"text": "2025-08-21 18:29:08.355 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.353436", "seconds": 32.353436}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:08.355411+05:30", "timestamp": 1755781148.355411}}}
{"text": "2025-08-21 18:29:08.356 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.354732", "seconds": 32.354732}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:08.356707+05:30", "timestamp": 1755781148.356707}}}
{"text": "2025-08-21 18:29:08.357 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.355543", "seconds": 32.355543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:08.357518+05:30", "timestamp": 1755781148.357518}}}
{"text": "2025-08-21 18:29:08.358 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.356631", "seconds": 32.356631}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:08.358606+05:30", "timestamp": 1755781148.358606}}}
{"text": "2025-08-21 18:29:08.360 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.358870", "seconds": 32.35887}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:08.360845+05:30", "timestamp": 1755781148.360845}}}
{"text": "2025-08-21 18:29:08.444 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=48\n", "record": {"elapsed": {"repr": "0:00:32.442257", "seconds": 32.442257}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=48", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.444232+05:30", "timestamp": 1755781148.444232}}}
{"text": "2025-08-21 18:29:08.737 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:59:08.736Z'}\n", "record": {"elapsed": {"repr": "0:00:32.735328", "seconds": 32.735328}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:59:08.736Z'}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.737303+05:30", "timestamp": 1755781148.737303}}}
{"text": "2025-08-21 18:29:08.839 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:59:08.837Z'}\n", "record": {"elapsed": {"repr": "0:00:32.837333", "seconds": 32.837333}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:59:08.837Z'}", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:08.839308+05:30", "timestamp": 1755781148.839308}}}
{"text": "2025-08-21 18:29:09.120 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:33.118076", "seconds": 33.118076}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:09.120051+05:30", "timestamp": 1755781149.120051}}}
{"text": "2025-08-21 18:29:09.162 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:33.160867", "seconds": 33.160867}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:09.162842+05:30", "timestamp": 1755781149.162842}}}
{"text": "2025-08-21 18:29:09.287 | DEBUG    | app.ws.live:emit_summary:430 - Emitted orders summary: seq=49\n", "record": {"elapsed": {"repr": "0:00:33.285088", "seconds": 33.285088}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted orders summary: seq=49", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:09.287063+05:30", "timestamp": 1755781149.287063}}}
{"text": "2025-08-21 18:29:09.481 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:33.479947", "seconds": 33.479947}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:09.481922+05:30", "timestamp": 1755781149.481922}}}
{"text": "2025-08-21 18:29:09.523 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:33.521931", "seconds": 33.521931}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:09.523906+05:30", "timestamp": 1755781149.523906}}}
{"text": "2025-08-21 18:29:09.846 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:33.844255", "seconds": 33.844255}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:09.846230+05:30", "timestamp": 1755781149.84623}}}
{"text": "2025-08-21 18:29:09.875 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:33.873872", "seconds": 33.873872}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:09.875847+05:30", "timestamp": 1755781149.875847}}}
{"text": "2025-08-21 18:29:09.994 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=50\n", "record": {"elapsed": {"repr": "0:00:33.992786", "seconds": 33.992786}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=50", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:09.994761+05:30", "timestamp": 1755781149.994761}}}
{"text": "2025-08-21 18:29:10.109 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:34.107382", "seconds": 34.107382}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.109357+05:30", "timestamp": 1755781150.109357}}}
{"text": "2025-08-21 18:29:10.110 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:34.108629", "seconds": 34.108629}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.110604+05:30", "timestamp": 1755781150.110604}}}
{"text": "2025-08-21 18:29:10.111 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1075047.81, today=-1075047.81\n", "record": {"elapsed": {"repr": "0:00:34.109459", "seconds": 34.109459}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1075047.81, today=-1075047.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.111434+05:30", "timestamp": 1755781150.111434}}}
{"text": "2025-08-21 18:29:10.112 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=972785.16, today=972785.16\n", "record": {"elapsed": {"repr": "0:00:34.110230", "seconds": 34.11023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=972785.16, today=972785.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.112205+05:30", "timestamp": 1755781150.112205}}}
{"text": "2025-08-21 18:29:10.113 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2061924.04, today=-2061924.04\n", "record": {"elapsed": {"repr": "0:00:34.111124", "seconds": 34.111124}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2061924.04, today=-2061924.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.113099+05:30", "timestamp": 1755781150.113099}}}
{"text": "2025-08-21 18:29:10.114 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=176335.42, today=176335.42\n", "record": {"elapsed": {"repr": "0:00:34.112174", "seconds": 34.112174}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=176335.42, today=176335.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.114149+05:30", "timestamp": 1755781150.114149}}}
{"text": "2025-08-21 18:29:10.114 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=355861.99, today=355861.99\n", "record": {"elapsed": {"repr": "0:00:34.112854", "seconds": 34.112854}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=355861.99, today=355861.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.114829+05:30", "timestamp": 1755781150.114829}}}
{"text": "2025-08-21 18:29:10.115 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1631989.28, day: -1631989.28\n", "record": {"elapsed": {"repr": "0:00:34.113611", "seconds": 34.113611}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1631989.28, day: -1631989.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.115586+05:30", "timestamp": 1755781150.115586}}}
{"text": "2025-08-21 18:29:10.116 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:34.115001", "seconds": 34.115001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.116976+05:30", "timestamp": 1755781150.116976}}}
{"text": "2025-08-21 18:29:10.118 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:34.116178", "seconds": 34.116178}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.118153+05:30", "timestamp": 1755781150.118153}}}
{"text": "2025-08-21 18:29:10.119 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:34.117369", "seconds": 34.117369}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.119344+05:30", "timestamp": 1755781150.119344}}}
{"text": "2025-08-21 18:29:10.120 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:34.118446", "seconds": 34.118446}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.120421+05:30", "timestamp": 1755781150.120421}}}
{"text": "2025-08-21 18:29:10.123 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:10.111319+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:34.121059", "seconds": 34.121059}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:10.111319+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.123034+05:30", "timestamp": 1755781150.123034}}}
{"text": "2025-08-21 18:29:10.125 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1631989.28, day=-1631989.28, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1303.0, unrealized=-1075047.81, today_pnl=-1075047.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=402.3, unrealized=972785.16, today_pnl=972785.16), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=632.11, unrealized=-2061924.04, today_pnl=-2061924.04), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=599.75, unrealized=176335.42, today_pnl=176335.42), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2310.71, unrealized=355861.99, today_pnl=355861.99)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 10, 111319, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:34.123970", "seconds": 34.12397}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1631989.28, day=-1631989.28, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1303.0, unrealized=-1075047.81, today_pnl=-1075047.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=402.3, unrealized=972785.16, today_pnl=972785.16), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=632.11, unrealized=-2061924.04, today_pnl=-2061924.04), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=599.75, unrealized=176335.42, today_pnl=176335.42), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2310.71, unrealized=355861.99, today_pnl=355861.99)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 10, 111319, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.125945+05:30", "timestamp": 1755781150.125945}}}
{"text": "2025-08-21 18:29:10.129 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1631989.28, day=-1631989.28, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1303.0, unrealized=-1075047.81, today_pnl=-1075047.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=402.3, unrealized=972785.16, today_pnl=972785.16), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=632.11, unrealized=-2061924.04, today_pnl=-2061924.04), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=599.75, unrealized=176335.42, today_pnl=176335.42), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2310.71, unrealized=355861.99, today_pnl=355861.99)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 10, 111319, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:34.127089", "seconds": 34.127089}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1631989.28, day=-1631989.28, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1303.0, unrealized=-1075047.81, today_pnl=-1075047.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=402.3, unrealized=972785.16, today_pnl=972785.16), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=632.11, unrealized=-2061924.04, today_pnl=-2061924.04), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=599.75, unrealized=176335.42, today_pnl=176335.42), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2310.71, unrealized=355861.99, today_pnl=355861.99)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 10, 111319, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.129064+05:30", "timestamp": 1755781150.129064}}}
{"text": "2025-08-21 18:29:10.131 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1631989.28\n", "record": {"elapsed": {"repr": "0:00:34.129571", "seconds": 34.129571}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1631989.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.131546+05:30", "timestamp": 1755781150.131546}}}
{"text": "2025-08-21 18:29:10.134 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:34.132623", "seconds": 34.132623}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.134598+05:30", "timestamp": 1755781150.134598}}}
{"text": "2025-08-21 18:29:10.136 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:34.134107", "seconds": 34.134107}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.136082+05:30", "timestamp": 1755781150.136082}}}
{"text": "2025-08-21 18:29:10.137 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:34.135302", "seconds": 34.135302}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.137277+05:30", "timestamp": 1755781150.137277}}}
{"text": "2025-08-21 18:29:10.138 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:34.136520", "seconds": 34.13652}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.138495+05:30", "timestamp": 1755781150.138495}}}
{"text": "2025-08-21 18:29:10.139 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:34.137438", "seconds": 34.137438}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.139413+05:30", "timestamp": 1755781150.139413}}}
{"text": "2025-08-21 18:29:10.140 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:34.138511", "seconds": 34.138511}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.140486+05:30", "timestamp": 1755781150.140486}}}
{"text": "2025-08-21 18:29:10.141 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:34.139329", "seconds": 34.139329}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.141304+05:30", "timestamp": 1755781150.141304}}}
{"text": "2025-08-21 18:29:10.142 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:34.140442", "seconds": 34.140442}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.142417+05:30", "timestamp": 1755781150.142417}}}
{"text": "2025-08-21 18:29:10.143 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:34.141558", "seconds": 34.141558}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.143533+05:30", "timestamp": 1755781150.143533}}}
{"text": "2025-08-21 18:29:10.144 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:34.142491", "seconds": 34.142491}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.144466+05:30", "timestamp": 1755781150.144466}}}
{"text": "2025-08-21 18:29:10.145 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:34.143530", "seconds": 34.14353}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.145505+05:30", "timestamp": 1755781150.145505}}}
{"text": "2025-08-21 18:29:10.146 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:34.144722", "seconds": 34.144722}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.146697+05:30", "timestamp": 1755781150.146697}}}
{"text": "2025-08-21 18:29:10.147 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=51\n", "record": {"elapsed": {"repr": "0:00:34.145958", "seconds": 34.145958}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=51", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:10.147933+05:30", "timestamp": 1755781150.147933}}}
{"text": "2025-08-21 18:29:10.363 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.361072", "seconds": 34.361072}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:10.363047+05:30", "timestamp": 1755781150.363047}}}
{"text": "2025-08-21 18:29:10.364 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.362449", "seconds": 34.362449}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:10.364424+05:30", "timestamp": 1755781150.364424}}}
{"text": "2025-08-21 18:29:10.365 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.363284", "seconds": 34.363284}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:10.365259+05:30", "timestamp": 1755781150.365259}}}
{"text": "2025-08-21 18:29:10.366 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.364053", "seconds": 34.364053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:10.366028+05:30", "timestamp": 1755781150.366028}}}
{"text": "2025-08-21 18:29:10.366 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.364724", "seconds": 34.364724}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:10.366699+05:30", "timestamp": 1755781150.366699}}}
{"text": "2025-08-21 18:29:10.367 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.365608", "seconds": 34.365608}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:10.367583+05:30", "timestamp": 1755781150.367583}}}
{"text": "2025-08-21 18:29:10.368 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.366750", "seconds": 34.36675}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:10.368725+05:30", "timestamp": 1755781150.368725}}}
{"text": "2025-08-21 18:29:10.369 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.367828", "seconds": 34.367828}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:10.369803+05:30", "timestamp": 1755781150.369803}}}
{"text": "2025-08-21 18:29:10.370 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.368743", "seconds": 34.368743}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:10.370718+05:30", "timestamp": 1755781150.370718}}}
{"text": "2025-08-21 18:29:10.371 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.369933", "seconds": 34.369933}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:10.371908+05:30", "timestamp": 1755781150.371908}}}
{"text": "2025-08-21 18:29:11.818 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=52\n", "record": {"elapsed": {"repr": "0:00:35.816456", "seconds": 35.816456}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=52", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:11.818431+05:30", "timestamp": 1755781151.818431}}}
{"text": "2025-08-21 18:29:12.058 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:36.056925", "seconds": 36.056925}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.058900+05:30", "timestamp": 1755781152.0589}}}
{"text": "2025-08-21 18:29:12.060 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:36.058435", "seconds": 36.058435}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.060410+05:30", "timestamp": 1755781152.06041}}}
{"text": "2025-08-21 18:29:12.061 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1110380.95, today=-1110380.95\n", "record": {"elapsed": {"repr": "0:00:36.059601", "seconds": 36.059601}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1110380.95, today=-1110380.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.061576+05:30", "timestamp": 1755781152.061576}}}
{"text": "2025-08-21 18:29:12.062 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=971206.02, today=971206.02\n", "record": {"elapsed": {"repr": "0:00:36.060962", "seconds": 36.060962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=971206.02, today=971206.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.062937+05:30", "timestamp": 1755781152.062937}}}
{"text": "2025-08-21 18:29:12.065 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2042233.68, today=-2042233.68\n", "record": {"elapsed": {"repr": "0:00:36.063135", "seconds": 36.063135}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2042233.68, today=-2042233.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.065110+05:30", "timestamp": 1755781152.06511}}}
{"text": "2025-08-21 18:29:12.066 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=174593.87, today=174593.87\n", "record": {"elapsed": {"repr": "0:00:36.064824", "seconds": 36.064824}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=174593.87, today=174593.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.066799+05:30", "timestamp": 1755781152.066799}}}
{"text": "2025-08-21 18:29:12.068 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=366028.29, today=366028.29\n", "record": {"elapsed": {"repr": "0:00:36.066611", "seconds": 36.066611}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=366028.29, today=366028.29", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.068586+05:30", "timestamp": 1755781152.068586}}}
{"text": "2025-08-21 18:29:12.069 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1640786.45, day: -1640786.45\n", "record": {"elapsed": {"repr": "0:00:36.067850", "seconds": 36.06785}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1640786.45, day: -1640786.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.069825+05:30", "timestamp": 1755781152.069825}}}
{"text": "2025-08-21 18:29:12.070 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:36.068733", "seconds": 36.068733}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.070708+05:30", "timestamp": 1755781152.070708}}}
{"text": "2025-08-21 18:29:12.072 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:36.070103", "seconds": 36.070103}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.072078+05:30", "timestamp": 1755781152.072078}}}
{"text": "2025-08-21 18:29:12.073 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:36.071358", "seconds": 36.071358}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.073333+05:30", "timestamp": 1755781152.073333}}}
{"text": "2025-08-21 18:29:12.074 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:36.072531", "seconds": 36.072531}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.074506+05:30", "timestamp": 1755781152.074506}}}
{"text": "2025-08-21 18:29:12.075 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:12.061463+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:36.073445", "seconds": 36.073445}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:12.061463+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.075420+05:30", "timestamp": 1755781152.07542}}}
{"text": "2025-08-21 18:29:12.077 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1640786.45, day=-1640786.45, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1280.11, unrealized=-1110380.95, today_pnl=-1110380.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=404.88, unrealized=971206.02, today_pnl=971206.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=643.63, unrealized=-2042233.68, today_pnl=-2042233.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=602.25, unrealized=174593.87, today_pnl=174593.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2350.58, unrealized=366028.29, today_pnl=366028.29)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 12, 61463, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:36.075273", "seconds": 36.075273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1640786.45, day=-1640786.45, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1280.11, unrealized=-1110380.95, today_pnl=-1110380.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=404.88, unrealized=971206.02, today_pnl=971206.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=643.63, unrealized=-2042233.68, today_pnl=-2042233.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=602.25, unrealized=174593.87, today_pnl=174593.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2350.58, unrealized=366028.29, today_pnl=366028.29)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 12, 61463, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.077248+05:30", "timestamp": 1755781152.077248}}}
{"text": "2025-08-21 18:29:12.078 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1640786.45, day=-1640786.45, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1280.11, unrealized=-1110380.95, today_pnl=-1110380.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=404.88, unrealized=971206.02, today_pnl=971206.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=643.63, unrealized=-2042233.68, today_pnl=-2042233.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=602.25, unrealized=174593.87, today_pnl=174593.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2350.58, unrealized=366028.29, today_pnl=366028.29)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 12, 61463, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:36.076726", "seconds": 36.076726}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1640786.45, day=-1640786.45, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1280.11, unrealized=-1110380.95, today_pnl=-1110380.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=404.88, unrealized=971206.02, today_pnl=971206.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=643.63, unrealized=-2042233.68, today_pnl=-2042233.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=602.25, unrealized=174593.87, today_pnl=174593.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2350.58, unrealized=366028.29, today_pnl=366028.29)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 12, 61463, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.078701+05:30", "timestamp": 1755781152.078701}}}
{"text": "2025-08-21 18:29:12.079 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1640786.45\n", "record": {"elapsed": {"repr": "0:00:36.077869", "seconds": 36.077869}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1640786.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.079844+05:30", "timestamp": 1755781152.079844}}}
{"text": "2025-08-21 18:29:12.081 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=53\n", "record": {"elapsed": {"repr": "0:00:36.079220", "seconds": 36.07922}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=53", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:12.081195+05:30", "timestamp": 1755781152.081195}}}
{"text": "2025-08-21 18:29:12.373 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.371289", "seconds": 36.371289}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:12.373264+05:30", "timestamp": 1755781152.373264}}}
{"text": "2025-08-21 18:29:12.374 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.372318", "seconds": 36.372318}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:12.374293+05:30", "timestamp": 1755781152.374293}}}
{"text": "2025-08-21 18:29:12.375 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.373591", "seconds": 36.373591}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:12.375566+05:30", "timestamp": 1755781152.375566}}}
{"text": "2025-08-21 18:29:12.377 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.375041", "seconds": 36.375041}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:12.377016+05:30", "timestamp": 1755781152.377016}}}
{"text": "2025-08-21 18:29:12.378 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.376146", "seconds": 36.376146}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:12.378121+05:30", "timestamp": 1755781152.378121}}}
{"text": "2025-08-21 18:29:12.378 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.376850", "seconds": 36.37685}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:12.378825+05:30", "timestamp": 1755781152.378825}}}
{"text": "2025-08-21 18:29:12.379 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.377895", "seconds": 36.377895}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:12.379870+05:30", "timestamp": 1755781152.37987}}}
{"text": "2025-08-21 18:29:12.380 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.378782", "seconds": 36.378782}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:12.380757+05:30", "timestamp": 1755781152.380757}}}
{"text": "2025-08-21 18:29:12.381 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.379627", "seconds": 36.379627}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:12.381602+05:30", "timestamp": 1755781152.381602}}}
{"text": "2025-08-21 18:29:12.382 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.380431", "seconds": 36.380431}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:12.382406+05:30", "timestamp": 1755781152.382406}}}
{"text": "2025-08-21 18:29:13.197 | INFO     | app.main:add_trace_id:43 - Request started - Method: GET, Path: /positions, Trace ID: 1333e4b7-bb38-4a93-8f14-67bf94590f65\n", "record": {"elapsed": {"repr": "0:00:37.195186", "seconds": 37.195186}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 43, "message": "Request started - Method: GET, Path: /positions, Trace ID: 1333e4b7-bb38-4a93-8f14-67bf94590f65", "module": "main", "name": "app.main", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.197161+05:30", "timestamp": 1755781153.197161}}}
{"text": "2025-08-21 18:29:13.201 | INFO     | app.main:add_trace_id:47 - Request completed - Method: GET, Path: /positions, Status: 200, Trace ID: 1333e4b7-bb38-4a93-8f14-67bf94590f65\n", "record": {"elapsed": {"repr": "0:00:37.199986", "seconds": 37.199986}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 47, "message": "Request completed - Method: GET, Path: /positions, Status: 200, Trace ID: 1333e4b7-bb38-4a93-8f14-67bf94590f65", "module": "main", "name": "app.main", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.201961+05:30", "timestamp": 1755781153.201961}}}
{"text": "2025-08-21 18:29:13.556 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=54\n", "record": {"elapsed": {"repr": "0:00:37.554797", "seconds": 37.554797}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=54", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.556772+05:30", "timestamp": 1755781153.556772}}}
{"text": "2025-08-21 18:29:13.958 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:37.956480", "seconds": 37.95648}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.958455+05:30", "timestamp": 1755781153.958455}}}
{"text": "2025-08-21 18:29:13.959 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:37.957726", "seconds": 37.957726}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.959701+05:30", "timestamp": 1755781153.959701}}}
{"text": "2025-08-21 18:29:13.960 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1082971.74, today=-1082971.74\n", "record": {"elapsed": {"repr": "0:00:37.958730", "seconds": 37.95873}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1082971.74, today=-1082971.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.960705+05:30", "timestamp": 1755781153.960705}}}
{"text": "2025-08-21 18:29:13.961 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=968019.22, today=968019.22\n", "record": {"elapsed": {"repr": "0:00:37.959646", "seconds": 37.959646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=968019.22, today=968019.22", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.961621+05:30", "timestamp": 1755781153.961621}}}
{"text": "2025-08-21 18:29:13.963 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2058645.38, today=-2058645.38\n", "record": {"elapsed": {"repr": "0:00:37.961043", "seconds": 37.961043}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2058645.38, today=-2058645.38", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.963018+05:30", "timestamp": 1755781153.963018}}}
{"text": "2025-08-21 18:29:13.964 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=178791.39, today=178791.39\n", "record": {"elapsed": {"repr": "0:00:37.962347", "seconds": 37.962347}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=178791.39, today=178791.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.964322+05:30", "timestamp": 1755781153.964322}}}
{"text": "2025-08-21 18:29:13.966 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=377543.73, today=377543.73\n", "record": {"elapsed": {"repr": "0:00:37.964918", "seconds": 37.964918}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=377543.73, today=377543.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.966893+05:30", "timestamp": 1755781153.966893}}}
{"text": "2025-08-21 18:29:13.967 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1617262.78, day: -1617262.78\n", "record": {"elapsed": {"repr": "0:00:37.965705", "seconds": 37.965705}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1617262.78, day: -1617262.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.967680+05:30", "timestamp": 1755781153.96768}}}
{"text": "2025-08-21 18:29:13.968 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:37.966992", "seconds": 37.966992}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.968967+05:30", "timestamp": 1755781153.968967}}}
{"text": "2025-08-21 18:29:13.969 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:37.967846", "seconds": 37.967846}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.969821+05:30", "timestamp": 1755781153.969821}}}
{"text": "2025-08-21 18:29:13.970 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:37.968651", "seconds": 37.968651}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.970626+05:30", "timestamp": 1755781153.970626}}}
{"text": "2025-08-21 18:29:13.972 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:37.970699", "seconds": 37.970699}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.972674+05:30", "timestamp": 1755781153.972674}}}
{"text": "2025-08-21 18:29:13.973 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:13.960548+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:37.971584", "seconds": 37.971584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:13.960548+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.973559+05:30", "timestamp": 1755781153.973559}}}
{"text": "2025-08-21 18:29:13.975 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1617262.78, day=-1617262.78, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1297.87, unrealized=-1082971.74, today_pnl=-1082971.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.08, unrealized=968019.22, today_pnl=968019.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.03, unrealized=-2058645.38, today_pnl=-2058645.38), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.22, unrealized=178791.39, today_pnl=178791.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2395.73, unrealized=377543.73, today_pnl=377543.73)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 13, 960548, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:37.973701", "seconds": 37.973701}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1617262.78, day=-1617262.78, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1297.87, unrealized=-1082971.74, today_pnl=-1082971.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.08, unrealized=968019.22, today_pnl=968019.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.03, unrealized=-2058645.38, today_pnl=-2058645.38), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.22, unrealized=178791.39, today_pnl=178791.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2395.73, unrealized=377543.73, today_pnl=377543.73)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 13, 960548, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.975676+05:30", "timestamp": 1755781153.975676}}}
{"text": "2025-08-21 18:29:13.977 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1617262.78, day=-1617262.78, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1297.87, unrealized=-1082971.74, today_pnl=-1082971.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.08, unrealized=968019.22, today_pnl=968019.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.03, unrealized=-2058645.38, today_pnl=-2058645.38), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.22, unrealized=178791.39, today_pnl=178791.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2395.73, unrealized=377543.73, today_pnl=377543.73)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 13, 960548, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:37.975576", "seconds": 37.975576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1617262.78, day=-1617262.78, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1297.87, unrealized=-1082971.74, today_pnl=-1082971.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.08, unrealized=968019.22, today_pnl=968019.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.03, unrealized=-2058645.38, today_pnl=-2058645.38), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.22, unrealized=178791.39, today_pnl=178791.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2395.73, unrealized=377543.73, today_pnl=377543.73)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 13, 960548, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.977551+05:30", "timestamp": 1755781153.977551}}}
{"text": "2025-08-21 18:29:13.978 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1617262.78\n", "record": {"elapsed": {"repr": "0:00:37.976676", "seconds": 37.976676}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1617262.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.978651+05:30", "timestamp": 1755781153.978651}}}
{"text": "2025-08-21 18:29:13.980 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=55\n", "record": {"elapsed": {"repr": "0:00:37.978311", "seconds": 37.978311}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=55", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:13.980286+05:30", "timestamp": 1755781153.980286}}}
{"text": "2025-08-21 18:29:14.194 | INFO     | app.main:add_trace_id:43 - Request started - Method: GET, Path: /pnl, Trace ID: c3adce90-0a54-4dc7-9051-bdabccfa3ef1\n", "record": {"elapsed": {"repr": "0:00:38.192261", "seconds": 38.192261}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 43, "message": "Request started - Method: GET, Path: /pnl, Trace ID: c3adce90-0a54-4dc7-9051-bdabccfa3ef1", "module": "main", "name": "app.main", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:14.194236+05:30", "timestamp": 1755781154.194236}}}
{"text": "2025-08-21 18:29:14.195 | INFO     | app.routes.data:pnl:69 - PnL endpoint called\n", "record": {"elapsed": {"repr": "0:00:38.193957", "seconds": 38.193957}, "exception": null, "extra": {}, "file": {"name": "data.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\routes\\data.py"}, "function": "pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 69, "message": "PnL endpoint called", "module": "data", "name": "app.routes.data", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.195932+05:30", "timestamp": 1755781154.195932}}}
{"text": "2025-08-21 18:29:14.196 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:38.194708", "seconds": 38.194708}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.196683+05:30", "timestamp": 1755781154.196683}}}
{"text": "2025-08-21 18:29:14.197 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:38.195389", "seconds": 38.195389}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.197364+05:30", "timestamp": 1755781154.197364}}}
{"text": "2025-08-21 18:29:14.198 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1082971.74, today=-1082971.74\n", "record": {"elapsed": {"repr": "0:00:38.196387", "seconds": 38.196387}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1082971.74, today=-1082971.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.198362+05:30", "timestamp": 1755781154.198362}}}
{"text": "2025-08-21 18:29:14.199 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=968019.22, today=968019.22\n", "record": {"elapsed": {"repr": "0:00:38.197182", "seconds": 38.197182}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=968019.22, today=968019.22", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.199157+05:30", "timestamp": 1755781154.199157}}}
{"text": "2025-08-21 18:29:14.200 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2058645.38, today=-2058645.38\n", "record": {"elapsed": {"repr": "0:00:38.198219", "seconds": 38.198219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2058645.38, today=-2058645.38", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.200194+05:30", "timestamp": 1755781154.200194}}}
{"text": "2025-08-21 18:29:14.200 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=178791.39, today=178791.39\n", "record": {"elapsed": {"repr": "0:00:38.198983", "seconds": 38.198983}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=178791.39, today=178791.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.200958+05:30", "timestamp": 1755781154.200958}}}
{"text": "2025-08-21 18:29:14.201 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=377543.73, today=377543.73\n", "record": {"elapsed": {"repr": "0:00:38.199849", "seconds": 38.199849}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=377543.73, today=377543.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.201824+05:30", "timestamp": 1755781154.201824}}}
{"text": "2025-08-21 18:29:14.202 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1617262.78, day: -1617262.78\n", "record": {"elapsed": {"repr": "0:00:38.200953", "seconds": 38.200953}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1617262.78, day: -1617262.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.202928+05:30", "timestamp": 1755781154.202928}}}
{"text": "2025-08-21 18:29:14.203 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:38.201926", "seconds": 38.201926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.203901+05:30", "timestamp": 1755781154.203901}}}
{"text": "2025-08-21 18:29:14.204 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:38.202887", "seconds": 38.202887}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.204862+05:30", "timestamp": 1755781154.204862}}}
{"text": "2025-08-21 18:29:14.205 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:38.203608", "seconds": 38.203608}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.205583+05:30", "timestamp": 1755781154.205583}}}
{"text": "2025-08-21 18:29:14.206 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:38.204562", "seconds": 38.204562}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.206537+05:30", "timestamp": 1755781154.206537}}}
{"text": "2025-08-21 18:29:14.207 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:14.198245+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:38.205840", "seconds": 38.20584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:14.198245+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.207815+05:30", "timestamp": 1755781154.207815}}}
{"text": "2025-08-21 18:29:14.209 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1617262.78, day=-1617262.78, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1297.87, unrealized=-1082971.74, today_pnl=-1082971.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.08, unrealized=968019.22, today_pnl=968019.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.03, unrealized=-2058645.38, today_pnl=-2058645.38), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.22, unrealized=178791.39, today_pnl=178791.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2395.73, unrealized=377543.73, today_pnl=377543.73)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 14, 198245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:38.207481", "seconds": 38.207481}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1617262.78, day=-1617262.78, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1297.87, unrealized=-1082971.74, today_pnl=-1082971.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.08, unrealized=968019.22, today_pnl=968019.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.03, unrealized=-2058645.38, today_pnl=-2058645.38), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.22, unrealized=178791.39, today_pnl=178791.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2395.73, unrealized=377543.73, today_pnl=377543.73)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 14, 198245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.209456+05:30", "timestamp": 1755781154.209456}}}
{"text": "2025-08-21 18:29:14.211 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1617262.78, day=-1617262.78, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1297.87, unrealized=-1082971.74, today_pnl=-1082971.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.08, unrealized=968019.22, today_pnl=968019.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.03, unrealized=-2058645.38, today_pnl=-2058645.38), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.22, unrealized=178791.39, today_pnl=178791.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2395.73, unrealized=377543.73, today_pnl=377543.73)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 14, 198245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:38.209547", "seconds": 38.209547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1617262.78, day=-1617262.78, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1297.87, unrealized=-1082971.74, today_pnl=-1082971.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.08, unrealized=968019.22, today_pnl=968019.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=634.03, unrealized=-2058645.38, today_pnl=-2058645.38), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=596.22, unrealized=178791.39, today_pnl=178791.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2395.73, unrealized=377543.73, today_pnl=377543.73)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 14, 198245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.211522+05:30", "timestamp": 1755781154.211522}}}
{"text": "2025-08-21 18:29:14.214 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1617262.78\n", "record": {"elapsed": {"repr": "0:00:38.212403", "seconds": 38.212403}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1617262.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.214378+05:30", "timestamp": 1755781154.214378}}}
{"text": "2025-08-21 18:29:14.217 | INFO     | app.routes.data:pnl:71 - PnL data returned: True\n", "record": {"elapsed": {"repr": "0:00:38.215110", "seconds": 38.21511}, "exception": null, "extra": {}, "file": {"name": "data.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\routes\\data.py"}, "function": "pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 71, "message": "PnL data returned: True", "module": "data", "name": "app.routes.data", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 23196, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:29:14.217085+05:30", "timestamp": 1755781154.217085}}}
{"text": "2025-08-21 18:29:14.221 | INFO     | app.main:add_trace_id:47 - Request completed - Method: GET, Path: /pnl, Status: 200, Trace ID: c3adce90-0a54-4dc7-9051-bdabccfa3ef1\n", "record": {"elapsed": {"repr": "0:00:38.219915", "seconds": 38.219915}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 47, "message": "Request completed - Method: GET, Path: /pnl, Status: 200, Trace ID: c3adce90-0a54-4dc7-9051-bdabccfa3ef1", "module": "main", "name": "app.main", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:14.221890+05:30", "timestamp": 1755781154.22189}}}
{"text": "2025-08-21 18:29:14.383 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.381523", "seconds": 38.381523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:14.383498+05:30", "timestamp": 1755781154.383498}}}
{"text": "2025-08-21 18:29:14.384 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.382863", "seconds": 38.382863}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:14.384838+05:30", "timestamp": 1755781154.384838}}}
{"text": "2025-08-21 18:29:14.385 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.383805", "seconds": 38.383805}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:14.385780+05:30", "timestamp": 1755781154.38578}}}
{"text": "2025-08-21 18:29:14.387 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.385064", "seconds": 38.385064}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:14.387039+05:30", "timestamp": 1755781154.387039}}}
{"text": "2025-08-21 18:29:14.387 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.385795", "seconds": 38.385795}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:14.387770+05:30", "timestamp": 1755781154.38777}}}
{"text": "2025-08-21 18:29:14.388 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.386646", "seconds": 38.386646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:14.388621+05:30", "timestamp": 1755781154.388621}}}
{"text": "2025-08-21 18:29:14.389 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.387753", "seconds": 38.387753}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:14.389728+05:30", "timestamp": 1755781154.389728}}}
{"text": "2025-08-21 18:29:14.390 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.388958", "seconds": 38.388958}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:14.390933+05:30", "timestamp": 1755781154.390933}}}
{"text": "2025-08-21 18:29:14.392 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.390571", "seconds": 38.390571}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:14.392546+05:30", "timestamp": 1755781154.392546}}}
{"text": "2025-08-21 18:29:14.394 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.392505", "seconds": 38.392505}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:14.394480+05:30", "timestamp": 1755781154.39448}}}
{"text": "2025-08-21 18:29:15.164 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=56\n", "record": {"elapsed": {"repr": "0:00:39.162204", "seconds": 39.162204}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=56", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.164179+05:30", "timestamp": 1755781155.164179}}}
{"text": "2025-08-21 18:29:15.806 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:39.804340", "seconds": 39.80434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.806315+05:30", "timestamp": 1755781155.806315}}}
{"text": "2025-08-21 18:29:15.807 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:39.805802", "seconds": 39.805802}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.807777+05:30", "timestamp": 1755781155.807777}}}
{"text": "2025-08-21 18:29:15.808 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1078374.15, today=-1078374.15\n", "record": {"elapsed": {"repr": "0:00:39.806828", "seconds": 39.806828}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1078374.15, today=-1078374.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.808803+05:30", "timestamp": 1755781155.808803}}}
{"text": "2025-08-21 18:29:15.810 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=969529.8, today=969529.8\n", "record": {"elapsed": {"repr": "0:00:39.808507", "seconds": 39.808507}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=969529.8, today=969529.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.810482+05:30", "timestamp": 1755781155.810482}}}
{"text": "2025-08-21 18:29:15.811 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2045304.36, today=-2045304.36\n", "record": {"elapsed": {"repr": "0:00:39.809608", "seconds": 39.809608}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2045304.36, today=-2045304.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.811583+05:30", "timestamp": 1755781155.811583}}}
{"text": "2025-08-21 18:29:15.812 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=185415.34, today=185415.34\n", "record": {"elapsed": {"repr": "0:00:39.810688", "seconds": 39.810688}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=185415.34, today=185415.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.812663+05:30", "timestamp": 1755781155.812663}}}
{"text": "2025-08-21 18:29:15.813 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=375223.43, today=375223.43\n", "record": {"elapsed": {"repr": "0:00:39.811898", "seconds": 39.811898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=375223.43, today=375223.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.813873+05:30", "timestamp": 1755781155.813873}}}
{"text": "2025-08-21 18:29:15.814 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1593509.94, day: -1593509.94\n", "record": {"elapsed": {"repr": "0:00:39.812949", "seconds": 39.812949}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1593509.94, day: -1593509.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.814924+05:30", "timestamp": 1755781155.814924}}}
{"text": "2025-08-21 18:29:15.815 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:39.813832", "seconds": 39.813832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.815807+05:30", "timestamp": 1755781155.815807}}}
{"text": "2025-08-21 18:29:15.816 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:39.814579", "seconds": 39.814579}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.816554+05:30", "timestamp": 1755781155.816554}}}
{"text": "2025-08-21 18:29:15.817 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:39.815453", "seconds": 39.815453}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.817428+05:30", "timestamp": 1755781155.817428}}}
{"text": "2025-08-21 18:29:15.818 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:39.816256", "seconds": 39.816256}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.818231+05:30", "timestamp": 1755781155.818231}}}
{"text": "2025-08-21 18:29:15.819 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:15.808602+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:39.817197", "seconds": 39.817197}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:15.808602+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.819172+05:30", "timestamp": 1755781155.819172}}}
{"text": "2025-08-21 18:29:15.820 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1593509.94, day=-1593509.94, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1300.85, unrealized=-1078374.15, today_pnl=-1078374.15), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=407.62, unrealized=969529.8, today_pnl=969529.8), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=641.84, unrealized=-2045304.36, today_pnl=-2045304.36), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=586.72, unrealized=185415.34, today_pnl=185415.34), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2386.63, unrealized=375223.43, today_pnl=375223.43)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 15, 808602, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:39.818627", "seconds": 39.818627}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1593509.94, day=-1593509.94, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1300.85, unrealized=-1078374.15, today_pnl=-1078374.15), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=407.62, unrealized=969529.8, today_pnl=969529.8), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=641.84, unrealized=-2045304.36, today_pnl=-2045304.36), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=586.72, unrealized=185415.34, today_pnl=185415.34), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2386.63, unrealized=375223.43, today_pnl=375223.43)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 15, 808602, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.820602+05:30", "timestamp": 1755781155.820602}}}
{"text": "2025-08-21 18:29:15.823 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1593509.94, day=-1593509.94, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1300.85, unrealized=-1078374.15, today_pnl=-1078374.15), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=407.62, unrealized=969529.8, today_pnl=969529.8), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=641.84, unrealized=-2045304.36, today_pnl=-2045304.36), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=586.72, unrealized=185415.34, today_pnl=185415.34), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2386.63, unrealized=375223.43, today_pnl=375223.43)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 15, 808602, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:39.821360", "seconds": 39.82136}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1593509.94, day=-1593509.94, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1300.85, unrealized=-1078374.15, today_pnl=-1078374.15), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=407.62, unrealized=969529.8, today_pnl=969529.8), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=641.84, unrealized=-2045304.36, today_pnl=-2045304.36), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=586.72, unrealized=185415.34, today_pnl=185415.34), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2386.63, unrealized=375223.43, today_pnl=375223.43)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 15, 808602, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.823335+05:30", "timestamp": 1755781155.823335}}}
{"text": "2025-08-21 18:29:15.825 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1593509.94\n", "record": {"elapsed": {"repr": "0:00:39.823499", "seconds": 39.823499}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1593509.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.825474+05:30", "timestamp": 1755781155.825474}}}
{"text": "2025-08-21 18:29:15.827 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=57\n", "record": {"elapsed": {"repr": "0:00:39.825415", "seconds": 39.825415}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=57", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:15.827390+05:30", "timestamp": 1755781155.82739}}}
{"text": "2025-08-21 18:29:16.396 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.394747", "seconds": 40.394747}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:16.396722+05:30", "timestamp": 1755781156.396722}}}
{"text": "2025-08-21 18:29:16.397 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.395937", "seconds": 40.395937}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:16.397912+05:30", "timestamp": 1755781156.397912}}}
{"text": "2025-08-21 18:29:16.399 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.397318", "seconds": 40.397318}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:16.399293+05:30", "timestamp": 1755781156.399293}}}
{"text": "2025-08-21 18:29:16.400 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.398957", "seconds": 40.398957}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:16.400932+05:30", "timestamp": 1755781156.400932}}}
{"text": "2025-08-21 18:29:16.402 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.400158", "seconds": 40.400158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:16.402133+05:30", "timestamp": 1755781156.402133}}}
{"text": "2025-08-21 18:29:16.404 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.402274", "seconds": 40.402274}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:16.404249+05:30", "timestamp": 1755781156.404249}}}
{"text": "2025-08-21 18:29:16.405 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.403688", "seconds": 40.403688}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:16.405663+05:30", "timestamp": 1755781156.405663}}}
{"text": "2025-08-21 18:29:16.407 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.405696", "seconds": 40.405696}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:16.407671+05:30", "timestamp": 1755781156.407671}}}
{"text": "2025-08-21 18:29:16.409 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.407729", "seconds": 40.407729}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:16.409704+05:30", "timestamp": 1755781156.409704}}}
{"text": "2025-08-21 18:29:16.410 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.408801", "seconds": 40.408801}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:16.410776+05:30", "timestamp": 1755781156.410776}}}
{"text": "2025-08-21 18:29:17.072 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=58\n", "record": {"elapsed": {"repr": "0:00:41.070616", "seconds": 41.070616}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=58", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.072591+05:30", "timestamp": 1755781157.072591}}}
{"text": "2025-08-21 18:29:17.565 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:41.563535", "seconds": 41.563535}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.565510+05:30", "timestamp": 1755781157.56551}}}
{"text": "2025-08-21 18:29:17.567 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:41.565412", "seconds": 41.565412}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.567387+05:30", "timestamp": 1755781157.567387}}}
{"text": "2025-08-21 18:29:17.570 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1098318.55, today=-1098318.55\n", "record": {"elapsed": {"repr": "0:00:41.568327", "seconds": 41.568327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1098318.55, today=-1098318.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.570302+05:30", "timestamp": 1755781157.570302}}}
{"text": "2025-08-21 18:29:17.571 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=971179.85, today=971179.85\n", "record": {"elapsed": {"repr": "0:00:41.569896", "seconds": 41.569896}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=971179.85, today=971179.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.571871+05:30", "timestamp": 1755781157.571871}}}
{"text": "2025-08-21 18:29:17.573 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2050714.71, today=-2050714.71\n", "record": {"elapsed": {"repr": "0:00:41.571596", "seconds": 41.571596}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2050714.71, today=-2050714.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.573571+05:30", "timestamp": 1755781157.573571}}}
{"text": "2025-08-21 18:29:17.574 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=184055.6, today=184055.6\n", "record": {"elapsed": {"repr": "0:00:41.573003", "seconds": 41.573003}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=184055.6, today=184055.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.574978+05:30", "timestamp": 1755781157.574978}}}
{"text": "2025-08-21 18:29:17.576 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=372570.07, today=372570.07\n", "record": {"elapsed": {"repr": "0:00:41.574040", "seconds": 41.57404}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=372570.07, today=372570.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.576015+05:30", "timestamp": 1755781157.576015}}}
{"text": "2025-08-21 18:29:17.578 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1621227.74, day: -1621227.74\n", "record": {"elapsed": {"repr": "0:00:41.576277", "seconds": 41.576277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1621227.74, day: -1621227.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.578252+05:30", "timestamp": 1755781157.578252}}}
{"text": "2025-08-21 18:29:17.579 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:41.577967", "seconds": 41.577967}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.579942+05:30", "timestamp": 1755781157.579942}}}
{"text": "2025-08-21 18:29:17.581 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:41.579826", "seconds": 41.579826}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.581801+05:30", "timestamp": 1755781157.581801}}}
{"text": "2025-08-21 18:29:17.585 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:41.583476", "seconds": 41.583476}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.585451+05:30", "timestamp": 1755781157.585451}}}
{"text": "2025-08-21 18:29:17.592 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:41.590429", "seconds": 41.590429}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.592404+05:30", "timestamp": 1755781157.592404}}}
{"text": "2025-08-21 18:29:17.593 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:17.569932+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:41.592003", "seconds": 41.592003}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:17.569932+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.593978+05:30", "timestamp": 1755781157.593978}}}
{"text": "2025-08-21 18:29:17.595 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1621227.74, day=-1621227.74, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1287.92, unrealized=-1098318.55, today_pnl=-1098318.55), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=404.92, unrealized=971179.85, today_pnl=971179.85), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=638.67, unrealized=-2050714.71, today_pnl=-2050714.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=588.67, unrealized=184055.6, today_pnl=184055.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2376.23, unrealized=372570.07, today_pnl=372570.07)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 17, 569932, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:41.593906", "seconds": 41.593906}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1621227.74, day=-1621227.74, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1287.92, unrealized=-1098318.55, today_pnl=-1098318.55), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=404.92, unrealized=971179.85, today_pnl=971179.85), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=638.67, unrealized=-2050714.71, today_pnl=-2050714.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=588.67, unrealized=184055.6, today_pnl=184055.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2376.23, unrealized=372570.07, today_pnl=372570.07)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 17, 569932, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.595881+05:30", "timestamp": 1755781157.595881}}}
{"text": "2025-08-21 18:29:17.598 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1621227.74, day=-1621227.74, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1287.92, unrealized=-1098318.55, today_pnl=-1098318.55), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=404.92, unrealized=971179.85, today_pnl=971179.85), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=638.67, unrealized=-2050714.71, today_pnl=-2050714.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=588.67, unrealized=184055.6, today_pnl=184055.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2376.23, unrealized=372570.07, today_pnl=372570.07)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 17, 569932, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:41.596733", "seconds": 41.596733}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1621227.74, day=-1621227.74, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1287.92, unrealized=-1098318.55, today_pnl=-1098318.55), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=404.92, unrealized=971179.85, today_pnl=971179.85), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=638.67, unrealized=-2050714.71, today_pnl=-2050714.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=588.67, unrealized=184055.6, today_pnl=184055.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2376.23, unrealized=372570.07, today_pnl=372570.07)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 17, 569932, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.598708+05:30", "timestamp": 1755781157.598708}}}
{"text": "2025-08-21 18:29:17.600 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1621227.74\n", "record": {"elapsed": {"repr": "0:00:41.598955", "seconds": 41.598955}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1621227.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.600930+05:30", "timestamp": 1755781157.60093}}}
{"text": "2025-08-21 18:29:17.603 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=59\n", "record": {"elapsed": {"repr": "0:00:41.601431", "seconds": 41.601431}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=59", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:17.603406+05:30", "timestamp": 1755781157.603406}}}
{"text": "2025-08-21 18:29:18.412 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.410157", "seconds": 42.410157}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:18.412132+05:30", "timestamp": 1755781158.412132}}}
{"text": "2025-08-21 18:29:18.413 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.411324", "seconds": 42.411324}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:18.413299+05:30", "timestamp": 1755781158.413299}}}
{"text": "2025-08-21 18:29:18.413 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.412000", "seconds": 42.412}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:18.413975+05:30", "timestamp": 1755781158.413975}}}
{"text": "2025-08-21 18:29:18.414 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.412933", "seconds": 42.412933}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:18.414908+05:30", "timestamp": 1755781158.414908}}}
{"text": "2025-08-21 18:29:18.415 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.414002", "seconds": 42.414002}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:18.415977+05:30", "timestamp": 1755781158.415977}}}
{"text": "2025-08-21 18:29:18.416 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.414911", "seconds": 42.414911}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:18.416886+05:30", "timestamp": 1755781158.416886}}}
{"text": "2025-08-21 18:29:18.417 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.415722", "seconds": 42.415722}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:18.417697+05:30", "timestamp": 1755781158.417697}}}
{"text": "2025-08-21 18:29:18.419 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.417131", "seconds": 42.417131}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:18.419106+05:30", "timestamp": 1755781158.419106}}}
{"text": "2025-08-21 18:29:18.420 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.418311", "seconds": 42.418311}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:18.420286+05:30", "timestamp": 1755781158.420286}}}
{"text": "2025-08-21 18:29:18.422 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.420692", "seconds": 42.420692}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:18.422667+05:30", "timestamp": 1755781158.422667}}}
{"text": "2025-08-21 18:29:18.946 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=60\n", "record": {"elapsed": {"repr": "0:00:42.944766", "seconds": 42.944766}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=60", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:18.946741+05:30", "timestamp": 1755781158.946741}}}
{"text": "2025-08-21 18:29:19.230 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:43.228665", "seconds": 43.228665}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.230640+05:30", "timestamp": 1755781159.23064}}}
{"text": "2025-08-21 18:29:19.231 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:43.229748", "seconds": 43.229748}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.231723+05:30", "timestamp": 1755781159.231723}}}
{"text": "2025-08-21 18:29:19.232 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1116811.54, today=-1116811.54\n", "record": {"elapsed": {"repr": "0:00:43.230883", "seconds": 43.230883}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1116811.54, today=-1116811.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.232858+05:30", "timestamp": 1755781159.232858}}}
{"text": "2025-08-21 18:29:19.233 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=967009.62, today=967009.62\n", "record": {"elapsed": {"repr": "0:00:43.231975", "seconds": 43.231975}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=967009.62, today=967009.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.233950+05:30", "timestamp": 1755781159.23395}}}
{"text": "2025-08-21 18:29:19.234 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2060862.24, today=-2060862.24\n", "record": {"elapsed": {"repr": "0:00:43.232812", "seconds": 43.232812}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2060862.24, today=-2060862.24", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.234787+05:30", "timestamp": 1755781159.234787}}}
{"text": "2025-08-21 18:29:19.235 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=187015.7, today=187015.7\n", "record": {"elapsed": {"repr": "0:00:43.233923", "seconds": 43.233923}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=187015.7, today=187015.7", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.235898+05:30", "timestamp": 1755781159.235898}}}
{"text": "2025-08-21 18:29:19.237 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=381813.83, today=381813.83\n", "record": {"elapsed": {"repr": "0:00:43.235235", "seconds": 43.235235}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=381813.83, today=381813.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.237210+05:30", "timestamp": 1755781159.23721}}}
{"text": "2025-08-21 18:29:19.238 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1641834.63, day: -1641834.63\n", "record": {"elapsed": {"repr": "0:00:43.236941", "seconds": 43.236941}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1641834.63, day: -1641834.63", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.238916+05:30", "timestamp": 1755781159.238916}}}
{"text": "2025-08-21 18:29:19.240 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:43.238420", "seconds": 43.23842}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.240395+05:30", "timestamp": 1755781159.240395}}}
{"text": "2025-08-21 18:29:19.241 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:43.239528", "seconds": 43.239528}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.241503+05:30", "timestamp": 1755781159.241503}}}
{"text": "2025-08-21 18:29:19.244 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:43.242107", "seconds": 43.242107}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.244082+05:30", "timestamp": 1755781159.244082}}}
{"text": "2025-08-21 18:29:19.245 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:43.243292", "seconds": 43.243292}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.245267+05:30", "timestamp": 1755781159.245267}}}
{"text": "2025-08-21 18:29:19.247 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:19.232721+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:43.245330", "seconds": 43.24533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:19.232721+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.247305+05:30", "timestamp": 1755781159.247305}}}
{"text": "2025-08-21 18:29:19.251 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1641834.63, day=-1641834.63, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1275.94, unrealized=-1116811.54, today_pnl=-1116811.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=411.73, unrealized=967009.62, today_pnl=967009.62), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=632.73, unrealized=-2060862.24, today_pnl=-2060862.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=584.42, unrealized=187015.7, today_pnl=187015.7), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2412.48, unrealized=381813.83, today_pnl=381813.83)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 19, 232721, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:43.249832", "seconds": 43.249832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1641834.63, day=-1641834.63, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1275.94, unrealized=-1116811.54, today_pnl=-1116811.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=411.73, unrealized=967009.62, today_pnl=967009.62), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=632.73, unrealized=-2060862.24, today_pnl=-2060862.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=584.42, unrealized=187015.7, today_pnl=187015.7), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2412.48, unrealized=381813.83, today_pnl=381813.83)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 19, 232721, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.251807+05:30", "timestamp": 1755781159.251807}}}
{"text": "2025-08-21 18:29:19.254 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1641834.63, day=-1641834.63, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1275.94, unrealized=-1116811.54, today_pnl=-1116811.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=411.73, unrealized=967009.62, today_pnl=967009.62), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=632.73, unrealized=-2060862.24, today_pnl=-2060862.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=584.42, unrealized=187015.7, today_pnl=187015.7), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2412.48, unrealized=381813.83, today_pnl=381813.83)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 19, 232721, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:43.252585", "seconds": 43.252585}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1641834.63, day=-1641834.63, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1275.94, unrealized=-1116811.54, today_pnl=-1116811.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=411.73, unrealized=967009.62, today_pnl=967009.62), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=632.73, unrealized=-2060862.24, today_pnl=-2060862.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=584.42, unrealized=187015.7, today_pnl=187015.7), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2412.48, unrealized=381813.83, today_pnl=381813.83)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 19, 232721, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.254560+05:30", "timestamp": 1755781159.25456}}}
{"text": "2025-08-21 18:29:19.257 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1641834.63\n", "record": {"elapsed": {"repr": "0:00:43.255453", "seconds": 43.255453}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1641834.63", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.257428+05:30", "timestamp": 1755781159.257428}}}
{"text": "2025-08-21 18:29:19.259 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=61\n", "record": {"elapsed": {"repr": "0:00:43.257963", "seconds": 43.257963}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=61", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:19.259938+05:30", "timestamp": 1755781159.259938}}}
{"text": "2025-08-21 18:29:20.424 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.422625", "seconds": 44.422625}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:20.424600+05:30", "timestamp": 1755781160.4246}}}
{"text": "2025-08-21 18:29:20.425 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.423590", "seconds": 44.42359}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:20.425565+05:30", "timestamp": 1755781160.425565}}}
{"text": "2025-08-21 18:29:20.426 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.424257", "seconds": 44.424257}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:20.426232+05:30", "timestamp": 1755781160.426232}}}
{"text": "2025-08-21 18:29:20.426 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.424968", "seconds": 44.424968}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:20.426943+05:30", "timestamp": 1755781160.426943}}}
{"text": "2025-08-21 18:29:20.427 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.425660", "seconds": 44.42566}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:20.427635+05:30", "timestamp": 1755781160.427635}}}
{"text": "2025-08-21 18:29:20.428 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.426553", "seconds": 44.426553}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:20.428528+05:30", "timestamp": 1755781160.428528}}}
{"text": "2025-08-21 18:29:20.429 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.427278", "seconds": 44.427278}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:20.429253+05:30", "timestamp": 1755781160.429253}}}
{"text": "2025-08-21 18:29:20.429 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.427998", "seconds": 44.427998}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:20.429973+05:30", "timestamp": 1755781160.429973}}}
{"text": "2025-08-21 18:29:20.430 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.428823", "seconds": 44.428823}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:20.430798+05:30", "timestamp": 1755781160.430798}}}
{"text": "2025-08-21 18:29:20.431 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.429788", "seconds": 44.429788}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:20.431763+05:30", "timestamp": 1755781160.431763}}}
{"text": "2025-08-21 18:29:20.750 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=62\n", "record": {"elapsed": {"repr": "0:00:44.748789", "seconds": 44.748789}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=62", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:20.750764+05:30", "timestamp": 1755781160.750764}}}
{"text": "2025-08-21 18:29:21.225 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:45.223520", "seconds": 45.22352}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.225495+05:30", "timestamp": 1755781161.225495}}}
{"text": "2025-08-21 18:29:21.226 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:45.224410", "seconds": 45.22441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.226385+05:30", "timestamp": 1755781161.226385}}}
{"text": "2025-08-21 18:29:21.227 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1118303.61, today=-1118303.61\n", "record": {"elapsed": {"repr": "0:00:45.225036", "seconds": 45.225036}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1118303.61, today=-1118303.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.227011+05:30", "timestamp": 1755781161.227011}}}
{"text": "2025-08-21 18:29:21.227 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=971750.45, today=971750.45\n", "record": {"elapsed": {"repr": "0:00:45.225678", "seconds": 45.225678}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=971750.45, today=971750.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.227653+05:30", "timestamp": 1755781161.227653}}}
{"text": "2025-08-21 18:29:21.228 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2082101.15, today=-2082101.15\n", "record": {"elapsed": {"repr": "0:00:45.226212", "seconds": 45.226212}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2082101.15, today=-2082101.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.228187+05:30", "timestamp": 1755781161.228187}}}
{"text": "2025-08-21 18:29:21.228 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=194561.03, today=194561.03\n", "record": {"elapsed": {"repr": "0:00:45.227010", "seconds": 45.22701}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=194561.03, today=194561.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.228985+05:30", "timestamp": 1755781161.228985}}}
{"text": "2025-08-21 18:29:21.229 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=373199.48, today=373199.48\n", "record": {"elapsed": {"repr": "0:00:45.227836", "seconds": 45.227836}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=373199.48, today=373199.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.229811+05:30", "timestamp": 1755781161.229811}}}
{"text": "2025-08-21 18:29:21.230 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1660893.8, day: -1660893.8\n", "record": {"elapsed": {"repr": "0:00:45.228450", "seconds": 45.22845}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1660893.8, day: -1660893.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.230425+05:30", "timestamp": 1755781161.230425}}}
{"text": "2025-08-21 18:29:21.231 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:45.229305", "seconds": 45.229305}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.231280+05:30", "timestamp": 1755781161.23128}}}
{"text": "2025-08-21 18:29:21.231 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:45.230023", "seconds": 45.230023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.231998+05:30", "timestamp": 1755781161.231998}}}
{"text": "2025-08-21 18:29:21.232 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:45.230671", "seconds": 45.230671}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.232646+05:30", "timestamp": 1755781161.232646}}}
{"text": "2025-08-21 18:29:21.233 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:45.231508", "seconds": 45.231508}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.233483+05:30", "timestamp": 1755781161.233483}}}
{"text": "2025-08-21 18:29:21.234 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:21.226917+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:45.232634", "seconds": 45.232634}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:21.226917+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.234609+05:30", "timestamp": 1755781161.234609}}}
{"text": "2025-08-21 18:29:21.235 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1660893.8, day=-1660893.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1274.97, unrealized=-1118303.61, today_pnl=-1118303.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=403.99, unrealized=971750.45, today_pnl=971750.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=620.3, unrealized=-2082101.15, today_pnl=-2082101.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.6, unrealized=194561.03, today_pnl=194561.03), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2378.7, unrealized=373199.48, today_pnl=373199.48)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 21, 226917, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:45.233546", "seconds": 45.233546}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1660893.8, day=-1660893.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1274.97, unrealized=-1118303.61, today_pnl=-1118303.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=403.99, unrealized=971750.45, today_pnl=971750.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=620.3, unrealized=-2082101.15, today_pnl=-2082101.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.6, unrealized=194561.03, today_pnl=194561.03), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2378.7, unrealized=373199.48, today_pnl=373199.48)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 21, 226917, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.235521+05:30", "timestamp": 1755781161.235521}}}
{"text": "2025-08-21 18:29:21.236 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1660893.8, day=-1660893.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1274.97, unrealized=-1118303.61, today_pnl=-1118303.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=403.99, unrealized=971750.45, today_pnl=971750.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=620.3, unrealized=-2082101.15, today_pnl=-2082101.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.6, unrealized=194561.03, today_pnl=194561.03), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2378.7, unrealized=373199.48, today_pnl=373199.48)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 21, 226917, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:45.234617", "seconds": 45.234617}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1660893.8, day=-1660893.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1274.97, unrealized=-1118303.61, today_pnl=-1118303.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=403.99, unrealized=971750.45, today_pnl=971750.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=620.3, unrealized=-2082101.15, today_pnl=-2082101.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.6, unrealized=194561.03, today_pnl=194561.03), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2378.7, unrealized=373199.48, today_pnl=373199.48)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 21, 226917, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.236592+05:30", "timestamp": 1755781161.236592}}}
{"text": "2025-08-21 18:29:21.237 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1660893.80\n", "record": {"elapsed": {"repr": "0:00:45.235673", "seconds": 45.235673}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1660893.80", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.237648+05:30", "timestamp": 1755781161.237648}}}
{"text": "2025-08-21 18:29:21.238 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=63\n", "record": {"elapsed": {"repr": "0:00:45.236819", "seconds": 45.236819}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=63", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.238794+05:30", "timestamp": 1755781161.238794}}}
{"text": "2025-08-21 18:29:21.435 | DEBUG    | app.ws.live:emit_delta:408 - Emitted trades delta: seq=64\n", "record": {"elapsed": {"repr": "0:00:45.433535", "seconds": 45.433535}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted trades delta: seq=64", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:21.435510+05:30", "timestamp": 1755781161.43551}}}
{"text": "2025-08-21 18:29:22.433 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.431032", "seconds": 46.431032}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:22.433007+05:30", "timestamp": 1755781162.433007}}}
{"text": "2025-08-21 18:29:22.433 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.431787", "seconds": 46.431787}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:22.433762+05:30", "timestamp": 1755781162.433762}}}
{"text": "2025-08-21 18:29:22.434 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.432433", "seconds": 46.432433}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:22.434408+05:30", "timestamp": 1755781162.434408}}}
{"text": "2025-08-21 18:29:22.435 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.433029", "seconds": 46.433029}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:22.435004+05:30", "timestamp": 1755781162.435004}}}
{"text": "2025-08-21 18:29:22.435 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.433752", "seconds": 46.433752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:22.435727+05:30", "timestamp": 1755781162.435727}}}
{"text": "2025-08-21 18:29:22.436 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.434548", "seconds": 46.434548}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:22.436523+05:30", "timestamp": 1755781162.436523}}}
{"text": "2025-08-21 18:29:22.437 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.435382", "seconds": 46.435382}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:22.437357+05:30", "timestamp": 1755781162.437357}}}
{"text": "2025-08-21 18:29:22.438 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.436515", "seconds": 46.436515}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:22.438490+05:30", "timestamp": 1755781162.43849}}}
{"text": "2025-08-21 18:29:22.439 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.437144", "seconds": 46.437144}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:22.439119+05:30", "timestamp": 1755781162.439119}}}
{"text": "2025-08-21 18:29:22.440 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.438029", "seconds": 46.438029}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:22.440004+05:30", "timestamp": 1755781162.440004}}}
{"text": "2025-08-21 18:29:22.458 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=65\n", "record": {"elapsed": {"repr": "0:00:46.456343", "seconds": 46.456343}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=65", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:22.458318+05:30", "timestamp": 1755781162.458318}}}
{"text": "2025-08-21 18:29:23.188 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:47.186463", "seconds": 47.186463}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.188438+05:30", "timestamp": 1755781163.188438}}}
{"text": "2025-08-21 18:29:23.189 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:47.187173", "seconds": 47.187173}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.189148+05:30", "timestamp": 1755781163.189148}}}
{"text": "2025-08-21 18:29:23.189 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1089076.25, today=-1089076.25\n", "record": {"elapsed": {"repr": "0:00:47.187845", "seconds": 47.187845}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1089076.25, today=-1089076.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.189820+05:30", "timestamp": 1755781163.18982}}}
{"text": "2025-08-21 18:29:23.190 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=972536.34, today=972536.34\n", "record": {"elapsed": {"repr": "0:00:47.188490", "seconds": 47.18849}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=972536.34, today=972536.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.190465+05:30", "timestamp": 1755781163.190465}}}
{"text": "2025-08-21 18:29:23.191 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2089294.4, today=-2089294.4\n", "record": {"elapsed": {"repr": "0:00:47.189050", "seconds": 47.18905}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2089294.4, today=-2089294.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.191025+05:30", "timestamp": 1755781163.191025}}}
{"text": "2025-08-21 18:29:23.191 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=200046.54, today=200046.54\n", "record": {"elapsed": {"repr": "0:00:47.189792", "seconds": 47.189792}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=200046.54, today=200046.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.191767+05:30", "timestamp": 1755781163.191767}}}
{"text": "2025-08-21 18:29:23.192 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=364636.3, today=364636.3\n", "record": {"elapsed": {"repr": "0:00:47.190491", "seconds": 47.190491}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=364636.3, today=364636.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.192466+05:30", "timestamp": 1755781163.192466}}}
{"text": "2025-08-21 18:29:23.193 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1641151.47, day: -1641151.47\n", "record": {"elapsed": {"repr": "0:00:47.191034", "seconds": 47.191034}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1641151.47, day: -1641151.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.193009+05:30", "timestamp": 1755781163.193009}}}
{"text": "2025-08-21 18:29:23.193 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:47.191808", "seconds": 47.191808}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.193783+05:30", "timestamp": 1755781163.193783}}}
{"text": "2025-08-21 18:29:23.194 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:47.192723", "seconds": 47.192723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.194698+05:30", "timestamp": 1755781163.194698}}}
{"text": "2025-08-21 18:29:23.195 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:47.193336", "seconds": 47.193336}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.195311+05:30", "timestamp": 1755781163.195311}}}
{"text": "2025-08-21 18:29:23.195 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:47.193966", "seconds": 47.193966}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.195941+05:30", "timestamp": 1755781163.195941}}}
{"text": "2025-08-21 18:29:23.196 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:23.189721+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:47.194559", "seconds": 47.194559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:23.189721+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.196534+05:30", "timestamp": 1755781163.196534}}}
{"text": "2025-08-21 18:29:23.197 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1641151.47, day=-1641151.47, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1293.91, unrealized=-1089076.25, today_pnl=-1089076.25), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=402.71, unrealized=972536.34, today_pnl=972536.34), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.1, unrealized=-2089294.4, today_pnl=-2089294.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=565.73, unrealized=200046.54, today_pnl=200046.54), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2345.12, unrealized=364636.3, today_pnl=364636.3)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 23, 189721, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:47.195425", "seconds": 47.195425}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1641151.47, day=-1641151.47, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1293.91, unrealized=-1089076.25, today_pnl=-1089076.25), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=402.71, unrealized=972536.34, today_pnl=972536.34), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.1, unrealized=-2089294.4, today_pnl=-2089294.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=565.73, unrealized=200046.54, today_pnl=200046.54), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2345.12, unrealized=364636.3, today_pnl=364636.3)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 23, 189721, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.197400+05:30", "timestamp": 1755781163.1974}}}
{"text": "2025-08-21 18:29:23.198 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1641151.47, day=-1641151.47, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1293.91, unrealized=-1089076.25, today_pnl=-1089076.25), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=402.71, unrealized=972536.34, today_pnl=972536.34), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.1, unrealized=-2089294.4, today_pnl=-2089294.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=565.73, unrealized=200046.54, today_pnl=200046.54), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2345.12, unrealized=364636.3, today_pnl=364636.3)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 23, 189721, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:47.196517", "seconds": 47.196517}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1641151.47, day=-1641151.47, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1293.91, unrealized=-1089076.25, today_pnl=-1089076.25), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=402.71, unrealized=972536.34, today_pnl=972536.34), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.1, unrealized=-2089294.4, today_pnl=-2089294.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=565.73, unrealized=200046.54, today_pnl=200046.54), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2345.12, unrealized=364636.3, today_pnl=364636.3)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 23, 189721, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.198492+05:30", "timestamp": 1755781163.198492}}}
{"text": "2025-08-21 18:29:23.199 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1641151.47\n", "record": {"elapsed": {"repr": "0:00:47.197828", "seconds": 47.197828}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1641151.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.199803+05:30", "timestamp": 1755781163.199803}}}
{"text": "2025-08-21 18:29:23.200 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=66\n", "record": {"elapsed": {"repr": "0:00:47.198780", "seconds": 47.19878}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=66", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:23.200755+05:30", "timestamp": 1755781163.200755}}}
{"text": "2025-08-21 18:29:24.440 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.438991", "seconds": 48.438991}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:24.440966+05:30", "timestamp": 1755781164.440966}}}
{"text": "2025-08-21 18:29:24.441 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.439824", "seconds": 48.439824}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:24.441799+05:30", "timestamp": 1755781164.441799}}}
{"text": "2025-08-21 18:29:24.442 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.440595", "seconds": 48.440595}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:24.442570+05:30", "timestamp": 1755781164.44257}}}
{"text": "2025-08-21 18:29:24.443 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.441273", "seconds": 48.441273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:24.443248+05:30", "timestamp": 1755781164.443248}}}
{"text": "2025-08-21 18:29:24.444 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.442135", "seconds": 48.442135}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:24.444110+05:30", "timestamp": 1755781164.44411}}}
{"text": "2025-08-21 18:29:24.444 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.442700", "seconds": 48.4427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:24.444675+05:30", "timestamp": 1755781164.444675}}}
{"text": "2025-08-21 18:29:24.445 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.443253", "seconds": 48.443253}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:24.445228+05:30", "timestamp": 1755781164.445228}}}
{"text": "2025-08-21 18:29:24.445 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.443790", "seconds": 48.44379}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:24.445765+05:30", "timestamp": 1755781164.445765}}}
{"text": "2025-08-21 18:29:24.446 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.444371", "seconds": 48.444371}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:24.446346+05:30", "timestamp": 1755781164.446346}}}
{"text": "2025-08-21 18:29:24.447 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.445293", "seconds": 48.445293}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:24.447268+05:30", "timestamp": 1755781164.447268}}}
{"text": "2025-08-21 18:29:25.131 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:49.129259", "seconds": 49.129259}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.131234+05:30", "timestamp": 1755781165.131234}}}
{"text": "2025-08-21 18:29:25.131 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:49.129919", "seconds": 49.129919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.131894+05:30", "timestamp": 1755781165.131894}}}
{"text": "2025-08-21 18:29:25.132 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1111647.59, today=-1111647.59\n", "record": {"elapsed": {"repr": "0:00:49.130486", "seconds": 49.130486}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1111647.59, today=-1111647.59", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.132461+05:30", "timestamp": 1755781165.132461}}}
{"text": "2025-08-21 18:29:25.132 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=967896.13, today=967896.13\n", "record": {"elapsed": {"repr": "0:00:49.130966", "seconds": 49.130966}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=967896.13, today=967896.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.132941+05:30", "timestamp": 1755781165.132941}}}
{"text": "2025-08-21 18:29:25.133 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2088164.07, today=-2088164.07\n", "record": {"elapsed": {"repr": "0:00:49.131517", "seconds": 49.131517}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2088164.07, today=-2088164.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.133492+05:30", "timestamp": 1755781165.133492}}}
{"text": "2025-08-21 18:29:25.134 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=202111.09, today=202111.09\n", "record": {"elapsed": {"repr": "0:00:49.132086", "seconds": 49.132086}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=202111.09, today=202111.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.134061+05:30", "timestamp": 1755781165.134061}}}
{"text": "2025-08-21 18:29:25.134 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=359591.23, today=359591.23\n", "record": {"elapsed": {"repr": "0:00:49.132638", "seconds": 49.132638}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=359591.23, today=359591.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.134613+05:30", "timestamp": 1755781165.134613}}}
{"text": "2025-08-21 18:29:25.135 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1670213.21, day: -1670213.21\n", "record": {"elapsed": {"repr": "0:00:49.133221", "seconds": 49.133221}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1670213.21, day: -1670213.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.135196+05:30", "timestamp": 1755781165.135196}}}
{"text": "2025-08-21 18:29:25.135 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:49.133822", "seconds": 49.133822}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.135797+05:30", "timestamp": 1755781165.135797}}}
{"text": "2025-08-21 18:29:25.136 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:49.134410", "seconds": 49.13441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.136385+05:30", "timestamp": 1755781165.136385}}}
{"text": "2025-08-21 18:29:25.137 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:49.135056", "seconds": 49.135056}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.137031+05:30", "timestamp": 1755781165.137031}}}
{"text": "2025-08-21 18:29:25.137 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:49.135636", "seconds": 49.135636}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.137611+05:30", "timestamp": 1755781165.137611}}}
{"text": "2025-08-21 18:29:25.138 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:25.132376+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:49.136255", "seconds": 49.136255}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:25.132376+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.138230+05:30", "timestamp": 1755781165.13823}}}
{"text": "2025-08-21 18:29:25.139 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1670213.21, day=-1670213.21, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1279.28, unrealized=-1111647.59, today_pnl=-1111647.59), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.28, unrealized=967896.13, today_pnl=967896.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.76, unrealized=-2088164.07, today_pnl=-2088164.07), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=562.77, unrealized=202111.09, today_pnl=202111.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2325.33, unrealized=359591.23, today_pnl=359591.23)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 25, 132376, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:49.137156", "seconds": 49.137156}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1670213.21, day=-1670213.21, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1279.28, unrealized=-1111647.59, today_pnl=-1111647.59), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.28, unrealized=967896.13, today_pnl=967896.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.76, unrealized=-2088164.07, today_pnl=-2088164.07), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=562.77, unrealized=202111.09, today_pnl=202111.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2325.33, unrealized=359591.23, today_pnl=359591.23)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 25, 132376, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.139131+05:30", "timestamp": 1755781165.139131}}}
{"text": "2025-08-21 18:29:25.140 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1670213.21, day=-1670213.21, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1279.28, unrealized=-1111647.59, today_pnl=-1111647.59), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.28, unrealized=967896.13, today_pnl=967896.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.76, unrealized=-2088164.07, today_pnl=-2088164.07), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=562.77, unrealized=202111.09, today_pnl=202111.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2325.33, unrealized=359591.23, today_pnl=359591.23)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 25, 132376, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:49.138523", "seconds": 49.138523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1670213.21, day=-1670213.21, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1279.28, unrealized=-1111647.59, today_pnl=-1111647.59), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=410.28, unrealized=967896.13, today_pnl=967896.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.76, unrealized=-2088164.07, today_pnl=-2088164.07), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=562.77, unrealized=202111.09, today_pnl=202111.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2325.33, unrealized=359591.23, today_pnl=359591.23)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 25, 132376, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.140498+05:30", "timestamp": 1755781165.140498}}}
{"text": "2025-08-21 18:29:25.141 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1670213.21\n", "record": {"elapsed": {"repr": "0:00:49.139360", "seconds": 49.13936}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1670213.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.141335+05:30", "timestamp": 1755781165.141335}}}
{"text": "2025-08-21 18:29:25.142 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=67\n", "record": {"elapsed": {"repr": "0:00:49.140220", "seconds": 49.14022}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=67", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.142195+05:30", "timestamp": 1755781165.142195}}}
{"text": "2025-08-21 18:29:25.849 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=68\n", "record": {"elapsed": {"repr": "0:00:49.847629", "seconds": 49.847629}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=68", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:25.849604+05:30", "timestamp": 1755781165.849604}}}
{"text": "2025-08-21 18:29:26.298 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.296420", "seconds": 50.29642}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.298395+05:30", "timestamp": 1755781166.298395}}}
{"text": "2025-08-21 18:29:26.315 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.313373", "seconds": 50.313373}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.315348+05:30", "timestamp": 1755781166.315348}}}
{"text": "2025-08-21 18:29:26.351 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.349902", "seconds": 50.349902}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.351877+05:30", "timestamp": 1755781166.351877}}}
{"text": "2025-08-21 18:29:26.353 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.351519", "seconds": 50.351519}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.353494+05:30", "timestamp": 1755781166.353494}}}
{"text": "2025-08-21 18:29:26.399 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.397506", "seconds": 50.397506}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.399481+05:30", "timestamp": 1755781166.399481}}}
{"text": "2025-08-21 18:29:26.400 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.398690", "seconds": 50.39869}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.400665+05:30", "timestamp": 1755781166.400665}}}
{"text": "2025-08-21 18:29:26.442 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.440288", "seconds": 50.440288}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.442263+05:30", "timestamp": 1755781166.442263}}}
{"text": "2025-08-21 18:29:26.443 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.441462", "seconds": 50.441462}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.443437+05:30", "timestamp": 1755781166.443437}}}
{"text": "2025-08-21 18:29:26.448 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.446519", "seconds": 50.446519}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:26.448494+05:30", "timestamp": 1755781166.448494}}}
{"text": "2025-08-21 18:29:26.449 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.447735", "seconds": 50.447735}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:26.449710+05:30", "timestamp": 1755781166.44971}}}
{"text": "2025-08-21 18:29:26.450 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.448555", "seconds": 50.448555}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:26.450530+05:30", "timestamp": 1755781166.45053}}}
{"text": "2025-08-21 18:29:26.451 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.449346", "seconds": 50.449346}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:26.451321+05:30", "timestamp": 1755781166.451321}}}
{"text": "2025-08-21 18:29:26.451 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.449898", "seconds": 50.449898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:26.451873+05:30", "timestamp": 1755781166.451873}}}
{"text": "2025-08-21 18:29:26.452 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.450436", "seconds": 50.450436}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:26.452411+05:30", "timestamp": 1755781166.452411}}}
{"text": "2025-08-21 18:29:26.453 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.451041", "seconds": 50.451041}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:26.453016+05:30", "timestamp": 1755781166.453016}}}
{"text": "2025-08-21 18:29:26.453 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.451640", "seconds": 50.45164}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:26.453615+05:30", "timestamp": 1755781166.453615}}}
{"text": "2025-08-21 18:29:26.454 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.452303", "seconds": 50.452303}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:26.454278+05:30", "timestamp": 1755781166.454278}}}
{"text": "2025-08-21 18:29:26.454 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.452959", "seconds": 50.452959}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:26.454934+05:30", "timestamp": 1755781166.454934}}}
{"text": "2025-08-21 18:29:26.459 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.457983", "seconds": 50.457983}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.459958+05:30", "timestamp": 1755781166.459958}}}
{"text": "2025-08-21 18:29:26.479 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.477918", "seconds": 50.477918}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.479893+05:30", "timestamp": 1755781166.479893}}}
{"text": "2025-08-21 18:29:26.498 | DEBUG    | app.ws.live:emit_delta:408 - Emitted holdings delta: seq=69\n", "record": {"elapsed": {"repr": "0:00:50.496623", "seconds": 50.496623}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted holdings delta: seq=69", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.498598+05:30", "timestamp": 1755781166.498598}}}
{"text": "2025-08-21 18:29:26.499 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.497714", "seconds": 50.497714}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.499689+05:30", "timestamp": 1755781166.499689}}}
{"text": "2025-08-21 18:29:26.528 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.526787", "seconds": 50.526787}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.528762+05:30", "timestamp": 1755781166.528762}}}
{"text": "2025-08-21 18:29:26.537 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.535755", "seconds": 50.535755}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.537730+05:30", "timestamp": 1755781166.53773}}}
{"text": "2025-08-21 18:29:26.580 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.578112", "seconds": 50.578112}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.580087+05:30", "timestamp": 1755781166.580087}}}
{"text": "2025-08-21 18:29:26.581 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.579424", "seconds": 50.579424}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.581399+05:30", "timestamp": 1755781166.581399}}}
{"text": "2025-08-21 18:29:26.609 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.607596", "seconds": 50.607596}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.609571+05:30", "timestamp": 1755781166.609571}}}
{"text": "2025-08-21 18:29:26.618 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.616142", "seconds": 50.616142}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.618117+05:30", "timestamp": 1755781166.618117}}}
{"text": "2025-08-21 18:29:26.619 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.617757", "seconds": 50.617757}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.619732+05:30", "timestamp": 1755781166.619732}}}
{"text": "2025-08-21 18:29:26.645 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.643935", "seconds": 50.643935}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.645910+05:30", "timestamp": 1755781166.64591}}}
{"text": "2025-08-21 18:29:26.662 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.660407", "seconds": 50.660407}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.662382+05:30", "timestamp": 1755781166.662382}}}
{"text": "2025-08-21 18:29:26.689 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.687095", "seconds": 50.687095}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.689070+05:30", "timestamp": 1755781166.68907}}}
{"text": "2025-08-21 18:29:26.710 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.708711", "seconds": 50.708711}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.710686+05:30", "timestamp": 1755781166.710686}}}
{"text": "2025-08-21 18:29:26.711 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.709851", "seconds": 50.709851}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.711826+05:30", "timestamp": 1755781166.711826}}}
{"text": "2025-08-21 18:29:26.734 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.732059", "seconds": 50.732059}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.734034+05:30", "timestamp": 1755781166.734034}}}
{"text": "2025-08-21 18:29:26.750 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.748549", "seconds": 50.748549}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.750524+05:30", "timestamp": 1755781166.750524}}}
{"text": "2025-08-21 18:29:26.752 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.750911", "seconds": 50.750911}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.752886+05:30", "timestamp": 1755781166.752886}}}
{"text": "2025-08-21 18:29:26.768 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.766665", "seconds": 50.766665}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.768640+05:30", "timestamp": 1755781166.76864}}}
{"text": "2025-08-21 18:29:26.784 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.782331", "seconds": 50.782331}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.784306+05:30", "timestamp": 1755781166.784306}}}
{"text": "2025-08-21 18:29:26.799 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.797628", "seconds": 50.797628}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.799603+05:30", "timestamp": 1755781166.799603}}}
{"text": "2025-08-21 18:29:26.814 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.812876", "seconds": 50.812876}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.814851+05:30", "timestamp": 1755781166.814851}}}
{"text": "2025-08-21 18:29:26.826 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.824511", "seconds": 50.824511}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.826486+05:30", "timestamp": 1755781166.826486}}}
{"text": "2025-08-21 18:29:26.849 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.847280", "seconds": 50.84728}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.849255+05:30", "timestamp": 1755781166.849255}}}
{"text": "2025-08-21 18:29:26.893 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.892022", "seconds": 50.892022}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.893997+05:30", "timestamp": 1755781166.893997}}}
{"text": "2025-08-21 18:29:26.895 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.893114", "seconds": 50.893114}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.895089+05:30", "timestamp": 1755781166.895089}}}
{"text": "2025-08-21 18:29:26.896 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.894092", "seconds": 50.894092}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.896067+05:30", "timestamp": 1755781166.896067}}}
{"text": "2025-08-21 18:29:26.950 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.948479", "seconds": 50.948479}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.950454+05:30", "timestamp": 1755781166.950454}}}
{"text": "2025-08-21 18:29:26.952 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.950971", "seconds": 50.950971}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.952946+05:30", "timestamp": 1755781166.952946}}}
{"text": "2025-08-21 18:29:26.954 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.952398", "seconds": 50.952398}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.954373+05:30", "timestamp": 1755781166.954373}}}
{"text": "2025-08-21 18:29:26.956 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.954440", "seconds": 50.95444}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.956415+05:30", "timestamp": 1755781166.956415}}}
{"text": "2025-08-21 18:29:26.985 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.983526", "seconds": 50.983526}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:26.985501+05:30", "timestamp": 1755781166.985501}}}
{"text": "2025-08-21 18:29:27.016 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.014849", "seconds": 51.014849}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.016824+05:30", "timestamp": 1755781167.016824}}}
{"text": "2025-08-21 18:29:27.031 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.029548", "seconds": 51.029548}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.031523+05:30", "timestamp": 1755781167.031523}}}
{"text": "2025-08-21 18:29:27.037 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:51.035160", "seconds": 51.03516}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.037135+05:30", "timestamp": 1755781167.037135}}}
{"text": "2025-08-21 18:29:27.038 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:51.036074", "seconds": 51.036074}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.038049+05:30", "timestamp": 1755781167.038049}}}
{"text": "2025-08-21 18:29:27.038 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1091077.67, today=-1091077.67\n", "record": {"elapsed": {"repr": "0:00:51.036798", "seconds": 51.036798}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1091077.67, today=-1091077.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.038773+05:30", "timestamp": 1755781167.038773}}}
{"text": "2025-08-21 18:29:27.039 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=968241.46, today=968241.46\n", "record": {"elapsed": {"repr": "0:00:51.037381", "seconds": 51.037381}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=968241.46, today=968241.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.039356+05:30", "timestamp": 1755781167.039356}}}
{"text": "2025-08-21 18:29:27.040 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2087258.86, today=-2087258.86\n", "record": {"elapsed": {"repr": "0:00:51.038133", "seconds": 51.038133}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2087258.86, today=-2087258.86", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.040108+05:30", "timestamp": 1755781167.040108}}}
{"text": "2025-08-21 18:29:27.040 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=194944.53, today=194944.53\n", "record": {"elapsed": {"repr": "0:00:51.038694", "seconds": 51.038694}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=194944.53, today=194944.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.040669+05:30", "timestamp": 1755781167.040669}}}
{"text": "2025-08-21 18:29:27.041 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=349743.08, today=349743.08\n", "record": {"elapsed": {"repr": "0:00:51.039244", "seconds": 51.039244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=349743.08, today=349743.08", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.041219+05:30", "timestamp": 1755781167.041219}}}
{"text": "2025-08-21 18:29:27.041 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1665407.46, day: -1665407.46\n", "record": {"elapsed": {"repr": "0:00:51.039692", "seconds": 51.039692}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1665407.46, day: -1665407.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.041667+05:30", "timestamp": 1755781167.041667}}}
{"text": "2025-08-21 18:29:27.042 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:51.040185", "seconds": 51.040185}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.042160+05:30", "timestamp": 1755781167.04216}}}
{"text": "2025-08-21 18:29:27.042 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:51.040899", "seconds": 51.040899}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.042874+05:30", "timestamp": 1755781167.042874}}}
{"text": "2025-08-21 18:29:27.043 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:51.041646", "seconds": 51.041646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.043621+05:30", "timestamp": 1755781167.043621}}}
{"text": "2025-08-21 18:29:27.044 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:51.042227", "seconds": 51.042227}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.044202+05:30", "timestamp": 1755781167.044202}}}
{"text": "2025-08-21 18:29:27.044 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:27.038622+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:51.042874", "seconds": 51.042874}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:27.038622+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.044849+05:30", "timestamp": 1755781167.044849}}}
{"text": "2025-08-21 18:29:27.045 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1665407.46, day=-1665407.46, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1292.62, unrealized=-1091077.67, today_pnl=-1091077.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=409.72, unrealized=968241.46, today_pnl=968241.46), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=617.29, unrealized=-2087258.86, today_pnl=-2087258.86), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.05, unrealized=194944.53, today_pnl=194944.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2286.71, unrealized=349743.08, today_pnl=349743.08)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 27, 38622, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:51.043903", "seconds": 51.043903}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1665407.46, day=-1665407.46, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1292.62, unrealized=-1091077.67, today_pnl=-1091077.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=409.72, unrealized=968241.46, today_pnl=968241.46), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=617.29, unrealized=-2087258.86, today_pnl=-2087258.86), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.05, unrealized=194944.53, today_pnl=194944.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2286.71, unrealized=349743.08, today_pnl=349743.08)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 27, 38622, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.045878+05:30", "timestamp": 1755781167.045878}}}
{"text": "2025-08-21 18:29:27.048 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1665407.46, day=-1665407.46, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1292.62, unrealized=-1091077.67, today_pnl=-1091077.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=409.72, unrealized=968241.46, today_pnl=968241.46), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=617.29, unrealized=-2087258.86, today_pnl=-2087258.86), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.05, unrealized=194944.53, today_pnl=194944.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2286.71, unrealized=349743.08, today_pnl=349743.08)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 27, 38622, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:51.046028", "seconds": 51.046028}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1665407.46, day=-1665407.46, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1292.62, unrealized=-1091077.67, today_pnl=-1091077.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=409.72, unrealized=968241.46, today_pnl=968241.46), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=617.29, unrealized=-2087258.86, today_pnl=-2087258.86), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=573.05, unrealized=194944.53, today_pnl=194944.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2286.71, unrealized=349743.08, today_pnl=349743.08)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 27, 38622, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.048003+05:30", "timestamp": 1755781167.048003}}}
{"text": "2025-08-21 18:29:27.049 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1665407.46\n", "record": {"elapsed": {"repr": "0:00:51.047582", "seconds": 51.047582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1665407.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.049557+05:30", "timestamp": 1755781167.049557}}}
{"text": "2025-08-21 18:29:27.051 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=70\n", "record": {"elapsed": {"repr": "0:00:51.049032", "seconds": 51.049032}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=70", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.051007+05:30", "timestamp": 1755781167.051007}}}
{"text": "2025-08-21 18:29:27.052 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.050398", "seconds": 51.050398}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.052373+05:30", "timestamp": 1755781167.052373}}}
{"text": "2025-08-21 18:29:27.065 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.063292", "seconds": 51.063292}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.065267+05:30", "timestamp": 1755781167.065267}}}
{"text": "2025-08-21 18:29:27.087 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.085671", "seconds": 51.085671}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.087646+05:30", "timestamp": 1755781167.087646}}}
{"text": "2025-08-21 18:29:27.088 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.086850", "seconds": 51.08685}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.088825+05:30", "timestamp": 1755781167.088825}}}
{"text": "2025-08-21 18:29:27.090 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.088090", "seconds": 51.08809}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.090065+05:30", "timestamp": 1755781167.090065}}}
{"text": "2025-08-21 18:29:27.123 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.121367", "seconds": 51.121367}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.123342+05:30", "timestamp": 1755781167.123342}}}
{"text": "2025-08-21 18:29:27.140 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.138911", "seconds": 51.138911}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.140886+05:30", "timestamp": 1755781167.140886}}}
{"text": "2025-08-21 18:29:27.146 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.144708", "seconds": 51.144708}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.146683+05:30", "timestamp": 1755781167.146683}}}
{"text": "2025-08-21 18:29:27.189 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.187221", "seconds": 51.187221}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.189196+05:30", "timestamp": 1755781167.189196}}}
{"text": "2025-08-21 18:29:27.213 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.211315", "seconds": 51.211315}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.213290+05:30", "timestamp": 1755781167.21329}}}
{"text": "2025-08-21 18:29:27.214 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.212670", "seconds": 51.21267}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.214645+05:30", "timestamp": 1755781167.214645}}}
{"text": "2025-08-21 18:29:27.247 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.245735", "seconds": 51.245735}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.247710+05:30", "timestamp": 1755781167.24771}}}
{"text": "2025-08-21 18:29:27.257 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.255308", "seconds": 51.255308}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.257283+05:30", "timestamp": 1755781167.257283}}}
{"text": "2025-08-21 18:29:27.258 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.256609", "seconds": 51.256609}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.258584+05:30", "timestamp": 1755781167.258584}}}
{"text": "2025-08-21 18:29:27.302 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.300775", "seconds": 51.300775}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.302750+05:30", "timestamp": 1755781167.30275}}}
{"text": "2025-08-21 18:29:27.318 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.316807", "seconds": 51.316807}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.318782+05:30", "timestamp": 1755781167.318782}}}
{"text": "2025-08-21 18:29:27.320 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.318187", "seconds": 51.318187}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.320162+05:30", "timestamp": 1755781167.320162}}}
{"text": "2025-08-21 18:29:27.333 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.331108", "seconds": 51.331108}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.333083+05:30", "timestamp": 1755781167.333083}}}
{"text": "2025-08-21 18:29:27.364 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.362743", "seconds": 51.362743}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.364718+05:30", "timestamp": 1755781167.364718}}}
{"text": "2025-08-21 18:29:27.366 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.364059", "seconds": 51.364059}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.366034+05:30", "timestamp": 1755781167.366034}}}
{"text": "2025-08-21 18:29:27.380 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.378371", "seconds": 51.378371}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.380346+05:30", "timestamp": 1755781167.380346}}}
{"text": "2025-08-21 18:29:27.411 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.409776", "seconds": 51.409776}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.411751+05:30", "timestamp": 1755781167.411751}}}
{"text": "2025-08-21 18:29:27.417 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.415751", "seconds": 51.415751}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.417726+05:30", "timestamp": 1755781167.417726}}}
{"text": "2025-08-21 18:29:27.439 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.437378", "seconds": 51.437378}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.439353+05:30", "timestamp": 1755781167.439353}}}
{"text": "2025-08-21 18:29:27.440 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.438441", "seconds": 51.438441}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.440416+05:30", "timestamp": 1755781167.440416}}}
{"text": "2025-08-21 18:29:27.463 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.461283", "seconds": 51.461283}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.463258+05:30", "timestamp": 1755781167.463258}}}
{"text": "2025-08-21 18:29:27.481 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.479322", "seconds": 51.479322}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.481297+05:30", "timestamp": 1755781167.481297}}}
{"text": "2025-08-21 18:29:27.498 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.496600", "seconds": 51.4966}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.498575+05:30", "timestamp": 1755781167.498575}}}
{"text": "2025-08-21 18:29:27.511 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.509046", "seconds": 51.509046}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.511021+05:30", "timestamp": 1755781167.511021}}}
{"text": "2025-08-21 18:29:27.530 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.528521", "seconds": 51.528521}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.530496+05:30", "timestamp": 1755781167.530496}}}
{"text": "2025-08-21 18:29:27.532 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.530057", "seconds": 51.530057}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.532032+05:30", "timestamp": 1755781167.532032}}}
{"text": "2025-08-21 18:29:27.564 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.562132", "seconds": 51.562132}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.564107+05:30", "timestamp": 1755781167.564107}}}
{"text": "2025-08-21 18:29:27.565 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.563883", "seconds": 51.563883}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.565858+05:30", "timestamp": 1755781167.565858}}}
{"text": "2025-08-21 18:29:27.600 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=71\n", "record": {"elapsed": {"repr": "0:00:51.598116", "seconds": 51.598116}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=71", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.600091+05:30", "timestamp": 1755781167.600091}}}
{"text": "2025-08-21 18:29:27.612 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.610786", "seconds": 51.610786}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.612761+05:30", "timestamp": 1755781167.612761}}}
{"text": "2025-08-21 18:29:27.614 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.612266", "seconds": 51.612266}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.614241+05:30", "timestamp": 1755781167.614241}}}
{"text": "2025-08-21 18:29:27.615 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.613647", "seconds": 51.613647}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.615622+05:30", "timestamp": 1755781167.615622}}}
{"text": "2025-08-21 18:29:27.633 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.631212", "seconds": 51.631212}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.633187+05:30", "timestamp": 1755781167.633187}}}
{"text": "2025-08-21 18:29:27.648 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.646418", "seconds": 51.646418}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.648393+05:30", "timestamp": 1755781167.648393}}}
{"text": "2025-08-21 18:29:27.665 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.663633", "seconds": 51.663633}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.665608+05:30", "timestamp": 1755781167.665608}}}
{"text": "2025-08-21 18:29:27.696 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.694600", "seconds": 51.6946}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.696575+05:30", "timestamp": 1755781167.696575}}}
{"text": "2025-08-21 18:29:27.728 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.726142", "seconds": 51.726142}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.728117+05:30", "timestamp": 1755781167.728117}}}
{"text": "2025-08-21 18:29:27.743 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.741483", "seconds": 51.741483}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.743458+05:30", "timestamp": 1755781167.743458}}}
{"text": "2025-08-21 18:29:27.744 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.742805", "seconds": 51.742805}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.744780+05:30", "timestamp": 1755781167.74478}}}
{"text": "2025-08-21 18:29:27.760 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.758262", "seconds": 51.758262}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.760237+05:30", "timestamp": 1755781167.760237}}}
{"text": "2025-08-21 18:29:27.774 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.772456", "seconds": 51.772456}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.774431+05:30", "timestamp": 1755781167.774431}}}
{"text": "2025-08-21 18:29:27.790 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.788045", "seconds": 51.788045}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.790020+05:30", "timestamp": 1755781167.79002}}}
{"text": "2025-08-21 18:29:27.821 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.819641", "seconds": 51.819641}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.821616+05:30", "timestamp": 1755781167.821616}}}
{"text": "2025-08-21 18:29:27.837 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.835179", "seconds": 51.835179}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.837154+05:30", "timestamp": 1755781167.837154}}}
{"text": "2025-08-21 18:29:27.838 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.836417", "seconds": 51.836417}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.838392+05:30", "timestamp": 1755781167.838392}}}
{"text": "2025-08-21 18:29:27.905 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.903478", "seconds": 51.903478}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.905453+05:30", "timestamp": 1755781167.905453}}}
{"text": "2025-08-21 18:29:27.906 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.904664", "seconds": 51.904664}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.906639+05:30", "timestamp": 1755781167.906639}}}
{"text": "2025-08-21 18:29:27.907 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.905692", "seconds": 51.905692}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.907667+05:30", "timestamp": 1755781167.907667}}}
{"text": "2025-08-21 18:29:27.921 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.919982", "seconds": 51.919982}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.921957+05:30", "timestamp": 1755781167.921957}}}
{"text": "2025-08-21 18:29:27.941 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.939877", "seconds": 51.939877}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:27.941852+05:30", "timestamp": 1755781167.941852}}}
{"text": "2025-08-21 18:29:28.047 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.045427", "seconds": 52.045427}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.047402+05:30", "timestamp": 1755781168.047402}}}
{"text": "2025-08-21 18:29:28.071 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.069041", "seconds": 52.069041}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.071016+05:30", "timestamp": 1755781168.071016}}}
{"text": "2025-08-21 18:29:28.072 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.070120", "seconds": 52.07012}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.072095+05:30", "timestamp": 1755781168.072095}}}
{"text": "2025-08-21 18:29:28.083 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.081860", "seconds": 52.08186}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.083835+05:30", "timestamp": 1755781168.083835}}}
{"text": "2025-08-21 18:29:28.120 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.118295", "seconds": 52.118295}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.120270+05:30", "timestamp": 1755781168.12027}}}
{"text": "2025-08-21 18:29:28.125 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.123430", "seconds": 52.12343}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.125405+05:30", "timestamp": 1755781168.125405}}}
{"text": "2025-08-21 18:29:28.155 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.154008", "seconds": 52.154008}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.155983+05:30", "timestamp": 1755781168.155983}}}
{"text": "2025-08-21 18:29:28.169 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.167590", "seconds": 52.16759}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.169565+05:30", "timestamp": 1755781168.169565}}}
{"text": "2025-08-21 18:29:28.188 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.186391", "seconds": 52.186391}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.188366+05:30", "timestamp": 1755781168.188366}}}
{"text": "2025-08-21 18:29:28.222 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.220046", "seconds": 52.220046}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.222021+05:30", "timestamp": 1755781168.222021}}}
{"text": "2025-08-21 18:29:28.223 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.221159", "seconds": 52.221159}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.223134+05:30", "timestamp": 1755781168.223134}}}
{"text": "2025-08-21 18:29:28.238 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.236621", "seconds": 52.236621}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.238596+05:30", "timestamp": 1755781168.238596}}}
{"text": "2025-08-21 18:29:28.249 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.247039", "seconds": 52.247039}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.249014+05:30", "timestamp": 1755781168.249014}}}
{"text": "2025-08-21 18:29:28.287 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.286007", "seconds": 52.286007}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.287982+05:30", "timestamp": 1755781168.287982}}}
{"text": "2025-08-21 18:29:28.289 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.287149", "seconds": 52.287149}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.289124+05:30", "timestamp": 1755781168.289124}}}
{"text": "2025-08-21 18:29:28.301 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.299995", "seconds": 52.299995}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.301970+05:30", "timestamp": 1755781168.30197}}}
{"text": "2025-08-21 18:29:28.313 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.311455", "seconds": 52.311455}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.313430+05:30", "timestamp": 1755781168.31343}}}
{"text": "2025-08-21 18:29:28.355 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.353790", "seconds": 52.35379}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.355765+05:30", "timestamp": 1755781168.355765}}}
{"text": "2025-08-21 18:29:28.357 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.355444", "seconds": 52.355444}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.357419+05:30", "timestamp": 1755781168.357419}}}
{"text": "2025-08-21 18:29:28.372 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.370691", "seconds": 52.370691}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.372666+05:30", "timestamp": 1755781168.372666}}}
{"text": "2025-08-21 18:29:28.391 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.389793", "seconds": 52.389793}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.391768+05:30", "timestamp": 1755781168.391768}}}
{"text": "2025-08-21 18:29:28.393 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.391068", "seconds": 52.391068}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.393043+05:30", "timestamp": 1755781168.393043}}}
{"text": "2025-08-21 18:29:28.426 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.424492", "seconds": 52.424492}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.426467+05:30", "timestamp": 1755781168.426467}}}
{"text": "2025-08-21 18:29:28.438 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.436594", "seconds": 52.436594}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.438569+05:30", "timestamp": 1755781168.438569}}}
{"text": "2025-08-21 18:29:28.452 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.451001", "seconds": 52.451001}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.452976+05:30", "timestamp": 1755781168.452976}}}
{"text": "2025-08-21 18:29:28.456 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.454521", "seconds": 52.454521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:28.456496+05:30", "timestamp": 1755781168.456496}}}
{"text": "2025-08-21 18:29:28.457 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.455181", "seconds": 52.455181}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:28.457156+05:30", "timestamp": 1755781168.457156}}}
{"text": "2025-08-21 18:29:28.457 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.455740", "seconds": 52.45574}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:28.457715+05:30", "timestamp": 1755781168.457715}}}
{"text": "2025-08-21 18:29:28.458 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.456472", "seconds": 52.456472}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:28.458447+05:30", "timestamp": 1755781168.458447}}}
{"text": "2025-08-21 18:29:28.459 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.457223", "seconds": 52.457223}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:28.459198+05:30", "timestamp": 1755781168.459198}}}
{"text": "2025-08-21 18:29:28.459 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.457971", "seconds": 52.457971}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:28.459946+05:30", "timestamp": 1755781168.459946}}}
{"text": "2025-08-21 18:29:28.460 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.458649", "seconds": 52.458649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:28.460624+05:30", "timestamp": 1755781168.460624}}}
{"text": "2025-08-21 18:29:28.461 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.459261", "seconds": 52.459261}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:28.461236+05:30", "timestamp": 1755781168.461236}}}
{"text": "2025-08-21 18:29:28.461 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.459991", "seconds": 52.459991}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:28.461966+05:30", "timestamp": 1755781168.461966}}}
{"text": "2025-08-21 18:29:28.462 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.460661", "seconds": 52.460661}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:28.462636+05:30", "timestamp": 1755781168.462636}}}
{"text": "2025-08-21 18:29:28.477 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.475763", "seconds": 52.475763}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.477738+05:30", "timestamp": 1755781168.477738}}}
{"text": "2025-08-21 18:29:28.506 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.504302", "seconds": 52.504302}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.506277+05:30", "timestamp": 1755781168.506277}}}
{"text": "2025-08-21 18:29:28.521 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.519977", "seconds": 52.519977}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.521952+05:30", "timestamp": 1755781168.521952}}}
{"text": "2025-08-21 18:29:28.536 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.534564", "seconds": 52.534564}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.536539+05:30", "timestamp": 1755781168.536539}}}
{"text": "2025-08-21 18:29:28.553 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.551172", "seconds": 52.551172}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.553147+05:30", "timestamp": 1755781168.553147}}}
{"text": "2025-08-21 18:29:28.569 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.567455", "seconds": 52.567455}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.569430+05:30", "timestamp": 1755781168.56943}}}
{"text": "2025-08-21 18:29:28.585 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.583357", "seconds": 52.583357}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.585332+05:30", "timestamp": 1755781168.585332}}}
{"text": "2025-08-21 18:29:28.617 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.615745", "seconds": 52.615745}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.617720+05:30", "timestamp": 1755781168.61772}}}
{"text": "2025-08-21 18:29:28.619 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.617064", "seconds": 52.617064}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.619039+05:30", "timestamp": 1755781168.619039}}}
{"text": "2025-08-21 18:29:28.631 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.629477", "seconds": 52.629477}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.631452+05:30", "timestamp": 1755781168.631452}}}
{"text": "2025-08-21 18:29:28.661 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.659588", "seconds": 52.659588}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.661563+05:30", "timestamp": 1755781168.661563}}}
{"text": "2025-08-21 18:29:28.663 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.661378", "seconds": 52.661378}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.663353+05:30", "timestamp": 1755781168.663353}}}
{"text": "2025-08-21 18:29:28.687 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.685874", "seconds": 52.685874}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.687849+05:30", "timestamp": 1755781168.687849}}}
{"text": "2025-08-21 18:29:28.704 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.702168", "seconds": 52.702168}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.704143+05:30", "timestamp": 1755781168.704143}}}
{"text": "2025-08-21 18:29:28.729 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.727887", "seconds": 52.727887}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.729862+05:30", "timestamp": 1755781168.729862}}}
{"text": "2025-08-21 18:29:28.731 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.729093", "seconds": 52.729093}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.731068+05:30", "timestamp": 1755781168.731068}}}
{"text": "2025-08-21 18:29:28.751 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.749135", "seconds": 52.749135}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.751110+05:30", "timestamp": 1755781168.75111}}}
{"text": "2025-08-21 18:29:28.772 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.771001", "seconds": 52.771001}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.772976+05:30", "timestamp": 1755781168.772976}}}
{"text": "2025-08-21 18:29:28.893 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.891764", "seconds": 52.891764}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.893739+05:30", "timestamp": 1755781168.893739}}}
{"text": "2025-08-21 18:29:28.911 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:52.909224", "seconds": 52.909224}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.911199+05:30", "timestamp": 1755781168.911199}}}
{"text": "2025-08-21 18:29:28.912 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:52.910570", "seconds": 52.91057}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.912545+05:30", "timestamp": 1755781168.912545}}}
{"text": "2025-08-21 18:29:28.913 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1071966.23, today=-1071966.23\n", "record": {"elapsed": {"repr": "0:00:52.911151", "seconds": 52.911151}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1071966.23, today=-1071966.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.913126+05:30", "timestamp": 1755781168.913126}}}
{"text": "2025-08-21 18:29:28.913 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=963463.06, today=963463.06\n", "record": {"elapsed": {"repr": "0:00:52.911740", "seconds": 52.91174}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=963463.06, today=963463.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.913715+05:30", "timestamp": 1755781168.913715}}}
{"text": "2025-08-21 18:29:28.914 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2089397.51, today=-2089397.51\n", "record": {"elapsed": {"repr": "0:00:52.912368", "seconds": 52.912368}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2089397.51, today=-2089397.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.914343+05:30", "timestamp": 1755781168.914343}}}
{"text": "2025-08-21 18:29:28.915 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=187763.53, today=187763.53\n", "record": {"elapsed": {"repr": "0:00:52.913060", "seconds": 52.91306}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=187763.53, today=187763.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.915035+05:30", "timestamp": 1755781168.915035}}}
{"text": "2025-08-21 18:29:28.915 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=357134.51, today=357134.51\n", "record": {"elapsed": {"repr": "0:00:52.913670", "seconds": 52.91367}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=357134.51, today=357134.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.915645+05:30", "timestamp": 1755781168.915645}}}
{"text": "2025-08-21 18:29:28.916 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1653002.64, day: -1653002.64\n", "record": {"elapsed": {"repr": "0:00:52.914206", "seconds": 52.914206}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1653002.64, day: -1653002.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.916181+05:30", "timestamp": 1755781168.916181}}}
{"text": "2025-08-21 18:29:28.916 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:52.914795", "seconds": 52.914795}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.916770+05:30", "timestamp": 1755781168.91677}}}
{"text": "2025-08-21 18:29:28.917 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:52.915461", "seconds": 52.915461}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.917436+05:30", "timestamp": 1755781168.917436}}}
{"text": "2025-08-21 18:29:28.918 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:52.916026", "seconds": 52.916026}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.918001+05:30", "timestamp": 1755781168.918001}}}
{"text": "2025-08-21 18:29:28.918 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:52.916566", "seconds": 52.916566}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.918541+05:30", "timestamp": 1755781168.918541}}}
{"text": "2025-08-21 18:29:28.919 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:28.913053+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:52.917090", "seconds": 52.91709}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:28.913053+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.919065+05:30", "timestamp": 1755781168.919065}}}
{"text": "2025-08-21 18:29:28.919 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1653002.64, day=-1653002.64, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1305.0, unrealized=-1071966.23, today_pnl=-1071966.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=417.51, unrealized=963463.06, today_pnl=963463.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.04, unrealized=-2089397.51, today_pnl=-2089397.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=583.35, unrealized=187763.53, today_pnl=187763.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2315.7, unrealized=357134.51, today_pnl=357134.51)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 28, 913053, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:52.917818", "seconds": 52.917818}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1653002.64, day=-1653002.64, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1305.0, unrealized=-1071966.23, today_pnl=-1071966.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=417.51, unrealized=963463.06, today_pnl=963463.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.04, unrealized=-2089397.51, today_pnl=-2089397.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=583.35, unrealized=187763.53, today_pnl=187763.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2315.7, unrealized=357134.51, today_pnl=357134.51)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 28, 913053, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.919793+05:30", "timestamp": 1755781168.919793}}}
{"text": "2025-08-21 18:29:28.920 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1653002.64, day=-1653002.64, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1305.0, unrealized=-1071966.23, today_pnl=-1071966.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=417.51, unrealized=963463.06, today_pnl=963463.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.04, unrealized=-2089397.51, today_pnl=-2089397.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=583.35, unrealized=187763.53, today_pnl=187763.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2315.7, unrealized=357134.51, today_pnl=357134.51)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 28, 913053, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:52.918601", "seconds": 52.918601}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1653002.64, day=-1653002.64, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1305.0, unrealized=-1071966.23, today_pnl=-1071966.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=417.51, unrealized=963463.06, today_pnl=963463.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=616.04, unrealized=-2089397.51, today_pnl=-2089397.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=583.35, unrealized=187763.53, today_pnl=187763.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2315.7, unrealized=357134.51, today_pnl=357134.51)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 28, 913053, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.920576+05:30", "timestamp": 1755781168.920576}}}
{"text": "2025-08-21 18:29:28.921 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1653002.64\n", "record": {"elapsed": {"repr": "0:00:52.919276", "seconds": 52.919276}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1653002.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.921251+05:30", "timestamp": 1755781168.921251}}}
{"text": "2025-08-21 18:29:28.922 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=72\n", "record": {"elapsed": {"repr": "0:00:52.920618", "seconds": 52.920618}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=72", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.922593+05:30", "timestamp": 1755781168.922593}}}
{"text": "2025-08-21 18:29:28.926 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.924822", "seconds": 52.924822}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.926797+05:30", "timestamp": 1755781168.926797}}}
{"text": "2025-08-21 18:29:28.928 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.926104", "seconds": 52.926104}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.928079+05:30", "timestamp": 1755781168.928079}}}
{"text": "2025-08-21 18:29:28.929 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.927869", "seconds": 52.927869}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.929844+05:30", "timestamp": 1755781168.929844}}}
{"text": "2025-08-21 18:29:28.931 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.929026", "seconds": 52.929026}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.931001+05:30", "timestamp": 1755781168.931001}}}
{"text": "2025-08-21 18:29:28.932 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.930100", "seconds": 52.9301}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:28.932075+05:30", "timestamp": 1755781168.932075}}}
{"text": "2025-08-21 18:29:29.226 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=73\n", "record": {"elapsed": {"repr": "0:00:53.224954", "seconds": 53.224954}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=73", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:29.226929+05:30", "timestamp": 1755781169.226929}}}
{"text": "2025-08-21 18:29:30.463 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.461652", "seconds": 54.461652}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:30.463627+05:30", "timestamp": 1755781170.463627}}}
{"text": "2025-08-21 18:29:30.464 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.462493", "seconds": 54.462493}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:30.464468+05:30", "timestamp": 1755781170.464468}}}
{"text": "2025-08-21 18:29:30.465 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.463228", "seconds": 54.463228}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:30.465203+05:30", "timestamp": 1755781170.465203}}}
{"text": "2025-08-21 18:29:30.466 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.464539", "seconds": 54.464539}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:30.466514+05:30", "timestamp": 1755781170.466514}}}
{"text": "2025-08-21 18:29:30.467 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.465339", "seconds": 54.465339}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:30.467314+05:30", "timestamp": 1755781170.467314}}}
{"text": "2025-08-21 18:29:30.467 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.465976", "seconds": 54.465976}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:30.467951+05:30", "timestamp": 1755781170.467951}}}
{"text": "2025-08-21 18:29:30.468 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.466745", "seconds": 54.466745}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:30.468720+05:30", "timestamp": 1755781170.46872}}}
{"text": "2025-08-21 18:29:30.469 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.467914", "seconds": 54.467914}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:30.469889+05:30", "timestamp": 1755781170.469889}}}
{"text": "2025-08-21 18:29:30.470 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.468625", "seconds": 54.468625}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:30.470600+05:30", "timestamp": 1755781170.4706}}}
{"text": "2025-08-21 18:29:30.471 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.469272", "seconds": 54.469272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:29:30.471247+05:30", "timestamp": 1755781170.471247}}}
{"text": "2025-08-21 18:29:30.709 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:54.707973", "seconds": 54.707973}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.709948+05:30", "timestamp": 1755781170.709948}}}
{"text": "2025-08-21 18:29:30.710 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:54.708658", "seconds": 54.708658}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.710633+05:30", "timestamp": 1755781170.710633}}}
{"text": "2025-08-21 18:29:30.711 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1096825.58, today=-1096825.58\n", "record": {"elapsed": {"repr": "0:00:54.709306", "seconds": 54.709306}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1096825.58, today=-1096825.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.711281+05:30", "timestamp": 1755781170.711281}}}
{"text": "2025-08-21 18:29:30.711 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=960925.18, today=960925.18\n", "record": {"elapsed": {"repr": "0:00:54.709851", "seconds": 54.709851}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=960925.18, today=960925.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.711826+05:30", "timestamp": 1755781170.711826}}}
{"text": "2025-08-21 18:29:30.712 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-2094086.83, today=-2094086.83\n", "record": {"elapsed": {"repr": "0:00:54.710401", "seconds": 54.710401}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-2094086.83, today=-2094086.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.712376+05:30", "timestamp": 1755781170.712376}}}
{"text": "2025-08-21 18:29:30.712 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=187288.38, today=187288.38\n", "record": {"elapsed": {"repr": "0:00:54.710943", "seconds": 54.710943}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=187288.38, today=187288.38", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.712918+05:30", "timestamp": 1755781170.712918}}}
{"text": "2025-08-21 18:29:30.713 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=367263.36, today=367263.36\n", "record": {"elapsed": {"repr": "0:00:54.711451", "seconds": 54.711451}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=367263.36, today=367263.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.713426+05:30", "timestamp": 1755781170.713426}}}
{"text": "2025-08-21 18:29:30.713 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1675435.49, day: -1675435.49\n", "record": {"elapsed": {"repr": "0:00:54.711910", "seconds": 54.71191}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1675435.49, day: -1675435.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.713885+05:30", "timestamp": 1755781170.713885}}}
{"text": "2025-08-21 18:29:30.714 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:54.712403", "seconds": 54.712403}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.714378+05:30", "timestamp": 1755781170.714378}}}
{"text": "2025-08-21 18:29:30.714 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:54.712880", "seconds": 54.71288}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.714855+05:30", "timestamp": 1755781170.714855}}}
{"text": "2025-08-21 18:29:30.715 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:54.713646", "seconds": 54.713646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.715621+05:30", "timestamp": 1755781170.715621}}}
{"text": "2025-08-21 18:29:30.716 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:54.714391", "seconds": 54.714391}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.716366+05:30", "timestamp": 1755781170.716366}}}
{"text": "2025-08-21 18:29:30.717 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:30.711189+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:54.715051", "seconds": 54.715051}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:29:30.711189+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.717026+05:30", "timestamp": 1755781170.717026}}}
{"text": "2025-08-21 18:29:30.718 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1675435.49, day=-1675435.49, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1288.89, unrealized=-1096825.58, today_pnl=-1096825.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=421.65, unrealized=960925.18, today_pnl=960925.18), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=613.29, unrealized=-2094086.83, today_pnl=-2094086.83), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=584.03, unrealized=187288.38, today_pnl=187288.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2355.42, unrealized=367263.36, today_pnl=367263.36)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 30, 711189, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:54.716172", "seconds": 54.716172}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1675435.49, day=-1675435.49, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1288.89, unrealized=-1096825.58, today_pnl=-1096825.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=421.65, unrealized=960925.18, today_pnl=960925.18), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=613.29, unrealized=-2094086.83, today_pnl=-2094086.83), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=584.03, unrealized=187288.38, today_pnl=187288.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2355.42, unrealized=367263.36, today_pnl=367263.36)] updated_at=datetime.datetime(2025, 8, 21, 18, 29, 30, 711189, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.718147+05:30", "timestamp": 1755781170.718147}}}
{"text": "2025-08-21 18:29:30.719 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1675435.49, day=-1675435.49, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1288.89, unrealized=-1096825.58, today_pnl=-1096825.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=421.65, unrealized=960925.18, today_pnl=960925.18), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=613.29, unrealized=-2094086.83, today_pnl=-2094086.83), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=584.03, unrealized=187288.38, today_pnl=187288.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2355.42, unrealized=367263.36, today_pnl=367263.36)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 30, 711189, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:54.717903", "seconds": 54.717903}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1675435.49, day=-1675435.49, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1288.89, unrealized=-1096825.58, today_pnl=-1096825.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=421.65, unrealized=960925.18, today_pnl=960925.18), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=613.29, unrealized=-2094086.83, today_pnl=-2094086.83), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=584.03, unrealized=187288.38, today_pnl=187288.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2355.42, unrealized=367263.36, today_pnl=367263.36)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 29, 30, 711189, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.719878+05:30", "timestamp": 1755781170.719878}}}
{"text": "2025-08-21 18:29:30.721 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1675435.49\n", "record": {"elapsed": {"repr": "0:00:54.719518", "seconds": 54.719518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1675435.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.721493+05:30", "timestamp": 1755781170.721493}}}
{"text": "2025-08-21 18:29:30.723 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=74\n", "record": {"elapsed": {"repr": "0:00:54.721059", "seconds": 54.721059}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=74", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:30.723034+05:30", "timestamp": 1755781170.723034}}}
{"text": "2025-08-21 18:29:31.166 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=75\n", "record": {"elapsed": {"repr": "0:00:55.164505", "seconds": 55.164505}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=75", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:31.166480+05:30", "timestamp": 1755781171.16648}}}
{"text": "2025-08-21 18:29:32.012 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.010691", "seconds": 56.010691}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.012666+05:30", "timestamp": 1755781172.012666}}}
{"text": "2025-08-21 18:29:32.017 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.015347", "seconds": 56.015347}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.017322+05:30", "timestamp": 1755781172.017322}}}
{"text": "2025-08-21 18:29:32.027 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.025637", "seconds": 56.025637}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.027612+05:30", "timestamp": 1755781172.027612}}}
{"text": "2025-08-21 18:29:32.034 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.032293", "seconds": 56.032293}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.034268+05:30", "timestamp": 1755781172.034268}}}
{"text": "2025-08-21 18:29:32.055 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.053387", "seconds": 56.053387}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.055362+05:30", "timestamp": 1755781172.055362}}}
{"text": "2025-08-21 18:29:32.063 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.061751", "seconds": 56.061751}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.063726+05:30", "timestamp": 1755781172.063726}}}
{"text": "2025-08-21 18:29:32.065 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.063733", "seconds": 56.063733}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.065708+05:30", "timestamp": 1755781172.065708}}}
{"text": "2025-08-21 18:29:32.138 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.136191", "seconds": 56.136191}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.138166+05:30", "timestamp": 1755781172.138166}}}
{"text": "2025-08-21 18:29:32.142 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.140678", "seconds": 56.140678}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.142653+05:30", "timestamp": 1755781172.142653}}}
{"text": "2025-08-21 18:29:32.149 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.147574", "seconds": 56.147574}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.149549+05:30", "timestamp": 1755781172.149549}}}
{"text": "2025-08-21 18:29:32.154 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:56.152232", "seconds": 56.152232}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:29:32.154207+05:30", "timestamp": 1755781172.154207}}}
