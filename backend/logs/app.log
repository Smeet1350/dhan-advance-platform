{"text": "2025-08-21 12:39:35.315 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.096122", "seconds": 6.096122}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.315905+05:30", "timestamp": 1755760175.315905}}}
{"text": "2025-08-21 12:39:35.322 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.102370", "seconds": 6.10237}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.322153+05:30", "timestamp": 1755760175.322153}}}
{"text": "2025-08-21 12:39:35.322 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.102916", "seconds": 6.102916}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.322699+05:30", "timestamp": 1755760175.322699}}}
{"text": "2025-08-21 12:39:35.323 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.103392", "seconds": 6.103392}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.323175+05:30", "timestamp": 1755760175.323175}}}
{"text": "2025-08-21 12:39:35.323 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.103788", "seconds": 6.103788}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.323571+05:30", "timestamp": 1755760175.323571}}}
{"text": "2025-08-21 12:39:35.324 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.104458", "seconds": 6.104458}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.324241+05:30", "timestamp": 1755760175.324241}}}
{"text": "2025-08-21 12:39:35.324 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.105021", "seconds": 6.105021}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.324804+05:30", "timestamp": 1755760175.324804}}}
{"text": "2025-08-21 12:39:35.325 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.105523", "seconds": 6.105523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.325306+05:30", "timestamp": 1755760175.325306}}}
{"text": "2025-08-21 12:39:35.326 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.106490", "seconds": 6.10649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.326273+05:30", "timestamp": 1755760175.326273}}}
{"text": "2025-08-21 12:39:35.326 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.107055", "seconds": 6.107055}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.326838+05:30", "timestamp": 1755760175.326838}}}
{"text": "2025-08-21 12:39:36.387 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:07.167475", "seconds": 7.167475}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.387258+05:30", "timestamp": 1755760176.387258}}}
{"text": "2025-08-21 12:39:36.387 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:07.168136", "seconds": 7.168136}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.387919+05:30", "timestamp": 1755760176.387919}}}
{"text": "2025-08-21 12:39:36.388 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1366602.59, today=1366602.59\n", "record": {"elapsed": {"repr": "0:00:07.168649", "seconds": 7.168649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1366602.59, today=1366602.59", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.388432+05:30", "timestamp": 1755760176.388432}}}
{"text": "2025-08-21 12:39:36.388 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479770.04, today=479770.04\n", "record": {"elapsed": {"repr": "0:00:07.169080", "seconds": 7.16908}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479770.04, today=479770.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.388863+05:30", "timestamp": 1755760176.388863}}}
{"text": "2025-08-21 12:39:36.389 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=635470.53, today=635470.53\n", "record": {"elapsed": {"repr": "0:00:07.169534", "seconds": 7.169534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=635470.53, today=635470.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.389317+05:30", "timestamp": 1755760176.389317}}}
{"text": "2025-08-21 12:39:36.389 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3369722.88, today=-3369722.88\n", "record": {"elapsed": {"repr": "0:00:07.169976", "seconds": 7.169976}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3369722.88, today=-3369722.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.389759+05:30", "timestamp": 1755760176.389759}}}
{"text": "2025-08-21 12:39:36.390 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=18406.04, today=18406.04\n", "record": {"elapsed": {"repr": "0:00:07.170411", "seconds": 7.170411}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=18406.04, today=18406.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.390194+05:30", "timestamp": 1755760176.390194}}}
{"text": "2025-08-21 12:39:36.390 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -869473.68, day: -869473.68\n", "record": {"elapsed": {"repr": "0:00:07.170921", "seconds": 7.170921}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -869473.68, day: -869473.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.390704+05:30", "timestamp": 1755760176.390704}}}
{"text": "2025-08-21 12:39:36.391 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:07.171379", "seconds": 7.171379}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.391162+05:30", "timestamp": 1755760176.391162}}}
{"text": "2025-08-21 12:39:36.391 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:07.172118", "seconds": 7.172118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.391901+05:30", "timestamp": 1755760176.391901}}}
{"text": "2025-08-21 12:39:36.392 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:07.172768", "seconds": 7.172768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.392551+05:30", "timestamp": 1755760176.392551}}}
{"text": "2025-08-21 12:39:36.393 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:07.173221", "seconds": 7.173221}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.393004+05:30", "timestamp": 1755760176.393004}}}
{"text": "2025-08-21 12:39:36.393 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:36.388364+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:07.173842", "seconds": 7.173842}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:36.388364+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.393625+05:30", "timestamp": 1755760176.393625}}}
{"text": "2025-08-21 12:39:36.394 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:07.175137", "seconds": 7.175137}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.394920+05:30", "timestamp": 1755760176.39492}}}
{"text": "2025-08-21 12:39:36.397 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:07.177622", "seconds": 7.177622}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.397405+05:30", "timestamp": 1755760176.397405}}}
{"text": "2025-08-21 12:39:37.344 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.125158", "seconds": 8.125158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.344941+05:30", "timestamp": 1755760177.344941}}}
{"text": "2025-08-21 12:39:37.384 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.164859", "seconds": 8.164859}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.384642+05:30", "timestamp": 1755760177.384642}}}
{"text": "2025-08-21 12:39:37.442 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.223069", "seconds": 8.223069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.442852+05:30", "timestamp": 1755760177.442852}}}
{"text": "2025-08-21 12:39:37.488 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.268434", "seconds": 8.268434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.488217+05:30", "timestamp": 1755760177.488217}}}
{"text": "2025-08-21 12:39:37.498 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.278387", "seconds": 8.278387}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.498170+05:30", "timestamp": 1755760177.49817}}}
{"text": "2025-08-21 12:39:37.501 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.281305", "seconds": 8.281305}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.501088+05:30", "timestamp": 1755760177.501088}}}
{"text": "2025-08-21 12:39:37.501 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.282008", "seconds": 8.282008}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.501791+05:30", "timestamp": 1755760177.501791}}}
{"text": "2025-08-21 12:39:37.502 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.283176", "seconds": 8.283176}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.502959+05:30", "timestamp": 1755760177.502959}}}
{"text": "2025-08-21 12:39:37.504 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.284619", "seconds": 8.284619}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.504402+05:30", "timestamp": 1755760177.504402}}}
{"text": "2025-08-21 12:39:37.505 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.285513", "seconds": 8.285513}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.505296+05:30", "timestamp": 1755760177.505296}}}
{"text": "2025-08-21 12:39:38.012 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.793049", "seconds": 8.793049}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.012832+05:30", "timestamp": 1755760178.012832}}}
{"text": "2025-08-21 12:39:38.013 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.793761", "seconds": 8.793761}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.013544+05:30", "timestamp": 1755760178.013544}}}
{"text": "2025-08-21 12:39:38.014 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1386779.48, today=1386779.48\n", "record": {"elapsed": {"repr": "0:00:08.794282", "seconds": 8.794282}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1386779.48, today=1386779.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.014065+05:30", "timestamp": 1755760178.014065}}}
{"text": "2025-08-21 12:39:38.014 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=480633.2, today=480633.2\n", "record": {"elapsed": {"repr": "0:00:08.794816", "seconds": 8.794816}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=480633.2, today=480633.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.014599+05:30", "timestamp": 1755760178.014599}}}
{"text": "2025-08-21 12:39:38.015 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=655172.31, today=655172.31\n", "record": {"elapsed": {"repr": "0:00:08.795371", "seconds": 8.795371}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=655172.31, today=655172.31", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.015154+05:30", "timestamp": 1755760178.015154}}}
{"text": "2025-08-21 12:39:38.016 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3298083.55, today=-3298083.55\n", "record": {"elapsed": {"repr": "0:00:08.796364", "seconds": 8.796364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3298083.55, today=-3298083.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.016147+05:30", "timestamp": 1755760178.016147}}}
{"text": "2025-08-21 12:39:38.016 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=14879.78, today=14879.78\n", "record": {"elapsed": {"repr": "0:00:08.796969", "seconds": 8.796969}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=14879.78, today=14879.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.016752+05:30", "timestamp": 1755760178.016752}}}
{"text": "2025-08-21 12:39:38.017 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -760618.78, day: -760618.78\n", "record": {"elapsed": {"repr": "0:00:08.797397", "seconds": 8.797397}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -760618.78, day: -760618.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.017180+05:30", "timestamp": 1755760178.01718}}}
{"text": "2025-08-21 12:39:38.017 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.797920", "seconds": 8.79792}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.017703+05:30", "timestamp": 1755760178.017703}}}
{"text": "2025-08-21 12:39:38.018 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.798442", "seconds": 8.798442}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.018225+05:30", "timestamp": 1755760178.018225}}}
{"text": "2025-08-21 12:39:38.019 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.799260", "seconds": 8.79926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.019043+05:30", "timestamp": 1755760178.019043}}}
{"text": "2025-08-21 12:39:38.019 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.800090", "seconds": 8.80009}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.019873+05:30", "timestamp": 1755760178.019873}}}
{"text": "2025-08-21 12:39:38.020 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:38.014007+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.800674", "seconds": 8.800674}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:38.014007+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.020457+05:30", "timestamp": 1755760178.020457}}}
{"text": "2025-08-21 12:39:38.021 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:08.801503", "seconds": 8.801503}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.021286+05:30", "timestamp": 1755760178.021286}}}
{"text": "2025-08-21 12:39:38.023 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:08.803494", "seconds": 8.803494}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.023277+05:30", "timestamp": 1755760178.023277}}}
{"text": "2025-08-21 12:39:39.506 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.287141", "seconds": 10.287141}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.506924+05:30", "timestamp": 1755760179.506924}}}
{"text": "2025-08-21 12:39:39.507 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.287906", "seconds": 10.287906}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.507689+05:30", "timestamp": 1755760179.507689}}}
{"text": "2025-08-21 12:39:39.508 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.288442", "seconds": 10.288442}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.508225+05:30", "timestamp": 1755760179.508225}}}
{"text": "2025-08-21 12:39:39.508 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.288963", "seconds": 10.288963}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.508746+05:30", "timestamp": 1755760179.508746}}}
{"text": "2025-08-21 12:39:39.509 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.289700", "seconds": 10.2897}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.509483+05:30", "timestamp": 1755760179.509483}}}
{"text": "2025-08-21 12:39:39.510 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.290529", "seconds": 10.290529}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.510312+05:30", "timestamp": 1755760179.510312}}}
{"text": "2025-08-21 12:39:39.510 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.291075", "seconds": 10.291075}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.510858+05:30", "timestamp": 1755760179.510858}}}
{"text": "2025-08-21 12:39:39.511 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.291488", "seconds": 10.291488}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.511271+05:30", "timestamp": 1755760179.511271}}}
{"text": "2025-08-21 12:39:39.511 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.291850", "seconds": 10.29185}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.511633+05:30", "timestamp": 1755760179.511633}}}
{"text": "2025-08-21 12:39:39.512 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.292273", "seconds": 10.292273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.512056+05:30", "timestamp": 1755760179.512056}}}
{"text": "2025-08-21 12:39:39.612 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:10.393081", "seconds": 10.393081}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.612864+05:30", "timestamp": 1755760179.612864}}}
{"text": "2025-08-21 12:39:39.946 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:10.726340", "seconds": 10.72634}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.946123+05:30", "timestamp": 1755760179.946123}}}
{"text": "2025-08-21 12:39:39.946 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:10.726905", "seconds": 10.726905}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.946688+05:30", "timestamp": 1755760179.946688}}}
{"text": "2025-08-21 12:39:39.947 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1357538.81, today=1357538.81\n", "record": {"elapsed": {"repr": "0:00:10.727421", "seconds": 10.727421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1357538.81, today=1357538.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.947204+05:30", "timestamp": 1755760179.947204}}}
{"text": "2025-08-21 12:39:39.947 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479497.28, today=479497.28\n", "record": {"elapsed": {"repr": "0:00:10.728036", "seconds": 10.728036}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479497.28, today=479497.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.947819+05:30", "timestamp": 1755760179.947819}}}
{"text": "2025-08-21 12:39:39.948 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=625825.58, today=625825.58\n", "record": {"elapsed": {"repr": "0:00:10.728902", "seconds": 10.728902}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=625825.58, today=625825.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.948685+05:30", "timestamp": 1755760179.948685}}}
{"text": "2025-08-21 12:39:39.949 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3230550.07, today=-3230550.07\n", "record": {"elapsed": {"repr": "0:00:10.729407", "seconds": 10.729407}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3230550.07, today=-3230550.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.949190+05:30", "timestamp": 1755760179.94919}}}
{"text": "2025-08-21 12:39:39.949 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=17057.55, today=17057.55\n", "record": {"elapsed": {"repr": "0:00:10.729835", "seconds": 10.729835}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=17057.55, today=17057.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.949618+05:30", "timestamp": 1755760179.949618}}}
{"text": "2025-08-21 12:39:39.950 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -750630.85, day: -750630.85\n", "record": {"elapsed": {"repr": "0:00:10.730345", "seconds": 10.730345}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -750630.85, day: -750630.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.950128+05:30", "timestamp": 1755760179.950128}}}
{"text": "2025-08-21 12:39:39.950 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:10.730925", "seconds": 10.730925}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.950708+05:30", "timestamp": 1755760179.950708}}}
{"text": "2025-08-21 12:39:39.951 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:10.731582", "seconds": 10.731582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.951365+05:30", "timestamp": 1755760179.951365}}}
{"text": "2025-08-21 12:39:39.952 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:10.732268", "seconds": 10.732268}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.952051+05:30", "timestamp": 1755760179.952051}}}
{"text": "2025-08-21 12:39:39.952 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:10.732857", "seconds": 10.732857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.952640+05:30", "timestamp": 1755760179.95264}}}
{"text": "2025-08-21 12:39:39.953 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:39.947133+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:10.733309", "seconds": 10.733309}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:39.947133+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.953092+05:30", "timestamp": 1755760179.953092}}}
{"text": "2025-08-21 12:39:39.953 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:10.734053", "seconds": 10.734053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.953836+05:30", "timestamp": 1755760179.953836}}}
{"text": "2025-08-21 12:39:39.955 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:10.735507", "seconds": 10.735507}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.955290+05:30", "timestamp": 1755760179.95529}}}
{"text": "2025-08-21 12:39:41.513 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.293250", "seconds": 12.29325}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.513033+05:30", "timestamp": 1755760181.513033}}}
{"text": "2025-08-21 12:39:41.513 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.294165", "seconds": 12.294165}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.513948+05:30", "timestamp": 1755760181.513948}}}
{"text": "2025-08-21 12:39:41.514 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.294996", "seconds": 12.294996}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.514779+05:30", "timestamp": 1755760181.514779}}}
{"text": "2025-08-21 12:39:41.515 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.295587", "seconds": 12.295587}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.515370+05:30", "timestamp": 1755760181.51537}}}
{"text": "2025-08-21 12:39:41.516 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.296242", "seconds": 12.296242}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.516025+05:30", "timestamp": 1755760181.516025}}}
{"text": "2025-08-21 12:39:41.516 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.297009", "seconds": 12.297009}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.516792+05:30", "timestamp": 1755760181.516792}}}
{"text": "2025-08-21 12:39:41.517 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.297665", "seconds": 12.297665}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.517448+05:30", "timestamp": 1755760181.517448}}}
{"text": "2025-08-21 12:39:41.517 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.298188", "seconds": 12.298188}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.517971+05:30", "timestamp": 1755760181.517971}}}
{"text": "2025-08-21 12:39:41.518 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.298651", "seconds": 12.298651}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.518434+05:30", "timestamp": 1755760181.518434}}}
{"text": "2025-08-21 12:39:41.518 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.299016", "seconds": 12.299016}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.518799+05:30", "timestamp": 1755760181.518799}}}
{"text": "2025-08-21 12:39:41.853 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:12.633550", "seconds": 12.63355}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.853333+05:30", "timestamp": 1755760181.853333}}}
{"text": "2025-08-21 12:39:41.854 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:12.634729", "seconds": 12.634729}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.854512+05:30", "timestamp": 1755760181.854512}}}
{"text": "2025-08-21 12:39:41.855 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1364441.19, today=1364441.19\n", "record": {"elapsed": {"repr": "0:00:12.636056", "seconds": 12.636056}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1364441.19, today=1364441.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.855839+05:30", "timestamp": 1755760181.855839}}}
{"text": "2025-08-21 12:39:41.856 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479294.83, today=479294.83\n", "record": {"elapsed": {"repr": "0:00:12.636677", "seconds": 12.636677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479294.83, today=479294.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.856460+05:30", "timestamp": 1755760181.85646}}}
{"text": "2025-08-21 12:39:41.856 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=627149.5, today=627149.5\n", "record": {"elapsed": {"repr": "0:00:12.637212", "seconds": 12.637212}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=627149.5, today=627149.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.856995+05:30", "timestamp": 1755760181.856995}}}
{"text": "2025-08-21 12:39:41.857 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3196660.89, today=-3196660.89\n", "record": {"elapsed": {"repr": "0:00:12.637848", "seconds": 12.637848}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3196660.89, today=-3196660.89", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.857631+05:30", "timestamp": 1755760181.857631}}}
{"text": "2025-08-21 12:39:41.858 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=15706.97, today=15706.97\n", "record": {"elapsed": {"repr": "0:00:12.638518", "seconds": 12.638518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=15706.97, today=15706.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.858301+05:30", "timestamp": 1755760181.858301}}}
{"text": "2025-08-21 12:39:41.859 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -710068.4, day: -710068.4\n", "record": {"elapsed": {"repr": "0:00:12.639488", "seconds": 12.639488}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -710068.4, day: -710068.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.859271+05:30", "timestamp": 1755760181.859271}}}
{"text": "2025-08-21 12:39:41.860 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:12.640742", "seconds": 12.640742}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.860525+05:30", "timestamp": 1755760181.860525}}}
{"text": "2025-08-21 12:39:41.861 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:12.641475", "seconds": 12.641475}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.861258+05:30", "timestamp": 1755760181.861258}}}
{"text": "2025-08-21 12:39:41.861 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:12.642078", "seconds": 12.642078}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.861861+05:30", "timestamp": 1755760181.861861}}}
{"text": "2025-08-21 12:39:41.862 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:12.642784", "seconds": 12.642784}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.862567+05:30", "timestamp": 1755760181.862567}}}
{"text": "2025-08-21 12:39:41.864 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:41.855629+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:12.644458", "seconds": 12.644458}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:41.855629+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.864241+05:30", "timestamp": 1755760181.864241}}}
{"text": "2025-08-21 12:39:41.865 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:12.645772", "seconds": 12.645772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.865555+05:30", "timestamp": 1755760181.865555}}}
{"text": "2025-08-21 12:39:41.868 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:12.649116", "seconds": 12.649116}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.868899+05:30", "timestamp": 1755760181.868899}}}
{"text": "2025-08-21 12:39:43.519 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.300182", "seconds": 14.300182}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.519965+05:30", "timestamp": 1755760183.519965}}}
{"text": "2025-08-21 12:39:43.520 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.301201", "seconds": 14.301201}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.520984+05:30", "timestamp": 1755760183.520984}}}
{"text": "2025-08-21 12:39:43.521 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.302177", "seconds": 14.302177}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.521960+05:30", "timestamp": 1755760183.52196}}}
{"text": "2025-08-21 12:39:43.522 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.302686", "seconds": 14.302686}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.522469+05:30", "timestamp": 1755760183.522469}}}
{"text": "2025-08-21 12:39:43.523 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.303244", "seconds": 14.303244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.523027+05:30", "timestamp": 1755760183.523027}}}
{"text": "2025-08-21 12:39:43.523 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.303898", "seconds": 14.303898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.523681+05:30", "timestamp": 1755760183.523681}}}
{"text": "2025-08-21 12:39:43.524 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.304864", "seconds": 14.304864}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.524647+05:30", "timestamp": 1755760183.524647}}}
{"text": "2025-08-21 12:39:43.525 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.306002", "seconds": 14.306002}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.525785+05:30", "timestamp": 1755760183.525785}}}
{"text": "2025-08-21 12:39:43.526 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.306776", "seconds": 14.306776}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.526559+05:30", "timestamp": 1755760183.526559}}}
{"text": "2025-08-21 12:39:43.526 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.307213", "seconds": 14.307213}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.526996+05:30", "timestamp": 1755760183.526996}}}
{"text": "2025-08-21 12:39:43.714 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:14.494519", "seconds": 14.494519}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.714302+05:30", "timestamp": 1755760183.714302}}}
{"text": "2025-08-21 12:39:43.715 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:14.495327", "seconds": 14.495327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.715110+05:30", "timestamp": 1755760183.71511}}}
{"text": "2025-08-21 12:39:43.715 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1387294.12, today=1387294.12\n", "record": {"elapsed": {"repr": "0:00:14.496191", "seconds": 14.496191}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1387294.12, today=1387294.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.715974+05:30", "timestamp": 1755760183.715974}}}
{"text": "2025-08-21 12:39:43.716 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479365.74, today=479365.74\n", "record": {"elapsed": {"repr": "0:00:14.496910", "seconds": 14.49691}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479365.74, today=479365.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.716693+05:30", "timestamp": 1755760183.716693}}}
{"text": "2025-08-21 12:39:43.717 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=595224.16, today=595224.16\n", "record": {"elapsed": {"repr": "0:00:14.497489", "seconds": 14.497489}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=595224.16, today=595224.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.717272+05:30", "timestamp": 1755760183.717272}}}
{"text": "2025-08-21 12:39:43.717 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3164788.51, today=-3164788.51\n", "record": {"elapsed": {"repr": "0:00:14.498010", "seconds": 14.49801}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3164788.51, today=-3164788.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.717793+05:30", "timestamp": 1755760183.717793}}}
{"text": "2025-08-21 12:39:43.718 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=16380.65, today=16380.65\n", "record": {"elapsed": {"repr": "0:00:14.498543", "seconds": 14.498543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=16380.65, today=16380.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.718326+05:30", "timestamp": 1755760183.718326}}}
{"text": "2025-08-21 12:39:43.718 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -686523.84, day: -686523.84\n", "record": {"elapsed": {"repr": "0:00:14.499005", "seconds": 14.499005}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -686523.84, day: -686523.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.718788+05:30", "timestamp": 1755760183.718788}}}
{"text": "2025-08-21 12:39:43.719 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:14.499482", "seconds": 14.499482}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.719265+05:30", "timestamp": 1755760183.719265}}}
{"text": "2025-08-21 12:39:43.719 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:14.500042", "seconds": 14.500042}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.719825+05:30", "timestamp": 1755760183.719825}}}
{"text": "2025-08-21 12:39:43.720 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:14.501013", "seconds": 14.501013}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.720796+05:30", "timestamp": 1755760183.720796}}}
{"text": "2025-08-21 12:39:43.721 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:14.501913", "seconds": 14.501913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.721696+05:30", "timestamp": 1755760183.721696}}}
{"text": "2025-08-21 12:39:43.722 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:43.715871+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:14.502478", "seconds": 14.502478}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:43.715871+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.722261+05:30", "timestamp": 1755760183.722261}}}
{"text": "2025-08-21 12:39:43.723 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:14.503244", "seconds": 14.503244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.723027+05:30", "timestamp": 1755760183.723027}}}
{"text": "2025-08-21 12:39:43.724 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:14.505022", "seconds": 14.505022}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.724805+05:30", "timestamp": 1755760183.724805}}}
{"text": "2025-08-21 12:39:45.505 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:16.285347", "seconds": 16.285347}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.505130+05:30", "timestamp": 1755760185.50513}}}
{"text": "2025-08-21 12:39:45.505 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:16.286046", "seconds": 16.286046}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.505829+05:30", "timestamp": 1755760185.505829}}}
{"text": "2025-08-21 12:39:45.506 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1387294.12, today=1387294.12\n", "record": {"elapsed": {"repr": "0:00:16.286985", "seconds": 16.286985}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1387294.12, today=1387294.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.506768+05:30", "timestamp": 1755760185.506768}}}
{"text": "2025-08-21 12:39:45.507 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479365.74, today=479365.74\n", "record": {"elapsed": {"repr": "0:00:16.287650", "seconds": 16.28765}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479365.74, today=479365.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.507433+05:30", "timestamp": 1755760185.507433}}}
{"text": "2025-08-21 12:39:45.507 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=595224.16, today=595224.16\n", "record": {"elapsed": {"repr": "0:00:16.288116", "seconds": 16.288116}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=595224.16, today=595224.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.507899+05:30", "timestamp": 1755760185.507899}}}
{"text": "2025-08-21 12:39:45.508 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3164788.51, today=-3164788.51\n", "record": {"elapsed": {"repr": "0:00:16.288576", "seconds": 16.288576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3164788.51, today=-3164788.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.508359+05:30", "timestamp": 1755760185.508359}}}
{"text": "2025-08-21 12:39:45.508 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=16380.65, today=16380.65\n", "record": {"elapsed": {"repr": "0:00:16.289004", "seconds": 16.289004}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=16380.65, today=16380.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.508787+05:30", "timestamp": 1755760185.508787}}}
{"text": "2025-08-21 12:39:45.509 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -686523.84, day: -686523.84\n", "record": {"elapsed": {"repr": "0:00:16.289383", "seconds": 16.289383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -686523.84, day: -686523.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.509166+05:30", "timestamp": 1755760185.509166}}}
{"text": "2025-08-21 12:39:45.509 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:16.289801", "seconds": 16.289801}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.509584+05:30", "timestamp": 1755760185.509584}}}
{"text": "2025-08-21 12:39:45.510 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:16.290324", "seconds": 16.290324}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.510107+05:30", "timestamp": 1755760185.510107}}}
{"text": "2025-08-21 12:39:45.510 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:16.290760", "seconds": 16.29076}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.510543+05:30", "timestamp": 1755760185.510543}}}
{"text": "2025-08-21 12:39:45.510 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:16.291204", "seconds": 16.291204}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.510987+05:30", "timestamp": 1755760185.510987}}}
{"text": "2025-08-21 12:39:45.512 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:45.506669+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:16.292257", "seconds": 16.292257}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:45.506669+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.512040+05:30", "timestamp": 1755760185.51204}}}
{"text": "2025-08-21 12:39:45.512 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:16.293039", "seconds": 16.293039}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.512822+05:30", "timestamp": 1755760185.512822}}}
{"text": "2025-08-21 12:39:45.514 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:16.294372", "seconds": 16.294372}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.514155+05:30", "timestamp": 1755760185.514155}}}
{"text": "2025-08-21 12:39:45.528 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.308398", "seconds": 16.308398}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.528181+05:30", "timestamp": 1755760185.528181}}}
{"text": "2025-08-21 12:39:45.529 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.309265", "seconds": 16.309265}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.529048+05:30", "timestamp": 1755760185.529048}}}
{"text": "2025-08-21 12:39:45.529 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.309728", "seconds": 16.309728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.529511+05:30", "timestamp": 1755760185.529511}}}
{"text": "2025-08-21 12:39:45.530 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.310230", "seconds": 16.31023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.530013+05:30", "timestamp": 1755760185.530013}}}
{"text": "2025-08-21 12:39:45.530 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.310836", "seconds": 16.310836}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.530619+05:30", "timestamp": 1755760185.530619}}}
{"text": "2025-08-21 12:39:45.531 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.311450", "seconds": 16.31145}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.531233+05:30", "timestamp": 1755760185.531233}}}
{"text": "2025-08-21 12:39:45.532 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.312333", "seconds": 16.312333}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.532116+05:30", "timestamp": 1755760185.532116}}}
{"text": "2025-08-21 12:39:45.532 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.313112", "seconds": 16.313112}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.532895+05:30", "timestamp": 1755760185.532895}}}
{"text": "2025-08-21 12:39:45.533 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.313644", "seconds": 16.313644}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.533427+05:30", "timestamp": 1755760185.533427}}}
{"text": "2025-08-21 12:39:45.533 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.314121", "seconds": 16.314121}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.533904+05:30", "timestamp": 1755760185.533904}}}
{"text": "2025-08-21 12:39:46.335 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:17.115490", "seconds": 17.11549}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:46.335273+05:30", "timestamp": 1755760186.335273}}}
{"text": "2025-08-21 12:39:47.178 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:17.958411", "seconds": 17.958411}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.178194+05:30", "timestamp": 1755760187.178194}}}
{"text": "2025-08-21 12:39:47.178 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:17.959038", "seconds": 17.959038}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.178821+05:30", "timestamp": 1755760187.178821}}}
{"text": "2025-08-21 12:39:47.179 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1390298.3, today=1390298.3\n", "record": {"elapsed": {"repr": "0:00:17.959774", "seconds": 17.959774}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1390298.3, today=1390298.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.179557+05:30", "timestamp": 1755760187.179557}}}
{"text": "2025-08-21 12:39:47.180 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479861.01, today=479861.01\n", "record": {"elapsed": {"repr": "0:00:17.960534", "seconds": 17.960534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479861.01, today=479861.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.180317+05:30", "timestamp": 1755760187.180317}}}
{"text": "2025-08-21 12:39:47.180 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=598311.41, today=598311.41\n", "record": {"elapsed": {"repr": "0:00:17.961205", "seconds": 17.961205}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=598311.41, today=598311.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.180988+05:30", "timestamp": 1755760187.180988}}}
{"text": "2025-08-21 12:39:47.181 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3163446.48, today=-3163446.48\n", "record": {"elapsed": {"repr": "0:00:17.961649", "seconds": 17.961649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3163446.48, today=-3163446.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.181432+05:30", "timestamp": 1755760187.181432}}}
{"text": "2025-08-21 12:39:47.181 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=13831.26, today=13831.26\n", "record": {"elapsed": {"repr": "0:00:17.962089", "seconds": 17.962089}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=13831.26, today=13831.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.181872+05:30", "timestamp": 1755760187.181872}}}
{"text": "2025-08-21 12:39:47.182 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -681144.5, day: -681144.5\n", "record": {"elapsed": {"repr": "0:00:17.962447", "seconds": 17.962447}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -681144.5, day: -681144.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.182230+05:30", "timestamp": 1755760187.18223}}}
{"text": "2025-08-21 12:39:47.182 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:17.962849", "seconds": 17.962849}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.182632+05:30", "timestamp": 1755760187.182632}}}
{"text": "2025-08-21 12:39:47.182 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:17.963209", "seconds": 17.963209}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.182992+05:30", "timestamp": 1755760187.182992}}}
{"text": "2025-08-21 12:39:47.183 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:17.963598", "seconds": 17.963598}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.183381+05:30", "timestamp": 1755760187.183381}}}
{"text": "2025-08-21 12:39:47.183 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:17.963924", "seconds": 17.963924}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.183707+05:30", "timestamp": 1755760187.183707}}}
{"text": "2025-08-21 12:39:47.184 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:47.179484+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:17.964270", "seconds": 17.96427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:47.179484+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.184053+05:30", "timestamp": 1755760187.184053}}}
{"text": "2025-08-21 12:39:47.184 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:17.965102", "seconds": 17.965102}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.184885+05:30", "timestamp": 1755760187.184885}}}
{"text": "2025-08-21 12:39:47.186 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:17.966970", "seconds": 17.96697}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.186753+05:30", "timestamp": 1755760187.186753}}}
{"text": "2025-08-21 12:39:47.534 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.314736", "seconds": 18.314736}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.534519+05:30", "timestamp": 1755760187.534519}}}
{"text": "2025-08-21 12:39:47.535 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.315804", "seconds": 18.315804}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.535587+05:30", "timestamp": 1755760187.535587}}}
{"text": "2025-08-21 12:39:47.536 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.316406", "seconds": 18.316406}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.536189+05:30", "timestamp": 1755760187.536189}}}
{"text": "2025-08-21 12:39:47.536 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.316832", "seconds": 18.316832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.536615+05:30", "timestamp": 1755760187.536615}}}
{"text": "2025-08-21 12:39:47.537 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.317272", "seconds": 18.317272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.537055+05:30", "timestamp": 1755760187.537055}}}
{"text": "2025-08-21 12:39:47.537 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.317731", "seconds": 18.317731}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.537514+05:30", "timestamp": 1755760187.537514}}}
{"text": "2025-08-21 12:39:47.538 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.318470", "seconds": 18.31847}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.538253+05:30", "timestamp": 1755760187.538253}}}
{"text": "2025-08-21 12:39:47.538 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.319195", "seconds": 18.319195}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.538978+05:30", "timestamp": 1755760187.538978}}}
{"text": "2025-08-21 12:39:47.539 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.319765", "seconds": 18.319765}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.539548+05:30", "timestamp": 1755760187.539548}}}
{"text": "2025-08-21 12:39:47.539 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.320171", "seconds": 18.320171}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.539954+05:30", "timestamp": 1755760187.539954}}}
{"text": "2025-08-21 12:39:49.200 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:19.980514", "seconds": 19.980514}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.200297+05:30", "timestamp": 1755760189.200297}}}
{"text": "2025-08-21 12:39:49.200 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:19.981083", "seconds": 19.981083}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.200866+05:30", "timestamp": 1755760189.200866}}}
{"text": "2025-08-21 12:39:49.201 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1399855.76, today=1399855.76\n", "record": {"elapsed": {"repr": "0:00:19.982082", "seconds": 19.982082}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1399855.76, today=1399855.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.201865+05:30", "timestamp": 1755760189.201865}}}
{"text": "2025-08-21 12:39:49.202 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=480442.56, today=480442.56\n", "record": {"elapsed": {"repr": "0:00:19.982624", "seconds": 19.982624}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=480442.56, today=480442.56", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.202407+05:30", "timestamp": 1755760189.202407}}}
{"text": "2025-08-21 12:39:49.202 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=580387.96, today=580387.96\n", "record": {"elapsed": {"repr": "0:00:19.983146", "seconds": 19.983146}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=580387.96, today=580387.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.202929+05:30", "timestamp": 1755760189.202929}}}
{"text": "2025-08-21 12:39:49.203 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3147539.85, today=-3147539.85\n", "record": {"elapsed": {"repr": "0:00:19.983654", "seconds": 19.983654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3147539.85, today=-3147539.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.203437+05:30", "timestamp": 1755760189.203437}}}
{"text": "2025-08-21 12:39:49.204 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=12556.02, today=12556.02\n", "record": {"elapsed": {"repr": "0:00:19.984357", "seconds": 19.984357}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=12556.02, today=12556.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.204140+05:30", "timestamp": 1755760189.20414}}}
{"text": "2025-08-21 12:39:49.205 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -674297.55, day: -674297.55\n", "record": {"elapsed": {"repr": "0:00:19.985390", "seconds": 19.98539}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -674297.55, day: -674297.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.205173+05:30", "timestamp": 1755760189.205173}}}
{"text": "2025-08-21 12:39:49.205 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:19.986127", "seconds": 19.986127}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.205910+05:30", "timestamp": 1755760189.20591}}}
{"text": "2025-08-21 12:39:49.206 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:19.986643", "seconds": 19.986643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.206426+05:30", "timestamp": 1755760189.206426}}}
{"text": "2025-08-21 12:39:49.206 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:19.987063", "seconds": 19.987063}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.206846+05:30", "timestamp": 1755760189.206846}}}
{"text": "2025-08-21 12:39:49.207 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:19.987529", "seconds": 19.987529}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.207312+05:30", "timestamp": 1755760189.207312}}}
{"text": "2025-08-21 12:39:49.207 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:49.201784+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:19.987944", "seconds": 19.987944}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:49.201784+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.207727+05:30", "timestamp": 1755760189.207727}}}
{"text": "2025-08-21 12:39:49.208 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:19.988741", "seconds": 19.988741}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.208524+05:30", "timestamp": 1755760189.208524}}}
{"text": "2025-08-21 12:39:49.210 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:19.990552", "seconds": 19.990552}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.210335+05:30", "timestamp": 1755760189.210335}}}
{"text": "2025-08-21 12:39:49.540 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.321050", "seconds": 20.32105}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.540833+05:30", "timestamp": 1755760189.540833}}}
{"text": "2025-08-21 12:39:49.541 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.321622", "seconds": 20.321622}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.541405+05:30", "timestamp": 1755760189.541405}}}
{"text": "2025-08-21 12:39:49.541 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.322133", "seconds": 20.322133}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.541916+05:30", "timestamp": 1755760189.541916}}}
{"text": "2025-08-21 12:39:49.542 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.322929", "seconds": 20.322929}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.542712+05:30", "timestamp": 1755760189.542712}}}
{"text": "2025-08-21 12:39:49.543 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.323547", "seconds": 20.323547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.543330+05:30", "timestamp": 1755760189.54333}}}
{"text": "2025-08-21 12:39:49.543 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.323904", "seconds": 20.323904}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.543687+05:30", "timestamp": 1755760189.543687}}}
{"text": "2025-08-21 12:39:49.544 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.324322", "seconds": 20.324322}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.544105+05:30", "timestamp": 1755760189.544105}}}
{"text": "2025-08-21 12:39:49.544 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.324804", "seconds": 20.324804}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.544587+05:30", "timestamp": 1755760189.544587}}}
{"text": "2025-08-21 12:39:49.545 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.325256", "seconds": 20.325256}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.545039+05:30", "timestamp": 1755760189.545039}}}
{"text": "2025-08-21 12:39:49.545 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.325812", "seconds": 20.325812}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.545595+05:30", "timestamp": 1755760189.545595}}}
{"text": "2025-08-21 12:39:50.725 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:21.505277", "seconds": 21.505277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.725060+05:30", "timestamp": 1755760190.72506}}}
{"text": "2025-08-21 12:39:50.725 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:21.506216", "seconds": 21.506216}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.725999+05:30", "timestamp": 1755760190.725999}}}
{"text": "2025-08-21 12:39:50.726 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1418281.39, today=1418281.39\n", "record": {"elapsed": {"repr": "0:00:21.506792", "seconds": 21.506792}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1418281.39, today=1418281.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.726575+05:30", "timestamp": 1755760190.726575}}}
{"text": "2025-08-21 12:39:50.727 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=481305.13, today=481305.13\n", "record": {"elapsed": {"repr": "0:00:21.507257", "seconds": 21.507257}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=481305.13, today=481305.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.727040+05:30", "timestamp": 1755760190.72704}}}
{"text": "2025-08-21 12:39:50.727 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=612834.95, today=612834.95\n", "record": {"elapsed": {"repr": "0:00:21.507665", "seconds": 21.507665}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=612834.95, today=612834.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.727448+05:30", "timestamp": 1755760190.727448}}}
{"text": "2025-08-21 12:39:50.727 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3119197.37, today=-3119197.37\n", "record": {"elapsed": {"repr": "0:00:21.508153", "seconds": 21.508153}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3119197.37, today=-3119197.37", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.727936+05:30", "timestamp": 1755760190.727936}}}
{"text": "2025-08-21 12:39:50.728 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=15244.95, today=15244.95\n", "record": {"elapsed": {"repr": "0:00:21.508646", "seconds": 21.508646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=15244.95, today=15244.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.728429+05:30", "timestamp": 1755760190.728429}}}
{"text": "2025-08-21 12:39:50.729 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -591530.95, day: -591530.95\n", "record": {"elapsed": {"repr": "0:00:21.509287", "seconds": 21.509287}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -591530.95, day: -591530.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.729070+05:30", "timestamp": 1755760190.72907}}}
{"text": "2025-08-21 12:39:50.729 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:21.510034", "seconds": 21.510034}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.729817+05:30", "timestamp": 1755760190.729817}}}
{"text": "2025-08-21 12:39:50.730 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:21.510599", "seconds": 21.510599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.730382+05:30", "timestamp": 1755760190.730382}}}
{"text": "2025-08-21 12:39:50.730 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:21.510955", "seconds": 21.510955}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.730738+05:30", "timestamp": 1755760190.730738}}}
{"text": "2025-08-21 12:39:50.731 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:21.511449", "seconds": 21.511449}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.731232+05:30", "timestamp": 1755760190.731232}}}
{"text": "2025-08-21 12:39:50.731 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:50.726517+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:21.512031", "seconds": 21.512031}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:50.726517+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.731814+05:30", "timestamp": 1755760190.731814}}}
{"text": "2025-08-21 12:39:50.732 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:21.512799", "seconds": 21.512799}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.732582+05:30", "timestamp": 1755760190.732582}}}
{"text": "2025-08-21 12:39:50.734 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:21.514608", "seconds": 21.514608}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.734391+05:30", "timestamp": 1755760190.734391}}}
{"text": "2025-08-21 12:39:51.547 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.327344", "seconds": 22.327344}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.547127+05:30", "timestamp": 1755760191.547127}}}
{"text": "2025-08-21 12:39:51.547 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.328215", "seconds": 22.328215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.547998+05:30", "timestamp": 1755760191.547998}}}
{"text": "2025-08-21 12:39:51.548 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.328785", "seconds": 22.328785}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.548568+05:30", "timestamp": 1755760191.548568}}}
{"text": "2025-08-21 12:39:51.549 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.329377", "seconds": 22.329377}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.549160+05:30", "timestamp": 1755760191.54916}}}
{"text": "2025-08-21 12:39:51.550 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.330397", "seconds": 22.330397}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.550180+05:30", "timestamp": 1755760191.55018}}}
{"text": "2025-08-21 12:39:51.550 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.331018", "seconds": 22.331018}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.550801+05:30", "timestamp": 1755760191.550801}}}
{"text": "2025-08-21 12:39:51.551 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.331532", "seconds": 22.331532}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.551315+05:30", "timestamp": 1755760191.551315}}}
{"text": "2025-08-21 12:39:51.551 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.332091", "seconds": 22.332091}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.551874+05:30", "timestamp": 1755760191.551874}}}
{"text": "2025-08-21 12:39:51.552 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.332647", "seconds": 22.332647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.552430+05:30", "timestamp": 1755760191.55243}}}
{"text": "2025-08-21 12:39:51.553 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.333421", "seconds": 22.333421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.553204+05:30", "timestamp": 1755760191.553204}}}
{"text": "2025-08-21 12:39:52.132 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:22.913179", "seconds": 22.913179}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:52.132962+05:30", "timestamp": 1755760192.132962}}}
{"text": "2025-08-21 12:39:52.133 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:22.914062", "seconds": 22.914062}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:52.133845+05:30", "timestamp": 1755760192.133845}}}
{"text": "2025-08-21 12:39:52.134 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:22.914577", "seconds": 22.914577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:52.134360+05:30", "timestamp": 1755760192.13436}}}
{"text": "2025-08-21 12:41:07.705 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.055370", "seconds": 0.05537}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.705340+05:30", "timestamp": 1755760267.70534}}}
{"text": "2025-08-21 12:41:07.706 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=4737, avg_price=1542.0736465912, ltp=1436.7600743005783\n", "record": {"elapsed": {"repr": "0:00:00.056776", "seconds": 0.056776}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=4737, avg_price=1542.0736465912, ltp=1436.7600743005783", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.706746+05:30", "timestamp": 1755760267.706746}}}
{"text": "2025-08-21 12:41:07.707 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=1228, avg_price=1306.4368563847925, ltp=1070.0823212765465\n", "record": {"elapsed": {"repr": "0:00:00.057538", "seconds": 0.057538}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=1228, avg_price=1306.4368563847925, ltp=1070.0823212765465", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.707508+05:30", "timestamp": 1755760267.707508}}}
{"text": "2025-08-21 12:41:07.708 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=2032, avg_price=1429.6418101871357, ltp=1627.4662294323107\n", "record": {"elapsed": {"repr": "0:00:00.058400", "seconds": 0.0584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=2032, avg_price=1429.6418101871357, ltp=1627.4662294323107", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.708370+05:30", "timestamp": 1755760267.70837}}}
{"text": "2025-08-21 12:41:07.709 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=4397, avg_price=1500.7642980340195, ltp=1412.1941289048025\n", "record": {"elapsed": {"repr": "0:00:00.059111", "seconds": 0.059111}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=4397, avg_price=1500.7642980340195, ltp=1412.1941289048025", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.709081+05:30", "timestamp": 1755760267.709081}}}
{"text": "2025-08-21 12:41:07.709 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=4998, avg_price=462.3373405274647, ltp=435.05160225768327\n", "record": {"elapsed": {"repr": "0:00:00.059947", "seconds": 0.059947}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=4998, avg_price=462.3373405274647, ltp=435.05160225768327", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.709917+05:30", "timestamp": 1755760267.709917}}}
{"text": "2025-08-21 12:41:07.710 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=1891, avg_price=1705.7792734320924, ltp=1965.2614909026536\n", "record": {"elapsed": {"repr": "0:00:00.060755", "seconds": 0.060755}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=1891, avg_price=1705.7792734320924, ltp=1965.2614909026536", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.710725+05:30", "timestamp": 1755760267.710725}}}
{"text": "2025-08-21 12:41:07.711 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=1966, avg_price=1553.863565582806, ltp=1526.628048798397\n", "record": {"elapsed": {"repr": "0:00:00.061444", "seconds": 0.061444}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=1966, avg_price=1553.863565582806, ltp=1526.628048798397", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.711414+05:30", "timestamp": 1755760267.711414}}}
{"text": "2025-08-21 12:41:07.712 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=4353, avg_price=1494.8170057518505, ltp=1447.9344737075276\n", "record": {"elapsed": {"repr": "0:00:00.062076", "seconds": 0.062076}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=4353, avg_price=1494.8170057518505, ltp=1447.9344737075276", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.712046+05:30", "timestamp": 1755760267.712046}}}
{"text": "2025-08-21 12:41:07.712 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=2601, avg_price=1017.4440236623083, ltp=967.7121792451844\n", "record": {"elapsed": {"repr": "0:00:00.062832", "seconds": 0.062832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=2601, avg_price=1017.4440236623083, ltp=967.7121792451844", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.712802+05:30", "timestamp": 1755760267.712802}}}
{"text": "2025-08-21 12:41:07.713 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=1343, avg_price=1883.925628465259, ltp=1571.230300975821\n", "record": {"elapsed": {"repr": "0:00:00.063578", "seconds": 0.063578}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=1343, avg_price=1883.925628465259, ltp=1571.230300975821", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.713548+05:30", "timestamp": 1755760267.713548}}}
{"text": "2025-08-21 12:41:07.714 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.064225", "seconds": 0.064225}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.714195+05:30", "timestamp": 1755760267.714195}}}
{"text": "2025-08-21 12:41:07.715 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1754, avg_price=412.11\n", "record": {"elapsed": {"repr": "0:00:00.065285", "seconds": 0.065285}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1754, avg_price=412.11", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.715255+05:30", "timestamp": 1755760267.715255}}}
{"text": "2025-08-21 12:41:07.715 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1435, avg_price=1297.14\n", "record": {"elapsed": {"repr": "0:00:00.065956", "seconds": 0.065956}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1435, avg_price=1297.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.715926+05:30", "timestamp": 1755760267.715926}}}
{"text": "2025-08-21 12:41:07.716 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1124, avg_price=734.19\n", "record": {"elapsed": {"repr": "0:00:00.066718", "seconds": 0.066718}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1124, avg_price=734.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.716688+05:30", "timestamp": 1755760267.716688}}}
{"text": "2025-08-21 12:41:07.717 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1431, avg_price=394.69\n", "record": {"elapsed": {"repr": "0:00:00.067520", "seconds": 0.06752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1431, avg_price=394.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.717490+05:30", "timestamp": 1755760267.71749}}}
{"text": "2025-08-21 12:41:07.718 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=106, avg_price=526.79\n", "record": {"elapsed": {"repr": "0:00:00.068701", "seconds": 0.068701}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=106, avg_price=526.79", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.718671+05:30", "timestamp": 1755760267.718671}}}
{"text": "2025-08-21 12:41:07.719 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.069528", "seconds": 0.069528}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.719498+05:30", "timestamp": 1755760267.719498}}}
{"text": "2025-08-21 12:41:07.720 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.070267", "seconds": 0.070267}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.720237+05:30", "timestamp": 1755760267.720237}}}
{"text": "2025-08-21 12:41:07.721 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.071300", "seconds": 0.0713}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.721270+05:30", "timestamp": 1755760267.72127}}}
{"text": "2025-08-21 12:41:07.721 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.071882", "seconds": 0.071882}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.721852+05:30", "timestamp": 1755760267.721852}}}
{"text": "2025-08-21 12:41:07.746 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.096203", "seconds": 0.096203}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.746173+05:30", "timestamp": 1755760267.746173}}}
{"text": "2025-08-21 12:41:07.750 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.100033", "seconds": 0.100033}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.750003+05:30", "timestamp": 1755760267.750003}}}
{"text": "2025-08-21 12:41:07.750 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.100994", "seconds": 0.100994}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.750964+05:30", "timestamp": 1755760267.750964}}}
{"text": "2025-08-21 12:41:07.751 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.102001", "seconds": 0.102001}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.751971+05:30", "timestamp": 1755760267.751971}}}
{"text": "2025-08-21 12:41:07.752 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.102712", "seconds": 0.102712}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.752682+05:30", "timestamp": 1755760267.752682}}}
{"text": "2025-08-21 12:41:09.539 | DEBUG    | app.ws.live:emit_delta:375 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:01.889907", "seconds": 1.889907}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.539877+05:30", "timestamp": 1755760269.539877}}}
{"text": "2025-08-21 12:41:09.540 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:01.890732", "seconds": 1.890732}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.540702+05:30", "timestamp": 1755760269.540702}}}
{"text": "2025-08-21 12:41:09.541 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:01.891512", "seconds": 1.891512}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.541482+05:30", "timestamp": 1755760269.541482}}}
{"text": "2025-08-21 12:41:09.542 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1797236.23, today=1797236.23\n", "record": {"elapsed": {"repr": "0:00:01.892296", "seconds": 1.892296}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1797236.23, today=1797236.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.542266+05:30", "timestamp": 1755760269.542266}}}
{"text": "2025-08-21 12:41:09.542 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=325827.77, today=325827.77\n", "record": {"elapsed": {"repr": "0:00:01.892842", "seconds": 1.892842}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=325827.77, today=325827.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.542812+05:30", "timestamp": 1755760269.542812}}}
{"text": "2025-08-21 12:41:09.543 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1004042.48, today=1004042.48\n", "record": {"elapsed": {"repr": "0:00:01.893289", "seconds": 1.893289}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1004042.48, today=1004042.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.543259+05:30", "timestamp": 1755760269.543259}}}
{"text": "2025-08-21 12:41:09.543 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1456048.41, today=-1456048.41\n", "record": {"elapsed": {"repr": "0:00:01.893694", "seconds": 1.893694}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1456048.41, today=-1456048.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.543664+05:30", "timestamp": 1755760269.543664}}}
{"text": "2025-08-21 12:41:09.544 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-9724.27, today=-9724.27\n", "record": {"elapsed": {"repr": "0:00:01.894104", "seconds": 1.894104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-9724.27, today=-9724.27", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.544074+05:30", "timestamp": 1755760269.544074}}}
{"text": "2025-08-21 12:41:09.544 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1661333.8, day: 1661333.8\n", "record": {"elapsed": {"repr": "0:00:01.894533", "seconds": 1.894533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1661333.8, day: 1661333.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.544503+05:30", "timestamp": 1755760269.544503}}}
{"text": "2025-08-21 12:41:09.544 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:01.894926", "seconds": 1.894926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.544896+05:30", "timestamp": 1755760269.544896}}}
{"text": "2025-08-21 12:41:09.545 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:01.895405", "seconds": 1.895405}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.545375+05:30", "timestamp": 1755760269.545375}}}
{"text": "2025-08-21 12:41:09.545 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:01.895998", "seconds": 1.895998}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.545968+05:30", "timestamp": 1755760269.545968}}}
{"text": "2025-08-21 12:41:09.546 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:01.896567", "seconds": 1.896567}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.546537+05:30", "timestamp": 1755760269.546537}}}
{"text": "2025-08-21 12:41:09.547 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:41:09.542171+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:01.897495", "seconds": 1.897495}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:41:09.542171+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.547465+05:30", "timestamp": 1755760269.547465}}}
{"text": "2025-08-21 12:41:09.548 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1661333.8, day=1661333.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1436.76, unrealized=1797236.23, today_pnl=1797236.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1070.08, unrealized=325827.77, today_pnl=325827.77), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1627.47, unrealized=1004042.48, today_pnl=1004042.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1412.19, unrealized=-1456048.41, today_pnl=-1456048.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=435.05, unrealized=-9724.27, today_pnl=-9724.27)] updated_at=datetime.datetime(2025, 8, 21, 12, 41, 9, 542171, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:01.898281", "seconds": 1.898281}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1661333.8, day=1661333.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1436.76, unrealized=1797236.23, today_pnl=1797236.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1070.08, unrealized=325827.77, today_pnl=325827.77), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1627.47, unrealized=1004042.48, today_pnl=1004042.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1412.19, unrealized=-1456048.41, today_pnl=-1456048.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=435.05, unrealized=-9724.27, today_pnl=-9724.27)] updated_at=datetime.datetime(2025, 8, 21, 12, 41, 9, 542171, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.548251+05:30", "timestamp": 1755760269.548251}}}
{"text": "2025-08-21 12:41:09.549 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1661333.8, day=1661333.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1436.76, unrealized=1797236.23, today_pnl=1797236.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1070.08, unrealized=325827.77, today_pnl=325827.77), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1627.47, unrealized=1004042.48, today_pnl=1004042.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1412.19, unrealized=-1456048.41, today_pnl=-1456048.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=435.05, unrealized=-9724.27, today_pnl=-9724.27)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 41, 9, 542171, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:01.899179", "seconds": 1.899179}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1661333.8, day=1661333.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1436.76, unrealized=1797236.23, today_pnl=1797236.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1070.08, unrealized=325827.77, today_pnl=325827.77), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1627.47, unrealized=1004042.48, today_pnl=1004042.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1412.19, unrealized=-1456048.41, today_pnl=-1456048.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=435.05, unrealized=-9724.27, today_pnl=-9724.27)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 41, 9, 542171, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.549149+05:30", "timestamp": 1755760269.549149}}}
{"text": "2025-08-21 12:41:09.550 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1661333.80\n", "record": {"elapsed": {"repr": "0:00:01.900125", "seconds": 1.900125}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1661333.80", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.550095+05:30", "timestamp": 1755760269.550095}}}
{"text": "2025-08-21 12:41:09.551 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType\n", "record": {"elapsed": {"repr": "0:00:01.901290", "seconds": 1.90129}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.551260+05:30", "timestamp": 1755760269.55126}}}
{"text": "2025-08-21 12:41:09.724 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.074454", "seconds": 2.074454}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.724424+05:30", "timestamp": 1755760269.724424}}}
{"text": "2025-08-21 12:41:09.725 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.075769", "seconds": 2.075769}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.725739+05:30", "timestamp": 1755760269.725739}}}
{"text": "2025-08-21 12:41:09.726 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.076393", "seconds": 2.076393}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.726363+05:30", "timestamp": 1755760269.726363}}}
{"text": "2025-08-21 12:41:09.726 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.076839", "seconds": 2.076839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.726809+05:30", "timestamp": 1755760269.726809}}}
{"text": "2025-08-21 12:41:09.727 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.077240", "seconds": 2.07724}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.727210+05:30", "timestamp": 1755760269.72721}}}
{"text": "2025-08-21 12:41:09.727 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.077677", "seconds": 2.077677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.727647+05:30", "timestamp": 1755760269.727647}}}
{"text": "2025-08-21 12:41:09.728 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.078366", "seconds": 2.078366}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.728336+05:30", "timestamp": 1755760269.728336}}}
{"text": "2025-08-21 12:41:09.728 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.078975", "seconds": 2.078975}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.728945+05:30", "timestamp": 1755760269.728945}}}
{"text": "2025-08-21 12:41:09.729 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.079617", "seconds": 2.079617}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.729587+05:30", "timestamp": 1755760269.729587}}}
{"text": "2025-08-21 12:41:09.730 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.080587", "seconds": 2.080587}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.730557+05:30", "timestamp": 1755760269.730557}}}
{"text": "2025-08-21 12:41:10.542 | DEBUG    | app.ws.live:emit_delta:375 - Emitted orders delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:02.892825", "seconds": 2.892825}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted orders delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:10.542795+05:30", "timestamp": 1755760270.542795}}}
{"text": "2025-08-21 12:41:11.217 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:03.567537", "seconds": 3.567537}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:11.217507+05:30", "timestamp": 1755760271.217507}}}
{"text": "2025-08-21 12:41:11.731 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.081506", "seconds": 4.081506}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.731476+05:30", "timestamp": 1755760271.731476}}}
{"text": "2025-08-21 12:41:11.732 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.082376", "seconds": 4.082376}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.732346+05:30", "timestamp": 1755760271.732346}}}
{"text": "2025-08-21 12:41:11.733 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.083186", "seconds": 4.083186}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.733156+05:30", "timestamp": 1755760271.733156}}}
{"text": "2025-08-21 12:41:11.733 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.083700", "seconds": 4.0837}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.733670+05:30", "timestamp": 1755760271.73367}}}
{"text": "2025-08-21 12:41:11.734 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.084371", "seconds": 4.084371}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.734341+05:30", "timestamp": 1755760271.734341}}}
{"text": "2025-08-21 12:41:11.734 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.084871", "seconds": 4.084871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.734841+05:30", "timestamp": 1755760271.734841}}}
{"text": "2025-08-21 12:41:11.735 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.085288", "seconds": 4.085288}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.735258+05:30", "timestamp": 1755760271.735258}}}
{"text": "2025-08-21 12:41:11.735 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.085733", "seconds": 4.085733}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.735703+05:30", "timestamp": 1755760271.735703}}}
{"text": "2025-08-21 12:41:11.736 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.086282", "seconds": 4.086282}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.736252+05:30", "timestamp": 1755760271.736252}}}
{"text": "2025-08-21 12:41:11.737 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.087262", "seconds": 4.087262}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.737232+05:30", "timestamp": 1755760271.737232}}}
{"text": "2025-08-21 12:41:13.738 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.088363", "seconds": 6.088363}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.738333+05:30", "timestamp": 1755760273.738333}}}
{"text": "2025-08-21 12:41:13.739 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.089239", "seconds": 6.089239}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.739209+05:30", "timestamp": 1755760273.739209}}}
{"text": "2025-08-21 12:41:13.739 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.090019", "seconds": 6.090019}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.739989+05:30", "timestamp": 1755760273.739989}}}
{"text": "2025-08-21 12:41:13.740 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.090531", "seconds": 6.090531}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.740501+05:30", "timestamp": 1755760273.740501}}}
{"text": "2025-08-21 12:41:13.740 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.090963", "seconds": 6.090963}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.740933+05:30", "timestamp": 1755760273.740933}}}
{"text": "2025-08-21 12:41:13.741 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.091410", "seconds": 6.09141}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.741380+05:30", "timestamp": 1755760273.74138}}}
{"text": "2025-08-21 12:41:13.741 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.091798", "seconds": 6.091798}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.741768+05:30", "timestamp": 1755760273.741768}}}
{"text": "2025-08-21 12:41:13.742 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.092181", "seconds": 6.092181}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.742151+05:30", "timestamp": 1755760273.742151}}}
{"text": "2025-08-21 12:41:13.742 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.092598", "seconds": 6.092598}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.742568+05:30", "timestamp": 1755760273.742568}}}
{"text": "2025-08-21 12:41:13.742 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.093014", "seconds": 6.093014}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.742984+05:30", "timestamp": 1755760273.742984}}}
{"text": "2025-08-21 12:41:15.744 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.094069", "seconds": 8.094069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.744039+05:30", "timestamp": 1755760275.744039}}}
{"text": "2025-08-21 12:41:15.744 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.094728", "seconds": 8.094728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.744698+05:30", "timestamp": 1755760275.744698}}}
{"text": "2025-08-21 12:41:15.745 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.095253", "seconds": 8.095253}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.745223+05:30", "timestamp": 1755760275.745223}}}
{"text": "2025-08-21 12:41:15.745 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.095881", "seconds": 8.095881}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.745851+05:30", "timestamp": 1755760275.745851}}}
{"text": "2025-08-21 12:41:15.746 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.096645", "seconds": 8.096645}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.746615+05:30", "timestamp": 1755760275.746615}}}
{"text": "2025-08-21 12:41:15.747 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.097354", "seconds": 8.097354}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.747324+05:30", "timestamp": 1755760275.747324}}}
{"text": "2025-08-21 12:41:15.747 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.097832", "seconds": 8.097832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.747802+05:30", "timestamp": 1755760275.747802}}}
{"text": "2025-08-21 12:41:15.748 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.098215", "seconds": 8.098215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.748185+05:30", "timestamp": 1755760275.748185}}}
{"text": "2025-08-21 12:41:15.748 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.098727", "seconds": 8.098727}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.748697+05:30", "timestamp": 1755760275.748697}}}
{"text": "2025-08-21 12:41:15.749 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.099121", "seconds": 8.099121}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.749091+05:30", "timestamp": 1755760275.749091}}}
{"text": "2025-08-21 12:41:16.242 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.592073", "seconds": 8.592073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.242043+05:30", "timestamp": 1755760276.242043}}}
{"text": "2025-08-21 12:41:16.242 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.592720", "seconds": 8.59272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.242690+05:30", "timestamp": 1755760276.24269}}}
{"text": "2025-08-21 12:41:16.243 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1764736.05, today=1764736.05\n", "record": {"elapsed": {"repr": "0:00:08.593774", "seconds": 8.593774}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1764736.05, today=1764736.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.243744+05:30", "timestamp": 1755760276.243744}}}
{"text": "2025-08-21 12:41:16.244 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=360935.78, today=360935.78\n", "record": {"elapsed": {"repr": "0:00:08.594308", "seconds": 8.594308}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=360935.78, today=360935.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.244278+05:30", "timestamp": 1755760276.244278}}}
{"text": "2025-08-21 12:41:16.244 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=985697.71, today=985697.71\n", "record": {"elapsed": {"repr": "0:00:08.594718", "seconds": 8.594718}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=985697.71, today=985697.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.244688+05:30", "timestamp": 1755760276.244688}}}
{"text": "2025-08-21 12:41:16.245 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1433121.26, today=-1433121.26\n", "record": {"elapsed": {"repr": "0:00:08.595254", "seconds": 8.595254}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1433121.26, today=-1433121.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.245224+05:30", "timestamp": 1755760276.245224}}}
{"text": "2025-08-21 12:41:16.245 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-10000.48, today=-10000.48\n", "record": {"elapsed": {"repr": "0:00:08.595781", "seconds": 8.595781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-10000.48, today=-10000.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.245751+05:30", "timestamp": 1755760276.245751}}}
{"text": "2025-08-21 12:41:16.246 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1668247.8, day: 1668247.8\n", "record": {"elapsed": {"repr": "0:00:08.596459", "seconds": 8.596459}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1668247.8, day: 1668247.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.246429+05:30", "timestamp": 1755760276.246429}}}
{"text": "2025-08-21 12:41:16.247 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.597162", "seconds": 8.597162}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.247132+05:30", "timestamp": 1755760276.247132}}}
{"text": "2025-08-21 12:41:16.247 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.597866", "seconds": 8.597866}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.247836+05:30", "timestamp": 1755760276.247836}}}
{"text": "2025-08-21 12:41:16.248 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.598364", "seconds": 8.598364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.248334+05:30", "timestamp": 1755760276.248334}}}
{"text": "2025-08-21 12:41:16.248 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.598802", "seconds": 8.598802}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.248772+05:30", "timestamp": 1755760276.248772}}}
{"text": "2025-08-21 12:41:16.249 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:41:16.243664+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.599175", "seconds": 8.599175}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:41:16.243664+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.249145+05:30", "timestamp": 1755760276.249145}}}
{"text": "2025-08-21 12:41:16.249 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1668247.8, day=1668247.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1418.23, unrealized=1764736.05, today_pnl=1764736.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1045.62, unrealized=360935.78, today_pnl=360935.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1611.15, unrealized=985697.71, today_pnl=985697.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1396.17, unrealized=-1433121.26, today_pnl=-1433121.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=432.45, unrealized=-10000.48, today_pnl=-10000.48)] updated_at=datetime.datetime(2025, 8, 21, 12, 41, 16, 243664, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:08.599744", "seconds": 8.599744}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1668247.8, day=1668247.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1418.23, unrealized=1764736.05, today_pnl=1764736.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1045.62, unrealized=360935.78, today_pnl=360935.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1611.15, unrealized=985697.71, today_pnl=985697.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1396.17, unrealized=-1433121.26, today_pnl=-1433121.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=432.45, unrealized=-10000.48, today_pnl=-10000.48)] updated_at=datetime.datetime(2025, 8, 21, 12, 41, 16, 243664, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.249714+05:30", "timestamp": 1755760276.249714}}}
{"text": "2025-08-21 12:41:16.250 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1668247.8, day=1668247.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1418.23, unrealized=1764736.05, today_pnl=1764736.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1045.62, unrealized=360935.78, today_pnl=360935.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1611.15, unrealized=985697.71, today_pnl=985697.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1396.17, unrealized=-1433121.26, today_pnl=-1433121.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=432.45, unrealized=-10000.48, today_pnl=-10000.48)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 41, 16, 243664, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:08.600520", "seconds": 8.60052}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1668247.8, day=1668247.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1418.23, unrealized=1764736.05, today_pnl=1764736.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1045.62, unrealized=360935.78, today_pnl=360935.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1611.15, unrealized=985697.71, today_pnl=985697.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1396.17, unrealized=-1433121.26, today_pnl=-1433121.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=432.45, unrealized=-10000.48, today_pnl=-10000.48)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 41, 16, 243664, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.250490+05:30", "timestamp": 1755760276.25049}}}
{"text": "2025-08-21 12:41:16.251 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1668247.80\n", "record": {"elapsed": {"repr": "0:00:08.601342", "seconds": 8.601342}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1668247.80", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.251312+05:30", "timestamp": 1755760276.251312}}}
{"text": "2025-08-21 12:41:16.252 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:08.602390", "seconds": 8.60239}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.252360+05:30", "timestamp": 1755760276.25236}}}
{"text": "2025-08-21 12:41:17.749 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.100013", "seconds": 10.100013}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.749983+05:30", "timestamp": 1755760277.749983}}}
{"text": "2025-08-21 12:41:17.751 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.101123", "seconds": 10.101123}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.751093+05:30", "timestamp": 1755760277.751093}}}
{"text": "2025-08-21 12:41:17.751 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.101586", "seconds": 10.101586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.751556+05:30", "timestamp": 1755760277.751556}}}
{"text": "2025-08-21 12:41:17.752 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.102102", "seconds": 10.102102}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.752072+05:30", "timestamp": 1755760277.752072}}}
{"text": "2025-08-21 12:41:17.752 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.102709", "seconds": 10.102709}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.752679+05:30", "timestamp": 1755760277.752679}}}
{"text": "2025-08-21 12:41:17.753 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.103443", "seconds": 10.103443}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.753413+05:30", "timestamp": 1755760277.753413}}}
{"text": "2025-08-21 12:41:17.754 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.104160", "seconds": 10.10416}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.754130+05:30", "timestamp": 1755760277.75413}}}
{"text": "2025-08-21 12:41:17.754 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.104688", "seconds": 10.104688}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.754658+05:30", "timestamp": 1755760277.754658}}}
{"text": "2025-08-21 12:41:17.755 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.105096", "seconds": 10.105096}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.755066+05:30", "timestamp": 1755760277.755066}}}
{"text": "2025-08-21 12:41:17.755 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.105565", "seconds": 10.105565}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.755535+05:30", "timestamp": 1755760277.755535}}}
{"text": "2025-08-21 12:41:17.758 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:10.108771", "seconds": 10.108771}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:17.758741+05:30", "timestamp": 1755760277.758741}}}
{"text": "2025-08-21 12:41:19.756 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.106164", "seconds": 12.106164}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.756134+05:30", "timestamp": 1755760279.756134}}}
{"text": "2025-08-21 12:41:19.756 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.106856", "seconds": 12.106856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.756826+05:30", "timestamp": 1755760279.756826}}}
{"text": "2025-08-21 12:41:19.757 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.107327", "seconds": 12.107327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.757297+05:30", "timestamp": 1755760279.757297}}}
{"text": "2025-08-21 12:41:19.758 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.108342", "seconds": 12.108342}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.758312+05:30", "timestamp": 1755760279.758312}}}
{"text": "2025-08-21 12:41:19.758 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.108871", "seconds": 12.108871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.758841+05:30", "timestamp": 1755760279.758841}}}
{"text": "2025-08-21 12:41:19.759 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.109388", "seconds": 12.109388}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.759358+05:30", "timestamp": 1755760279.759358}}}
{"text": "2025-08-21 12:41:19.759 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.109793", "seconds": 12.109793}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.759763+05:30", "timestamp": 1755760279.759763}}}
{"text": "2025-08-21 12:41:19.760 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.110312", "seconds": 12.110312}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.760282+05:30", "timestamp": 1755760279.760282}}}
{"text": "2025-08-21 12:41:19.760 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.110844", "seconds": 12.110844}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.760814+05:30", "timestamp": 1755760279.760814}}}
{"text": "2025-08-21 12:41:19.761 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.111518", "seconds": 12.111518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.761488+05:30", "timestamp": 1755760279.761488}}}
{"text": "2025-08-21 12:41:20.890 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:13.240871", "seconds": 13.240871}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:20.890841+05:30", "timestamp": 1755760280.890841}}}
{"text": "2025-08-21 12:41:20.891 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:13.241685", "seconds": 13.241685}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:20.891655+05:30", "timestamp": 1755760280.891655}}}
{"text": "2025-08-21 12:41:20.892 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:13.242302", "seconds": 13.242302}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:20.892272+05:30", "timestamp": 1755760280.892272}}}
