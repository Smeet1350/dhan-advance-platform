{"text": "2025-08-21 17:36:59.767 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:44.903726", "seconds": 44.903726}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:36:59.767608+05:30", "timestamp": 1755778019.767608}}}
{"text": "2025-08-21 17:36:59.772 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:44.908889", "seconds": 44.908889}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:36:59.772771+05:30", "timestamp": 1755778019.772771}}}
{"text": "2025-08-21 17:36:59.774 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=62\n", "record": {"elapsed": {"repr": "0:00:44.910424", "seconds": 44.910424}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=62", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:36:59.774306+05:30", "timestamp": 1755778019.774306}}}
{"text": "2025-08-21 17:37:00.110 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:45.246687", "seconds": 45.246687}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.110569+05:30", "timestamp": 1755778020.110569}}}
{"text": "2025-08-21 17:37:00.131 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:45.268080", "seconds": 45.26808}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.131962+05:30", "timestamp": 1755778020.131962}}}
{"text": "2025-08-21 17:37:00.134 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=63\n", "record": {"elapsed": {"repr": "0:00:45.270753", "seconds": 45.270753}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=63", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.134635+05:30", "timestamp": 1755778020.134635}}}
{"text": "2025-08-21 17:37:00.136 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=64\n", "record": {"elapsed": {"repr": "0:00:45.272879", "seconds": 45.272879}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=64", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.136761+05:30", "timestamp": 1755778020.136761}}}
{"text": "2025-08-21 17:37:00.299 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Trade is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:45.435558", "seconds": 45.435558}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Trade is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.299440+05:30", "timestamp": 1755778020.29944}}}
{"text": "2025-08-21 17:37:00.301 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Trade is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:45.437774", "seconds": 45.437774}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Trade is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.301656+05:30", "timestamp": 1755778020.301656}}}
{"text": "2025-08-21 17:37:00.302 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:45.438445", "seconds": 45.438445}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.302327+05:30", "timestamp": 1755778020.302327}}}
{"text": "2025-08-21 17:37:00.302 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:45.439010", "seconds": 45.43901}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.302892+05:30", "timestamp": 1755778020.302892}}}
{"text": "2025-08-21 17:37:00.303 | DEBUG    | app.ws.live:emit_delta:408 - Emitted trades delta: seq=65\n", "record": {"elapsed": {"repr": "0:00:45.439579", "seconds": 45.439579}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted trades delta: seq=65", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.303461+05:30", "timestamp": 1755778020.303461}}}
{"text": "2025-08-21 17:37:00.307 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:45.444102", "seconds": 45.444102}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.307984+05:30", "timestamp": 1755778020.307984}}}
{"text": "2025-08-21 17:37:00.496 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:45.632121", "seconds": 45.632121}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.496003+05:30", "timestamp": 1755778020.496003}}}
{"text": "2025-08-21 17:37:00.539 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:45.675438", "seconds": 45.675438}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.539320+05:30", "timestamp": 1755778020.53932}}}
{"text": "2025-08-21 17:37:00.613 | DEBUG    | app.ws.live:emit_summary:430 - Emitted orders summary: seq=66\n", "record": {"elapsed": {"repr": "0:00:45.749454", "seconds": 45.749454}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted orders summary: seq=66", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.613336+05:30", "timestamp": 1755778020.613336}}}
{"text": "2025-08-21 17:37:00.654 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:45.790682", "seconds": 45.790682}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.654564+05:30", "timestamp": 1755778020.654564}}}
{"text": "2025-08-21 17:37:00.688 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:45.825016", "seconds": 45.825016}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.688898+05:30", "timestamp": 1755778020.688898}}}
{"text": "2025-08-21 17:37:00.853 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:45.989584", "seconds": 45.989584}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.853466+05:30", "timestamp": 1755778020.853466}}}
{"text": "2025-08-21 17:37:00.855 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:45.992071", "seconds": 45.992071}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.855953+05:30", "timestamp": 1755778020.855953}}}
{"text": "2025-08-21 17:37:00.857 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:45.993218", "seconds": 45.993218}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:00.857100+05:30", "timestamp": 1755778020.8571}}}
{"text": "2025-08-21 17:37:01.294 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.430747", "seconds": 46.430747}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:01.294629+05:30", "timestamp": 1755778021.294629}}}
{"text": "2025-08-21 17:37:01.295 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.431953", "seconds": 46.431953}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:01.295835+05:30", "timestamp": 1755778021.295835}}}
{"text": "2025-08-21 17:37:01.296 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.432878", "seconds": 46.432878}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:01.296760+05:30", "timestamp": 1755778021.29676}}}
{"text": "2025-08-21 17:37:01.297 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.433727", "seconds": 46.433727}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:01.297609+05:30", "timestamp": 1755778021.297609}}}
{"text": "2025-08-21 17:37:01.298 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.434604", "seconds": 46.434604}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:01.298486+05:30", "timestamp": 1755778021.298486}}}
{"text": "2025-08-21 17:37:01.299 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.435692", "seconds": 46.435692}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:01.299574+05:30", "timestamp": 1755778021.299574}}}
{"text": "2025-08-21 17:37:01.300 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.436658", "seconds": 46.436658}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:01.300540+05:30", "timestamp": 1755778021.30054}}}
{"text": "2025-08-21 17:37:01.301 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.437498", "seconds": 46.437498}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:01.301380+05:30", "timestamp": 1755778021.30138}}}
{"text": "2025-08-21 17:37:01.302 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.438403", "seconds": 46.438403}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:01.302285+05:30", "timestamp": 1755778021.302285}}}
{"text": "2025-08-21 17:37:01.303 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.439209", "seconds": 46.439209}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:01.303091+05:30", "timestamp": 1755778021.303091}}}
{"text": "2025-08-21 17:37:01.491 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:46.627885", "seconds": 46.627885}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.491767+05:30", "timestamp": 1755778021.491767}}}
{"text": "2025-08-21 17:37:01.495 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:46.631681", "seconds": 46.631681}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.495563+05:30", "timestamp": 1755778021.495563}}}
{"text": "2025-08-21 17:37:01.497 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-34850.39, today=-34850.39\n", "record": {"elapsed": {"repr": "0:00:46.633653", "seconds": 46.633653}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-34850.39, today=-34850.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.497535+05:30", "timestamp": 1755778021.497535}}}
{"text": "2025-08-21 17:37:01.501 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-6364.61, today=-6364.61\n", "record": {"elapsed": {"repr": "0:00:46.637861", "seconds": 46.637861}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-6364.61, today=-6364.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.501743+05:30", "timestamp": 1755778021.501743}}}
{"text": "2025-08-21 17:37:01.504 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=372000.2, today=372000.2\n", "record": {"elapsed": {"repr": "0:00:46.640229", "seconds": 46.640229}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=372000.2, today=372000.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.504111+05:30", "timestamp": 1755778021.504111}}}
{"text": "2025-08-21 17:37:01.506 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-91781.21, today=-91781.21\n", "record": {"elapsed": {"repr": "0:00:46.643057", "seconds": 46.643057}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-91781.21, today=-91781.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.506939+05:30", "timestamp": 1755778021.506939}}}
{"text": "2025-08-21 17:37:01.509 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1550771.11, today=1550771.11\n", "record": {"elapsed": {"repr": "0:00:46.645652", "seconds": 46.645652}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1550771.11, today=1550771.11", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.509534+05:30", "timestamp": 1755778021.509534}}}
{"text": "2025-08-21 17:37:01.510 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1789775.1, day: 1789775.1\n", "record": {"elapsed": {"repr": "0:00:46.646934", "seconds": 46.646934}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1789775.1, day: 1789775.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.510816+05:30", "timestamp": 1755778021.510816}}}
{"text": "2025-08-21 17:37:01.512 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:46.648656", "seconds": 46.648656}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.512538+05:30", "timestamp": 1755778021.512538}}}
{"text": "2025-08-21 17:37:01.513 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:46.649857", "seconds": 46.649857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.513739+05:30", "timestamp": 1755778021.513739}}}
{"text": "2025-08-21 17:37:01.514 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:46.651117", "seconds": 46.651117}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.514999+05:30", "timestamp": 1755778021.514999}}}
{"text": "2025-08-21 17:37:01.516 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:46.652323", "seconds": 46.652323}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.516205+05:30", "timestamp": 1755778021.516205}}}
{"text": "2025-08-21 17:37:01.517 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:01.497315+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:46.653480", "seconds": 46.65348}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:01.497315+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.517362+05:30", "timestamp": 1755778021.517362}}}
{"text": "2025-08-21 17:37:01.518 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1789775.1, day=1789775.1, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=318.4, unrealized=-34850.39, today_pnl=-34850.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1495.79, unrealized=-6364.61, today_pnl=-6364.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.18, unrealized=372000.2, today_pnl=372000.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1336.16, unrealized=-91781.21, today_pnl=-91781.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1923.03, unrealized=1550771.11, today_pnl=1550771.11)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 1, 497315, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:46.654981", "seconds": 46.654981}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1789775.1, day=1789775.1, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=318.4, unrealized=-34850.39, today_pnl=-34850.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1495.79, unrealized=-6364.61, today_pnl=-6364.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.18, unrealized=372000.2, today_pnl=372000.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1336.16, unrealized=-91781.21, today_pnl=-91781.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1923.03, unrealized=1550771.11, today_pnl=1550771.11)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 1, 497315, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.518863+05:30", "timestamp": 1755778021.518863}}}
{"text": "2025-08-21 17:37:01.520 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1789775.1, day=1789775.1, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=318.4, unrealized=-34850.39, today_pnl=-34850.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1495.79, unrealized=-6364.61, today_pnl=-6364.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.18, unrealized=372000.2, today_pnl=372000.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1336.16, unrealized=-91781.21, today_pnl=-91781.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1923.03, unrealized=1550771.11, today_pnl=1550771.11)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 1, 497315, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:46.656722", "seconds": 46.656722}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1789775.1, day=1789775.1, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=318.4, unrealized=-34850.39, today_pnl=-34850.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1495.79, unrealized=-6364.61, today_pnl=-6364.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.18, unrealized=372000.2, today_pnl=372000.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1336.16, unrealized=-91781.21, today_pnl=-91781.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1923.03, unrealized=1550771.11, today_pnl=1550771.11)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 1, 497315, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.520604+05:30", "timestamp": 1755778021.520604}}}
{"text": "2025-08-21 17:37:01.521 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1789775.10\n", "record": {"elapsed": {"repr": "0:00:46.658070", "seconds": 46.65807}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1789775.10", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.521952+05:30", "timestamp": 1755778021.521952}}}
{"text": "2025-08-21 17:37:01.523 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:46.659353", "seconds": 46.659353}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.523235+05:30", "timestamp": 1755778021.523235}}}
{"text": "2025-08-21 17:37:01.524 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:46.660248", "seconds": 46.660248}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.524130+05:30", "timestamp": 1755778021.52413}}}
{"text": "2025-08-21 17:37:01.525 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:46.661661", "seconds": 46.661661}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.525543+05:30", "timestamp": 1755778021.525543}}}
{"text": "2025-08-21 17:37:01.526 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:46.662519", "seconds": 46.662519}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.526401+05:30", "timestamp": 1755778021.526401}}}
{"text": "2025-08-21 17:37:01.527 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:46.663564", "seconds": 46.663564}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.527446+05:30", "timestamp": 1755778021.527446}}}
{"text": "2025-08-21 17:37:01.528 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:46.664929", "seconds": 46.664929}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.528811+05:30", "timestamp": 1755778021.528811}}}
{"text": "2025-08-21 17:37:01.529 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:46.665929", "seconds": 46.665929}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.529811+05:30", "timestamp": 1755778021.529811}}}
{"text": "2025-08-21 17:37:01.530 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:46.666958", "seconds": 46.666958}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.530840+05:30", "timestamp": 1755778021.53084}}}
{"text": "2025-08-21 17:37:01.531 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:46.667892", "seconds": 46.667892}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.531774+05:30", "timestamp": 1755778021.531774}}}
{"text": "2025-08-21 17:37:01.533 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:46.669528", "seconds": 46.669528}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.533410+05:30", "timestamp": 1755778021.53341}}}
{"text": "2025-08-21 17:37:01.534 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:46.670660", "seconds": 46.67066}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.534542+05:30", "timestamp": 1755778021.534542}}}
{"text": "2025-08-21 17:37:01.535 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:46.671446", "seconds": 46.671446}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.535328+05:30", "timestamp": 1755778021.535328}}}
{"text": "2025-08-21 17:37:01.536 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=67\n", "record": {"elapsed": {"repr": "0:00:46.672841", "seconds": 46.672841}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=67", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:01.536723+05:30", "timestamp": 1755778021.536723}}}
{"text": "2025-08-21 17:37:02.039 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=68\n", "record": {"elapsed": {"repr": "0:00:47.175165", "seconds": 47.175165}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=68", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:02.039047+05:30", "timestamp": 1755778022.039047}}}
{"text": "2025-08-21 17:37:03.133 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:48.269719", "seconds": 48.269719}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.133601+05:30", "timestamp": 1755778023.133601}}}
{"text": "2025-08-21 17:37:03.134 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:48.270852", "seconds": 48.270852}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.134734+05:30", "timestamp": 1755778023.134734}}}
{"text": "2025-08-21 17:37:03.135 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-34850.39, today=-34850.39\n", "record": {"elapsed": {"repr": "0:00:48.271848", "seconds": 48.271848}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-34850.39, today=-34850.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.135730+05:30", "timestamp": 1755778023.13573}}}
{"text": "2025-08-21 17:37:03.136 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-6364.61, today=-6364.61\n", "record": {"elapsed": {"repr": "0:00:48.272768", "seconds": 48.272768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-6364.61, today=-6364.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.136650+05:30", "timestamp": 1755778023.13665}}}
{"text": "2025-08-21 17:37:03.137 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=372000.2, today=372000.2\n", "record": {"elapsed": {"repr": "0:00:48.273673", "seconds": 48.273673}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=372000.2, today=372000.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.137555+05:30", "timestamp": 1755778023.137555}}}
{"text": "2025-08-21 17:37:03.138 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-91781.21, today=-91781.21\n", "record": {"elapsed": {"repr": "0:00:48.274586", "seconds": 48.274586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-91781.21, today=-91781.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.138468+05:30", "timestamp": 1755778023.138468}}}
{"text": "2025-08-21 17:37:03.139 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1550771.11, today=1550771.11\n", "record": {"elapsed": {"repr": "0:00:48.275486", "seconds": 48.275486}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1550771.11, today=1550771.11", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.139368+05:30", "timestamp": 1755778023.139368}}}
{"text": "2025-08-21 17:37:03.140 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1789775.1, day: 1789775.1\n", "record": {"elapsed": {"repr": "0:00:48.276549", "seconds": 48.276549}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1789775.1, day: 1789775.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.140431+05:30", "timestamp": 1755778023.140431}}}
{"text": "2025-08-21 17:37:03.141 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:48.277420", "seconds": 48.27742}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.141302+05:30", "timestamp": 1755778023.141302}}}
{"text": "2025-08-21 17:37:03.142 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:48.278230", "seconds": 48.27823}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.142112+05:30", "timestamp": 1755778023.142112}}}
{"text": "2025-08-21 17:37:03.142 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:48.279097", "seconds": 48.279097}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.142979+05:30", "timestamp": 1755778023.142979}}}
{"text": "2025-08-21 17:37:03.143 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:48.279940", "seconds": 48.27994}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.143822+05:30", "timestamp": 1755778023.143822}}}
{"text": "2025-08-21 17:37:03.144 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:03.135605+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:48.280825", "seconds": 48.280825}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:03.135605+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.144707+05:30", "timestamp": 1755778023.144707}}}
{"text": "2025-08-21 17:37:03.146 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1789775.1, day=1789775.1, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=318.4, unrealized=-34850.39, today_pnl=-34850.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1495.79, unrealized=-6364.61, today_pnl=-6364.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.18, unrealized=372000.2, today_pnl=372000.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1336.16, unrealized=-91781.21, today_pnl=-91781.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1923.03, unrealized=1550771.11, today_pnl=1550771.11)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 3, 135605, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:48.282312", "seconds": 48.282312}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1789775.1, day=1789775.1, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=318.4, unrealized=-34850.39, today_pnl=-34850.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1495.79, unrealized=-6364.61, today_pnl=-6364.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.18, unrealized=372000.2, today_pnl=372000.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1336.16, unrealized=-91781.21, today_pnl=-91781.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1923.03, unrealized=1550771.11, today_pnl=1550771.11)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 3, 135605, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.146194+05:30", "timestamp": 1755778023.146194}}}
{"text": "2025-08-21 17:37:03.147 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1789775.1, day=1789775.1, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=318.4, unrealized=-34850.39, today_pnl=-34850.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1495.79, unrealized=-6364.61, today_pnl=-6364.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.18, unrealized=372000.2, today_pnl=372000.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1336.16, unrealized=-91781.21, today_pnl=-91781.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1923.03, unrealized=1550771.11, today_pnl=1550771.11)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 3, 135605, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:48.283918", "seconds": 48.283918}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1789775.1, day=1789775.1, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=318.4, unrealized=-34850.39, today_pnl=-34850.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1495.79, unrealized=-6364.61, today_pnl=-6364.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.18, unrealized=372000.2, today_pnl=372000.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1336.16, unrealized=-91781.21, today_pnl=-91781.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1923.03, unrealized=1550771.11, today_pnl=1550771.11)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 3, 135605, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.147800+05:30", "timestamp": 1755778023.1478}}}
{"text": "2025-08-21 17:37:03.149 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1789775.10\n", "record": {"elapsed": {"repr": "0:00:48.285486", "seconds": 48.285486}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1789775.10", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.149368+05:30", "timestamp": 1755778023.149368}}}
{"text": "2025-08-21 17:37:03.150 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=69\n", "record": {"elapsed": {"repr": "0:00:48.286874", "seconds": 48.286874}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=69", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.150756+05:30", "timestamp": 1755778023.150756}}}
{"text": "2025-08-21 17:37:03.304 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.440188", "seconds": 48.440188}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:03.304070+05:30", "timestamp": 1755778023.30407}}}
{"text": "2025-08-21 17:37:03.305 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.441381", "seconds": 48.441381}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:03.305263+05:30", "timestamp": 1755778023.305263}}}
{"text": "2025-08-21 17:37:03.306 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.442265", "seconds": 48.442265}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:03.306147+05:30", "timestamp": 1755778023.306147}}}
{"text": "2025-08-21 17:37:03.307 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.443402", "seconds": 48.443402}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:03.307284+05:30", "timestamp": 1755778023.307284}}}
{"text": "2025-08-21 17:37:03.308 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.444540", "seconds": 48.44454}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:03.308422+05:30", "timestamp": 1755778023.308422}}}
{"text": "2025-08-21 17:37:03.309 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.445787", "seconds": 48.445787}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:03.309669+05:30", "timestamp": 1755778023.309669}}}
{"text": "2025-08-21 17:37:03.310 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.446723", "seconds": 48.446723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:03.310605+05:30", "timestamp": 1755778023.310605}}}
{"text": "2025-08-21 17:37:03.311 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.447663", "seconds": 48.447663}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:03.311545+05:30", "timestamp": 1755778023.311545}}}
{"text": "2025-08-21 17:37:03.312 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.448599", "seconds": 48.448599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:03.312481+05:30", "timestamp": 1755778023.312481}}}
{"text": "2025-08-21 17:37:03.313 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.449586", "seconds": 48.449586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:03.313468+05:30", "timestamp": 1755778023.313468}}}
{"text": "2025-08-21 17:37:03.642 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:07:03.639Z'}\n", "record": {"elapsed": {"repr": "0:00:48.778835", "seconds": 48.778835}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:07:03.639Z'}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.642717+05:30", "timestamp": 1755778023.642717}}}
{"text": "2025-08-21 17:37:03.645 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:07:03.640Z'}\n", "record": {"elapsed": {"repr": "0:00:48.781825", "seconds": 48.781825}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:07:03.640Z'}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.645707+05:30", "timestamp": 1755778023.645707}}}
{"text": "2025-08-21 17:37:03.891 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=70\n", "record": {"elapsed": {"repr": "0:00:49.027637", "seconds": 49.027637}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=70", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:03.891519+05:30", "timestamp": 1755778023.891519}}}
{"text": "2025-08-21 17:37:05.000 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.136872", "seconds": 50.136872}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.000754+05:30", "timestamp": 1755778025.000754}}}
{"text": "2025-08-21 17:37:05.021 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.157685", "seconds": 50.157685}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.021567+05:30", "timestamp": 1755778025.021567}}}
{"text": "2025-08-21 17:37:05.048 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.184369", "seconds": 50.184369}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.048251+05:30", "timestamp": 1755778025.048251}}}
{"text": "2025-08-21 17:37:05.063 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:50.199208", "seconds": 50.199208}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.063090+05:30", "timestamp": 1755778025.06309}}}
{"text": "2025-08-21 17:37:05.064 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:50.200761", "seconds": 50.200761}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.064643+05:30", "timestamp": 1755778025.064643}}}
{"text": "2025-08-21 17:37:05.066 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-31300.43, today=-31300.43\n", "record": {"elapsed": {"repr": "0:00:50.202156", "seconds": 50.202156}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-31300.43, today=-31300.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.066038+05:30", "timestamp": 1755778025.066038}}}
{"text": "2025-08-21 17:37:05.067 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-6585.03, today=-6585.03\n", "record": {"elapsed": {"repr": "0:00:50.203366", "seconds": 50.203366}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-6585.03, today=-6585.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.067248+05:30", "timestamp": 1755778025.067248}}}
{"text": "2025-08-21 17:37:05.068 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=372713.23, today=372713.23\n", "record": {"elapsed": {"repr": "0:00:50.204555", "seconds": 50.204555}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=372713.23, today=372713.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.068437+05:30", "timestamp": 1755778025.068437}}}
{"text": "2025-08-21 17:37:05.069 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-90517.5, today=-90517.5\n", "record": {"elapsed": {"repr": "0:00:50.206080", "seconds": 50.20608}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-90517.5, today=-90517.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.069962+05:30", "timestamp": 1755778025.069962}}}
{"text": "2025-08-21 17:37:05.071 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1586327.18, today=1586327.18\n", "record": {"elapsed": {"repr": "0:00:50.207289", "seconds": 50.207289}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1586327.18, today=1586327.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.071171+05:30", "timestamp": 1755778025.071171}}}
{"text": "2025-08-21 17:37:05.072 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1830637.45, day: 1830637.45\n", "record": {"elapsed": {"repr": "0:00:50.208407", "seconds": 50.208407}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1830637.45, day: 1830637.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.072289+05:30", "timestamp": 1755778025.072289}}}
{"text": "2025-08-21 17:37:05.073 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:50.209759", "seconds": 50.209759}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.073641+05:30", "timestamp": 1755778025.073641}}}
{"text": "2025-08-21 17:37:05.074 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:50.210954", "seconds": 50.210954}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.074836+05:30", "timestamp": 1755778025.074836}}}
{"text": "2025-08-21 17:37:05.076 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:50.212243", "seconds": 50.212243}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.076125+05:30", "timestamp": 1755778025.076125}}}
{"text": "2025-08-21 17:37:05.077 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:50.213311", "seconds": 50.213311}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.077193+05:30", "timestamp": 1755778025.077193}}}
{"text": "2025-08-21 17:37:05.078 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:05.065876+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:50.214293", "seconds": 50.214293}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:05.065876+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.078175+05:30", "timestamp": 1755778025.078175}}}
{"text": "2025-08-21 17:37:05.079 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1830637.45, day=1830637.45, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=322.53, unrealized=-31300.43, today_pnl=-31300.43), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1496.14, unrealized=-6585.03, today_pnl=-6585.03), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.6, unrealized=372713.23, today_pnl=372713.23), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1327.74, unrealized=-90517.5, today_pnl=-90517.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1953.55, unrealized=1586327.18, today_pnl=1586327.18)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 5, 65876, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:50.215987", "seconds": 50.215987}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1830637.45, day=1830637.45, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=322.53, unrealized=-31300.43, today_pnl=-31300.43), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1496.14, unrealized=-6585.03, today_pnl=-6585.03), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.6, unrealized=372713.23, today_pnl=372713.23), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1327.74, unrealized=-90517.5, today_pnl=-90517.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1953.55, unrealized=1586327.18, today_pnl=1586327.18)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 5, 65876, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.079869+05:30", "timestamp": 1755778025.079869}}}
{"text": "2025-08-21 17:37:05.082 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1830637.45, day=1830637.45, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=322.53, unrealized=-31300.43, today_pnl=-31300.43), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1496.14, unrealized=-6585.03, today_pnl=-6585.03), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.6, unrealized=372713.23, today_pnl=372713.23), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1327.74, unrealized=-90517.5, today_pnl=-90517.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1953.55, unrealized=1586327.18, today_pnl=1586327.18)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 5, 65876, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:50.218601", "seconds": 50.218601}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1830637.45, day=1830637.45, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=322.53, unrealized=-31300.43, today_pnl=-31300.43), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1496.14, unrealized=-6585.03, today_pnl=-6585.03), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=627.6, unrealized=372713.23, today_pnl=372713.23), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1327.74, unrealized=-90517.5, today_pnl=-90517.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1953.55, unrealized=1586327.18, today_pnl=1586327.18)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 5, 65876, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.082483+05:30", "timestamp": 1755778025.082483}}}
{"text": "2025-08-21 17:37:05.084 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1830637.45\n", "record": {"elapsed": {"repr": "0:00:50.220118", "seconds": 50.220118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1830637.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.084000+05:30", "timestamp": 1755778025.084}}}
{"text": "2025-08-21 17:37:05.085 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:50.221969", "seconds": 50.221969}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.085851+05:30", "timestamp": 1755778025.085851}}}
{"text": "2025-08-21 17:37:05.087 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:50.223134", "seconds": 50.223134}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.087016+05:30", "timestamp": 1755778025.087016}}}
{"text": "2025-08-21 17:37:05.088 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:50.224366", "seconds": 50.224366}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.088248+05:30", "timestamp": 1755778025.088248}}}
{"text": "2025-08-21 17:37:05.089 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.225789", "seconds": 50.225789}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.089671+05:30", "timestamp": 1755778025.089671}}}
{"text": "2025-08-21 17:37:05.090 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.227085", "seconds": 50.227085}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.090967+05:30", "timestamp": 1755778025.090967}}}
{"text": "2025-08-21 17:37:05.092 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.228232", "seconds": 50.228232}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.092114+05:30", "timestamp": 1755778025.092114}}}
{"text": "2025-08-21 17:37:05.093 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=71\n", "record": {"elapsed": {"repr": "0:00:50.229643", "seconds": 50.229643}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=71", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.093525+05:30", "timestamp": 1755778025.093525}}}
{"text": "2025-08-21 17:37:05.315 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.451826", "seconds": 50.451826}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:05.315708+05:30", "timestamp": 1755778025.315708}}}
{"text": "2025-08-21 17:37:05.317 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.453211", "seconds": 50.453211}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.317093+05:30", "timestamp": 1755778025.317093}}}
{"text": "2025-08-21 17:37:05.318 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.454369", "seconds": 50.454369}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:05.318251+05:30", "timestamp": 1755778025.318251}}}
{"text": "2025-08-21 17:37:05.320 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.456623", "seconds": 50.456623}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:05.320505+05:30", "timestamp": 1755778025.320505}}}
{"text": "2025-08-21 17:37:05.321 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.457935", "seconds": 50.457935}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:05.321817+05:30", "timestamp": 1755778025.321817}}}
{"text": "2025-08-21 17:37:05.323 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.459340", "seconds": 50.45934}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:05.323222+05:30", "timestamp": 1755778025.323222}}}
{"text": "2025-08-21 17:37:05.325 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.461261", "seconds": 50.461261}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:05.325143+05:30", "timestamp": 1755778025.325143}}}
{"text": "2025-08-21 17:37:05.326 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.462730", "seconds": 50.46273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:05.326612+05:30", "timestamp": 1755778025.326612}}}
{"text": "2025-08-21 17:37:05.327 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.464032", "seconds": 50.464032}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:05.327914+05:30", "timestamp": 1755778025.327914}}}
{"text": "2025-08-21 17:37:05.329 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.465408", "seconds": 50.465408}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:05.329290+05:30", "timestamp": 1755778025.32929}}}
{"text": "2025-08-21 17:37:05.330 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.467019", "seconds": 50.467019}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:05.330901+05:30", "timestamp": 1755778025.330901}}}
{"text": "2025-08-21 17:37:05.339 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.475821", "seconds": 50.475821}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.339703+05:30", "timestamp": 1755778025.339703}}}
{"text": "2025-08-21 17:37:05.367 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.503495", "seconds": 50.503495}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.367377+05:30", "timestamp": 1755778025.367377}}}
{"text": "2025-08-21 17:37:05.508 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:50.644766", "seconds": 50.644766}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.508648+05:30", "timestamp": 1755778025.508648}}}
{"text": "2025-08-21 17:37:05.674 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=72\n", "record": {"elapsed": {"repr": "0:00:50.811075", "seconds": 50.811075}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=72", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.674957+05:30", "timestamp": 1755778025.674957}}}
{"text": "2025-08-21 17:37:05.677 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=73\n", "record": {"elapsed": {"repr": "0:00:50.813982", "seconds": 50.813982}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=73", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.677864+05:30", "timestamp": 1755778025.677864}}}
{"text": "2025-08-21 17:37:05.786 | DEBUG    | app.ws.live:emit_delta:408 - Emitted holdings delta: seq=74\n", "record": {"elapsed": {"repr": "0:00:50.922939", "seconds": 50.922939}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted holdings delta: seq=74", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.786821+05:30", "timestamp": 1755778025.786821}}}
{"text": "2025-08-21 17:37:05.789 | DEBUG    | app.ws.live:emit_summary:430 - Emitted holdings summary: seq=75\n", "record": {"elapsed": {"repr": "0:00:50.926026", "seconds": 50.926026}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted holdings summary: seq=75", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.789908+05:30", "timestamp": 1755778025.789908}}}
{"text": "2025-08-21 17:37:05.931 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.067258", "seconds": 51.067258}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.931140+05:30", "timestamp": 1755778025.93114}}}
{"text": "2025-08-21 17:37:05.960 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.096148", "seconds": 51.096148}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.960030+05:30", "timestamp": 1755778025.96003}}}
{"text": "2025-08-21 17:37:05.989 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.125919", "seconds": 51.125919}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:05.989801+05:30", "timestamp": 1755778025.989801}}}
{"text": "2025-08-21 17:37:06.216 | DEBUG    | app.ws.live:emit_summary:430 - Emitted orders summary: seq=76\n", "record": {"elapsed": {"repr": "0:00:51.352873", "seconds": 51.352873}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted orders summary: seq=76", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.216755+05:30", "timestamp": 1755778026.216755}}}
{"text": "2025-08-21 17:37:06.331 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.467635", "seconds": 51.467635}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.331517+05:30", "timestamp": 1755778026.331517}}}
{"text": "2025-08-21 17:37:06.336 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:51.472707", "seconds": 51.472707}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.336589+05:30", "timestamp": 1755778026.336589}}}
{"text": "2025-08-21 17:37:06.339 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:51.475255", "seconds": 51.475255}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.339137+05:30", "timestamp": 1755778026.339137}}}
{"text": "2025-08-21 17:37:06.361 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.497207", "seconds": 51.497207}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.361089+05:30", "timestamp": 1755778026.361089}}}
{"text": "2025-08-21 17:37:06.394 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.530674", "seconds": 51.530674}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.394556+05:30", "timestamp": 1755778026.394556}}}
{"text": "2025-08-21 17:37:06.426 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.562660", "seconds": 51.56266}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.426542+05:30", "timestamp": 1755778026.426542}}}
{"text": "2025-08-21 17:37:06.461 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.597364", "seconds": 51.597364}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.461246+05:30", "timestamp": 1755778026.461246}}}
{"text": "2025-08-21 17:37:06.462 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:51.598445", "seconds": 51.598445}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.462327+05:30", "timestamp": 1755778026.462327}}}
{"text": "2025-08-21 17:37:06.463 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:51.599509", "seconds": 51.599509}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.463391+05:30", "timestamp": 1755778026.463391}}}
{"text": "2025-08-21 17:37:06.768 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:51.904561", "seconds": 51.904561}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.768443+05:30", "timestamp": 1755778026.768443}}}
{"text": "2025-08-21 17:37:06.773 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:51.909251", "seconds": 51.909251}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.773133+05:30", "timestamp": 1755778026.773133}}}
{"text": "2025-08-21 17:37:06.775 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:51.911839", "seconds": 51.911839}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.775721+05:30", "timestamp": 1755778026.775721}}}
{"text": "2025-08-21 17:37:06.974 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:52.110736", "seconds": 52.110736}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.974618+05:30", "timestamp": 1755778026.974618}}}
{"text": "2025-08-21 17:37:06.976 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:52.112381", "seconds": 52.112381}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.976263+05:30", "timestamp": 1755778026.976263}}}
{"text": "2025-08-21 17:37:06.977 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-36457.6, today=-36457.6\n", "record": {"elapsed": {"repr": "0:00:52.113952", "seconds": 52.113952}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-36457.6, today=-36457.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.977834+05:30", "timestamp": 1755778026.977834}}}
{"text": "2025-08-21 17:37:06.979 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-826.55, today=-826.55\n", "record": {"elapsed": {"repr": "0:00:52.115629", "seconds": 52.115629}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-826.55, today=-826.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.979511+05:30", "timestamp": 1755778026.979511}}}
{"text": "2025-08-21 17:37:06.981 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=393483.16, today=393483.16\n", "record": {"elapsed": {"repr": "0:00:52.117321", "seconds": 52.117321}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=393483.16, today=393483.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.981203+05:30", "timestamp": 1755778026.981203}}}
{"text": "2025-08-21 17:37:06.982 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-88205.1, today=-88205.1\n", "record": {"elapsed": {"repr": "0:00:52.119012", "seconds": 52.119012}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-88205.1, today=-88205.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.982894+05:30", "timestamp": 1755778026.982894}}}
{"text": "2025-08-21 17:37:06.984 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1592571.23, today=1592571.23\n", "record": {"elapsed": {"repr": "0:00:52.120588", "seconds": 52.120588}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1592571.23, today=1592571.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.984470+05:30", "timestamp": 1755778026.98447}}}
{"text": "2025-08-21 17:37:06.985 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1860565.14, day: 1860565.14\n", "record": {"elapsed": {"repr": "0:00:52.122072", "seconds": 52.122072}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1860565.14, day: 1860565.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.985954+05:30", "timestamp": 1755778026.985954}}}
{"text": "2025-08-21 17:37:06.987 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:52.123713", "seconds": 52.123713}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.987595+05:30", "timestamp": 1755778026.987595}}}
{"text": "2025-08-21 17:37:06.989 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:52.126007", "seconds": 52.126007}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.989889+05:30", "timestamp": 1755778026.989889}}}
{"text": "2025-08-21 17:37:06.991 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:52.127740", "seconds": 52.12774}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.991622+05:30", "timestamp": 1755778026.991622}}}
{"text": "2025-08-21 17:37:06.992 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:52.129114", "seconds": 52.129114}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.992996+05:30", "timestamp": 1755778026.992996}}}
{"text": "2025-08-21 17:37:06.994 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:06.977639+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:52.130636", "seconds": 52.130636}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:06.977639+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.994518+05:30", "timestamp": 1755778026.994518}}}
{"text": "2025-08-21 17:37:06.997 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1860565.14, day=1860565.14, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=316.54, unrealized=-36457.6, today_pnl=-36457.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1487.05, unrealized=-826.55, today_pnl=-826.55), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=639.82, unrealized=393483.16, today_pnl=393483.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1312.32, unrealized=-88205.1, today_pnl=-88205.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1958.91, unrealized=1592571.23, today_pnl=1592571.23)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 6, 977639, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:52.133641", "seconds": 52.133641}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1860565.14, day=1860565.14, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=316.54, unrealized=-36457.6, today_pnl=-36457.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1487.05, unrealized=-826.55, today_pnl=-826.55), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=639.82, unrealized=393483.16, today_pnl=393483.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1312.32, unrealized=-88205.1, today_pnl=-88205.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1958.91, unrealized=1592571.23, today_pnl=1592571.23)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 6, 977639, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:06.997523+05:30", "timestamp": 1755778026.997523}}}
{"text": "2025-08-21 17:37:07.000 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1860565.14, day=1860565.14, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=316.54, unrealized=-36457.6, today_pnl=-36457.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1487.05, unrealized=-826.55, today_pnl=-826.55), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=639.82, unrealized=393483.16, today_pnl=393483.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1312.32, unrealized=-88205.1, today_pnl=-88205.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1958.91, unrealized=1592571.23, today_pnl=1592571.23)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 6, 977639, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:52.136194", "seconds": 52.136194}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1860565.14, day=1860565.14, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=316.54, unrealized=-36457.6, today_pnl=-36457.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1487.05, unrealized=-826.55, today_pnl=-826.55), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=639.82, unrealized=393483.16, today_pnl=393483.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1312.32, unrealized=-88205.1, today_pnl=-88205.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1958.91, unrealized=1592571.23, today_pnl=1592571.23)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 6, 977639, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.000076+05:30", "timestamp": 1755778027.000076}}}
{"text": "2025-08-21 17:37:07.002 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1860565.14\n", "record": {"elapsed": {"repr": "0:00:52.138332", "seconds": 52.138332}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1860565.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.002214+05:30", "timestamp": 1755778027.002214}}}
{"text": "2025-08-21 17:37:07.004 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.140907", "seconds": 52.140907}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.004789+05:30", "timestamp": 1755778027.004789}}}
{"text": "2025-08-21 17:37:07.007 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.143121", "seconds": 52.143121}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.007003+05:30", "timestamp": 1755778027.007003}}}
{"text": "2025-08-21 17:37:07.008 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.144699", "seconds": 52.144699}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.008581+05:30", "timestamp": 1755778027.008581}}}
{"text": "2025-08-21 17:37:07.010 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.146541", "seconds": 52.146541}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.010423+05:30", "timestamp": 1755778027.010423}}}
{"text": "2025-08-21 17:37:07.012 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.148704", "seconds": 52.148704}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.012586+05:30", "timestamp": 1755778027.012586}}}
{"text": "2025-08-21 17:37:07.014 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.150562", "seconds": 52.150562}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.014444+05:30", "timestamp": 1755778027.014444}}}
{"text": "2025-08-21 17:37:07.016 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.152448", "seconds": 52.152448}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.016330+05:30", "timestamp": 1755778027.01633}}}
{"text": "2025-08-21 17:37:07.018 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.154412", "seconds": 52.154412}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.018294+05:30", "timestamp": 1755778027.018294}}}
{"text": "2025-08-21 17:37:07.019 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.155908", "seconds": 52.155908}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.019790+05:30", "timestamp": 1755778027.01979}}}
{"text": "2025-08-21 17:37:07.021 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.157644", "seconds": 52.157644}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.021526+05:30", "timestamp": 1755778027.021526}}}
{"text": "2025-08-21 17:37:07.024 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.160208", "seconds": 52.160208}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.024090+05:30", "timestamp": 1755778027.02409}}}
{"text": "2025-08-21 17:37:07.025 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.161667", "seconds": 52.161667}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.025549+05:30", "timestamp": 1755778027.025549}}}
{"text": "2025-08-21 17:37:07.027 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:52.163133", "seconds": 52.163133}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.027015+05:30", "timestamp": 1755778027.027015}}}
{"text": "2025-08-21 17:37:07.028 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.164579", "seconds": 52.164579}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.028461+05:30", "timestamp": 1755778027.028461}}}
{"text": "2025-08-21 17:37:07.030 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.166852", "seconds": 52.166852}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.030734+05:30", "timestamp": 1755778027.030734}}}
{"text": "2025-08-21 17:37:07.032 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.168349", "seconds": 52.168349}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.032231+05:30", "timestamp": 1755778027.032231}}}
{"text": "2025-08-21 17:37:07.033 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.169778", "seconds": 52.169778}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.033660+05:30", "timestamp": 1755778027.03366}}}
{"text": "2025-08-21 17:37:07.035 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.171257", "seconds": 52.171257}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.035139+05:30", "timestamp": 1755778027.035139}}}
{"text": "2025-08-21 17:37:07.036 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.172721", "seconds": 52.172721}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.036603+05:30", "timestamp": 1755778027.036603}}}
{"text": "2025-08-21 17:37:07.038 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.174424", "seconds": 52.174424}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.038306+05:30", "timestamp": 1755778027.038306}}}
{"text": "2025-08-21 17:37:07.039 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.176096", "seconds": 52.176096}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.039978+05:30", "timestamp": 1755778027.039978}}}
{"text": "2025-08-21 17:37:07.041 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.177629", "seconds": 52.177629}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.041511+05:30", "timestamp": 1755778027.041511}}}
{"text": "2025-08-21 17:37:07.043 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.179251", "seconds": 52.179251}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.043133+05:30", "timestamp": 1755778027.043133}}}
{"text": "2025-08-21 17:37:07.044 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.180721", "seconds": 52.180721}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.044603+05:30", "timestamp": 1755778027.044603}}}
{"text": "2025-08-21 17:37:07.046 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.182358", "seconds": 52.182358}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.046240+05:30", "timestamp": 1755778027.04624}}}
{"text": "2025-08-21 17:37:07.048 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:52.184318", "seconds": 52.184318}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.048200+05:30", "timestamp": 1755778027.0482}}}
{"text": "2025-08-21 17:37:07.049 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=77\n", "record": {"elapsed": {"repr": "0:00:52.185885", "seconds": 52.185885}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=77", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.049767+05:30", "timestamp": 1755778027.049767}}}
{"text": "2025-08-21 17:37:07.333 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.469592", "seconds": 52.469592}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:07.333474+05:30", "timestamp": 1755778027.333474}}}
{"text": "2025-08-21 17:37:07.334 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.471097", "seconds": 52.471097}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:07.334979+05:30", "timestamp": 1755778027.334979}}}
{"text": "2025-08-21 17:37:07.336 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.472390", "seconds": 52.47239}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:07.336272+05:30", "timestamp": 1755778027.336272}}}
{"text": "2025-08-21 17:37:07.337 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.473570", "seconds": 52.47357}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:07.337452+05:30", "timestamp": 1755778027.337452}}}
{"text": "2025-08-21 17:37:07.338 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.475063", "seconds": 52.475063}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:07.338945+05:30", "timestamp": 1755778027.338945}}}
{"text": "2025-08-21 17:37:07.340 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.476409", "seconds": 52.476409}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:07.340291+05:30", "timestamp": 1755778027.340291}}}
{"text": "2025-08-21 17:37:07.341 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.477768", "seconds": 52.477768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:07.341650+05:30", "timestamp": 1755778027.34165}}}
{"text": "2025-08-21 17:37:07.342 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.479069", "seconds": 52.479069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:07.342951+05:30", "timestamp": 1755778027.342951}}}
{"text": "2025-08-21 17:37:07.344 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.480286", "seconds": 52.480286}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:07.344168+05:30", "timestamp": 1755778027.344168}}}
{"text": "2025-08-21 17:37:07.345 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.481674", "seconds": 52.481674}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:07.345556+05:30", "timestamp": 1755778027.345556}}}
{"text": "2025-08-21 17:37:07.355 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=78\n", "record": {"elapsed": {"repr": "0:00:52.491449", "seconds": 52.491449}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=78", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:07.355331+05:30", "timestamp": 1755778027.355331}}}
{"text": "2025-08-21 17:37:08.909 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:54.045470", "seconds": 54.04547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.909352+05:30", "timestamp": 1755778028.909352}}}
{"text": "2025-08-21 17:37:08.910 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:54.046649", "seconds": 54.046649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.910531+05:30", "timestamp": 1755778028.910531}}}
{"text": "2025-08-21 17:37:08.911 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-40782.14, today=-40782.14\n", "record": {"elapsed": {"repr": "0:00:54.047656", "seconds": 54.047656}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-40782.14, today=-40782.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.911538+05:30", "timestamp": 1755778028.911538}}}
{"text": "2025-08-21 17:37:08.912 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-13372.64, today=-13372.64\n", "record": {"elapsed": {"repr": "0:00:54.048746", "seconds": 54.048746}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-13372.64, today=-13372.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.912628+05:30", "timestamp": 1755778028.912628}}}
{"text": "2025-08-21 17:37:08.913 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=412630.98, today=412630.98\n", "record": {"elapsed": {"repr": "0:00:54.049744", "seconds": 54.049744}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=412630.98, today=412630.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.913626+05:30", "timestamp": 1755778028.913626}}}
{"text": "2025-08-21 17:37:08.914 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-85410.41, today=-85410.41\n", "record": {"elapsed": {"repr": "0:00:54.050730", "seconds": 54.05073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-85410.41, today=-85410.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.914612+05:30", "timestamp": 1755778028.914612}}}
{"text": "2025-08-21 17:37:08.915 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1601026.37, today=1601026.37\n", "record": {"elapsed": {"repr": "0:00:54.051652", "seconds": 54.051652}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1601026.37, today=1601026.37", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.915534+05:30", "timestamp": 1755778028.915534}}}
{"text": "2025-08-21 17:37:08.916 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1874092.16, day: 1874092.16\n", "record": {"elapsed": {"repr": "0:00:54.052681", "seconds": 54.052681}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1874092.16, day: 1874092.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.916563+05:30", "timestamp": 1755778028.916563}}}
{"text": "2025-08-21 17:37:08.917 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:54.053589", "seconds": 54.053589}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.917471+05:30", "timestamp": 1755778028.917471}}}
{"text": "2025-08-21 17:37:08.918 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:54.054447", "seconds": 54.054447}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.918329+05:30", "timestamp": 1755778028.918329}}}
{"text": "2025-08-21 17:37:08.919 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:54.055309", "seconds": 54.055309}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.919191+05:30", "timestamp": 1755778028.919191}}}
{"text": "2025-08-21 17:37:08.920 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:54.056346", "seconds": 54.056346}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.920228+05:30", "timestamp": 1755778028.920228}}}
{"text": "2025-08-21 17:37:08.921 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:08.911402+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:54.057234", "seconds": 54.057234}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:08.911402+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.921116+05:30", "timestamp": 1755778028.921116}}}
{"text": "2025-08-21 17:37:08.922 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1874092.16, day=1874092.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=311.51, unrealized=-40782.14, today_pnl=-40782.14), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1506.84, unrealized=-13372.64, today_pnl=-13372.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=651.08, unrealized=412630.98, today_pnl=412630.98), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1293.69, unrealized=-85410.41, today_pnl=-85410.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1966.17, unrealized=1601026.37, today_pnl=1601026.37)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 8, 911402, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:54.058275", "seconds": 54.058275}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1874092.16, day=1874092.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=311.51, unrealized=-40782.14, today_pnl=-40782.14), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1506.84, unrealized=-13372.64, today_pnl=-13372.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=651.08, unrealized=412630.98, today_pnl=412630.98), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1293.69, unrealized=-85410.41, today_pnl=-85410.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1966.17, unrealized=1601026.37, today_pnl=1601026.37)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 8, 911402, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.922157+05:30", "timestamp": 1755778028.922157}}}
{"text": "2025-08-21 17:37:08.923 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1874092.16, day=1874092.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=311.51, unrealized=-40782.14, today_pnl=-40782.14), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1506.84, unrealized=-13372.64, today_pnl=-13372.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=651.08, unrealized=412630.98, today_pnl=412630.98), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1293.69, unrealized=-85410.41, today_pnl=-85410.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1966.17, unrealized=1601026.37, today_pnl=1601026.37)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 8, 911402, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:54.059599", "seconds": 54.059599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1874092.16, day=1874092.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=311.51, unrealized=-40782.14, today_pnl=-40782.14), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1506.84, unrealized=-13372.64, today_pnl=-13372.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=651.08, unrealized=412630.98, today_pnl=412630.98), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1293.69, unrealized=-85410.41, today_pnl=-85410.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1966.17, unrealized=1601026.37, today_pnl=1601026.37)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 8, 911402, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.923481+05:30", "timestamp": 1755778028.923481}}}
{"text": "2025-08-21 17:37:08.924 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1874092.16\n", "record": {"elapsed": {"repr": "0:00:54.060929", "seconds": 54.060929}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1874092.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.924811+05:30", "timestamp": 1755778028.924811}}}
{"text": "2025-08-21 17:37:08.926 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=79\n", "record": {"elapsed": {"repr": "0:00:54.062290", "seconds": 54.06229}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=79", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:08.926172+05:30", "timestamp": 1755778028.926172}}}
{"text": "2025-08-21 17:37:09.347 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.483401", "seconds": 54.483401}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:09.347283+05:30", "timestamp": 1755778029.347283}}}
{"text": "2025-08-21 17:37:09.348 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.484617", "seconds": 54.484617}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:09.348499+05:30", "timestamp": 1755778029.348499}}}
{"text": "2025-08-21 17:37:09.349 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.485531", "seconds": 54.485531}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:09.349413+05:30", "timestamp": 1755778029.349413}}}
{"text": "2025-08-21 17:37:09.350 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.486443", "seconds": 54.486443}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:09.350325+05:30", "timestamp": 1755778029.350325}}}
{"text": "2025-08-21 17:37:09.351 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.487359", "seconds": 54.487359}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:09.351241+05:30", "timestamp": 1755778029.351241}}}
{"text": "2025-08-21 17:37:09.352 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.488234", "seconds": 54.488234}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:09.352116+05:30", "timestamp": 1755778029.352116}}}
{"text": "2025-08-21 17:37:09.353 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.489288", "seconds": 54.489288}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:09.353170+05:30", "timestamp": 1755778029.35317}}}
{"text": "2025-08-21 17:37:09.354 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.490195", "seconds": 54.490195}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:09.354077+05:30", "timestamp": 1755778029.354077}}}
{"text": "2025-08-21 17:37:09.354 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.491117", "seconds": 54.491117}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:09.354999+05:30", "timestamp": 1755778029.354999}}}
{"text": "2025-08-21 17:37:09.355 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.492115", "seconds": 54.492115}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:09.355997+05:30", "timestamp": 1755778029.355997}}}
{"text": "2025-08-21 17:37:10.618 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=80\n", "record": {"elapsed": {"repr": "0:00:55.754990", "seconds": 55.75499}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=80", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.618872+05:30", "timestamp": 1755778030.618872}}}
{"text": "2025-08-21 17:37:10.724 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:55.860626", "seconds": 55.860626}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.724508+05:30", "timestamp": 1755778030.724508}}}
{"text": "2025-08-21 17:37:10.725 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:55.861461", "seconds": 55.861461}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.725343+05:30", "timestamp": 1755778030.725343}}}
{"text": "2025-08-21 17:37:10.726 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-36947.9, today=-36947.9\n", "record": {"elapsed": {"repr": "0:00:55.862437", "seconds": 55.862437}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-36947.9, today=-36947.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.726319+05:30", "timestamp": 1755778030.726319}}}
{"text": "2025-08-21 17:37:10.726 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-30494.91, today=-30494.91\n", "record": {"elapsed": {"repr": "0:00:55.863058", "seconds": 55.863058}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-30494.91, today=-30494.91", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.726940+05:30", "timestamp": 1755778030.72694}}}
{"text": "2025-08-21 17:37:10.727 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=398398.15, today=398398.15\n", "record": {"elapsed": {"repr": "0:00:55.863845", "seconds": 55.863845}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=398398.15, today=398398.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.727727+05:30", "timestamp": 1755778030.727727}}}
{"text": "2025-08-21 17:37:10.728 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-86029.75, today=-86029.75\n", "record": {"elapsed": {"repr": "0:00:55.864578", "seconds": 55.864578}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-86029.75, today=-86029.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.728460+05:30", "timestamp": 1755778030.72846}}}
{"text": "2025-08-21 17:37:10.729 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1608170.39, today=1608170.39\n", "record": {"elapsed": {"repr": "0:00:55.865326", "seconds": 55.865326}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1608170.39, today=1608170.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.729208+05:30", "timestamp": 1755778030.729208}}}
{"text": "2025-08-21 17:37:10.730 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1853095.98, day: 1853095.98\n", "record": {"elapsed": {"repr": "0:00:55.866157", "seconds": 55.866157}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1853095.98, day: 1853095.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.730039+05:30", "timestamp": 1755778030.730039}}}
{"text": "2025-08-21 17:37:10.730 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:55.867025", "seconds": 55.867025}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.730907+05:30", "timestamp": 1755778030.730907}}}
{"text": "2025-08-21 17:37:10.732 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:55.868193", "seconds": 55.868193}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.732075+05:30", "timestamp": 1755778030.732075}}}
{"text": "2025-08-21 17:37:10.732 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:55.868978", "seconds": 55.868978}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.732860+05:30", "timestamp": 1755778030.73286}}}
{"text": "2025-08-21 17:37:10.733 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:55.869717", "seconds": 55.869717}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.733599+05:30", "timestamp": 1755778030.733599}}}
{"text": "2025-08-21 17:37:10.734 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:10.726239+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:55.870530", "seconds": 55.87053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:10.726239+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.734412+05:30", "timestamp": 1755778030.734412}}}
{"text": "2025-08-21 17:37:10.735 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1853095.98, day=1853095.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=315.97, unrealized=-36947.9, today_pnl=-36947.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1533.85, unrealized=-30494.91, today_pnl=-30494.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.71, unrealized=398398.15, today_pnl=398398.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1297.82, unrealized=-86029.75, today_pnl=-86029.75), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1972.3, unrealized=1608170.39, today_pnl=1608170.39)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 10, 726239, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:55.872059", "seconds": 55.872059}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1853095.98, day=1853095.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=315.97, unrealized=-36947.9, today_pnl=-36947.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1533.85, unrealized=-30494.91, today_pnl=-30494.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.71, unrealized=398398.15, today_pnl=398398.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1297.82, unrealized=-86029.75, today_pnl=-86029.75), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1972.3, unrealized=1608170.39, today_pnl=1608170.39)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 10, 726239, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.735941+05:30", "timestamp": 1755778030.735941}}}
{"text": "2025-08-21 17:37:10.737 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1853095.98, day=1853095.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=315.97, unrealized=-36947.9, today_pnl=-36947.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1533.85, unrealized=-30494.91, today_pnl=-30494.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.71, unrealized=398398.15, today_pnl=398398.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1297.82, unrealized=-86029.75, today_pnl=-86029.75), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1972.3, unrealized=1608170.39, today_pnl=1608170.39)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 10, 726239, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:55.873342", "seconds": 55.873342}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1853095.98, day=1853095.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=315.97, unrealized=-36947.9, today_pnl=-36947.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1533.85, unrealized=-30494.91, today_pnl=-30494.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.71, unrealized=398398.15, today_pnl=398398.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1297.82, unrealized=-86029.75, today_pnl=-86029.75), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1972.3, unrealized=1608170.39, today_pnl=1608170.39)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 10, 726239, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.737224+05:30", "timestamp": 1755778030.737224}}}
{"text": "2025-08-21 17:37:10.738 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1853095.98\n", "record": {"elapsed": {"repr": "0:00:55.874861", "seconds": 55.874861}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1853095.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.738743+05:30", "timestamp": 1755778030.738743}}}
{"text": "2025-08-21 17:37:10.740 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=81\n", "record": {"elapsed": {"repr": "0:00:55.876202", "seconds": 55.876202}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=81", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:10.740084+05:30", "timestamp": 1755778030.740084}}}
{"text": "2025-08-21 17:37:11.357 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.493364", "seconds": 56.493364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:11.357246+05:30", "timestamp": 1755778031.357246}}}
{"text": "2025-08-21 17:37:11.358 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.494463", "seconds": 56.494463}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:11.358345+05:30", "timestamp": 1755778031.358345}}}
{"text": "2025-08-21 17:37:11.359 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.495571", "seconds": 56.495571}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:11.359453+05:30", "timestamp": 1755778031.359453}}}
{"text": "2025-08-21 17:37:11.360 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.496582", "seconds": 56.496582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:11.360464+05:30", "timestamp": 1755778031.360464}}}
{"text": "2025-08-21 17:37:11.361 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.497495", "seconds": 56.497495}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:11.361377+05:30", "timestamp": 1755778031.361377}}}
{"text": "2025-08-21 17:37:11.362 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.498376", "seconds": 56.498376}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:11.362258+05:30", "timestamp": 1755778031.362258}}}
{"text": "2025-08-21 17:37:11.363 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.499311", "seconds": 56.499311}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:11.363193+05:30", "timestamp": 1755778031.363193}}}
{"text": "2025-08-21 17:37:11.364 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.500444", "seconds": 56.500444}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:11.364326+05:30", "timestamp": 1755778031.364326}}}
{"text": "2025-08-21 17:37:11.365 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.501350", "seconds": 56.50135}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:11.365232+05:30", "timestamp": 1755778031.365232}}}
{"text": "2025-08-21 17:37:11.366 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.502185", "seconds": 56.502185}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:11.366067+05:30", "timestamp": 1755778031.366067}}}
{"text": "2025-08-21 17:37:12.261 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=82\n", "record": {"elapsed": {"repr": "0:00:57.397149", "seconds": 57.397149}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=82", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.261031+05:30", "timestamp": 1755778032.261031}}}
{"text": "2025-08-21 17:37:12.435 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:57.571513", "seconds": 57.571513}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.435395+05:30", "timestamp": 1755778032.435395}}}
{"text": "2025-08-21 17:37:12.436 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:57.572939", "seconds": 57.572939}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.436821+05:30", "timestamp": 1755778032.436821}}}
{"text": "2025-08-21 17:37:12.437 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-42326.28, today=-42326.28\n", "record": {"elapsed": {"repr": "0:00:57.573964", "seconds": 57.573964}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-42326.28, today=-42326.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.437846+05:30", "timestamp": 1755778032.437846}}}
{"text": "2025-08-21 17:37:12.438 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-25790.15, today=-25790.15\n", "record": {"elapsed": {"repr": "0:00:57.574899", "seconds": 57.574899}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-25790.15, today=-25790.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.438781+05:30", "timestamp": 1755778032.438781}}}
{"text": "2025-08-21 17:37:12.439 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=405023.76, today=405023.76\n", "record": {"elapsed": {"repr": "0:00:57.575721", "seconds": 57.575721}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=405023.76, today=405023.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.439603+05:30", "timestamp": 1755778032.439603}}}
{"text": "2025-08-21 17:37:12.440 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-88167.56, today=-88167.56\n", "record": {"elapsed": {"repr": "0:00:57.576542", "seconds": 57.576542}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-88167.56, today=-88167.56", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.440424+05:30", "timestamp": 1755778032.440424}}}
{"text": "2025-08-21 17:37:12.441 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1570722.76, today=1570722.76\n", "record": {"elapsed": {"repr": "0:00:57.577772", "seconds": 57.577772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1570722.76, today=1570722.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.441654+05:30", "timestamp": 1755778032.441654}}}
{"text": "2025-08-21 17:37:12.442 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1819462.53, day: 1819462.53\n", "record": {"elapsed": {"repr": "0:00:57.578753", "seconds": 57.578753}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1819462.53, day: 1819462.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.442635+05:30", "timestamp": 1755778032.442635}}}
{"text": "2025-08-21 17:37:12.443 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:57.579609", "seconds": 57.579609}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.443491+05:30", "timestamp": 1755778032.443491}}}
{"text": "2025-08-21 17:37:12.444 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:57.580425", "seconds": 57.580425}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.444307+05:30", "timestamp": 1755778032.444307}}}
{"text": "2025-08-21 17:37:12.445 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:57.581293", "seconds": 57.581293}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.445175+05:30", "timestamp": 1755778032.445175}}}
{"text": "2025-08-21 17:37:12.446 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:57.582133", "seconds": 57.582133}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.446015+05:30", "timestamp": 1755778032.446015}}}
{"text": "2025-08-21 17:37:12.447 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:12.437711+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:57.583312", "seconds": 57.583312}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:12.437711+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.447194+05:30", "timestamp": 1755778032.447194}}}
{"text": "2025-08-21 17:37:12.448 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1819462.53, day=1819462.53, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=309.72, unrealized=-42326.28, today_pnl=-42326.28), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1526.43, unrealized=-25790.15, today_pnl=-25790.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=646.61, unrealized=405023.76, today_pnl=405023.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1312.07, unrealized=-88167.56, today_pnl=-88167.56), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1940.16, unrealized=1570722.76, today_pnl=1570722.76)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 12, 437711, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:57.584473", "seconds": 57.584473}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1819462.53, day=1819462.53, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=309.72, unrealized=-42326.28, today_pnl=-42326.28), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1526.43, unrealized=-25790.15, today_pnl=-25790.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=646.61, unrealized=405023.76, today_pnl=405023.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1312.07, unrealized=-88167.56, today_pnl=-88167.56), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1940.16, unrealized=1570722.76, today_pnl=1570722.76)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 12, 437711, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.448355+05:30", "timestamp": 1755778032.448355}}}
{"text": "2025-08-21 17:37:12.449 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1819462.53, day=1819462.53, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=309.72, unrealized=-42326.28, today_pnl=-42326.28), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1526.43, unrealized=-25790.15, today_pnl=-25790.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=646.61, unrealized=405023.76, today_pnl=405023.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1312.07, unrealized=-88167.56, today_pnl=-88167.56), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1940.16, unrealized=1570722.76, today_pnl=1570722.76)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 12, 437711, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:57.586107", "seconds": 57.586107}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1819462.53, day=1819462.53, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=309.72, unrealized=-42326.28, today_pnl=-42326.28), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1526.43, unrealized=-25790.15, today_pnl=-25790.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=646.61, unrealized=405023.76, today_pnl=405023.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1312.07, unrealized=-88167.56, today_pnl=-88167.56), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1940.16, unrealized=1570722.76, today_pnl=1570722.76)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 12, 437711, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.449989+05:30", "timestamp": 1755778032.449989}}}
{"text": "2025-08-21 17:37:12.452 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1819462.53\n", "record": {"elapsed": {"repr": "0:00:57.588369", "seconds": 57.588369}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1819462.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.452251+05:30", "timestamp": 1755778032.452251}}}
{"text": "2025-08-21 17:37:12.453 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=83\n", "record": {"elapsed": {"repr": "0:00:57.589706", "seconds": 57.589706}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=83", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:12.453588+05:30", "timestamp": 1755778032.453588}}}
{"text": "2025-08-21 17:37:13.367 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.503731", "seconds": 58.503731}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:13.367613+05:30", "timestamp": 1755778033.367613}}}
{"text": "2025-08-21 17:37:13.368 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.505026", "seconds": 58.505026}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:13.368908+05:30", "timestamp": 1755778033.368908}}}
{"text": "2025-08-21 17:37:13.369 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.505973", "seconds": 58.505973}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:13.369855+05:30", "timestamp": 1755778033.369855}}}
{"text": "2025-08-21 17:37:13.370 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.506827", "seconds": 58.506827}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:13.370709+05:30", "timestamp": 1755778033.370709}}}
{"text": "2025-08-21 17:37:13.371 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.507654", "seconds": 58.507654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:13.371536+05:30", "timestamp": 1755778033.371536}}}
{"text": "2025-08-21 17:37:13.372 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.508736", "seconds": 58.508736}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:13.372618+05:30", "timestamp": 1755778033.372618}}}
{"text": "2025-08-21 17:37:13.373 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.509647", "seconds": 58.509647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:13.373529+05:30", "timestamp": 1755778033.373529}}}
{"text": "2025-08-21 17:37:13.374 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.510591", "seconds": 58.510591}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:13.374473+05:30", "timestamp": 1755778033.374473}}}
{"text": "2025-08-21 17:37:13.375 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.511492", "seconds": 58.511492}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:13.375374+05:30", "timestamp": 1755778033.375374}}}
{"text": "2025-08-21 17:37:13.376 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.512420", "seconds": 58.51242}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:13.376302+05:30", "timestamp": 1755778033.376302}}}
{"text": "2025-08-21 17:37:14.013 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:59.149190", "seconds": 59.14919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.013072+05:30", "timestamp": 1755778034.013072}}}
{"text": "2025-08-21 17:37:14.015 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:59.151173", "seconds": 59.151173}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.015055+05:30", "timestamp": 1755778034.015055}}}
{"text": "2025-08-21 17:37:14.016 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-38325.99, today=-38325.99\n", "record": {"elapsed": {"repr": "0:00:59.152628", "seconds": 59.152628}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-38325.99, today=-38325.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.016510+05:30", "timestamp": 1755778034.01651}}}
{"text": "2025-08-21 17:37:14.018 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-35444.04, today=-35444.04\n", "record": {"elapsed": {"repr": "0:00:59.154208", "seconds": 59.154208}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-35444.04, today=-35444.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.018090+05:30", "timestamp": 1755778034.01809}}}
{"text": "2025-08-21 17:37:14.019 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=385511.53, today=385511.53\n", "record": {"elapsed": {"repr": "0:00:59.155806", "seconds": 59.155806}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=385511.53, today=385511.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.019688+05:30", "timestamp": 1755778034.019688}}}
{"text": "2025-08-21 17:37:14.021 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-89396.51, today=-89396.51\n", "record": {"elapsed": {"repr": "0:00:59.157269", "seconds": 59.157269}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-89396.51, today=-89396.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.021151+05:30", "timestamp": 1755778034.021151}}}
{"text": "2025-08-21 17:37:14.023 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1547715.74, today=1547715.74\n", "record": {"elapsed": {"repr": "0:00:59.159128", "seconds": 59.159128}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1547715.74, today=1547715.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.023010+05:30", "timestamp": 1755778034.02301}}}
{"text": "2025-08-21 17:37:14.025 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1770060.73, day: 1770060.73\n", "record": {"elapsed": {"repr": "0:00:59.161190", "seconds": 59.16119}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1770060.73, day: 1770060.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.025072+05:30", "timestamp": 1755778034.025072}}}
{"text": "2025-08-21 17:37:14.026 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:59.162857", "seconds": 59.162857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.026739+05:30", "timestamp": 1755778034.026739}}}
{"text": "2025-08-21 17:37:14.028 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:59.164383", "seconds": 59.164383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.028265+05:30", "timestamp": 1755778034.028265}}}
{"text": "2025-08-21 17:37:14.029 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:59.165770", "seconds": 59.16577}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.029652+05:30", "timestamp": 1755778034.029652}}}
{"text": "2025-08-21 17:37:14.031 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:59.167222", "seconds": 59.167222}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.031104+05:30", "timestamp": 1755778034.031104}}}
{"text": "2025-08-21 17:37:14.032 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:14.016321+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:59.168710", "seconds": 59.16871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:14.016321+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.032592+05:30", "timestamp": 1755778034.032592}}}
{"text": "2025-08-21 17:37:14.035 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1770060.73, day=1770060.73, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=314.37, unrealized=-38325.99, today_pnl=-38325.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1541.66, unrealized=-35444.04, today_pnl=-35444.04), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=635.13, unrealized=385511.53, today_pnl=385511.53), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.27, unrealized=-89396.51, today_pnl=-89396.51), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.41, unrealized=1547715.74, today_pnl=1547715.74)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 14, 16321, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:59.171286", "seconds": 59.171286}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1770060.73, day=1770060.73, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=314.37, unrealized=-38325.99, today_pnl=-38325.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1541.66, unrealized=-35444.04, today_pnl=-35444.04), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=635.13, unrealized=385511.53, today_pnl=385511.53), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.27, unrealized=-89396.51, today_pnl=-89396.51), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.41, unrealized=1547715.74, today_pnl=1547715.74)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 14, 16321, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.035168+05:30", "timestamp": 1755778034.035168}}}
{"text": "2025-08-21 17:37:14.037 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1770060.73, day=1770060.73, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=314.37, unrealized=-38325.99, today_pnl=-38325.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1541.66, unrealized=-35444.04, today_pnl=-35444.04), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=635.13, unrealized=385511.53, today_pnl=385511.53), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.27, unrealized=-89396.51, today_pnl=-89396.51), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.41, unrealized=1547715.74, today_pnl=1547715.74)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 14, 16321, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:59.173985", "seconds": 59.173985}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1770060.73, day=1770060.73, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=314.37, unrealized=-38325.99, today_pnl=-38325.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1541.66, unrealized=-35444.04, today_pnl=-35444.04), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=635.13, unrealized=385511.53, today_pnl=385511.53), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.27, unrealized=-89396.51, today_pnl=-89396.51), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.41, unrealized=1547715.74, today_pnl=1547715.74)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 14, 16321, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.037867+05:30", "timestamp": 1755778034.037867}}}
{"text": "2025-08-21 17:37:14.040 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1770060.73\n", "record": {"elapsed": {"repr": "0:00:59.176349", "seconds": 59.176349}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1770060.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.040231+05:30", "timestamp": 1755778034.040231}}}
{"text": "2025-08-21 17:37:14.042 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=84\n", "record": {"elapsed": {"repr": "0:00:59.178663", "seconds": 59.178663}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=84", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.042545+05:30", "timestamp": 1755778034.042545}}}
{"text": "2025-08-21 17:37:14.230 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=85\n", "record": {"elapsed": {"repr": "0:00:59.366596", "seconds": 59.366596}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=85", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:14.230478+05:30", "timestamp": 1755778034.230478}}}
{"text": "2025-08-21 17:37:15.378 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.514319", "seconds": 60.514319}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:15.378201+05:30", "timestamp": 1755778035.378201}}}
{"text": "2025-08-21 17:37:15.379 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.515346", "seconds": 60.515346}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:15.379228+05:30", "timestamp": 1755778035.379228}}}
{"text": "2025-08-21 17:37:15.380 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.516254", "seconds": 60.516254}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:15.380136+05:30", "timestamp": 1755778035.380136}}}
{"text": "2025-08-21 17:37:15.381 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.517310", "seconds": 60.51731}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:15.381192+05:30", "timestamp": 1755778035.381192}}}
{"text": "2025-08-21 17:37:15.382 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.518208", "seconds": 60.518208}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:15.382090+05:30", "timestamp": 1755778035.38209}}}
{"text": "2025-08-21 17:37:15.382 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.519111", "seconds": 60.519111}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:15.382993+05:30", "timestamp": 1755778035.382993}}}
{"text": "2025-08-21 17:37:15.383 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.520066", "seconds": 60.520066}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:15.383948+05:30", "timestamp": 1755778035.383948}}}
{"text": "2025-08-21 17:37:15.384 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.521084", "seconds": 60.521084}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:15.384966+05:30", "timestamp": 1755778035.384966}}}
{"text": "2025-08-21 17:37:15.385 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.522066", "seconds": 60.522066}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:15.385948+05:30", "timestamp": 1755778035.385948}}}
{"text": "2025-08-21 17:37:15.386 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.522997", "seconds": 60.522997}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:15.386879+05:30", "timestamp": 1755778035.386879}}}
{"text": "2025-08-21 17:37:15.891 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:01.027604", "seconds": 61.027604}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.891486+05:30", "timestamp": 1755778035.891486}}}
{"text": "2025-08-21 17:37:15.892 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:01.028795", "seconds": 61.028795}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.892677+05:30", "timestamp": 1755778035.892677}}}
{"text": "2025-08-21 17:37:15.893 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-35403.99, today=-35403.99\n", "record": {"elapsed": {"repr": "0:01:01.029801", "seconds": 61.029801}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-35403.99, today=-35403.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.893683+05:30", "timestamp": 1755778035.893683}}}
{"text": "2025-08-21 17:37:15.894 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-50714.95, today=-50714.95\n", "record": {"elapsed": {"repr": "0:01:01.030576", "seconds": 61.030576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-50714.95, today=-50714.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.894458+05:30", "timestamp": 1755778035.894458}}}
{"text": "2025-08-21 17:37:15.895 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=384582.26, today=384582.26\n", "record": {"elapsed": {"repr": "0:01:01.031543", "seconds": 61.031543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=384582.26, today=384582.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.895425+05:30", "timestamp": 1755778035.895425}}}
{"text": "2025-08-21 17:37:15.896 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-90502.46, today=-90502.46\n", "record": {"elapsed": {"repr": "0:01:01.032406", "seconds": 61.032406}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-90502.46, today=-90502.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.896288+05:30", "timestamp": 1755778035.896288}}}
{"text": "2025-08-21 17:37:15.897 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1531361.55, today=1531361.55\n", "record": {"elapsed": {"repr": "0:01:01.033355", "seconds": 61.033355}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1531361.55, today=1531361.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.897237+05:30", "timestamp": 1755778035.897237}}}
{"text": "2025-08-21 17:37:15.898 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1739322.41, day: 1739322.41\n", "record": {"elapsed": {"repr": "0:01:01.034368", "seconds": 61.034368}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1739322.41, day: 1739322.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.898250+05:30", "timestamp": 1755778035.89825}}}
{"text": "2025-08-21 17:37:15.898 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:01.035116", "seconds": 61.035116}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.898998+05:30", "timestamp": 1755778035.898998}}}
{"text": "2025-08-21 17:37:15.899 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:01.035949", "seconds": 61.035949}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.899831+05:30", "timestamp": 1755778035.899831}}}
{"text": "2025-08-21 17:37:15.900 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:01.036846", "seconds": 61.036846}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.900728+05:30", "timestamp": 1755778035.900728}}}
{"text": "2025-08-21 17:37:15.901 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:01.037714", "seconds": 61.037714}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.901596+05:30", "timestamp": 1755778035.901596}}}
{"text": "2025-08-21 17:37:15.902 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:15.893552+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:01.038566", "seconds": 61.038566}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:15.893552+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.902448+05:30", "timestamp": 1755778035.902448}}}
{"text": "2025-08-21 17:37:15.903 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1739322.41, day=1739322.41, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=317.76, unrealized=-35403.99, today_pnl=-35403.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1565.74, unrealized=-50714.95, today_pnl=-50714.95), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=634.58, unrealized=384582.26, today_pnl=384582.26), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1327.64, unrealized=-90502.46, today_pnl=-90502.46), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1906.37, unrealized=1531361.55, today_pnl=1531361.55)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 15, 893552, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:01.039918", "seconds": 61.039918}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1739322.41, day=1739322.41, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=317.76, unrealized=-35403.99, today_pnl=-35403.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1565.74, unrealized=-50714.95, today_pnl=-50714.95), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=634.58, unrealized=384582.26, today_pnl=384582.26), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1327.64, unrealized=-90502.46, today_pnl=-90502.46), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1906.37, unrealized=1531361.55, today_pnl=1531361.55)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 15, 893552, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.903800+05:30", "timestamp": 1755778035.9038}}}
{"text": "2025-08-21 17:37:15.905 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1739322.41, day=1739322.41, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=317.76, unrealized=-35403.99, today_pnl=-35403.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1565.74, unrealized=-50714.95, today_pnl=-50714.95), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=634.58, unrealized=384582.26, today_pnl=384582.26), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1327.64, unrealized=-90502.46, today_pnl=-90502.46), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1906.37, unrealized=1531361.55, today_pnl=1531361.55)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 15, 893552, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:01.041568", "seconds": 61.041568}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1739322.41, day=1739322.41, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=317.76, unrealized=-35403.99, today_pnl=-35403.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1565.74, unrealized=-50714.95, today_pnl=-50714.95), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=634.58, unrealized=384582.26, today_pnl=384582.26), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1327.64, unrealized=-90502.46, today_pnl=-90502.46), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1906.37, unrealized=1531361.55, today_pnl=1531361.55)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 15, 893552, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.905450+05:30", "timestamp": 1755778035.90545}}}
{"text": "2025-08-21 17:37:15.906 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1739322.41\n", "record": {"elapsed": {"repr": "0:01:01.042931", "seconds": 61.042931}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1739322.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.906813+05:30", "timestamp": 1755778035.906813}}}
{"text": "2025-08-21 17:37:15.908 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=86\n", "record": {"elapsed": {"repr": "0:01:01.044338", "seconds": 61.044338}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=86", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:15.908220+05:30", "timestamp": 1755778035.90822}}}
{"text": "2025-08-21 17:37:16.172 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=87\n", "record": {"elapsed": {"repr": "0:01:01.308646", "seconds": 61.308646}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=87", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:16.172528+05:30", "timestamp": 1755778036.172528}}}
{"text": "2025-08-21 17:37:16.348 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:07:16.346Z'}\n", "record": {"elapsed": {"repr": "0:01:01.484726", "seconds": 61.484726}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:07:16.346Z'}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:16.348608+05:30", "timestamp": 1755778036.348608}}}
{"text": "2025-08-21 17:37:16.459 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:07:16.457Z'}\n", "record": {"elapsed": {"repr": "0:01:01.595643", "seconds": 61.595643}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:07:16.457Z'}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:16.459525+05:30", "timestamp": 1755778036.459525}}}
{"text": "2025-08-21 17:37:16.772 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:07:16.771Z'}\n", "record": {"elapsed": {"repr": "0:01:01.909079", "seconds": 61.909079}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'ping', 'clientTime': '2025-08-21T12:07:16.771Z'}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:16.772961+05:30", "timestamp": 1755778036.772961}}}
{"text": "2025-08-21 17:37:17.388 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.524134", "seconds": 62.524134}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:17.388016+05:30", "timestamp": 1755778037.388016}}}
{"text": "2025-08-21 17:37:17.389 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.525302", "seconds": 62.525302}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:17.389184+05:30", "timestamp": 1755778037.389184}}}
{"text": "2025-08-21 17:37:17.390 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.526408", "seconds": 62.526408}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:17.390290+05:30", "timestamp": 1755778037.39029}}}
{"text": "2025-08-21 17:37:17.391 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.527558", "seconds": 62.527558}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:17.391440+05:30", "timestamp": 1755778037.39144}}}
{"text": "2025-08-21 17:37:17.392 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.528533", "seconds": 62.528533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:17.392415+05:30", "timestamp": 1755778037.392415}}}
{"text": "2025-08-21 17:37:17.393 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.529515", "seconds": 62.529515}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:17.393397+05:30", "timestamp": 1755778037.393397}}}
{"text": "2025-08-21 17:37:17.394 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.531027", "seconds": 62.531027}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:17.394909+05:30", "timestamp": 1755778037.394909}}}
{"text": "2025-08-21 17:37:17.396 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.532237", "seconds": 62.532237}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:17.396119+05:30", "timestamp": 1755778037.396119}}}
{"text": "2025-08-21 17:37:17.397 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.533399", "seconds": 62.533399}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:17.397281+05:30", "timestamp": 1755778037.397281}}}
{"text": "2025-08-21 17:37:17.399 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.535687", "seconds": 62.535687}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:17.399569+05:30", "timestamp": 1755778037.399569}}}
{"text": "2025-08-21 17:37:17.690 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:02.826507", "seconds": 62.826507}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.690389+05:30", "timestamp": 1755778037.690389}}}
{"text": "2025-08-21 17:37:17.691 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:02.827479", "seconds": 62.827479}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.691361+05:30", "timestamp": 1755778037.691361}}}
{"text": "2025-08-21 17:37:17.692 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-32362.78, today=-32362.78\n", "record": {"elapsed": {"repr": "0:01:02.828494", "seconds": 62.828494}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-32362.78, today=-32362.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.692376+05:30", "timestamp": 1755778037.692376}}}
{"text": "2025-08-21 17:37:17.693 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-47133.67, today=-47133.67\n", "record": {"elapsed": {"repr": "0:01:02.829410", "seconds": 62.82941}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-47133.67, today=-47133.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.693292+05:30", "timestamp": 1755778037.693292}}}
{"text": "2025-08-21 17:37:17.694 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=398149.1, today=398149.1\n", "record": {"elapsed": {"repr": "0:01:02.830205", "seconds": 62.830205}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=398149.1, today=398149.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.694087+05:30", "timestamp": 1755778037.694087}}}
{"text": "2025-08-21 17:37:17.694 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-94322.65, today=-94322.65\n", "record": {"elapsed": {"repr": "0:01:02.831019", "seconds": 62.831019}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-94322.65, today=-94322.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.694901+05:30", "timestamp": 1755778037.694901}}}
{"text": "2025-08-21 17:37:17.695 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1547374.88, today=1547374.88\n", "record": {"elapsed": {"repr": "0:01:02.831820", "seconds": 62.83182}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1547374.88, today=1547374.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.695702+05:30", "timestamp": 1755778037.695702}}}
{"text": "2025-08-21 17:37:17.696 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1771704.88, day: 1771704.88\n", "record": {"elapsed": {"repr": "0:01:02.832628", "seconds": 62.832628}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1771704.88, day: 1771704.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.696510+05:30", "timestamp": 1755778037.69651}}}
{"text": "2025-08-21 17:37:17.697 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:02.833527", "seconds": 62.833527}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.697409+05:30", "timestamp": 1755778037.697409}}}
{"text": "2025-08-21 17:37:17.698 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:02.834561", "seconds": 62.834561}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.698443+05:30", "timestamp": 1755778037.698443}}}
{"text": "2025-08-21 17:37:17.699 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:02.835553", "seconds": 62.835553}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.699435+05:30", "timestamp": 1755778037.699435}}}
{"text": "2025-08-21 17:37:17.700 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:02.836293", "seconds": 62.836293}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.700175+05:30", "timestamp": 1755778037.700175}}}
{"text": "2025-08-21 17:37:17.700 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:17.692260+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:02.837048", "seconds": 62.837048}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:17.692260+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.700930+05:30", "timestamp": 1755778037.70093}}}
{"text": "2025-08-21 17:37:17.701 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1771704.88, day=1771704.88, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.29, unrealized=-32362.78, today_pnl=-32362.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1560.09, unrealized=-47133.67, today_pnl=-47133.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.57, unrealized=398149.1, today_pnl=398149.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1353.11, unrealized=-94322.65, today_pnl=-94322.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.12, unrealized=1547374.88, today_pnl=1547374.88)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 17, 692260, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:02.838063", "seconds": 62.838063}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1771704.88, day=1771704.88, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.29, unrealized=-32362.78, today_pnl=-32362.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1560.09, unrealized=-47133.67, today_pnl=-47133.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.57, unrealized=398149.1, today_pnl=398149.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1353.11, unrealized=-94322.65, today_pnl=-94322.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.12, unrealized=1547374.88, today_pnl=1547374.88)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 17, 692260, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.701945+05:30", "timestamp": 1755778037.701945}}}
{"text": "2025-08-21 17:37:17.703 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1771704.88, day=1771704.88, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.29, unrealized=-32362.78, today_pnl=-32362.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1560.09, unrealized=-47133.67, today_pnl=-47133.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.57, unrealized=398149.1, today_pnl=398149.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1353.11, unrealized=-94322.65, today_pnl=-94322.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.12, unrealized=1547374.88, today_pnl=1547374.88)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 17, 692260, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:02.839521", "seconds": 62.839521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1771704.88, day=1771704.88, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.29, unrealized=-32362.78, today_pnl=-32362.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1560.09, unrealized=-47133.67, today_pnl=-47133.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.57, unrealized=398149.1, today_pnl=398149.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1353.11, unrealized=-94322.65, today_pnl=-94322.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.12, unrealized=1547374.88, today_pnl=1547374.88)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 17, 692260, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.703403+05:30", "timestamp": 1755778037.703403}}}
{"text": "2025-08-21 17:37:17.704 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1771704.88\n", "record": {"elapsed": {"repr": "0:01:02.840845", "seconds": 62.840845}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1771704.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.704727+05:30", "timestamp": 1755778037.704727}}}
{"text": "2025-08-21 17:37:17.705 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=88\n", "record": {"elapsed": {"repr": "0:01:02.841980", "seconds": 62.84198}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=88", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.705862+05:30", "timestamp": 1755778037.705862}}}
{"text": "2025-08-21 17:37:17.954 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:03.090214", "seconds": 63.090214}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.954096+05:30", "timestamp": 1755778037.954096}}}
{"text": "2025-08-21 17:37:17.970 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:03.106260", "seconds": 63.10626}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.970142+05:30", "timestamp": 1755778037.970142}}}
{"text": "2025-08-21 17:37:17.986 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:03.122339", "seconds": 63.122339}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:17.986221+05:30", "timestamp": 1755778037.986221}}}
{"text": "2025-08-21 17:37:18.094 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=89\n", "record": {"elapsed": {"repr": "0:01:03.230907", "seconds": 63.230907}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=89", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.094789+05:30", "timestamp": 1755778038.094789}}}
{"text": "2025-08-21 17:37:18.096 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=90\n", "record": {"elapsed": {"repr": "0:01:03.232366", "seconds": 63.232366}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=90", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.096248+05:30", "timestamp": 1755778038.096248}}}
{"text": "2025-08-21 17:37:18.212 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:03.349044", "seconds": 63.349044}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.212926+05:30", "timestamp": 1755778038.212926}}}
{"text": "2025-08-21 17:37:18.231 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:03.367332", "seconds": 63.367332}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.231214+05:30", "timestamp": 1755778038.231214}}}
{"text": "2025-08-21 17:37:18.252 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:03.388495", "seconds": 63.388495}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.252377+05:30", "timestamp": 1755778038.252377}}}
{"text": "2025-08-21 17:37:18.580 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:03.716696", "seconds": 63.716696}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.580578+05:30", "timestamp": 1755778038.580578}}}
{"text": "2025-08-21 17:37:18.595 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:03.731199", "seconds": 63.731199}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.595081+05:30", "timestamp": 1755778038.595081}}}
{"text": "2025-08-21 17:37:18.611 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:03.747251", "seconds": 63.747251}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.611133+05:30", "timestamp": 1755778038.611133}}}
{"text": "2025-08-21 17:37:18.678 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:03.814701", "seconds": 63.814701}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.678583+05:30", "timestamp": 1755778038.678583}}}
{"text": "2025-08-21 17:37:18.951 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.087628", "seconds": 64.087628}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.951510+05:30", "timestamp": 1755778038.95151}}}
{"text": "2025-08-21 17:37:18.953 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:01:04.089360", "seconds": 64.08936}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.953242+05:30", "timestamp": 1755778038.953242}}}
{"text": "2025-08-21 17:37:18.954 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:01:04.090584", "seconds": 64.090584}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.954466+05:30", "timestamp": 1755778038.954466}}}
{"text": "2025-08-21 17:37:18.967 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.103306", "seconds": 64.103306}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.967188+05:30", "timestamp": 1755778038.967188}}}
{"text": "2025-08-21 17:37:18.985 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.121632", "seconds": 64.121632}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.985514+05:30", "timestamp": 1755778038.985514}}}
{"text": "2025-08-21 17:37:18.988 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:01:04.124259", "seconds": 64.124259}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.988141+05:30", "timestamp": 1755778038.988141}}}
{"text": "2025-08-21 17:37:18.989 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:01:04.125880", "seconds": 64.12588}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:18.989762+05:30", "timestamp": 1755778038.989762}}}
{"text": "2025-08-21 17:37:19.081 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.217161", "seconds": 64.217161}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.081043+05:30", "timestamp": 1755778039.081043}}}
{"text": "2025-08-21 17:37:19.084 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:01:04.220450", "seconds": 64.22045}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.084332+05:30", "timestamp": 1755778039.084332}}}
{"text": "2025-08-21 17:37:19.086 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:01:04.222157", "seconds": 64.222157}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.086039+05:30", "timestamp": 1755778039.086039}}}
{"text": "2025-08-21 17:37:19.383 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:04.519913", "seconds": 64.519913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.383795+05:30", "timestamp": 1755778039.383795}}}
{"text": "2025-08-21 17:37:19.384 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:04.521041", "seconds": 64.521041}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.384923+05:30", "timestamp": 1755778039.384923}}}
{"text": "2025-08-21 17:37:19.385 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-32362.78, today=-32362.78\n", "record": {"elapsed": {"repr": "0:01:04.522053", "seconds": 64.522053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-32362.78, today=-32362.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.385935+05:30", "timestamp": 1755778039.385935}}}
{"text": "2025-08-21 17:37:19.386 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-47133.67, today=-47133.67\n", "record": {"elapsed": {"repr": "0:01:04.523059", "seconds": 64.523059}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-47133.67, today=-47133.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.386941+05:30", "timestamp": 1755778039.386941}}}
{"text": "2025-08-21 17:37:19.388 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=398149.1, today=398149.1\n", "record": {"elapsed": {"repr": "0:01:04.524161", "seconds": 64.524161}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=398149.1, today=398149.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.388043+05:30", "timestamp": 1755778039.388043}}}
{"text": "2025-08-21 17:37:19.389 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-94322.65, today=-94322.65\n", "record": {"elapsed": {"repr": "0:01:04.525351", "seconds": 64.525351}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-94322.65, today=-94322.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.389233+05:30", "timestamp": 1755778039.389233}}}
{"text": "2025-08-21 17:37:19.390 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1547374.88, today=1547374.88\n", "record": {"elapsed": {"repr": "0:01:04.526273", "seconds": 64.526273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1547374.88, today=1547374.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.390155+05:30", "timestamp": 1755778039.390155}}}
{"text": "2025-08-21 17:37:19.391 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1771704.88, day: 1771704.88\n", "record": {"elapsed": {"repr": "0:01:04.527295", "seconds": 64.527295}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1771704.88, day: 1771704.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.391177+05:30", "timestamp": 1755778039.391177}}}
{"text": "2025-08-21 17:37:19.392 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:04.528252", "seconds": 64.528252}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.392134+05:30", "timestamp": 1755778039.392134}}}
{"text": "2025-08-21 17:37:19.393 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:04.529277", "seconds": 64.529277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.393159+05:30", "timestamp": 1755778039.393159}}}
{"text": "2025-08-21 17:37:19.394 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:04.530276", "seconds": 64.530276}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.394158+05:30", "timestamp": 1755778039.394158}}}
{"text": "2025-08-21 17:37:19.395 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:04.531557", "seconds": 64.531557}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.395439+05:30", "timestamp": 1755778039.395439}}}
{"text": "2025-08-21 17:37:19.396 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:19.385788+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:04.532718", "seconds": 64.532718}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:19.385788+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.396600+05:30", "timestamp": 1755778039.3966}}}
{"text": "2025-08-21 17:37:19.398 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1771704.88, day=1771704.88, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.29, unrealized=-32362.78, today_pnl=-32362.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1560.09, unrealized=-47133.67, today_pnl=-47133.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.57, unrealized=398149.1, today_pnl=398149.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1353.11, unrealized=-94322.65, today_pnl=-94322.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.12, unrealized=1547374.88, today_pnl=1547374.88)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 19, 385788, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:04.534985", "seconds": 64.534985}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1771704.88, day=1771704.88, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.29, unrealized=-32362.78, today_pnl=-32362.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1560.09, unrealized=-47133.67, today_pnl=-47133.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.57, unrealized=398149.1, today_pnl=398149.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1353.11, unrealized=-94322.65, today_pnl=-94322.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.12, unrealized=1547374.88, today_pnl=1547374.88)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 19, 385788, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.398867+05:30", "timestamp": 1755778039.398867}}}
{"text": "2025-08-21 17:37:19.400 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1771704.88, day=1771704.88, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.29, unrealized=-32362.78, today_pnl=-32362.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1560.09, unrealized=-47133.67, today_pnl=-47133.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.57, unrealized=398149.1, today_pnl=398149.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1353.11, unrealized=-94322.65, today_pnl=-94322.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.12, unrealized=1547374.88, today_pnl=1547374.88)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 19, 385788, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:04.536735", "seconds": 64.536735}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1771704.88, day=1771704.88, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.29, unrealized=-32362.78, today_pnl=-32362.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1560.09, unrealized=-47133.67, today_pnl=-47133.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=642.57, unrealized=398149.1, today_pnl=398149.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1353.11, unrealized=-94322.65, today_pnl=-94322.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1920.12, unrealized=1547374.88, today_pnl=1547374.88)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 19, 385788, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.400617+05:30", "timestamp": 1755778039.400617}}}
{"text": "2025-08-21 17:37:19.401 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.537531", "seconds": 64.537531}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:19.401413+05:30", "timestamp": 1755778039.401413}}}
{"text": "2025-08-21 17:37:19.403 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1771704.88\n", "record": {"elapsed": {"repr": "0:01:04.539332", "seconds": 64.539332}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1771704.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.403214+05:30", "timestamp": 1755778039.403214}}}
{"text": "2025-08-21 17:37:19.404 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.540237", "seconds": 64.540237}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:19.404119+05:30", "timestamp": 1755778039.404119}}}
{"text": "2025-08-21 17:37:19.405 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.541564", "seconds": 64.541564}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.405446+05:30", "timestamp": 1755778039.405446}}}
{"text": "2025-08-21 17:37:19.406 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.542956", "seconds": 64.542956}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:19.406838+05:30", "timestamp": 1755778039.406838}}}
{"text": "2025-08-21 17:37:19.407 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.543795", "seconds": 64.543795}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.407677+05:30", "timestamp": 1755778039.407677}}}
{"text": "2025-08-21 17:37:19.408 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.544800", "seconds": 64.5448}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:19.408682+05:30", "timestamp": 1755778039.408682}}}
{"text": "2025-08-21 17:37:19.409 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.545565", "seconds": 64.545565}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.409447+05:30", "timestamp": 1755778039.409447}}}
{"text": "2025-08-21 17:37:19.410 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.546363", "seconds": 64.546363}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:19.410245+05:30", "timestamp": 1755778039.410245}}}
{"text": "2025-08-21 17:37:19.411 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.547163", "seconds": 64.547163}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.411045+05:30", "timestamp": 1755778039.411045}}}
{"text": "2025-08-21 17:37:19.411 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.547938", "seconds": 64.547938}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:19.411820+05:30", "timestamp": 1755778039.41182}}}
{"text": "2025-08-21 17:37:19.412 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.548693", "seconds": 64.548693}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.412575+05:30", "timestamp": 1755778039.412575}}}
{"text": "2025-08-21 17:37:19.413 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.549380", "seconds": 64.54938}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:19.413262+05:30", "timestamp": 1755778039.413262}}}
{"text": "2025-08-21 17:37:19.414 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.550978", "seconds": 64.550978}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.414860+05:30", "timestamp": 1755778039.41486}}}
{"text": "2025-08-21 17:37:19.415 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.551752", "seconds": 64.551752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:19.415634+05:30", "timestamp": 1755778039.415634}}}
{"text": "2025-08-21 17:37:19.416 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.552976", "seconds": 64.552976}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.416858+05:30", "timestamp": 1755778039.416858}}}
{"text": "2025-08-21 17:37:19.417 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.553749", "seconds": 64.553749}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:19.417631+05:30", "timestamp": 1755778039.417631}}}
{"text": "2025-08-21 17:37:19.418 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.554659", "seconds": 64.554659}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.418541+05:30", "timestamp": 1755778039.418541}}}
{"text": "2025-08-21 17:37:19.419 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.555386", "seconds": 64.555386}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:19.419268+05:30", "timestamp": 1755778039.419268}}}
{"text": "2025-08-21 17:37:19.420 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.556253", "seconds": 64.556253}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.420135+05:30", "timestamp": 1755778039.420135}}}
{"text": "2025-08-21 17:37:19.422 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.558531", "seconds": 64.558531}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.422413+05:30", "timestamp": 1755778039.422413}}}
{"text": "2025-08-21 17:37:19.423 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.559968", "seconds": 64.559968}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.423850+05:30", "timestamp": 1755778039.42385}}}
{"text": "2025-08-21 17:37:19.424 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.560902", "seconds": 64.560902}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.424784+05:30", "timestamp": 1755778039.424784}}}
{"text": "2025-08-21 17:37:19.425 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.561835", "seconds": 64.561835}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.425717+05:30", "timestamp": 1755778039.425717}}}
{"text": "2025-08-21 17:37:19.426 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:04.562781", "seconds": 64.562781}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.426663+05:30", "timestamp": 1755778039.426663}}}
{"text": "2025-08-21 17:37:19.427 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.563711", "seconds": 64.563711}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.427593+05:30", "timestamp": 1755778039.427593}}}
{"text": "2025-08-21 17:37:19.428 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.564509", "seconds": 64.564509}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.428391+05:30", "timestamp": 1755778039.428391}}}
{"text": "2025-08-21 17:37:19.429 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.565426", "seconds": 64.565426}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.429308+05:30", "timestamp": 1755778039.429308}}}
{"text": "2025-08-21 17:37:19.430 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.566320", "seconds": 64.56632}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.430202+05:30", "timestamp": 1755778039.430202}}}
{"text": "2025-08-21 17:37:19.431 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.567642", "seconds": 64.567642}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.431524+05:30", "timestamp": 1755778039.431524}}}
{"text": "2025-08-21 17:37:19.432 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.568663", "seconds": 64.568663}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.432545+05:30", "timestamp": 1755778039.432545}}}
{"text": "2025-08-21 17:37:19.433 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.569593", "seconds": 64.569593}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.433475+05:30", "timestamp": 1755778039.433475}}}
{"text": "2025-08-21 17:37:19.434 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.570474", "seconds": 64.570474}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.434356+05:30", "timestamp": 1755778039.434356}}}
{"text": "2025-08-21 17:37:19.435 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.571333", "seconds": 64.571333}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.435215+05:30", "timestamp": 1755778039.435215}}}
{"text": "2025-08-21 17:37:19.436 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.572173", "seconds": 64.572173}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.436055+05:30", "timestamp": 1755778039.436055}}}
{"text": "2025-08-21 17:37:19.437 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.573193", "seconds": 64.573193}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.437075+05:30", "timestamp": 1755778039.437075}}}
{"text": "2025-08-21 17:37:19.437 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.574043", "seconds": 64.574043}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.437925+05:30", "timestamp": 1755778039.437925}}}
{"text": "2025-08-21 17:37:19.438 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.574844", "seconds": 64.574844}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.438726+05:30", "timestamp": 1755778039.438726}}}
{"text": "2025-08-21 17:37:19.440 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:04.576151", "seconds": 64.576151}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.440033+05:30", "timestamp": 1755778039.440033}}}
{"text": "2025-08-21 17:37:19.440 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=91\n", "record": {"elapsed": {"repr": "0:01:04.577045", "seconds": 64.577045}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=91", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.440927+05:30", "timestamp": 1755778039.440927}}}
{"text": "2025-08-21 17:37:19.977 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=92\n", "record": {"elapsed": {"repr": "0:01:05.113565", "seconds": 65.113565}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=92", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:19.977447+05:30", "timestamp": 1755778039.977447}}}
{"text": "2025-08-21 17:37:20.999 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:06.136063", "seconds": 66.136063}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:20.999945+05:30", "timestamp": 1755778040.999945}}}
{"text": "2025-08-21 17:37:21.000 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:06.137036", "seconds": 66.137036}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.000918+05:30", "timestamp": 1755778041.000918}}}
{"text": "2025-08-21 17:37:21.001 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-29396.54, today=-29396.54\n", "record": {"elapsed": {"repr": "0:01:06.137854", "seconds": 66.137854}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-29396.54, today=-29396.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.001736+05:30", "timestamp": 1755778041.001736}}}
{"text": "2025-08-21 17:37:21.002 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-41860.99, today=-41860.99\n", "record": {"elapsed": {"repr": "0:01:06.138572", "seconds": 66.138572}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-41860.99, today=-41860.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.002454+05:30", "timestamp": 1755778041.002454}}}
{"text": "2025-08-21 17:37:21.003 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=400097.98, today=400097.98\n", "record": {"elapsed": {"repr": "0:01:06.139422", "seconds": 66.139422}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=400097.98, today=400097.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.003304+05:30", "timestamp": 1755778041.003304}}}
{"text": "2025-08-21 17:37:21.004 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-92934.9, today=-92934.9\n", "record": {"elapsed": {"repr": "0:01:06.140146", "seconds": 66.140146}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-92934.9, today=-92934.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.004028+05:30", "timestamp": 1755778041.004028}}}
{"text": "2025-08-21 17:37:21.004 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1513148.26, today=1513148.26\n", "record": {"elapsed": {"repr": "0:01:06.141045", "seconds": 66.141045}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1513148.26, today=1513148.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.004927+05:30", "timestamp": 1755778041.004927}}}
{"text": "2025-08-21 17:37:21.005 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1749053.81, day: 1749053.81\n", "record": {"elapsed": {"repr": "0:01:06.141743", "seconds": 66.141743}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1749053.81, day: 1749053.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.005625+05:30", "timestamp": 1755778041.005625}}}
{"text": "2025-08-21 17:37:21.006 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:06.142577", "seconds": 66.142577}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.006459+05:30", "timestamp": 1755778041.006459}}}
{"text": "2025-08-21 17:37:21.007 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:06.143267", "seconds": 66.143267}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.007149+05:30", "timestamp": 1755778041.007149}}}
{"text": "2025-08-21 17:37:21.008 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:06.144119", "seconds": 66.144119}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.008001+05:30", "timestamp": 1755778041.008001}}}
{"text": "2025-08-21 17:37:21.008 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:06.144781", "seconds": 66.144781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.008663+05:30", "timestamp": 1755778041.008663}}}
{"text": "2025-08-21 17:37:21.009 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:21.001603+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:06.145454", "seconds": 66.145454}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:21.001603+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.009336+05:30", "timestamp": 1755778041.009336}}}
{"text": "2025-08-21 17:37:21.010 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1749053.81, day=1749053.81, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.74, unrealized=-29396.54, today_pnl=-29396.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.78, unrealized=-41860.99, today_pnl=-41860.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=643.71, unrealized=400097.98, today_pnl=400097.98), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1343.86, unrealized=-92934.9, today_pnl=-92934.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1890.74, unrealized=1513148.26, today_pnl=1513148.26)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 21, 1603, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:06.146544", "seconds": 66.146544}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1749053.81, day=1749053.81, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.74, unrealized=-29396.54, today_pnl=-29396.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.78, unrealized=-41860.99, today_pnl=-41860.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=643.71, unrealized=400097.98, today_pnl=400097.98), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1343.86, unrealized=-92934.9, today_pnl=-92934.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1890.74, unrealized=1513148.26, today_pnl=1513148.26)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 21, 1603, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.010426+05:30", "timestamp": 1755778041.010426}}}
{"text": "2025-08-21 17:37:21.011 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1749053.81, day=1749053.81, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.74, unrealized=-29396.54, today_pnl=-29396.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.78, unrealized=-41860.99, today_pnl=-41860.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=643.71, unrealized=400097.98, today_pnl=400097.98), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1343.86, unrealized=-92934.9, today_pnl=-92934.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1890.74, unrealized=1513148.26, today_pnl=1513148.26)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 21, 1603, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:06.147810", "seconds": 66.14781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1749053.81, day=1749053.81, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.74, unrealized=-29396.54, today_pnl=-29396.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.78, unrealized=-41860.99, today_pnl=-41860.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=643.71, unrealized=400097.98, today_pnl=400097.98), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1343.86, unrealized=-92934.9, today_pnl=-92934.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1890.74, unrealized=1513148.26, today_pnl=1513148.26)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 21, 1603, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.011692+05:30", "timestamp": 1755778041.011692}}}
{"text": "2025-08-21 17:37:21.013 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1749053.81\n", "record": {"elapsed": {"repr": "0:01:06.149654", "seconds": 66.149654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1749053.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.013536+05:30", "timestamp": 1755778041.013536}}}
{"text": "2025-08-21 17:37:21.015 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=93\n", "record": {"elapsed": {"repr": "0:01:06.151425", "seconds": 66.151425}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=93", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.015307+05:30", "timestamp": 1755778041.015307}}}
{"text": "2025-08-21 17:37:21.421 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.558032", "seconds": 66.558032}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:21.421914+05:30", "timestamp": 1755778041.421914}}}
{"text": "2025-08-21 17:37:21.422 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.559095", "seconds": 66.559095}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:21.422977+05:30", "timestamp": 1755778041.422977}}}
{"text": "2025-08-21 17:37:21.423 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.559968", "seconds": 66.559968}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:21.423850+05:30", "timestamp": 1755778041.42385}}}
{"text": "2025-08-21 17:37:21.424 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.561045", "seconds": 66.561045}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:21.424927+05:30", "timestamp": 1755778041.424927}}}
{"text": "2025-08-21 17:37:21.425 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.561886", "seconds": 66.561886}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:21.425768+05:30", "timestamp": 1755778041.425768}}}
{"text": "2025-08-21 17:37:21.426 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.562705", "seconds": 66.562705}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:21.426587+05:30", "timestamp": 1755778041.426587}}}
{"text": "2025-08-21 17:37:21.427 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.563591", "seconds": 66.563591}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:21.427473+05:30", "timestamp": 1755778041.427473}}}
{"text": "2025-08-21 17:37:21.428 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.564655", "seconds": 66.564655}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:21.428537+05:30", "timestamp": 1755778041.428537}}}
{"text": "2025-08-21 17:37:21.429 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.565732", "seconds": 66.565732}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:21.429614+05:30", "timestamp": 1755778041.429614}}}
{"text": "2025-08-21 17:37:21.430 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.566666", "seconds": 66.566666}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:21.430548+05:30", "timestamp": 1755778041.430548}}}
{"text": "2025-08-21 17:37:21.796 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=94\n", "record": {"elapsed": {"repr": "0:01:06.932938", "seconds": 66.932938}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=94", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:21.796820+05:30", "timestamp": 1755778041.79682}}}
{"text": "2025-08-21 17:37:22.335 | INFO     | app.main:add_trace_id:43 - Request started - Method: GET, Path: /pnl, Trace ID: eb637d10-990f-40ae-bd30-4b125417650d\n", "record": {"elapsed": {"repr": "0:01:07.471142", "seconds": 67.471142}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 43, "message": "Request started - Method: GET, Path: /pnl, Trace ID: eb637d10-990f-40ae-bd30-4b125417650d", "module": "main", "name": "app.main", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.335024+05:30", "timestamp": 1755778042.335024}}}
{"text": "2025-08-21 17:37:22.336 | INFO     | app.routes.data:pnl:69 - PnL endpoint called\n", "record": {"elapsed": {"repr": "0:01:07.472922", "seconds": 67.472922}, "exception": null, "extra": {}, "file": {"name": "data.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\routes\\data.py"}, "function": "pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 69, "message": "PnL endpoint called", "module": "data", "name": "app.routes.data", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.336804+05:30", "timestamp": 1755778042.336804}}}
{"text": "2025-08-21 17:37:22.337 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:07.473768", "seconds": 67.473768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.337650+05:30", "timestamp": 1755778042.33765}}}
{"text": "2025-08-21 17:37:22.338 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:07.474607", "seconds": 67.474607}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.338489+05:30", "timestamp": 1755778042.338489}}}
{"text": "2025-08-21 17:37:22.339 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-29579.62, today=-29579.62\n", "record": {"elapsed": {"repr": "0:01:07.475503", "seconds": 67.475503}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-29579.62, today=-29579.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.339385+05:30", "timestamp": 1755778042.339385}}}
{"text": "2025-08-21 17:37:22.340 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-24944.13, today=-24944.13\n", "record": {"elapsed": {"repr": "0:01:07.476540", "seconds": 67.47654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-24944.13, today=-24944.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.340422+05:30", "timestamp": 1755778042.340422}}}
{"text": "2025-08-21 17:37:22.341 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=392038.78, today=392038.78\n", "record": {"elapsed": {"repr": "0:01:07.477553", "seconds": 67.477553}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=392038.78, today=392038.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.341435+05:30", "timestamp": 1755778042.341435}}}
{"text": "2025-08-21 17:37:22.342 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-89429.49, today=-89429.49\n", "record": {"elapsed": {"repr": "0:01:07.478475", "seconds": 67.478475}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-89429.49, today=-89429.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.342357+05:30", "timestamp": 1755778042.342357}}}
{"text": "2025-08-21 17:37:22.343 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1492675.01, today=1492675.01\n", "record": {"elapsed": {"repr": "0:01:07.479431", "seconds": 67.479431}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1492675.01, today=1492675.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.343313+05:30", "timestamp": 1755778042.343313}}}
{"text": "2025-08-21 17:37:22.344 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1740760.55, day: 1740760.55\n", "record": {"elapsed": {"repr": "0:01:07.480368", "seconds": 67.480368}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1740760.55, day: 1740760.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.344250+05:30", "timestamp": 1755778042.34425}}}
{"text": "2025-08-21 17:37:22.345 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:07.481212", "seconds": 67.481212}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.345094+05:30", "timestamp": 1755778042.345094}}}
{"text": "2025-08-21 17:37:22.346 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:07.482209", "seconds": 67.482209}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.346091+05:30", "timestamp": 1755778042.346091}}}
{"text": "2025-08-21 17:37:22.346 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:07.482982", "seconds": 67.482982}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.346864+05:30", "timestamp": 1755778042.346864}}}
{"text": "2025-08-21 17:37:22.347 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:07.483893", "seconds": 67.483893}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.347775+05:30", "timestamp": 1755778042.347775}}}
{"text": "2025-08-21 17:37:22.348 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:22.339228+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:07.484772", "seconds": 67.484772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:22.339228+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.348654+05:30", "timestamp": 1755778042.348654}}}
{"text": "2025-08-21 17:37:22.349 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1740760.55, day=1740760.55, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.53, unrealized=-29579.62, today_pnl=-29579.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1525.09, unrealized=-24944.13, today_pnl=-24944.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=638.97, unrealized=392038.78, today_pnl=392038.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.49, unrealized=-89429.49, today_pnl=-89429.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1873.17, unrealized=1492675.01, today_pnl=1492675.01)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 22, 339228, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:07.485994", "seconds": 67.485994}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1740760.55, day=1740760.55, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.53, unrealized=-29579.62, today_pnl=-29579.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1525.09, unrealized=-24944.13, today_pnl=-24944.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=638.97, unrealized=392038.78, today_pnl=392038.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.49, unrealized=-89429.49, today_pnl=-89429.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1873.17, unrealized=1492675.01, today_pnl=1492675.01)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 22, 339228, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.349876+05:30", "timestamp": 1755778042.349876}}}
{"text": "2025-08-21 17:37:22.351 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1740760.55, day=1740760.55, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.53, unrealized=-29579.62, today_pnl=-29579.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1525.09, unrealized=-24944.13, today_pnl=-24944.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=638.97, unrealized=392038.78, today_pnl=392038.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.49, unrealized=-89429.49, today_pnl=-89429.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1873.17, unrealized=1492675.01, today_pnl=1492675.01)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 22, 339228, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:07.487472", "seconds": 67.487472}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1740760.55, day=1740760.55, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.53, unrealized=-29579.62, today_pnl=-29579.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1525.09, unrealized=-24944.13, today_pnl=-24944.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=638.97, unrealized=392038.78, today_pnl=392038.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.49, unrealized=-89429.49, today_pnl=-89429.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1873.17, unrealized=1492675.01, today_pnl=1492675.01)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 22, 339228, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.351354+05:30", "timestamp": 1755778042.351354}}}
{"text": "2025-08-21 17:37:22.352 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1740760.55\n", "record": {"elapsed": {"repr": "0:01:07.488836", "seconds": 67.488836}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1740760.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.352718+05:30", "timestamp": 1755778042.352718}}}
{"text": "2025-08-21 17:37:22.353 | INFO     | app.routes.data:pnl:71 - PnL data returned: True\n", "record": {"elapsed": {"repr": "0:01:07.489705", "seconds": 67.489705}, "exception": null, "extra": {}, "file": {"name": "data.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\routes\\data.py"}, "function": "pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 71, "message": "PnL data returned: True", "module": "data", "name": "app.routes.data", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 26648, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 17:37:22.353587+05:30", "timestamp": 1755778042.353587}}}
{"text": "2025-08-21 17:37:22.356 | INFO     | app.main:add_trace_id:47 - Request completed - Method: GET, Path: /pnl, Status: 200, Trace ID: eb637d10-990f-40ae-bd30-4b125417650d\n", "record": {"elapsed": {"repr": "0:01:07.492299", "seconds": 67.492299}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 47, "message": "Request completed - Method: GET, Path: /pnl, Status: 200, Trace ID: eb637d10-990f-40ae-bd30-4b125417650d", "module": "main", "name": "app.main", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.356181+05:30", "timestamp": 1755778042.356181}}}
{"text": "2025-08-21 17:37:22.397 | INFO     | app.main:add_trace_id:43 - Request started - Method: GET, Path: /positions, Trace ID: 711c80f9-8398-4873-8f6f-44ed3ef44c8f\n", "record": {"elapsed": {"repr": "0:01:07.533623", "seconds": 67.533623}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 43, "message": "Request started - Method: GET, Path: /positions, Trace ID: 711c80f9-8398-4873-8f6f-44ed3ef44c8f", "module": "main", "name": "app.main", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.397505+05:30", "timestamp": 1755778042.397505}}}
{"text": "2025-08-21 17:37:22.400 | INFO     | app.main:add_trace_id:47 - Request completed - Method: GET, Path: /positions, Status: 200, Trace ID: 711c80f9-8398-4873-8f6f-44ed3ef44c8f\n", "record": {"elapsed": {"repr": "0:01:07.536663", "seconds": 67.536663}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 47, "message": "Request completed - Method: GET, Path: /positions, Status: 200, Trace ID: 711c80f9-8398-4873-8f6f-44ed3ef44c8f", "module": "main", "name": "app.main", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.400545+05:30", "timestamp": 1755778042.400545}}}
{"text": "2025-08-21 17:37:22.685 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:07.821894", "seconds": 67.821894}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.685776+05:30", "timestamp": 1755778042.685776}}}
{"text": "2025-08-21 17:37:22.702 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:07.838238", "seconds": 67.838238}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.702120+05:30", "timestamp": 1755778042.70212}}}
{"text": "2025-08-21 17:37:22.754 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:07.890460", "seconds": 67.89046}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.754342+05:30", "timestamp": 1755778042.754342}}}
{"text": "2025-08-21 17:37:22.772 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:07.908746", "seconds": 67.908746}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.772628+05:30", "timestamp": 1755778042.772628}}}
{"text": "2025-08-21 17:37:22.852 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:07.988753", "seconds": 67.988753}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.852635+05:30", "timestamp": 1755778042.852635}}}
{"text": "2025-08-21 17:37:22.853 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:07.989971", "seconds": 67.989971}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.853853+05:30", "timestamp": 1755778042.853853}}}
{"text": "2025-08-21 17:37:22.854 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-29579.62, today=-29579.62\n", "record": {"elapsed": {"repr": "0:01:07.991108", "seconds": 67.991108}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-29579.62, today=-29579.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.854990+05:30", "timestamp": 1755778042.85499}}}
{"text": "2025-08-21 17:37:22.856 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-24944.13, today=-24944.13\n", "record": {"elapsed": {"repr": "0:01:07.992232", "seconds": 67.992232}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-24944.13, today=-24944.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.856114+05:30", "timestamp": 1755778042.856114}}}
{"text": "2025-08-21 17:37:22.857 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=392038.78, today=392038.78\n", "record": {"elapsed": {"repr": "0:01:07.993177", "seconds": 67.993177}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=392038.78, today=392038.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.857059+05:30", "timestamp": 1755778042.857059}}}
{"text": "2025-08-21 17:37:22.857 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-89429.49, today=-89429.49\n", "record": {"elapsed": {"repr": "0:01:07.994025", "seconds": 67.994025}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-89429.49, today=-89429.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.857907+05:30", "timestamp": 1755778042.857907}}}
{"text": "2025-08-21 17:37:22.858 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1492675.01, today=1492675.01\n", "record": {"elapsed": {"repr": "0:01:07.994886", "seconds": 67.994886}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1492675.01, today=1492675.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.858768+05:30", "timestamp": 1755778042.858768}}}
{"text": "2025-08-21 17:37:22.859 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1740760.55, day: 1740760.55\n", "record": {"elapsed": {"repr": "0:01:07.995828", "seconds": 67.995828}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1740760.55, day: 1740760.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.859710+05:30", "timestamp": 1755778042.85971}}}
{"text": "2025-08-21 17:37:22.860 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:07.996773", "seconds": 67.996773}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.860655+05:30", "timestamp": 1755778042.860655}}}
{"text": "2025-08-21 17:37:22.861 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:07.997684", "seconds": 67.997684}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.861566+05:30", "timestamp": 1755778042.861566}}}
{"text": "2025-08-21 17:37:22.862 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:07.998639", "seconds": 67.998639}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.862521+05:30", "timestamp": 1755778042.862521}}}
{"text": "2025-08-21 17:37:22.863 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:07.999479", "seconds": 67.999479}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.863361+05:30", "timestamp": 1755778042.863361}}}
{"text": "2025-08-21 17:37:22.864 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:22.854877+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:08.000278", "seconds": 68.000278}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:22.854877+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.864160+05:30", "timestamp": 1755778042.86416}}}
{"text": "2025-08-21 17:37:22.865 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1740760.55, day=1740760.55, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.53, unrealized=-29579.62, today_pnl=-29579.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1525.09, unrealized=-24944.13, today_pnl=-24944.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=638.97, unrealized=392038.78, today_pnl=392038.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.49, unrealized=-89429.49, today_pnl=-89429.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1873.17, unrealized=1492675.01, today_pnl=1492675.01)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 22, 854877, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:08.001453", "seconds": 68.001453}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1740760.55, day=1740760.55, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.53, unrealized=-29579.62, today_pnl=-29579.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1525.09, unrealized=-24944.13, today_pnl=-24944.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=638.97, unrealized=392038.78, today_pnl=392038.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.49, unrealized=-89429.49, today_pnl=-89429.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1873.17, unrealized=1492675.01, today_pnl=1492675.01)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 22, 854877, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.865335+05:30", "timestamp": 1755778042.865335}}}
{"text": "2025-08-21 17:37:22.866 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1740760.55, day=1740760.55, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.53, unrealized=-29579.62, today_pnl=-29579.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1525.09, unrealized=-24944.13, today_pnl=-24944.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=638.97, unrealized=392038.78, today_pnl=392038.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.49, unrealized=-89429.49, today_pnl=-89429.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1873.17, unrealized=1492675.01, today_pnl=1492675.01)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 22, 854877, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:08.003067", "seconds": 68.003067}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1740760.55, day=1740760.55, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=324.53, unrealized=-29579.62, today_pnl=-29579.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1525.09, unrealized=-24944.13, today_pnl=-24944.13), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=638.97, unrealized=392038.78, today_pnl=392038.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1320.49, unrealized=-89429.49, today_pnl=-89429.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1873.17, unrealized=1492675.01, today_pnl=1492675.01)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 22, 854877, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.866949+05:30", "timestamp": 1755778042.866949}}}
{"text": "2025-08-21 17:37:22.868 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1740760.55\n", "record": {"elapsed": {"repr": "0:01:08.004683", "seconds": 68.004683}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1740760.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.868565+05:30", "timestamp": 1755778042.868565}}}
{"text": "2025-08-21 17:37:22.869 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:08.006000", "seconds": 68.006}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.869882+05:30", "timestamp": 1755778042.869882}}}
{"text": "2025-08-21 17:37:22.870 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:08.006987", "seconds": 68.006987}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.870869+05:30", "timestamp": 1755778042.870869}}}
{"text": "2025-08-21 17:37:22.871 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:08.007995", "seconds": 68.007995}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.871877+05:30", "timestamp": 1755778042.871877}}}
{"text": "2025-08-21 17:37:22.872 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:08.008952", "seconds": 68.008952}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.872834+05:30", "timestamp": 1755778042.872834}}}
{"text": "2025-08-21 17:37:22.873 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:08.009768", "seconds": 68.009768}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.873650+05:30", "timestamp": 1755778042.87365}}}
{"text": "2025-08-21 17:37:22.874 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:08.010649", "seconds": 68.010649}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.874531+05:30", "timestamp": 1755778042.874531}}}
{"text": "2025-08-21 17:37:22.875 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:08.011483", "seconds": 68.011483}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.875365+05:30", "timestamp": 1755778042.875365}}}
{"text": "2025-08-21 17:37:22.876 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:08.012299", "seconds": 68.012299}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.876181+05:30", "timestamp": 1755778042.876181}}}
{"text": "2025-08-21 17:37:22.877 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=95\n", "record": {"elapsed": {"repr": "0:01:08.013315", "seconds": 68.013315}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=95", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:22.877197+05:30", "timestamp": 1755778042.877197}}}
{"text": "2025-08-21 17:37:23.019 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:08.155899", "seconds": 68.155899}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:23.019781+05:30", "timestamp": 1755778043.019781}}}
{"text": "2025-08-21 17:37:23.021 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:01:08.158093", "seconds": 68.158093}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:23.021975+05:30", "timestamp": 1755778043.021975}}}
{"text": "2025-08-21 17:37:23.022 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:01:08.159002", "seconds": 68.159002}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:23.022884+05:30", "timestamp": 1755778043.022884}}}
{"text": "2025-08-21 17:37:23.085 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:08.221832", "seconds": 68.221832}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:23.085714+05:30", "timestamp": 1755778043.085714}}}
{"text": "2025-08-21 17:37:23.088 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:01:08.224486", "seconds": 68.224486}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:23.088368+05:30", "timestamp": 1755778043.088368}}}
{"text": "2025-08-21 17:37:23.089 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:01:08.225410", "seconds": 68.22541}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:23.089292+05:30", "timestamp": 1755778043.089292}}}
{"text": "2025-08-21 17:37:23.431 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.568001", "seconds": 68.568001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:23.431883+05:30", "timestamp": 1755778043.431883}}}
{"text": "2025-08-21 17:37:23.433 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.569118", "seconds": 68.569118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:23.433000+05:30", "timestamp": 1755778043.433}}}
{"text": "2025-08-21 17:37:23.433 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.569994", "seconds": 68.569994}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:23.433876+05:30", "timestamp": 1755778043.433876}}}
{"text": "2025-08-21 17:37:23.434 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.570848", "seconds": 68.570848}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:23.434730+05:30", "timestamp": 1755778043.43473}}}
{"text": "2025-08-21 17:37:23.435 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.571771", "seconds": 68.571771}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:23.435653+05:30", "timestamp": 1755778043.435653}}}
{"text": "2025-08-21 17:37:23.436 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.572705", "seconds": 68.572705}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:23.436587+05:30", "timestamp": 1755778043.436587}}}
{"text": "2025-08-21 17:37:23.437 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.573875", "seconds": 68.573875}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:23.437757+05:30", "timestamp": 1755778043.437757}}}
{"text": "2025-08-21 17:37:23.438 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.574800", "seconds": 68.5748}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:23.438682+05:30", "timestamp": 1755778043.438682}}}
{"text": "2025-08-21 17:37:23.439 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.575690", "seconds": 68.57569}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:23.439572+05:30", "timestamp": 1755778043.439572}}}
{"text": "2025-08-21 17:37:23.440 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.576571", "seconds": 68.576571}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:23.440453+05:30", "timestamp": 1755778043.440453}}}
{"text": "2025-08-21 17:37:23.527 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=96\n", "record": {"elapsed": {"repr": "0:01:08.664030", "seconds": 68.66403}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=96", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:23.527912+05:30", "timestamp": 1755778043.527912}}}
{"text": "2025-08-21 17:37:23.529 | DEBUG    | app.ws.live:emit_summary:430 - Emitted positions summary: seq=97\n", "record": {"elapsed": {"repr": "0:01:08.665537", "seconds": 68.665537}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_summary", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 430, "message": "Emitted positions summary: seq=97", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:23.529419+05:30", "timestamp": 1755778043.529419}}}
{"text": "2025-08-21 17:37:23.858 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:08.995099", "seconds": 68.995099}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:23.858981+05:30", "timestamp": 1755778043.858981}}}
{"text": "2025-08-21 17:37:23.878 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.014376", "seconds": 69.014376}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:23.878258+05:30", "timestamp": 1755778043.878258}}}
{"text": "2025-08-21 17:37:24.184 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.320821", "seconds": 69.320821}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.184703+05:30", "timestamp": 1755778044.184703}}}
{"text": "2025-08-21 17:37:24.203 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.339628", "seconds": 69.339628}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.203510+05:30", "timestamp": 1755778044.20351}}}
{"text": "2025-08-21 17:37:24.532 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.668617", "seconds": 69.668617}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.532499+05:30", "timestamp": 1755778044.532499}}}
{"text": "2025-08-21 17:37:24.534 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:01:09.670516", "seconds": 69.670516}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.534398+05:30", "timestamp": 1755778044.534398}}}
{"text": "2025-08-21 17:37:24.535 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:01:09.671554", "seconds": 69.671554}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.535436+05:30", "timestamp": 1755778044.535436}}}
{"text": "2025-08-21 17:37:24.644 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:09.780871", "seconds": 69.780871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.644753+05:30", "timestamp": 1755778044.644753}}}
{"text": "2025-08-21 17:37:24.645 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:09.781907", "seconds": 69.781907}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.645789+05:30", "timestamp": 1755778044.645789}}}
{"text": "2025-08-21 17:37:24.646 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-33360.68, today=-33360.68\n", "record": {"elapsed": {"repr": "0:01:09.782872", "seconds": 69.782872}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-33360.68, today=-33360.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.646754+05:30", "timestamp": 1755778044.646754}}}
{"text": "2025-08-21 17:37:24.647 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-31124.27, today=-31124.27\n", "record": {"elapsed": {"repr": "0:01:09.783666", "seconds": 69.783666}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-31124.27, today=-31124.27", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.647548+05:30", "timestamp": 1755778044.647548}}}
{"text": "2025-08-21 17:37:24.648 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=370344.01, today=370344.01\n", "record": {"elapsed": {"repr": "0:01:09.784614", "seconds": 69.784614}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=370344.01, today=370344.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.648496+05:30", "timestamp": 1755778044.648496}}}
{"text": "2025-08-21 17:37:24.649 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-93332.8, today=-93332.8\n", "record": {"elapsed": {"repr": "0:01:09.785378", "seconds": 69.785378}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-93332.8, today=-93332.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.649260+05:30", "timestamp": 1755778044.64926}}}
{"text": "2025-08-21 17:37:24.650 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1469578.51, today=1469578.51\n", "record": {"elapsed": {"repr": "0:01:09.786128", "seconds": 69.786128}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1469578.51, today=1469578.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.650010+05:30", "timestamp": 1755778044.65001}}}
{"text": "2025-08-21 17:37:24.650 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1682104.77, day: 1682104.77\n", "record": {"elapsed": {"repr": "0:01:09.787047", "seconds": 69.787047}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1682104.77, day: 1682104.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.650929+05:30", "timestamp": 1755778044.650929}}}
{"text": "2025-08-21 17:37:24.651 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:09.787988", "seconds": 69.787988}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.651870+05:30", "timestamp": 1755778044.65187}}}
{"text": "2025-08-21 17:37:24.652 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:09.789038", "seconds": 69.789038}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.652920+05:30", "timestamp": 1755778044.65292}}}
{"text": "2025-08-21 17:37:24.653 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:09.789994", "seconds": 69.789994}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.653876+05:30", "timestamp": 1755778044.653876}}}
{"text": "2025-08-21 17:37:24.654 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:09.790920", "seconds": 69.79092}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.654802+05:30", "timestamp": 1755778044.654802}}}
{"text": "2025-08-21 17:37:24.655 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:24.646622+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:09.791860", "seconds": 69.79186}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:24.646622+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.655742+05:30", "timestamp": 1755778044.655742}}}
{"text": "2025-08-21 17:37:24.657 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1682104.77, day=1682104.77, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=320.13, unrealized=-33360.68, today_pnl=-33360.68), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1534.84, unrealized=-31124.27, today_pnl=-31124.27), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=626.21, unrealized=370344.01, today_pnl=370344.01), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1346.51, unrealized=-93332.8, today_pnl=-93332.8), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1853.34, unrealized=1469578.51, today_pnl=1469578.51)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 24, 646622, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:09.793252", "seconds": 69.793252}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1682104.77, day=1682104.77, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=320.13, unrealized=-33360.68, today_pnl=-33360.68), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1534.84, unrealized=-31124.27, today_pnl=-31124.27), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=626.21, unrealized=370344.01, today_pnl=370344.01), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1346.51, unrealized=-93332.8, today_pnl=-93332.8), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1853.34, unrealized=1469578.51, today_pnl=1469578.51)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 24, 646622, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.657134+05:30", "timestamp": 1755778044.657134}}}
{"text": "2025-08-21 17:37:24.659 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1682104.77, day=1682104.77, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=320.13, unrealized=-33360.68, today_pnl=-33360.68), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1534.84, unrealized=-31124.27, today_pnl=-31124.27), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=626.21, unrealized=370344.01, today_pnl=370344.01), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1346.51, unrealized=-93332.8, today_pnl=-93332.8), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1853.34, unrealized=1469578.51, today_pnl=1469578.51)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 24, 646622, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:09.795247", "seconds": 69.795247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1682104.77, day=1682104.77, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=320.13, unrealized=-33360.68, today_pnl=-33360.68), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1534.84, unrealized=-31124.27, today_pnl=-31124.27), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=626.21, unrealized=370344.01, today_pnl=370344.01), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1346.51, unrealized=-93332.8, today_pnl=-93332.8), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1853.34, unrealized=1469578.51, today_pnl=1469578.51)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 24, 646622, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.659129+05:30", "timestamp": 1755778044.659129}}}
{"text": "2025-08-21 17:37:24.660 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1682104.77\n", "record": {"elapsed": {"repr": "0:01:09.796600", "seconds": 69.7966}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1682104.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.660482+05:30", "timestamp": 1755778044.660482}}}
{"text": "2025-08-21 17:37:24.662 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:09.798243", "seconds": 69.798243}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.662125+05:30", "timestamp": 1755778044.662125}}}
{"text": "2025-08-21 17:37:24.663 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:09.799198", "seconds": 69.799198}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.663080+05:30", "timestamp": 1755778044.66308}}}
{"text": "2025-08-21 17:37:24.663 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:09.800059", "seconds": 69.800059}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.663941+05:30", "timestamp": 1755778044.663941}}}
{"text": "2025-08-21 17:37:24.665 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:09.801148", "seconds": 69.801148}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.665030+05:30", "timestamp": 1755778044.66503}}}
{"text": "2025-08-21 17:37:24.665 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:09.802094", "seconds": 69.802094}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.665976+05:30", "timestamp": 1755778044.665976}}}
{"text": "2025-08-21 17:37:24.666 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:09.802932", "seconds": 69.802932}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.666814+05:30", "timestamp": 1755778044.666814}}}
{"text": "2025-08-21 17:37:24.667 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type PnLTotals is not JSON serializable\n", "record": {"elapsed": {"repr": "0:01:09.803816", "seconds": 69.803816}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type PnLTotals is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.667698+05:30", "timestamp": 1755778044.667698}}}
{"text": "2025-08-21 17:37:24.668 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.804722", "seconds": 69.804722}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.668604+05:30", "timestamp": 1755778044.668604}}}
{"text": "2025-08-21 17:37:24.669 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.805822", "seconds": 69.805822}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.669704+05:30", "timestamp": 1755778044.669704}}}
{"text": "2025-08-21 17:37:24.670 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.806811", "seconds": 69.806811}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.670693+05:30", "timestamp": 1755778044.670693}}}
{"text": "2025-08-21 17:37:24.671 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.807701", "seconds": 69.807701}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.671583+05:30", "timestamp": 1755778044.671583}}}
{"text": "2025-08-21 17:37:24.672 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.808500", "seconds": 69.8085}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.672382+05:30", "timestamp": 1755778044.672382}}}
{"text": "2025-08-21 17:37:24.673 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.809212", "seconds": 69.809212}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.673094+05:30", "timestamp": 1755778044.673094}}}
{"text": "2025-08-21 17:37:24.673 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:09.810040", "seconds": 69.81004}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.673922+05:30", "timestamp": 1755778044.673922}}}
{"text": "2025-08-21 17:37:24.674 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=98\n", "record": {"elapsed": {"repr": "0:01:09.810885", "seconds": 69.810885}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=98", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:24.674767+05:30", "timestamp": 1755778044.674767}}}
{"text": "2025-08-21 17:37:25.442 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.578298", "seconds": 70.578298}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:25.442180+05:30", "timestamp": 1755778045.44218}}}
{"text": "2025-08-21 17:37:25.443 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.579499", "seconds": 70.579499}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:25.443381+05:30", "timestamp": 1755778045.443381}}}
{"text": "2025-08-21 17:37:25.444 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.580441", "seconds": 70.580441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:25.444323+05:30", "timestamp": 1755778045.444323}}}
{"text": "2025-08-21 17:37:25.445 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.581427", "seconds": 70.581427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:25.445309+05:30", "timestamp": 1755778045.445309}}}
{"text": "2025-08-21 17:37:25.446 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.582350", "seconds": 70.58235}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:25.446232+05:30", "timestamp": 1755778045.446232}}}
{"text": "2025-08-21 17:37:25.447 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.583230", "seconds": 70.58323}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:25.447112+05:30", "timestamp": 1755778045.447112}}}
{"text": "2025-08-21 17:37:25.448 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.584168", "seconds": 70.584168}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:25.448050+05:30", "timestamp": 1755778045.44805}}}
{"text": "2025-08-21 17:37:25.449 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.585131", "seconds": 70.585131}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:25.449013+05:30", "timestamp": 1755778045.449013}}}
{"text": "2025-08-21 17:37:25.449 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.586059", "seconds": 70.586059}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:25.449941+05:30", "timestamp": 1755778045.449941}}}
{"text": "2025-08-21 17:37:25.450 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.587026", "seconds": 70.587026}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:25.450908+05:30", "timestamp": 1755778045.450908}}}
{"text": "2025-08-21 17:37:26.345 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:11.481925", "seconds": 71.481925}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.345807+05:30", "timestamp": 1755778046.345807}}}
{"text": "2025-08-21 17:37:26.346 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:11.482964", "seconds": 71.482964}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.346846+05:30", "timestamp": 1755778046.346846}}}
{"text": "2025-08-21 17:37:26.347 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-30654.85, today=-30654.85\n", "record": {"elapsed": {"repr": "0:01:11.483905", "seconds": 71.483905}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-30654.85, today=-30654.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.347787+05:30", "timestamp": 1755778046.347787}}}
{"text": "2025-08-21 17:37:26.348 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-41813.65, today=-41813.65\n", "record": {"elapsed": {"repr": "0:01:11.484724", "seconds": 71.484724}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-41813.65, today=-41813.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.348606+05:30", "timestamp": 1755778046.348606}}}
{"text": "2025-08-21 17:37:26.349 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=390344.51, today=390344.51\n", "record": {"elapsed": {"repr": "0:01:11.485637", "seconds": 71.485637}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=390344.51, today=390344.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.349519+05:30", "timestamp": 1755778046.349519}}}
{"text": "2025-08-21 17:37:26.350 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-92115.18, today=-92115.18\n", "record": {"elapsed": {"repr": "0:01:11.486602", "seconds": 71.486602}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-92115.18, today=-92115.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.350484+05:30", "timestamp": 1755778046.350484}}}
{"text": "2025-08-21 17:37:26.351 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1456641.61, today=1456641.61\n", "record": {"elapsed": {"repr": "0:01:11.487429", "seconds": 71.487429}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1456641.61, today=1456641.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.351311+05:30", "timestamp": 1755778046.351311}}}
{"text": "2025-08-21 17:37:26.352 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1682402.44, day: 1682402.44\n", "record": {"elapsed": {"repr": "0:01:11.488499", "seconds": 71.488499}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1682402.44, day: 1682402.44", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.352381+05:30", "timestamp": 1755778046.352381}}}
{"text": "2025-08-21 17:37:26.353 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:11.489415", "seconds": 71.489415}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.353297+05:30", "timestamp": 1755778046.353297}}}
{"text": "2025-08-21 17:37:26.354 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:11.490188", "seconds": 71.490188}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.354070+05:30", "timestamp": 1755778046.35407}}}
{"text": "2025-08-21 17:37:26.354 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:11.491063", "seconds": 71.491063}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.354945+05:30", "timestamp": 1755778046.354945}}}
{"text": "2025-08-21 17:37:26.355 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:11.491891", "seconds": 71.491891}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.355773+05:30", "timestamp": 1755778046.355773}}}
{"text": "2025-08-21 17:37:26.356 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:26.347656+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:11.492804", "seconds": 71.492804}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:26.347656+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.356686+05:30", "timestamp": 1755778046.356686}}}
{"text": "2025-08-21 17:37:26.357 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1682402.44, day=1682402.44, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=323.28, unrealized=-30654.85, today_pnl=-30654.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.7, unrealized=-41813.65, today_pnl=-41813.65), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=637.97, unrealized=390344.51, today_pnl=390344.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1338.39, unrealized=-92115.18, today_pnl=-92115.18), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1842.24, unrealized=1456641.61, today_pnl=1456641.61)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 26, 347656, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:11.494077", "seconds": 71.494077}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1682402.44, day=1682402.44, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=323.28, unrealized=-30654.85, today_pnl=-30654.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.7, unrealized=-41813.65, today_pnl=-41813.65), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=637.97, unrealized=390344.51, today_pnl=390344.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1338.39, unrealized=-92115.18, today_pnl=-92115.18), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1842.24, unrealized=1456641.61, today_pnl=1456641.61)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 26, 347656, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.357959+05:30", "timestamp": 1755778046.357959}}}
{"text": "2025-08-21 17:37:26.359 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1682402.44, day=1682402.44, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=323.28, unrealized=-30654.85, today_pnl=-30654.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.7, unrealized=-41813.65, today_pnl=-41813.65), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=637.97, unrealized=390344.51, today_pnl=390344.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1338.39, unrealized=-92115.18, today_pnl=-92115.18), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1842.24, unrealized=1456641.61, today_pnl=1456641.61)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 26, 347656, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:11.495582", "seconds": 71.495582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1682402.44, day=1682402.44, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=323.28, unrealized=-30654.85, today_pnl=-30654.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.7, unrealized=-41813.65, today_pnl=-41813.65), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=637.97, unrealized=390344.51, today_pnl=390344.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1338.39, unrealized=-92115.18, today_pnl=-92115.18), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1842.24, unrealized=1456641.61, today_pnl=1456641.61)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 26, 347656, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.359464+05:30", "timestamp": 1755778046.359464}}}
{"text": "2025-08-21 17:37:26.361 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1682402.44\n", "record": {"elapsed": {"repr": "0:01:11.497230", "seconds": 71.49723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1682402.44", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.361112+05:30", "timestamp": 1755778046.361112}}}
{"text": "2025-08-21 17:37:26.362 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=99\n", "record": {"elapsed": {"repr": "0:01:11.498741", "seconds": 71.498741}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=99", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.362623+05:30", "timestamp": 1755778046.362623}}}
{"text": "2025-08-21 17:37:26.475 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.611846", "seconds": 71.611846}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.475728+05:30", "timestamp": 1755778046.475728}}}
{"text": "2025-08-21 17:37:26.486 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.622991", "seconds": 71.622991}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.486873+05:30", "timestamp": 1755778046.486873}}}
{"text": "2025-08-21 17:37:26.498 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.634348", "seconds": 71.634348}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.498230+05:30", "timestamp": 1755778046.49823}}}
{"text": "2025-08-21 17:37:26.500 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.636927", "seconds": 71.636927}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.500809+05:30", "timestamp": 1755778046.500809}}}
{"text": "2025-08-21 17:37:26.506 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.642355", "seconds": 71.642355}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.506237+05:30", "timestamp": 1755778046.506237}}}
{"text": "2025-08-21 17:37:26.508 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.644810", "seconds": 71.64481}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.508692+05:30", "timestamp": 1755778046.508692}}}
{"text": "2025-08-21 17:37:26.527 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.663597", "seconds": 71.663597}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.527479+05:30", "timestamp": 1755778046.527479}}}
{"text": "2025-08-21 17:37:26.531 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.667958", "seconds": 71.667958}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.531840+05:30", "timestamp": 1755778046.53184}}}
{"text": "2025-08-21 17:37:26.559 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.695141", "seconds": 71.695141}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.559023+05:30", "timestamp": 1755778046.559023}}}
{"text": "2025-08-21 17:37:26.564 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.700807", "seconds": 71.700807}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.564689+05:30", "timestamp": 1755778046.564689}}}
{"text": "2025-08-21 17:37:26.567 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.704059", "seconds": 71.704059}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.567941+05:30", "timestamp": 1755778046.567941}}}
{"text": "2025-08-21 17:37:26.573 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.709905", "seconds": 71.709905}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.573787+05:30", "timestamp": 1755778046.573787}}}
{"text": "2025-08-21 17:37:26.576 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.712265", "seconds": 71.712265}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.576147+05:30", "timestamp": 1755778046.576147}}}
{"text": "2025-08-21 17:37:26.581 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.717809", "seconds": 71.717809}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.581691+05:30", "timestamp": 1755778046.581691}}}
{"text": "2025-08-21 17:37:26.583 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.719201", "seconds": 71.719201}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.583083+05:30", "timestamp": 1755778046.583083}}}
{"text": "2025-08-21 17:37:26.584 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.720419", "seconds": 71.720419}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.584301+05:30", "timestamp": 1755778046.584301}}}
{"text": "2025-08-21 17:37:26.585 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.721877", "seconds": 71.721877}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.585759+05:30", "timestamp": 1755778046.585759}}}
{"text": "2025-08-21 17:37:26.592 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.728615", "seconds": 71.728615}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.592497+05:30", "timestamp": 1755778046.592497}}}
{"text": "2025-08-21 17:37:26.596 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.732659", "seconds": 71.732659}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.596541+05:30", "timestamp": 1755778046.596541}}}
{"text": "2025-08-21 17:37:26.599 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.735638", "seconds": 71.735638}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.599520+05:30", "timestamp": 1755778046.59952}}}
{"text": "2025-08-21 17:37:26.600 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.736613", "seconds": 71.736613}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.600495+05:30", "timestamp": 1755778046.600495}}}
{"text": "2025-08-21 17:37:26.601 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.737992", "seconds": 71.737992}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.601874+05:30", "timestamp": 1755778046.601874}}}
{"text": "2025-08-21 17:37:26.604 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.740164", "seconds": 71.740164}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.604046+05:30", "timestamp": 1755778046.604046}}}
{"text": "2025-08-21 17:37:26.607 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.743752", "seconds": 71.743752}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.607634+05:30", "timestamp": 1755778046.607634}}}
{"text": "2025-08-21 17:37:26.609 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.745915", "seconds": 71.745915}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.609797+05:30", "timestamp": 1755778046.609797}}}
{"text": "2025-08-21 17:37:26.612 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.748637", "seconds": 71.748637}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.612519+05:30", "timestamp": 1755778046.612519}}}
{"text": "2025-08-21 17:37:26.614 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.750735", "seconds": 71.750735}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.614617+05:30", "timestamp": 1755778046.614617}}}
{"text": "2025-08-21 17:37:26.645 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.781812", "seconds": 71.781812}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.645694+05:30", "timestamp": 1755778046.645694}}}
{"text": "2025-08-21 17:37:26.648 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.784152", "seconds": 71.784152}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.648034+05:30", "timestamp": 1755778046.648034}}}
{"text": "2025-08-21 17:37:26.650 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.786235", "seconds": 71.786235}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.650117+05:30", "timestamp": 1755778046.650117}}}
{"text": "2025-08-21 17:37:26.653 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.789484", "seconds": 71.789484}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.653366+05:30", "timestamp": 1755778046.653366}}}
{"text": "2025-08-21 17:37:26.660 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.796607", "seconds": 71.796607}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.660489+05:30", "timestamp": 1755778046.660489}}}
{"text": "2025-08-21 17:37:26.663 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.799527", "seconds": 71.799527}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.663409+05:30", "timestamp": 1755778046.663409}}}
{"text": "2025-08-21 17:37:26.665 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.801244", "seconds": 71.801244}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.665126+05:30", "timestamp": 1755778046.665126}}}
{"text": "2025-08-21 17:37:26.666 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.802869", "seconds": 71.802869}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.666751+05:30", "timestamp": 1755778046.666751}}}
{"text": "2025-08-21 17:37:26.669 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.806013", "seconds": 71.806013}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.669895+05:30", "timestamp": 1755778046.669895}}}
{"text": "2025-08-21 17:37:26.672 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.808880", "seconds": 71.80888}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.672762+05:30", "timestamp": 1755778046.672762}}}
{"text": "2025-08-21 17:37:26.674 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.810306", "seconds": 71.810306}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.674188+05:30", "timestamp": 1755778046.674188}}}
{"text": "2025-08-21 17:37:26.675 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.811714", "seconds": 71.811714}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.675596+05:30", "timestamp": 1755778046.675596}}}
{"text": "2025-08-21 17:37:26.677 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.813207", "seconds": 71.813207}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.677089+05:30", "timestamp": 1755778046.677089}}}
{"text": "2025-08-21 17:37:26.679 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.815271", "seconds": 71.815271}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.679153+05:30", "timestamp": 1755778046.679153}}}
{"text": "2025-08-21 17:37:26.691 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.827120", "seconds": 71.82712}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.691002+05:30", "timestamp": 1755778046.691002}}}
{"text": "2025-08-21 17:37:26.715 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.851527", "seconds": 71.851527}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.715409+05:30", "timestamp": 1755778046.715409}}}
{"text": "2025-08-21 17:37:26.717 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.853186", "seconds": 71.853186}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.717068+05:30", "timestamp": 1755778046.717068}}}
{"text": "2025-08-21 17:37:26.719 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.855450", "seconds": 71.85545}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.719332+05:30", "timestamp": 1755778046.719332}}}
{"text": "2025-08-21 17:37:26.720 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.856675", "seconds": 71.856675}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.720557+05:30", "timestamp": 1755778046.720557}}}
{"text": "2025-08-21 17:37:26.721 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.857927", "seconds": 71.857927}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.721809+05:30", "timestamp": 1755778046.721809}}}
{"text": "2025-08-21 17:37:26.723 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.859441", "seconds": 71.859441}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.723323+05:30", "timestamp": 1755778046.723323}}}
{"text": "2025-08-21 17:37:26.724 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.860743", "seconds": 71.860743}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.724625+05:30", "timestamp": 1755778046.724625}}}
{"text": "2025-08-21 17:37:26.725 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.861610", "seconds": 71.86161}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.725492+05:30", "timestamp": 1755778046.725492}}}
{"text": "2025-08-21 17:37:26.726 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.862457", "seconds": 71.862457}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.726339+05:30", "timestamp": 1755778046.726339}}}
{"text": "2025-08-21 17:37:26.727 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.863580", "seconds": 71.86358}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.727462+05:30", "timestamp": 1755778046.727462}}}
{"text": "2025-08-21 17:37:26.728 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.864553", "seconds": 71.864553}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.728435+05:30", "timestamp": 1755778046.728435}}}
{"text": "2025-08-21 17:37:26.729 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.865356", "seconds": 71.865356}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.729238+05:30", "timestamp": 1755778046.729238}}}
{"text": "2025-08-21 17:37:26.730 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.866520", "seconds": 71.86652}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.730402+05:30", "timestamp": 1755778046.730402}}}
{"text": "2025-08-21 17:37:26.731 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.867472", "seconds": 71.867472}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.731354+05:30", "timestamp": 1755778046.731354}}}
{"text": "2025-08-21 17:37:26.732 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.868403", "seconds": 71.868403}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.732285+05:30", "timestamp": 1755778046.732285}}}
{"text": "2025-08-21 17:37:26.733 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.869228", "seconds": 71.869228}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.733110+05:30", "timestamp": 1755778046.73311}}}
{"text": "2025-08-21 17:37:26.734 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.870164", "seconds": 71.870164}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.734046+05:30", "timestamp": 1755778046.734046}}}
{"text": "2025-08-21 17:37:26.734 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.871095", "seconds": 71.871095}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.734977+05:30", "timestamp": 1755778046.734977}}}
{"text": "2025-08-21 17:37:26.736 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.872205", "seconds": 71.872205}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.736087+05:30", "timestamp": 1755778046.736087}}}
{"text": "2025-08-21 17:37:26.736 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.873072", "seconds": 71.873072}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.736954+05:30", "timestamp": 1755778046.736954}}}
{"text": "2025-08-21 17:37:26.737 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.873919", "seconds": 71.873919}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.737801+05:30", "timestamp": 1755778046.737801}}}
{"text": "2025-08-21 17:37:26.738 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.874741", "seconds": 71.874741}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.738623+05:30", "timestamp": 1755778046.738623}}}
{"text": "2025-08-21 17:37:26.739 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.875708", "seconds": 71.875708}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.739590+05:30", "timestamp": 1755778046.73959}}}
{"text": "2025-08-21 17:37:26.740 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.876537", "seconds": 71.876537}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.740419+05:30", "timestamp": 1755778046.740419}}}
{"text": "2025-08-21 17:37:26.741 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.877512", "seconds": 71.877512}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.741394+05:30", "timestamp": 1755778046.741394}}}
{"text": "2025-08-21 17:37:26.742 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.878310", "seconds": 71.87831}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.742192+05:30", "timestamp": 1755778046.742192}}}
{"text": "2025-08-21 17:37:26.743 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.879306", "seconds": 71.879306}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.743188+05:30", "timestamp": 1755778046.743188}}}
{"text": "2025-08-21 17:37:26.744 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.880373", "seconds": 71.880373}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.744255+05:30", "timestamp": 1755778046.744255}}}
{"text": "2025-08-21 17:37:26.745 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.881308", "seconds": 71.881308}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.745190+05:30", "timestamp": 1755778046.74519}}}
{"text": "2025-08-21 17:37:26.747 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.883145", "seconds": 71.883145}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.747027+05:30", "timestamp": 1755778046.747027}}}
{"text": "2025-08-21 17:37:26.748 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.884253", "seconds": 71.884253}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.748135+05:30", "timestamp": 1755778046.748135}}}
{"text": "2025-08-21 17:37:26.749 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.885298", "seconds": 71.885298}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.749180+05:30", "timestamp": 1755778046.74918}}}
{"text": "2025-08-21 17:37:26.750 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.886174", "seconds": 71.886174}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.750056+05:30", "timestamp": 1755778046.750056}}}
{"text": "2025-08-21 17:37:26.751 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.887157", "seconds": 71.887157}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.751039+05:30", "timestamp": 1755778046.751039}}}
{"text": "2025-08-21 17:37:26.752 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.888593", "seconds": 71.888593}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.752475+05:30", "timestamp": 1755778046.752475}}}
{"text": "2025-08-21 17:37:26.753 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.889542", "seconds": 71.889542}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.753424+05:30", "timestamp": 1755778046.753424}}}
{"text": "2025-08-21 17:37:26.754 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.890643", "seconds": 71.890643}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.754525+05:30", "timestamp": 1755778046.754525}}}
{"text": "2025-08-21 17:37:26.755 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.891744", "seconds": 71.891744}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.755626+05:30", "timestamp": 1755778046.755626}}}
{"text": "2025-08-21 17:37:26.756 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.892985", "seconds": 71.892985}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.756867+05:30", "timestamp": 1755778046.756867}}}
{"text": "2025-08-21 17:37:26.757 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.893965", "seconds": 71.893965}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.757847+05:30", "timestamp": 1755778046.757847}}}
{"text": "2025-08-21 17:37:26.758 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.894921", "seconds": 71.894921}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.758803+05:30", "timestamp": 1755778046.758803}}}
{"text": "2025-08-21 17:37:26.759 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.895844", "seconds": 71.895844}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.759726+05:30", "timestamp": 1755778046.759726}}}
{"text": "2025-08-21 17:37:26.761 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.897392", "seconds": 71.897392}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.761274+05:30", "timestamp": 1755778046.761274}}}
{"text": "2025-08-21 17:37:26.762 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.898618", "seconds": 71.898618}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.762500+05:30", "timestamp": 1755778046.7625}}}
{"text": "2025-08-21 17:37:26.763 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.899470", "seconds": 71.89947}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.763352+05:30", "timestamp": 1755778046.763352}}}
{"text": "2025-08-21 17:37:26.764 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.900370", "seconds": 71.90037}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.764252+05:30", "timestamp": 1755778046.764252}}}
{"text": "2025-08-21 17:37:26.775 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.911828", "seconds": 71.911828}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.775710+05:30", "timestamp": 1755778046.77571}}}
{"text": "2025-08-21 17:37:26.777 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.913148", "seconds": 71.913148}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.777030+05:30", "timestamp": 1755778046.77703}}}
{"text": "2025-08-21 17:37:26.780 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.916380", "seconds": 71.91638}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.780262+05:30", "timestamp": 1755778046.780262}}}
{"text": "2025-08-21 17:37:26.781 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.918093", "seconds": 71.918093}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.781975+05:30", "timestamp": 1755778046.781975}}}
{"text": "2025-08-21 17:37:26.783 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.919169", "seconds": 71.919169}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.783051+05:30", "timestamp": 1755778046.783051}}}
{"text": "2025-08-21 17:37:26.784 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.920129", "seconds": 71.920129}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.784011+05:30", "timestamp": 1755778046.784011}}}
{"text": "2025-08-21 17:37:26.785 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.921193", "seconds": 71.921193}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.785075+05:30", "timestamp": 1755778046.785075}}}
{"text": "2025-08-21 17:37:26.786 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.922244", "seconds": 71.922244}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.786126+05:30", "timestamp": 1755778046.786126}}}
{"text": "2025-08-21 17:37:26.786 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.923073", "seconds": 71.923073}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.786955+05:30", "timestamp": 1755778046.786955}}}
{"text": "2025-08-21 17:37:26.787 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.924081", "seconds": 71.924081}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.787963+05:30", "timestamp": 1755778046.787963}}}
{"text": "2025-08-21 17:37:26.788 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.924843", "seconds": 71.924843}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.788725+05:30", "timestamp": 1755778046.788725}}}
{"text": "2025-08-21 17:37:26.789 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.925949", "seconds": 71.925949}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.789831+05:30", "timestamp": 1755778046.789831}}}
{"text": "2025-08-21 17:37:26.790 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.926916", "seconds": 71.926916}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.790798+05:30", "timestamp": 1755778046.790798}}}
{"text": "2025-08-21 17:37:26.791 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.927730", "seconds": 71.92773}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.791612+05:30", "timestamp": 1755778046.791612}}}
{"text": "2025-08-21 17:37:26.792 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.928566", "seconds": 71.928566}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.792448+05:30", "timestamp": 1755778046.792448}}}
{"text": "2025-08-21 17:37:26.793 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.929572", "seconds": 71.929572}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.793454+05:30", "timestamp": 1755778046.793454}}}
{"text": "2025-08-21 17:37:26.794 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.930497", "seconds": 71.930497}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.794379+05:30", "timestamp": 1755778046.794379}}}
{"text": "2025-08-21 17:37:26.795 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.931262", "seconds": 71.931262}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.795144+05:30", "timestamp": 1755778046.795144}}}
{"text": "2025-08-21 17:37:26.795 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.932012", "seconds": 71.932012}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.795894+05:30", "timestamp": 1755778046.795894}}}
{"text": "2025-08-21 17:37:26.796 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.932882", "seconds": 71.932882}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.796764+05:30", "timestamp": 1755778046.796764}}}
{"text": "2025-08-21 17:37:26.797 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.933817", "seconds": 71.933817}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.797699+05:30", "timestamp": 1755778046.797699}}}
{"text": "2025-08-21 17:37:26.798 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.934975", "seconds": 71.934975}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.798857+05:30", "timestamp": 1755778046.798857}}}
{"text": "2025-08-21 17:37:26.799 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.936108", "seconds": 71.936108}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.799990+05:30", "timestamp": 1755778046.79999}}}
{"text": "2025-08-21 17:37:26.801 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.937123", "seconds": 71.937123}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.801005+05:30", "timestamp": 1755778046.801005}}}
{"text": "2025-08-21 17:37:26.802 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.938307", "seconds": 71.938307}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.802189+05:30", "timestamp": 1755778046.802189}}}
{"text": "2025-08-21 17:37:26.803 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.939276", "seconds": 71.939276}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.803158+05:30", "timestamp": 1755778046.803158}}}
{"text": "2025-08-21 17:37:26.804 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.940784", "seconds": 71.940784}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.804666+05:30", "timestamp": 1755778046.804666}}}
{"text": "2025-08-21 17:37:26.805 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.942058", "seconds": 71.942058}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.805940+05:30", "timestamp": 1755778046.80594}}}
{"text": "2025-08-21 17:37:26.807 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.943741", "seconds": 71.943741}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.807623+05:30", "timestamp": 1755778046.807623}}}
{"text": "2025-08-21 17:37:26.822 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.958602", "seconds": 71.958602}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.822484+05:30", "timestamp": 1755778046.822484}}}
{"text": "2025-08-21 17:37:26.823 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.959683", "seconds": 71.959683}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.823565+05:30", "timestamp": 1755778046.823565}}}
{"text": "2025-08-21 17:37:26.824 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.960629", "seconds": 71.960629}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.824511+05:30", "timestamp": 1755778046.824511}}}
{"text": "2025-08-21 17:37:26.825 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.961812", "seconds": 71.961812}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.825694+05:30", "timestamp": 1755778046.825694}}}
{"text": "2025-08-21 17:37:26.826 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.963005", "seconds": 71.963005}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.826887+05:30", "timestamp": 1755778046.826887}}}
{"text": "2025-08-21 17:37:26.828 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.964300", "seconds": 71.9643}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.828182+05:30", "timestamp": 1755778046.828182}}}
{"text": "2025-08-21 17:37:26.829 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.965519", "seconds": 71.965519}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.829401+05:30", "timestamp": 1755778046.829401}}}
{"text": "2025-08-21 17:37:26.831 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.967295", "seconds": 71.967295}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.831177+05:30", "timestamp": 1755778046.831177}}}
{"text": "2025-08-21 17:37:26.832 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.968769", "seconds": 71.968769}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.832651+05:30", "timestamp": 1755778046.832651}}}
{"text": "2025-08-21 17:37:26.833 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.970037", "seconds": 71.970037}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.833919+05:30", "timestamp": 1755778046.833919}}}
{"text": "2025-08-21 17:37:26.835 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.971202", "seconds": 71.971202}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.835084+05:30", "timestamp": 1755778046.835084}}}
{"text": "2025-08-21 17:37:26.836 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.972775", "seconds": 71.972775}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.836657+05:30", "timestamp": 1755778046.836657}}}
{"text": "2025-08-21 17:37:26.837 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:11.973899", "seconds": 71.973899}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.837781+05:30", "timestamp": 1755778046.837781}}}
{"text": "2025-08-21 17:37:26.893 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:12.029892", "seconds": 72.029892}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:26.893774+05:30", "timestamp": 1755778046.893774}}}
{"text": "2025-08-21 17:37:27.031 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=100\n", "record": {"elapsed": {"repr": "0:01:12.167406", "seconds": 72.167406}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=100", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.031288+05:30", "timestamp": 1755778047.031288}}}
{"text": "2025-08-21 17:37:27.452 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.588692", "seconds": 72.588692}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:27.452574+05:30", "timestamp": 1755778047.452574}}}
{"text": "2025-08-21 17:37:27.454 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.590692", "seconds": 72.590692}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:27.454574+05:30", "timestamp": 1755778047.454574}}}
{"text": "2025-08-21 17:37:27.456 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.592411", "seconds": 72.592411}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:27.456293+05:30", "timestamp": 1755778047.456293}}}
{"text": "2025-08-21 17:37:27.457 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.593953", "seconds": 72.593953}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:27.457835+05:30", "timestamp": 1755778047.457835}}}
{"text": "2025-08-21 17:37:27.459 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.595488", "seconds": 72.595488}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:27.459370+05:30", "timestamp": 1755778047.45937}}}
{"text": "2025-08-21 17:37:27.461 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.597731", "seconds": 72.597731}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:27.461613+05:30", "timestamp": 1755778047.461613}}}
{"text": "2025-08-21 17:37:27.463 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.599282", "seconds": 72.599282}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:27.463164+05:30", "timestamp": 1755778047.463164}}}
{"text": "2025-08-21 17:37:27.464 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.600846", "seconds": 72.600846}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:27.464728+05:30", "timestamp": 1755778047.464728}}}
{"text": "2025-08-21 17:37:27.466 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.602178", "seconds": 72.602178}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:27.466060+05:30", "timestamp": 1755778047.46606}}}
{"text": "2025-08-21 17:37:27.467 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.604010", "seconds": 72.60401}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:27.467892+05:30", "timestamp": 1755778047.467892}}}
{"text": "2025-08-21 17:37:27.872 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:13.008733", "seconds": 73.008733}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.872615+05:30", "timestamp": 1755778047.872615}}}
{"text": "2025-08-21 17:37:27.874 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:13.010410", "seconds": 73.01041}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.874292+05:30", "timestamp": 1755778047.874292}}}
{"text": "2025-08-21 17:37:27.878 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-33718.92, today=-33718.92\n", "record": {"elapsed": {"repr": "0:01:13.014312", "seconds": 73.014312}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-33718.92, today=-33718.92", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.878194+05:30", "timestamp": 1755778047.878194}}}
{"text": "2025-08-21 17:37:27.879 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-41647.69, today=-41647.69\n", "record": {"elapsed": {"repr": "0:01:13.015985", "seconds": 73.015985}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-41647.69, today=-41647.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.879867+05:30", "timestamp": 1755778047.879867}}}
{"text": "2025-08-21 17:37:27.884 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=382178.85, today=382178.85\n", "record": {"elapsed": {"repr": "0:01:13.020682", "seconds": 73.020682}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=382178.85, today=382178.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.884564+05:30", "timestamp": 1755778047.884564}}}
{"text": "2025-08-21 17:37:27.891 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-89650.11, today=-89650.11\n", "record": {"elapsed": {"repr": "0:01:13.027364", "seconds": 73.027364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-89650.11, today=-89650.11", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.891246+05:30", "timestamp": 1755778047.891246}}}
{"text": "2025-08-21 17:37:27.892 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1414767.32, today=1414767.32\n", "record": {"elapsed": {"repr": "0:01:13.028843", "seconds": 73.028843}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1414767.32, today=1414767.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.892725+05:30", "timestamp": 1755778047.892725}}}
{"text": "2025-08-21 17:37:27.894 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1631929.45, day: 1631929.45\n", "record": {"elapsed": {"repr": "0:01:13.030960", "seconds": 73.03096}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1631929.45, day: 1631929.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.894842+05:30", "timestamp": 1755778047.894842}}}
{"text": "2025-08-21 17:37:27.895 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:13.032111", "seconds": 73.032111}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.895993+05:30", "timestamp": 1755778047.895993}}}
{"text": "2025-08-21 17:37:27.896 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:13.033115", "seconds": 73.033115}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.896997+05:30", "timestamp": 1755778047.896997}}}
{"text": "2025-08-21 17:37:27.897 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:13.034112", "seconds": 73.034112}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.897994+05:30", "timestamp": 1755778047.897994}}}
{"text": "2025-08-21 17:37:27.898 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:13.035070", "seconds": 73.03507}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.898952+05:30", "timestamp": 1755778047.898952}}}
{"text": "2025-08-21 17:37:27.900 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:27.877987+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:13.036429", "seconds": 73.036429}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:27.877987+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.900311+05:30", "timestamp": 1755778047.900311}}}
{"text": "2025-08-21 17:37:27.903 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1631929.45, day=1631929.45, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=319.72, unrealized=-33718.92, today_pnl=-33718.92), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.44, unrealized=-41647.69, today_pnl=-41647.69), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=633.17, unrealized=382178.85, today_pnl=382178.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1321.96, unrealized=-89650.11, today_pnl=-89650.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1806.29, unrealized=1414767.32, today_pnl=1414767.32)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 27, 877987, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:13.039732", "seconds": 73.039732}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1631929.45, day=1631929.45, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=319.72, unrealized=-33718.92, today_pnl=-33718.92), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.44, unrealized=-41647.69, today_pnl=-41647.69), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=633.17, unrealized=382178.85, today_pnl=382178.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1321.96, unrealized=-89650.11, today_pnl=-89650.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1806.29, unrealized=1414767.32, today_pnl=1414767.32)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 27, 877987, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.903614+05:30", "timestamp": 1755778047.903614}}}
{"text": "2025-08-21 17:37:27.905 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1631929.45, day=1631929.45, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=319.72, unrealized=-33718.92, today_pnl=-33718.92), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.44, unrealized=-41647.69, today_pnl=-41647.69), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=633.17, unrealized=382178.85, today_pnl=382178.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1321.96, unrealized=-89650.11, today_pnl=-89650.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1806.29, unrealized=1414767.32, today_pnl=1414767.32)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 27, 877987, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:13.041603", "seconds": 73.041603}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1631929.45, day=1631929.45, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=319.72, unrealized=-33718.92, today_pnl=-33718.92), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1551.44, unrealized=-41647.69, today_pnl=-41647.69), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=633.17, unrealized=382178.85, today_pnl=382178.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1321.96, unrealized=-89650.11, today_pnl=-89650.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1806.29, unrealized=1414767.32, today_pnl=1414767.32)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 27, 877987, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.905485+05:30", "timestamp": 1755778047.905485}}}
{"text": "2025-08-21 17:37:27.907 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1631929.45\n", "record": {"elapsed": {"repr": "0:01:13.043535", "seconds": 73.043535}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1631929.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.907417+05:30", "timestamp": 1755778047.907417}}}
{"text": "2025-08-21 17:37:27.908 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=101\n", "record": {"elapsed": {"repr": "0:01:13.045096", "seconds": 73.045096}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=101", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:27.908978+05:30", "timestamp": 1755778047.908978}}}
{"text": "2025-08-21 17:37:28.884 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=102\n", "record": {"elapsed": {"repr": "0:01:14.020376", "seconds": 74.020376}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=102", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:28.884258+05:30", "timestamp": 1755778048.884258}}}
{"text": "2025-08-21 17:37:29.470 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.606245", "seconds": 74.606245}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:29.470127+05:30", "timestamp": 1755778049.470127}}}
{"text": "2025-08-21 17:37:29.471 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.607441", "seconds": 74.607441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:29.471323+05:30", "timestamp": 1755778049.471323}}}
{"text": "2025-08-21 17:37:29.472 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.608338", "seconds": 74.608338}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:29.472220+05:30", "timestamp": 1755778049.47222}}}
{"text": "2025-08-21 17:37:29.473 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.609273", "seconds": 74.609273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:29.473155+05:30", "timestamp": 1755778049.473155}}}
{"text": "2025-08-21 17:37:29.474 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.610223", "seconds": 74.610223}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:29.474105+05:30", "timestamp": 1755778049.474105}}}
{"text": "2025-08-21 17:37:29.474 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.610940", "seconds": 74.61094}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:29.474822+05:30", "timestamp": 1755778049.474822}}}
{"text": "2025-08-21 17:37:29.475 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.611833", "seconds": 74.611833}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:29.475715+05:30", "timestamp": 1755778049.475715}}}
{"text": "2025-08-21 17:37:29.476 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.612638", "seconds": 74.612638}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:29.476520+05:30", "timestamp": 1755778049.47652}}}
{"text": "2025-08-21 17:37:29.477 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.613409", "seconds": 74.613409}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:29.477291+05:30", "timestamp": 1755778049.477291}}}
{"text": "2025-08-21 17:37:29.477 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.614053", "seconds": 74.614053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 11924, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:37:29.477935+05:30", "timestamp": 1755778049.477935}}}
{"text": "2025-08-21 17:37:29.696 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:14.832676", "seconds": 74.832676}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.696558+05:30", "timestamp": 1755778049.696558}}}
{"text": "2025-08-21 17:37:29.697 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:14.833794", "seconds": 74.833794}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.697676+05:30", "timestamp": 1755778049.697676}}}
{"text": "2025-08-21 17:37:29.698 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-32492.85, today=-32492.85\n", "record": {"elapsed": {"repr": "0:01:14.834799", "seconds": 74.834799}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-32492.85, today=-32492.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.698681+05:30", "timestamp": 1755778049.698681}}}
{"text": "2025-08-21 17:37:29.699 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-40965.6, today=-40965.6\n", "record": {"elapsed": {"repr": "0:01:14.835786", "seconds": 74.835786}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-40965.6, today=-40965.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.699668+05:30", "timestamp": 1755778049.699668}}}
{"text": "2025-08-21 17:37:29.700 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=375324.13, today=375324.13\n", "record": {"elapsed": {"repr": "0:01:14.836758", "seconds": 74.836758}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=375324.13, today=375324.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.700640+05:30", "timestamp": 1755778049.70064}}}
{"text": "2025-08-21 17:37:29.701 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-87231.02, today=-87231.02\n", "record": {"elapsed": {"repr": "0:01:14.837732", "seconds": 74.837732}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-87231.02, today=-87231.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.701614+05:30", "timestamp": 1755778049.701614}}}
{"text": "2025-08-21 17:37:29.702 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1401290.28, today=1401290.28\n", "record": {"elapsed": {"repr": "0:01:14.838630", "seconds": 74.83863}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1401290.28, today=1401290.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.702512+05:30", "timestamp": 1755778049.702512}}}
{"text": "2025-08-21 17:37:29.703 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1615924.94, day: 1615924.94\n", "record": {"elapsed": {"repr": "0:01:14.839426", "seconds": 74.839426}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1615924.94, day: 1615924.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.703308+05:30", "timestamp": 1755778049.703308}}}
{"text": "2025-08-21 17:37:29.704 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:14.840326", "seconds": 74.840326}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.704208+05:30", "timestamp": 1755778049.704208}}}
{"text": "2025-08-21 17:37:29.705 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:14.841199", "seconds": 74.841199}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.705081+05:30", "timestamp": 1755778049.705081}}}
{"text": "2025-08-21 17:37:29.705 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:14.841885", "seconds": 74.841885}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.705767+05:30", "timestamp": 1755778049.705767}}}
{"text": "2025-08-21 17:37:29.706 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:14.842700", "seconds": 74.8427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.706582+05:30", "timestamp": 1755778049.706582}}}
{"text": "2025-08-21 17:37:29.707 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:29.698550+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:14.843461", "seconds": 74.843461}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:37:29.698550+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.707343+05:30", "timestamp": 1755778049.707343}}}
{"text": "2025-08-21 17:37:29.708 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1615924.94, day=1615924.94, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.14, unrealized=-32492.85, today_pnl=-32492.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1550.36, unrealized=-40965.6, today_pnl=-40965.6), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=629.14, unrealized=375324.13, today_pnl=375324.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1305.83, unrealized=-87231.02, today_pnl=-87231.02), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1794.72, unrealized=1401290.28, today_pnl=1401290.28)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 29, 698550, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:14.845098", "seconds": 74.845098}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1615924.94, day=1615924.94, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.14, unrealized=-32492.85, today_pnl=-32492.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1550.36, unrealized=-40965.6, today_pnl=-40965.6), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=629.14, unrealized=375324.13, today_pnl=375324.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1305.83, unrealized=-87231.02, today_pnl=-87231.02), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1794.72, unrealized=1401290.28, today_pnl=1401290.28)] updated_at=datetime.datetime(2025, 8, 21, 17, 37, 29, 698550, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.708980+05:30", "timestamp": 1755778049.70898}}}
{"text": "2025-08-21 17:37:29.710 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1615924.94, day=1615924.94, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.14, unrealized=-32492.85, today_pnl=-32492.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1550.36, unrealized=-40965.6, today_pnl=-40965.6), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=629.14, unrealized=375324.13, today_pnl=375324.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1305.83, unrealized=-87231.02, today_pnl=-87231.02), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1794.72, unrealized=1401290.28, today_pnl=1401290.28)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 29, 698550, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:14.846760", "seconds": 74.84676}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1615924.94, day=1615924.94, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=861, avg=358.88, ltp=321.14, unrealized=-32492.85, today_pnl=-32492.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=634, avg=1485.75, ltp=1550.36, unrealized=-40965.6, today_pnl=-40965.6), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1700, avg=408.36, ltp=629.14, unrealized=375324.13, today_pnl=375324.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=150, avg=724.29, ltp=1305.83, unrealized=-87231.02, today_pnl=-87231.02), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1165, avg=591.9, ltp=1794.72, unrealized=1401290.28, today_pnl=1401290.28)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 37, 29, 698550, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.710642+05:30", "timestamp": 1755778049.710642}}}
{"text": "2025-08-21 17:37:29.712 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1615924.94\n", "record": {"elapsed": {"repr": "0:01:14.848132", "seconds": 74.848132}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1615924.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.712014+05:30", "timestamp": 1755778049.712014}}}
{"text": "2025-08-21 17:37:29.712 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=103\n", "record": {"elapsed": {"repr": "0:01:14.849035", "seconds": 74.849035}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=103", "module": "live", "name": "app.ws.live", "process": {"id": 26908, "name": "MainProcess"}, "thread": {"id": 27620, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:37:29.712917+05:30", "timestamp": 1755778049.712917}}}
{"text": "2025-08-21 18:23:02.303 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.024941", "seconds": 0.024941}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.303845+05:30", "timestamp": 1755780782.303845}}}
{"text": "2025-08-21 18:23:02.304 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=3228, avg_price=360.5763265135901, ltp=337.51319359122334\n", "record": {"elapsed": {"repr": "0:00:00.025657", "seconds": 0.025657}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=3228, avg_price=360.5763265135901, ltp=337.51319359122334", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.304561+05:30", "timestamp": 1755780782.304561}}}
{"text": "2025-08-21 18:23:02.305 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=2186, avg_price=1376.9041097801337, ltp=1558.5711228379425\n", "record": {"elapsed": {"repr": "0:00:00.026196", "seconds": 0.026196}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=2186, avg_price=1376.9041097801337, ltp=1558.5711228379425", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.305100+05:30", "timestamp": 1755780782.3051}}}
{"text": "2025-08-21 18:23:02.305 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=2425, avg_price=1982.91503085322, ltp=2235.19726105211\n", "record": {"elapsed": {"repr": "0:00:00.026682", "seconds": 0.026682}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=2425, avg_price=1982.91503085322, ltp=2235.19726105211", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.305586+05:30", "timestamp": 1755780782.305586}}}
{"text": "2025-08-21 18:23:02.306 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=4714, avg_price=235.52708092337096, ltp=278.566189623697\n", "record": {"elapsed": {"repr": "0:00:00.027105", "seconds": 0.027105}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=4714, avg_price=235.52708092337096, ltp=278.566189623697", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.306009+05:30", "timestamp": 1755780782.306009}}}
{"text": "2025-08-21 18:23:02.306 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=3756, avg_price=1254.8290504624129, ltp=1270.30736214818\n", "record": {"elapsed": {"repr": "0:00:00.027537", "seconds": 0.027537}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=3756, avg_price=1254.8290504624129, ltp=1270.30736214818", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.306441+05:30", "timestamp": 1755780782.306441}}}
{"text": "2025-08-21 18:23:02.306 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=490, avg_price=1444.0512570143685, ltp=1555.7307377929847\n", "record": {"elapsed": {"repr": "0:00:00.028013", "seconds": 0.028013}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=490, avg_price=1444.0512570143685, ltp=1555.7307377929847", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.306917+05:30", "timestamp": 1755780782.306917}}}
{"text": "2025-08-21 18:23:02.307 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=2921, avg_price=1499.494535246602, ltp=1559.8601552844373\n", "record": {"elapsed": {"repr": "0:00:00.028390", "seconds": 0.02839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=2921, avg_price=1499.494535246602, ltp=1559.8601552844373", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.307294+05:30", "timestamp": 1755780782.307294}}}
{"text": "2025-08-21 18:23:02.307 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=2949, avg_price=1256.6487845618653, ltp=1447.0975227134907\n", "record": {"elapsed": {"repr": "0:00:00.028768", "seconds": 0.028768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=2949, avg_price=1256.6487845618653, ltp=1447.0975227134907", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.307672+05:30", "timestamp": 1755780782.307672}}}
{"text": "2025-08-21 18:23:02.308 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=2574, avg_price=1388.732318270479, ltp=1608.431286300489\n", "record": {"elapsed": {"repr": "0:00:00.029133", "seconds": 0.029133}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=2574, avg_price=1388.732318270479, ltp=1608.431286300489", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.308037+05:30", "timestamp": 1755780782.308037}}}
{"text": "2025-08-21 18:23:02.308 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=4448, avg_price=1731.2332107417449, ltp=1806.8337346390695\n", "record": {"elapsed": {"repr": "0:00:00.029510", "seconds": 0.02951}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=4448, avg_price=1731.2332107417449, ltp=1806.8337346390695", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.308414+05:30", "timestamp": 1755780782.308414}}}
{"text": "2025-08-21 18:23:02.308 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.029783", "seconds": 0.029783}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.308687+05:30", "timestamp": 1755780782.308687}}}
{"text": "2025-08-21 18:23:02.309 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=505, avg_price=199.44\n", "record": {"elapsed": {"repr": "0:00:00.030130", "seconds": 0.03013}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=505, avg_price=199.44", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.309034+05:30", "timestamp": 1755780782.309034}}}
{"text": "2025-08-21 18:23:02.309 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=153, avg_price=1075.26\n", "record": {"elapsed": {"repr": "0:00:00.030398", "seconds": 0.030398}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=153, avg_price=1075.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.309302+05:30", "timestamp": 1755780782.309302}}}
{"text": "2025-08-21 18:23:02.309 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=870, avg_price=1261.15\n", "record": {"elapsed": {"repr": "0:00:00.030651", "seconds": 0.030651}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=870, avg_price=1261.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.309555+05:30", "timestamp": 1755780782.309555}}}
{"text": "2025-08-21 18:23:02.309 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=130, avg_price=876.06\n", "record": {"elapsed": {"repr": "0:00:00.031021", "seconds": 0.031021}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=130, avg_price=876.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.309925+05:30", "timestamp": 1755780782.309925}}}
{"text": "2025-08-21 18:23:02.310 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=1878, avg_price=102.64\n", "record": {"elapsed": {"repr": "0:00:00.031329", "seconds": 0.031329}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=1878, avg_price=102.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.310233+05:30", "timestamp": 1755780782.310233}}}
{"text": "2025-08-21 18:23:02.310 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.031729", "seconds": 0.031729}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.310633+05:30", "timestamp": 1755780782.310633}}}
{"text": "2025-08-21 18:23:02.311 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.032357", "seconds": 0.032357}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.311261+05:30", "timestamp": 1755780782.311261}}}
{"text": "2025-08-21 18:23:02.311 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.032951", "seconds": 0.032951}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.311855+05:30", "timestamp": 1755780782.311855}}}
{"text": "2025-08-21 18:23:02.312 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.033215", "seconds": 0.033215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.312119+05:30", "timestamp": 1755780782.312119}}}
{"text": "2025-08-21 18:23:02.326 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.048051", "seconds": 0.048051}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.326955+05:30", "timestamp": 1755780782.326955}}}
{"text": "2025-08-21 18:23:02.328 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.050069", "seconds": 0.050069}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.328973+05:30", "timestamp": 1755780782.328973}}}
{"text": "2025-08-21 18:23:02.329 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.050535", "seconds": 0.050535}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.329439+05:30", "timestamp": 1755780782.329439}}}
{"text": "2025-08-21 18:23:02.329 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.050890", "seconds": 0.05089}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.329794+05:30", "timestamp": 1755780782.329794}}}
{"text": "2025-08-21 18:23:02.330 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.051327", "seconds": 0.051327}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:02.330231+05:30", "timestamp": 1755780782.330231}}}
{"text": "2025-08-21 18:23:04.314 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.035354", "seconds": 2.035354}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:04.314258+05:30", "timestamp": 1755780784.314258}}}
{"text": "2025-08-21 18:23:04.315 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.036106", "seconds": 2.036106}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:04.315010+05:30", "timestamp": 1755780784.31501}}}
{"text": "2025-08-21 18:23:04.315 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.036499", "seconds": 2.036499}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:04.315403+05:30", "timestamp": 1755780784.315403}}}
{"text": "2025-08-21 18:23:04.315 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.036952", "seconds": 2.036952}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:04.315856+05:30", "timestamp": 1755780784.315856}}}
{"text": "2025-08-21 18:23:04.316 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.037300", "seconds": 2.0373}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:04.316204+05:30", "timestamp": 1755780784.316204}}}
{"text": "2025-08-21 18:23:04.316 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.037697", "seconds": 2.037697}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:04.316601+05:30", "timestamp": 1755780784.316601}}}
{"text": "2025-08-21 18:23:04.317 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.038158", "seconds": 2.038158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:04.317062+05:30", "timestamp": 1755780784.317062}}}
{"text": "2025-08-21 18:23:04.317 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.038536", "seconds": 2.038536}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:04.317440+05:30", "timestamp": 1755780784.31744}}}
{"text": "2025-08-21 18:23:04.317 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.038951", "seconds": 2.038951}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:04.317855+05:30", "timestamp": 1755780784.317855}}}
{"text": "2025-08-21 18:23:04.318 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.039451", "seconds": 2.039451}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:04.318355+05:30", "timestamp": 1755780784.318355}}}
{"text": "2025-08-21 18:23:04.322 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:02.043146", "seconds": 2.043146}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.322050+05:30", "timestamp": 1755780784.32205}}}
{"text": "2025-08-21 18:23:04.322 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:02.043768", "seconds": 2.043768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.322672+05:30", "timestamp": 1755780784.322672}}}
{"text": "2025-08-21 18:23:04.323 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:02.044320", "seconds": 2.04432}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.323224+05:30", "timestamp": 1755780784.323224}}}
{"text": "2025-08-21 18:23:04.323 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=66703.33, today=66703.33\n", "record": {"elapsed": {"repr": "0:00:02.044815", "seconds": 2.044815}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=66703.33, today=66703.33", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.323719+05:30", "timestamp": 1755780784.323719}}}
{"text": "2025-08-21 18:23:04.324 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-73442.32, today=-73442.32\n", "record": {"elapsed": {"repr": "0:00:02.045259", "seconds": 2.045259}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-73442.32, today=-73442.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.324163+05:30", "timestamp": 1755780784.324163}}}
{"text": "2025-08-21 18:23:04.324 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=834661.06, today=834661.06\n", "record": {"elapsed": {"repr": "0:00:02.045643", "seconds": 2.045643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=834661.06, today=834661.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.324547+05:30", "timestamp": 1755780784.324547}}}
{"text": "2025-08-21 18:23:04.325 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=77962.35, today=77962.35\n", "record": {"elapsed": {"repr": "0:00:02.046170", "seconds": 2.04617}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=77962.35, today=77962.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.325074+05:30", "timestamp": 1755780784.325074}}}
{"text": "2025-08-21 18:23:04.325 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2194811.01, today=2194811.01\n", "record": {"elapsed": {"repr": "0:00:02.046593", "seconds": 2.046593}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2194811.01, today=2194811.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.325497+05:30", "timestamp": 1755780784.325497}}}
{"text": "2025-08-21 18:23:04.326 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3100695.43, day: 3100695.43\n", "record": {"elapsed": {"repr": "0:00:02.047136", "seconds": 2.047136}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3100695.43, day: 3100695.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.326040+05:30", "timestamp": 1755780784.32604}}}
{"text": "2025-08-21 18:23:04.326 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:02.047518", "seconds": 2.047518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.326422+05:30", "timestamp": 1755780784.326422}}}
{"text": "2025-08-21 18:23:04.326 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:02.047891", "seconds": 2.047891}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.326795+05:30", "timestamp": 1755780784.326795}}}
{"text": "2025-08-21 18:23:04.327 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:02.048289", "seconds": 2.048289}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.327193+05:30", "timestamp": 1755780784.327193}}}
{"text": "2025-08-21 18:23:04.327 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:02.048694", "seconds": 2.048694}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.327598+05:30", "timestamp": 1755780784.327598}}}
{"text": "2025-08-21 18:23:04.328 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:04.323644+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:02.049163", "seconds": 2.049163}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:04.323644+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.328067+05:30", "timestamp": 1755780784.328067}}}
{"text": "2025-08-21 18:23:04.328 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3100695.43, day=3100695.43, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=331.53, unrealized=66703.33, today_pnl=66703.33), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1555.28, unrealized=-73442.32, today_pnl=-73442.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2220.53, unrealized=834661.06, today_pnl=834661.06), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=276.35, unrealized=77962.35, today_pnl=77962.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1271.34, unrealized=2194811.01, today_pnl=2194811.01)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 4, 323644, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:02.049781", "seconds": 2.049781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3100695.43, day=3100695.43, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=331.53, unrealized=66703.33, today_pnl=66703.33), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1555.28, unrealized=-73442.32, today_pnl=-73442.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2220.53, unrealized=834661.06, today_pnl=834661.06), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=276.35, unrealized=77962.35, today_pnl=77962.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1271.34, unrealized=2194811.01, today_pnl=2194811.01)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 4, 323644, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.328685+05:30", "timestamp": 1755780784.328685}}}
{"text": "2025-08-21 18:23:04.329 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3100695.43, day=3100695.43, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=331.53, unrealized=66703.33, today_pnl=66703.33), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1555.28, unrealized=-73442.32, today_pnl=-73442.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2220.53, unrealized=834661.06, today_pnl=834661.06), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=276.35, unrealized=77962.35, today_pnl=77962.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1271.34, unrealized=2194811.01, today_pnl=2194811.01)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 4, 323644, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:02.050447", "seconds": 2.050447}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3100695.43, day=3100695.43, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=331.53, unrealized=66703.33, today_pnl=66703.33), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1555.28, unrealized=-73442.32, today_pnl=-73442.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2220.53, unrealized=834661.06, today_pnl=834661.06), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=276.35, unrealized=77962.35, today_pnl=77962.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1271.34, unrealized=2194811.01, today_pnl=2194811.01)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 4, 323644, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.329351+05:30", "timestamp": 1755780784.329351}}}
{"text": "2025-08-21 18:23:04.329 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3100695.43\n", "record": {"elapsed": {"repr": "0:00:02.050996", "seconds": 2.050996}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3100695.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.329900+05:30", "timestamp": 1755780784.3299}}}
{"text": "2025-08-21 18:23:04.330 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:02.051543", "seconds": 2.051543}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:04.330447+05:30", "timestamp": 1755780784.330447}}}
{"text": "2025-08-21 18:23:05.323 | DEBUG    | app.ws.live:emit_delta:408 - Emitted orders delta: seq=3\n", "record": {"elapsed": {"repr": "0:00:03.044324", "seconds": 3.044324}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted orders delta: seq=3", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:05.323228+05:30", "timestamp": 1755780785.323228}}}
{"text": "2025-08-21 18:23:06.319 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.040299", "seconds": 4.040299}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:06.319203+05:30", "timestamp": 1755780786.319203}}}
{"text": "2025-08-21 18:23:06.319 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.040988", "seconds": 4.040988}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:06.319892+05:30", "timestamp": 1755780786.319892}}}
{"text": "2025-08-21 18:23:06.320 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.041446", "seconds": 4.041446}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:06.320350+05:30", "timestamp": 1755780786.32035}}}
{"text": "2025-08-21 18:23:06.320 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.041992", "seconds": 4.041992}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:06.320896+05:30", "timestamp": 1755780786.320896}}}
{"text": "2025-08-21 18:23:06.321 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.042470", "seconds": 4.04247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:06.321374+05:30", "timestamp": 1755780786.321374}}}
{"text": "2025-08-21 18:23:06.321 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.043074", "seconds": 4.043074}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:06.321978+05:30", "timestamp": 1755780786.321978}}}
{"text": "2025-08-21 18:23:06.322 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.043451", "seconds": 4.043451}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:06.322355+05:30", "timestamp": 1755780786.322355}}}
{"text": "2025-08-21 18:23:06.322 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.043879", "seconds": 4.043879}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:06.322783+05:30", "timestamp": 1755780786.322783}}}
{"text": "2025-08-21 18:23:06.323 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.044357", "seconds": 4.044357}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:06.323261+05:30", "timestamp": 1755780786.323261}}}
{"text": "2025-08-21 18:23:06.323 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:04.044516", "seconds": 4.044516}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.323420+05:30", "timestamp": 1755780786.32342}}}
{"text": "2025-08-21 18:23:06.323 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.044848", "seconds": 4.044848}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:06.323752+05:30", "timestamp": 1755780786.323752}}}
{"text": "2025-08-21 18:23:06.324 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:04.045728", "seconds": 4.045728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.324632+05:30", "timestamp": 1755780786.324632}}}
{"text": "2025-08-21 18:23:06.325 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=68367.14, today=68367.14\n", "record": {"elapsed": {"repr": "0:00:04.046214", "seconds": 4.046214}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=68367.14, today=68367.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.325118+05:30", "timestamp": 1755780786.325118}}}
{"text": "2025-08-21 18:23:06.325 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-72704.98, today=-72704.98\n", "record": {"elapsed": {"repr": "0:00:04.046654", "seconds": 4.046654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-72704.98, today=-72704.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.325558+05:30", "timestamp": 1755780786.325558}}}
{"text": "2025-08-21 18:23:06.325 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=839713.79, today=839713.79\n", "record": {"elapsed": {"repr": "0:00:04.047086", "seconds": 4.047086}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=839713.79, today=839713.79", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.325990+05:30", "timestamp": 1755780786.32599}}}
{"text": "2025-08-21 18:23:06.326 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=77466.24, today=77466.24\n", "record": {"elapsed": {"repr": "0:00:04.047603", "seconds": 4.047603}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=77466.24, today=77466.24", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.326507+05:30", "timestamp": 1755780786.326507}}}
{"text": "2025-08-21 18:23:06.327 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2235937.47, today=2235937.47\n", "record": {"elapsed": {"repr": "0:00:04.048120", "seconds": 4.04812}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2235937.47, today=2235937.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.327024+05:30", "timestamp": 1755780786.327024}}}
{"text": "2025-08-21 18:23:06.327 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3148779.66, day: 3148779.66\n", "record": {"elapsed": {"repr": "0:00:04.048639", "seconds": 4.048639}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3148779.66, day: 3148779.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.327543+05:30", "timestamp": 1755780786.327543}}}
{"text": "2025-08-21 18:23:06.327 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:04.049015", "seconds": 4.049015}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.327919+05:30", "timestamp": 1755780786.327919}}}
{"text": "2025-08-21 18:23:06.328 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:04.049504", "seconds": 4.049504}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.328408+05:30", "timestamp": 1755780786.328408}}}
{"text": "2025-08-21 18:23:06.328 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:04.049945", "seconds": 4.049945}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.328849+05:30", "timestamp": 1755780786.328849}}}
{"text": "2025-08-21 18:23:06.329 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:04.050243", "seconds": 4.050243}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.329147+05:30", "timestamp": 1755780786.329147}}}
{"text": "2025-08-21 18:23:06.329 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:06.325043+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:04.050716", "seconds": 4.050716}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:06.325043+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.329620+05:30", "timestamp": 1755780786.32962}}}
{"text": "2025-08-21 18:23:06.330 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3148779.66, day=3148779.66, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=334.82, unrealized=68367.14, today_pnl=68367.14), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1550.46, unrealized=-72704.98, today_pnl=-72704.98), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2226.34, unrealized=839713.79, today_pnl=839713.79), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=280.17, unrealized=77466.24, today_pnl=77466.24), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1293.24, unrealized=2235937.47, today_pnl=2235937.47)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 6, 325043, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:04.051265", "seconds": 4.051265}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3148779.66, day=3148779.66, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=334.82, unrealized=68367.14, today_pnl=68367.14), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1550.46, unrealized=-72704.98, today_pnl=-72704.98), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2226.34, unrealized=839713.79, today_pnl=839713.79), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=280.17, unrealized=77466.24, today_pnl=77466.24), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1293.24, unrealized=2235937.47, today_pnl=2235937.47)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 6, 325043, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.330169+05:30", "timestamp": 1755780786.330169}}}
{"text": "2025-08-21 18:23:06.330 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3148779.66, day=3148779.66, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=334.82, unrealized=68367.14, today_pnl=68367.14), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1550.46, unrealized=-72704.98, today_pnl=-72704.98), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2226.34, unrealized=839713.79, today_pnl=839713.79), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=280.17, unrealized=77466.24, today_pnl=77466.24), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1293.24, unrealized=2235937.47, today_pnl=2235937.47)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 6, 325043, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:04.051932", "seconds": 4.051932}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3148779.66, day=3148779.66, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=334.82, unrealized=68367.14, today_pnl=68367.14), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1550.46, unrealized=-72704.98, today_pnl=-72704.98), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2226.34, unrealized=839713.79, today_pnl=839713.79), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=280.17, unrealized=77466.24, today_pnl=77466.24), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1293.24, unrealized=2235937.47, today_pnl=2235937.47)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 6, 325043, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.330836+05:30", "timestamp": 1755780786.330836}}}
{"text": "2025-08-21 18:23:06.331 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3148779.66\n", "record": {"elapsed": {"repr": "0:00:04.052553", "seconds": 4.052553}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3148779.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.331457+05:30", "timestamp": 1755780786.331457}}}
{"text": "2025-08-21 18:23:06.332 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=4\n", "record": {"elapsed": {"repr": "0:00:04.053210", "seconds": 4.05321}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=4", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:06.332114+05:30", "timestamp": 1755780786.332114}}}
{"text": "2025-08-21 18:23:08.296 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=5\n", "record": {"elapsed": {"repr": "0:00:06.017264", "seconds": 6.017264}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=5", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.296168+05:30", "timestamp": 1755780788.296168}}}
{"text": "2025-08-21 18:23:08.324 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.046053", "seconds": 6.046053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:08.324957+05:30", "timestamp": 1755780788.324957}}}
{"text": "2025-08-21 18:23:08.325 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.046761", "seconds": 6.046761}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:08.325665+05:30", "timestamp": 1755780788.325665}}}
{"text": "2025-08-21 18:23:08.326 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:06.047240", "seconds": 6.04724}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.326144+05:30", "timestamp": 1755780788.326144}}}
{"text": "2025-08-21 18:23:08.326 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.047699", "seconds": 6.047699}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:08.326603+05:30", "timestamp": 1755780788.326603}}}
{"text": "2025-08-21 18:23:08.327 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.048233", "seconds": 6.048233}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:08.327137+05:30", "timestamp": 1755780788.327137}}}
{"text": "2025-08-21 18:23:08.327 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.048638", "seconds": 6.048638}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:08.327542+05:30", "timestamp": 1755780788.327542}}}
{"text": "2025-08-21 18:23:08.327 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.049031", "seconds": 6.049031}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:08.327935+05:30", "timestamp": 1755780788.327935}}}
{"text": "2025-08-21 18:23:08.328 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.049376", "seconds": 6.049376}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:08.328280+05:30", "timestamp": 1755780788.32828}}}
{"text": "2025-08-21 18:23:08.328 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.049689", "seconds": 6.049689}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:08.328593+05:30", "timestamp": 1755780788.328593}}}
{"text": "2025-08-21 18:23:08.328 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.050052", "seconds": 6.050052}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:08.328956+05:30", "timestamp": 1755780788.328956}}}
{"text": "2025-08-21 18:23:08.329 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.050442", "seconds": 6.050442}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:08.329346+05:30", "timestamp": 1755780788.329346}}}
{"text": "2025-08-21 18:23:08.329 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:06.050866", "seconds": 6.050866}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.329770+05:30", "timestamp": 1755780788.32977}}}
{"text": "2025-08-21 18:23:08.330 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=66290.12, today=66290.12\n", "record": {"elapsed": {"repr": "0:00:06.051294", "seconds": 6.051294}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=66290.12, today=66290.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.330198+05:30", "timestamp": 1755780788.330198}}}
{"text": "2025-08-21 18:23:08.330 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-74763.53, today=-74763.53\n", "record": {"elapsed": {"repr": "0:00:06.051716", "seconds": 6.051716}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-74763.53, today=-74763.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.330620+05:30", "timestamp": 1755780788.33062}}}
{"text": "2025-08-21 18:23:08.331 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=845450.66, today=845450.66\n", "record": {"elapsed": {"repr": "0:00:06.052124", "seconds": 6.052124}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=845450.66, today=845450.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.331028+05:30", "timestamp": 1755780788.331028}}}
{"text": "2025-08-21 18:23:08.331 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=78173.25, today=78173.25\n", "record": {"elapsed": {"repr": "0:00:06.052582", "seconds": 6.052582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=78173.25, today=78173.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.331486+05:30", "timestamp": 1755780788.331486}}}
{"text": "2025-08-21 18:23:08.331 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2225299.04, today=2225299.04\n", "record": {"elapsed": {"repr": "0:00:06.053025", "seconds": 6.053025}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2225299.04, today=2225299.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.331929+05:30", "timestamp": 1755780788.331929}}}
{"text": "2025-08-21 18:23:08.332 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3140449.54, day: 3140449.54\n", "record": {"elapsed": {"repr": "0:00:06.053414", "seconds": 6.053414}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3140449.54, day: 3140449.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.332318+05:30", "timestamp": 1755780788.332318}}}
{"text": "2025-08-21 18:23:08.332 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:06.053816", "seconds": 6.053816}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.332720+05:30", "timestamp": 1755780788.33272}}}
{"text": "2025-08-21 18:23:08.333 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:06.054140", "seconds": 6.05414}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.333044+05:30", "timestamp": 1755780788.333044}}}
{"text": "2025-08-21 18:23:08.333 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:06.054563", "seconds": 6.054563}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.333467+05:30", "timestamp": 1755780788.333467}}}
{"text": "2025-08-21 18:23:08.333 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:06.054907", "seconds": 6.054907}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.333811+05:30", "timestamp": 1755780788.333811}}}
{"text": "2025-08-21 18:23:08.334 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:08.330150+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:06.055319", "seconds": 6.055319}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:08.330150+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.334223+05:30", "timestamp": 1755780788.334223}}}
{"text": "2025-08-21 18:23:08.334 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3140449.54, day=3140449.54, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=330.71, unrealized=66290.12, today_pnl=66290.12), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1563.91, unrealized=-74763.53, today_pnl=-74763.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2232.93, unrealized=845450.66, today_pnl=845450.66), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=274.73, unrealized=78173.25, today_pnl=78173.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1287.57, unrealized=2225299.04, today_pnl=2225299.04)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 8, 330150, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:06.055909", "seconds": 6.055909}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3140449.54, day=3140449.54, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=330.71, unrealized=66290.12, today_pnl=66290.12), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1563.91, unrealized=-74763.53, today_pnl=-74763.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2232.93, unrealized=845450.66, today_pnl=845450.66), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=274.73, unrealized=78173.25, today_pnl=78173.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1287.57, unrealized=2225299.04, today_pnl=2225299.04)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 8, 330150, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.334813+05:30", "timestamp": 1755780788.334813}}}
{"text": "2025-08-21 18:23:08.335 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3140449.54, day=3140449.54, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=330.71, unrealized=66290.12, today_pnl=66290.12), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1563.91, unrealized=-74763.53, today_pnl=-74763.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2232.93, unrealized=845450.66, today_pnl=845450.66), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=274.73, unrealized=78173.25, today_pnl=78173.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1287.57, unrealized=2225299.04, today_pnl=2225299.04)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 8, 330150, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:06.056621", "seconds": 6.056621}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3140449.54, day=3140449.54, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=330.71, unrealized=66290.12, today_pnl=66290.12), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1563.91, unrealized=-74763.53, today_pnl=-74763.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2232.93, unrealized=845450.66, today_pnl=845450.66), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=274.73, unrealized=78173.25, today_pnl=78173.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1287.57, unrealized=2225299.04, today_pnl=2225299.04)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 8, 330150, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.335525+05:30", "timestamp": 1755780788.335525}}}
{"text": "2025-08-21 18:23:08.336 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3140449.54\n", "record": {"elapsed": {"repr": "0:00:06.057303", "seconds": 6.057303}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3140449.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.336207+05:30", "timestamp": 1755780788.336207}}}
{"text": "2025-08-21 18:23:08.336 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=6\n", "record": {"elapsed": {"repr": "0:00:06.057855", "seconds": 6.057855}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=6", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:08.336759+05:30", "timestamp": 1755780788.336759}}}
{"text": "2025-08-21 18:23:10.268 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=7\n", "record": {"elapsed": {"repr": "0:00:07.989854", "seconds": 7.989854}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=7", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.268758+05:30", "timestamp": 1755780790.268758}}}
{"text": "2025-08-21 18:23:10.330 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.051385", "seconds": 8.051385}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:10.330289+05:30", "timestamp": 1755780790.330289}}}
{"text": "2025-08-21 18:23:10.330 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.051985", "seconds": 8.051985}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:10.330889+05:30", "timestamp": 1755780790.330889}}}
{"text": "2025-08-21 18:23:10.331 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.052360", "seconds": 8.05236}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:10.331264+05:30", "timestamp": 1755780790.331264}}}
{"text": "2025-08-21 18:23:10.331 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.052694", "seconds": 8.052694}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:10.331598+05:30", "timestamp": 1755780790.331598}}}
{"text": "2025-08-21 18:23:10.331 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.053057", "seconds": 8.053057}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:10.331961+05:30", "timestamp": 1755780790.331961}}}
{"text": "2025-08-21 18:23:10.332 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.053480", "seconds": 8.05348}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:10.332384+05:30", "timestamp": 1755780790.332384}}}
{"text": "2025-08-21 18:23:10.332 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.053964", "seconds": 8.053964}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:10.332868+05:30", "timestamp": 1755780790.332868}}}
{"text": "2025-08-21 18:23:10.333 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.054459", "seconds": 8.054459}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:10.333363+05:30", "timestamp": 1755780790.333363}}}
{"text": "2025-08-21 18:23:10.333 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.054883", "seconds": 8.054883}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:10.333787+05:30", "timestamp": 1755780790.333787}}}
{"text": "2025-08-21 18:23:10.334 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.055336", "seconds": 8.055336}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:10.334240+05:30", "timestamp": 1755780790.33424}}}
{"text": "2025-08-21 18:23:10.336 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.057315", "seconds": 8.057315}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.336219+05:30", "timestamp": 1755780790.336219}}}
{"text": "2025-08-21 18:23:10.336 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.057841", "seconds": 8.057841}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.336745+05:30", "timestamp": 1755780790.336745}}}
{"text": "2025-08-21 18:23:10.337 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=64613.25, today=64613.25\n", "record": {"elapsed": {"repr": "0:00:08.058377", "seconds": 8.058377}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=64613.25, today=64613.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.337281+05:30", "timestamp": 1755780790.337281}}}
{"text": "2025-08-21 18:23:10.337 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-75304.05, today=-75304.05\n", "record": {"elapsed": {"repr": "0:00:08.058877", "seconds": 8.058877}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-75304.05, today=-75304.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.337781+05:30", "timestamp": 1755780790.337781}}}
{"text": "2025-08-21 18:23:10.338 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=857872.0, today=857872.0\n", "record": {"elapsed": {"repr": "0:00:08.059340", "seconds": 8.05934}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=857872.0, today=857872.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.338244+05:30", "timestamp": 1755780790.338244}}}
{"text": "2025-08-21 18:23:10.338 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=78791.88, today=78791.88\n", "record": {"elapsed": {"repr": "0:00:08.059752", "seconds": 8.059752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=78791.88, today=78791.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.338656+05:30", "timestamp": 1755780790.338656}}}
{"text": "2025-08-21 18:23:10.339 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2189314.09, today=2189314.09\n", "record": {"elapsed": {"repr": "0:00:08.060114", "seconds": 8.060114}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2189314.09, today=2189314.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.339018+05:30", "timestamp": 1755780790.339018}}}
{"text": "2025-08-21 18:23:10.339 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3115287.17, day: 3115287.17\n", "record": {"elapsed": {"repr": "0:00:08.060569", "seconds": 8.060569}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3115287.17, day: 3115287.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.339473+05:30", "timestamp": 1755780790.339473}}}
{"text": "2025-08-21 18:23:10.339 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.060962", "seconds": 8.060962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.339866+05:30", "timestamp": 1755780790.339866}}}
{"text": "2025-08-21 18:23:10.340 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.061364", "seconds": 8.061364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.340268+05:30", "timestamp": 1755780790.340268}}}
{"text": "2025-08-21 18:23:10.340 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.061701", "seconds": 8.061701}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.340605+05:30", "timestamp": 1755780790.340605}}}
{"text": "2025-08-21 18:23:10.341 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.062103", "seconds": 8.062103}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.341007+05:30", "timestamp": 1755780790.341007}}}
{"text": "2025-08-21 18:23:10.341 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:10.337208+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.062455", "seconds": 8.062455}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:10.337208+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.341359+05:30", "timestamp": 1755780790.341359}}}
{"text": "2025-08-21 18:23:10.341 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3115287.17, day=3115287.17, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=327.39, unrealized=64613.25, today_pnl=64613.25), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1567.44, unrealized=-75304.05, today_pnl=-75304.05), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2247.21, unrealized=857872.0, today_pnl=857872.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=269.97, unrealized=78791.88, today_pnl=78791.88), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1268.41, unrealized=2189314.09, today_pnl=2189314.09)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 10, 337208, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:08.063027", "seconds": 8.063027}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3115287.17, day=3115287.17, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=327.39, unrealized=64613.25, today_pnl=64613.25), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1567.44, unrealized=-75304.05, today_pnl=-75304.05), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2247.21, unrealized=857872.0, today_pnl=857872.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=269.97, unrealized=78791.88, today_pnl=78791.88), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1268.41, unrealized=2189314.09, today_pnl=2189314.09)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 10, 337208, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.341931+05:30", "timestamp": 1755780790.341931}}}
{"text": "2025-08-21 18:23:10.342 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3115287.17, day=3115287.17, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=327.39, unrealized=64613.25, today_pnl=64613.25), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1567.44, unrealized=-75304.05, today_pnl=-75304.05), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2247.21, unrealized=857872.0, today_pnl=857872.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=269.97, unrealized=78791.88, today_pnl=78791.88), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1268.41, unrealized=2189314.09, today_pnl=2189314.09)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 10, 337208, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:08.063674", "seconds": 8.063674}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3115287.17, day=3115287.17, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=327.39, unrealized=64613.25, today_pnl=64613.25), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1567.44, unrealized=-75304.05, today_pnl=-75304.05), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2247.21, unrealized=857872.0, today_pnl=857872.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=269.97, unrealized=78791.88, today_pnl=78791.88), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1268.41, unrealized=2189314.09, today_pnl=2189314.09)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 10, 337208, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.342578+05:30", "timestamp": 1755780790.342578}}}
{"text": "2025-08-21 18:23:10.343 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3115287.17\n", "record": {"elapsed": {"repr": "0:00:08.064299", "seconds": 8.064299}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3115287.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.343203+05:30", "timestamp": 1755780790.343203}}}
{"text": "2025-08-21 18:23:10.343 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=8\n", "record": {"elapsed": {"repr": "0:00:08.064792", "seconds": 8.064792}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=8", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:10.343696+05:30", "timestamp": 1755780790.343696}}}
{"text": "2025-08-21 18:23:12.227 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=9\n", "record": {"elapsed": {"repr": "0:00:09.948510", "seconds": 9.94851}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=9", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.227414+05:30", "timestamp": 1755780792.227414}}}
{"text": "2025-08-21 18:23:12.335 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.056263", "seconds": 10.056263}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:12.335167+05:30", "timestamp": 1755780792.335167}}}
{"text": "2025-08-21 18:23:12.335 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.056966", "seconds": 10.056966}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:12.335870+05:30", "timestamp": 1755780792.33587}}}
{"text": "2025-08-21 18:23:12.336 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.057423", "seconds": 10.057423}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:12.336327+05:30", "timestamp": 1755780792.336327}}}
{"text": "2025-08-21 18:23:12.336 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.057867", "seconds": 10.057867}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:12.336771+05:30", "timestamp": 1755780792.336771}}}
{"text": "2025-08-21 18:23:12.337 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.058424", "seconds": 10.058424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:12.337328+05:30", "timestamp": 1755780792.337328}}}
{"text": "2025-08-21 18:23:12.337 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.059037", "seconds": 10.059037}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:12.337941+05:30", "timestamp": 1755780792.337941}}}
{"text": "2025-08-21 18:23:12.338 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.059452", "seconds": 10.059452}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:12.338356+05:30", "timestamp": 1755780792.338356}}}
{"text": "2025-08-21 18:23:12.338 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.059922", "seconds": 10.059922}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:12.338826+05:30", "timestamp": 1755780792.338826}}}
{"text": "2025-08-21 18:23:12.339 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.060383", "seconds": 10.060383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:12.339287+05:30", "timestamp": 1755780792.339287}}}
{"text": "2025-08-21 18:23:12.339 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.060868", "seconds": 10.060868}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:12.339772+05:30", "timestamp": 1755780792.339772}}}
{"text": "2025-08-21 18:23:12.343 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:10.064286", "seconds": 10.064286}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.343190+05:30", "timestamp": 1755780792.34319}}}
{"text": "2025-08-21 18:23:12.343 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:10.064851", "seconds": 10.064851}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.343755+05:30", "timestamp": 1755780792.343755}}}
{"text": "2025-08-21 18:23:12.344 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=64013.33, today=64013.33\n", "record": {"elapsed": {"repr": "0:00:10.065382", "seconds": 10.065382}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=64013.33, today=64013.33", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.344286+05:30", "timestamp": 1755780792.344286}}}
{"text": "2025-08-21 18:23:12.344 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-74068.78, today=-74068.78\n", "record": {"elapsed": {"repr": "0:00:10.065822", "seconds": 10.065822}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-74068.78, today=-74068.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.344726+05:30", "timestamp": 1755780792.344726}}}
{"text": "2025-08-21 18:23:12.345 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=892661.22, today=892661.22\n", "record": {"elapsed": {"repr": "0:00:10.066317", "seconds": 10.066317}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=892661.22, today=892661.22", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.345221+05:30", "timestamp": 1755780792.345221}}}
{"text": "2025-08-21 18:23:12.345 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79047.03, today=79047.03\n", "record": {"elapsed": {"repr": "0:00:10.066821", "seconds": 10.066821}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79047.03, today=79047.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.345725+05:30", "timestamp": 1755780792.345725}}}
{"text": "2025-08-21 18:23:12.346 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2185979.14, today=2185979.14\n", "record": {"elapsed": {"repr": "0:00:10.067427", "seconds": 10.067427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2185979.14, today=2185979.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.346331+05:30", "timestamp": 1755780792.346331}}}
{"text": "2025-08-21 18:23:12.346 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3147631.94, day: 3147631.94\n", "record": {"elapsed": {"repr": "0:00:10.067830", "seconds": 10.06783}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3147631.94, day: 3147631.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.346734+05:30", "timestamp": 1755780792.346734}}}
{"text": "2025-08-21 18:23:12.347 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:10.068290", "seconds": 10.06829}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.347194+05:30", "timestamp": 1755780792.347194}}}
{"text": "2025-08-21 18:23:12.347 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:10.068812", "seconds": 10.068812}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.347716+05:30", "timestamp": 1755780792.347716}}}
{"text": "2025-08-21 18:23:12.348 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:10.069312", "seconds": 10.069312}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.348216+05:30", "timestamp": 1755780792.348216}}}
{"text": "2025-08-21 18:23:12.348 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:10.069841", "seconds": 10.069841}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.348745+05:30", "timestamp": 1755780792.348745}}}
{"text": "2025-08-21 18:23:12.349 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:12.344197+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:10.070279", "seconds": 10.070279}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:12.344197+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.349183+05:30", "timestamp": 1755780792.349183}}}
{"text": "2025-08-21 18:23:12.349 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3147631.94, day=3147631.94, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=326.2, unrealized=64013.33, today_pnl=64013.33), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1559.37, unrealized=-74068.78, today_pnl=-74068.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2287.2, unrealized=892661.22, today_pnl=892661.22), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.01, unrealized=79047.03, today_pnl=79047.03), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1266.63, unrealized=2185979.14, today_pnl=2185979.14)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 12, 344197, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:10.070855", "seconds": 10.070855}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3147631.94, day=3147631.94, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=326.2, unrealized=64013.33, today_pnl=64013.33), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1559.37, unrealized=-74068.78, today_pnl=-74068.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2287.2, unrealized=892661.22, today_pnl=892661.22), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.01, unrealized=79047.03, today_pnl=79047.03), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1266.63, unrealized=2185979.14, today_pnl=2185979.14)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 12, 344197, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.349759+05:30", "timestamp": 1755780792.349759}}}
{"text": "2025-08-21 18:23:12.350 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3147631.94, day=3147631.94, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=326.2, unrealized=64013.33, today_pnl=64013.33), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1559.37, unrealized=-74068.78, today_pnl=-74068.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2287.2, unrealized=892661.22, today_pnl=892661.22), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.01, unrealized=79047.03, today_pnl=79047.03), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1266.63, unrealized=2185979.14, today_pnl=2185979.14)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 12, 344197, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:10.071575", "seconds": 10.071575}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3147631.94, day=3147631.94, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=326.2, unrealized=64013.33, today_pnl=64013.33), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1559.37, unrealized=-74068.78, today_pnl=-74068.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2287.2, unrealized=892661.22, today_pnl=892661.22), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.01, unrealized=79047.03, today_pnl=79047.03), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1266.63, unrealized=2185979.14, today_pnl=2185979.14)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 12, 344197, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.350479+05:30", "timestamp": 1755780792.350479}}}
{"text": "2025-08-21 18:23:12.351 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3147631.94\n", "record": {"elapsed": {"repr": "0:00:10.072104", "seconds": 10.072104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3147631.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.351008+05:30", "timestamp": 1755780792.351008}}}
{"text": "2025-08-21 18:23:12.351 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=10\n", "record": {"elapsed": {"repr": "0:00:10.072714", "seconds": 10.072714}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=10", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:12.351618+05:30", "timestamp": 1755780792.351618}}}
{"text": "2025-08-21 18:23:14.166 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=11\n", "record": {"elapsed": {"repr": "0:00:11.888037", "seconds": 11.888037}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=11", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.166941+05:30", "timestamp": 1755780794.166941}}}
{"text": "2025-08-21 18:23:14.340 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.061937", "seconds": 12.061937}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:14.340841+05:30", "timestamp": 1755780794.340841}}}
{"text": "2025-08-21 18:23:14.341 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.062590", "seconds": 12.06259}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:14.341494+05:30", "timestamp": 1755780794.341494}}}
{"text": "2025-08-21 18:23:14.341 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.063068", "seconds": 12.063068}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:14.341972+05:30", "timestamp": 1755780794.341972}}}
{"text": "2025-08-21 18:23:14.342 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.063490", "seconds": 12.06349}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:14.342394+05:30", "timestamp": 1755780794.342394}}}
{"text": "2025-08-21 18:23:14.342 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.064001", "seconds": 12.064001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:14.342905+05:30", "timestamp": 1755780794.342905}}}
{"text": "2025-08-21 18:23:14.343 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.064463", "seconds": 12.064463}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:14.343367+05:30", "timestamp": 1755780794.343367}}}
{"text": "2025-08-21 18:23:14.343 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.064879", "seconds": 12.064879}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:14.343783+05:30", "timestamp": 1755780794.343783}}}
{"text": "2025-08-21 18:23:14.344 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.065265", "seconds": 12.065265}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:14.344169+05:30", "timestamp": 1755780794.344169}}}
{"text": "2025-08-21 18:23:14.344 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.065746", "seconds": 12.065746}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:14.344650+05:30", "timestamp": 1755780794.34465}}}
{"text": "2025-08-21 18:23:14.345 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.066273", "seconds": 12.066273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:14.345177+05:30", "timestamp": 1755780794.345177}}}
{"text": "2025-08-21 18:23:14.359 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:12.080546", "seconds": 12.080546}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.359450+05:30", "timestamp": 1755780794.35945}}}
{"text": "2025-08-21 18:23:14.360 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:12.081223", "seconds": 12.081223}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.360127+05:30", "timestamp": 1755780794.360127}}}
{"text": "2025-08-21 18:23:14.360 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=63442.74, today=63442.74\n", "record": {"elapsed": {"repr": "0:00:12.081743", "seconds": 12.081743}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=63442.74, today=63442.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.360647+05:30", "timestamp": 1755780794.360647}}}
{"text": "2025-08-21 18:23:14.361 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-70580.84, today=-70580.84\n", "record": {"elapsed": {"repr": "0:00:12.082195", "seconds": 12.082195}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-70580.84, today=-70580.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.361099+05:30", "timestamp": 1755780794.361099}}}
{"text": "2025-08-21 18:23:14.361 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=879709.61, today=879709.61\n", "record": {"elapsed": {"repr": "0:00:12.082686", "seconds": 12.082686}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=879709.61, today=879709.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.361590+05:30", "timestamp": 1755780794.36159}}}
{"text": "2025-08-21 18:23:14.362 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79017.27, today=79017.27\n", "record": {"elapsed": {"repr": "0:00:12.083161", "seconds": 12.083161}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79017.27, today=79017.27", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.362065+05:30", "timestamp": 1755780794.362065}}}
{"text": "2025-08-21 18:23:14.362 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2210408.2, today=2210408.2\n", "record": {"elapsed": {"repr": "0:00:12.083556", "seconds": 12.083556}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2210408.2, today=2210408.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.362460+05:30", "timestamp": 1755780794.36246}}}
{"text": "2025-08-21 18:23:14.362 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3161996.98, day: 3161996.98\n", "record": {"elapsed": {"repr": "0:00:12.084023", "seconds": 12.084023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3161996.98, day: 3161996.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.362927+05:30", "timestamp": 1755780794.362927}}}
{"text": "2025-08-21 18:23:14.363 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:12.084479", "seconds": 12.084479}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.363383+05:30", "timestamp": 1755780794.363383}}}
{"text": "2025-08-21 18:23:14.363 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:12.084881", "seconds": 12.084881}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.363785+05:30", "timestamp": 1755780794.363785}}}
{"text": "2025-08-21 18:23:14.364 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:12.085304", "seconds": 12.085304}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.364208+05:30", "timestamp": 1755780794.364208}}}
{"text": "2025-08-21 18:23:14.364 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:12.085759", "seconds": 12.085759}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.364663+05:30", "timestamp": 1755780794.364663}}}
{"text": "2025-08-21 18:23:14.365 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:14.360589+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:12.086268", "seconds": 12.086268}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:14.360589+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.365172+05:30", "timestamp": 1755780794.365172}}}
{"text": "2025-08-21 18:23:14.365 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3161996.98, day=3161996.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.07, unrealized=63442.74, today_pnl=63442.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.57, unrealized=-70580.84, today_pnl=-70580.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.31, unrealized=879709.61, today_pnl=879709.61), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.23, unrealized=79017.27, today_pnl=79017.27), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1279.64, unrealized=2210408.2, today_pnl=2210408.2)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 14, 360589, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:12.086793", "seconds": 12.086793}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3161996.98, day=3161996.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.07, unrealized=63442.74, today_pnl=63442.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.57, unrealized=-70580.84, today_pnl=-70580.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.31, unrealized=879709.61, today_pnl=879709.61), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.23, unrealized=79017.27, today_pnl=79017.27), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1279.64, unrealized=2210408.2, today_pnl=2210408.2)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 14, 360589, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.365697+05:30", "timestamp": 1755780794.365697}}}
{"text": "2025-08-21 18:23:14.366 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3161996.98, day=3161996.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.07, unrealized=63442.74, today_pnl=63442.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.57, unrealized=-70580.84, today_pnl=-70580.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.31, unrealized=879709.61, today_pnl=879709.61), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.23, unrealized=79017.27, today_pnl=79017.27), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1279.64, unrealized=2210408.2, today_pnl=2210408.2)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 14, 360589, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:12.087404", "seconds": 12.087404}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3161996.98, day=3161996.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.07, unrealized=63442.74, today_pnl=63442.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.57, unrealized=-70580.84, today_pnl=-70580.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.31, unrealized=879709.61, today_pnl=879709.61), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.23, unrealized=79017.27, today_pnl=79017.27), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1279.64, unrealized=2210408.2, today_pnl=2210408.2)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 14, 360589, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.366308+05:30", "timestamp": 1755780794.366308}}}
{"text": "2025-08-21 18:23:14.366 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3161996.98\n", "record": {"elapsed": {"repr": "0:00:12.087899", "seconds": 12.087899}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3161996.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.366803+05:30", "timestamp": 1755780794.366803}}}
{"text": "2025-08-21 18:23:14.367 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=12\n", "record": {"elapsed": {"repr": "0:00:12.088452", "seconds": 12.088452}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=12", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:14.367356+05:30", "timestamp": 1755780794.367356}}}
{"text": "2025-08-21 18:23:15.883 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:13.604599", "seconds": 13.604599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.883503+05:30", "timestamp": 1755780795.883503}}}
{"text": "2025-08-21 18:23:15.884 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:13.605204", "seconds": 13.605204}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.884108+05:30", "timestamp": 1755780795.884108}}}
{"text": "2025-08-21 18:23:15.884 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=63442.74, today=63442.74\n", "record": {"elapsed": {"repr": "0:00:13.605731", "seconds": 13.605731}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=63442.74, today=63442.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.884635+05:30", "timestamp": 1755780795.884635}}}
{"text": "2025-08-21 18:23:15.885 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-70580.84, today=-70580.84\n", "record": {"elapsed": {"repr": "0:00:13.606218", "seconds": 13.606218}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-70580.84, today=-70580.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.885122+05:30", "timestamp": 1755780795.885122}}}
{"text": "2025-08-21 18:23:15.885 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=879709.61, today=879709.61\n", "record": {"elapsed": {"repr": "0:00:13.606736", "seconds": 13.606736}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=879709.61, today=879709.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.885640+05:30", "timestamp": 1755780795.88564}}}
{"text": "2025-08-21 18:23:15.886 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79017.27, today=79017.27\n", "record": {"elapsed": {"repr": "0:00:13.607177", "seconds": 13.607177}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79017.27, today=79017.27", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.886081+05:30", "timestamp": 1755780795.886081}}}
{"text": "2025-08-21 18:23:15.886 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2210408.2, today=2210408.2\n", "record": {"elapsed": {"repr": "0:00:13.607657", "seconds": 13.607657}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2210408.2, today=2210408.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.886561+05:30", "timestamp": 1755780795.886561}}}
{"text": "2025-08-21 18:23:15.887 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3161996.98, day: 3161996.98\n", "record": {"elapsed": {"repr": "0:00:13.608181", "seconds": 13.608181}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3161996.98, day: 3161996.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.887085+05:30", "timestamp": 1755780795.887085}}}
{"text": "2025-08-21 18:23:15.887 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:13.608644", "seconds": 13.608644}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.887548+05:30", "timestamp": 1755780795.887548}}}
{"text": "2025-08-21 18:23:15.887 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:13.609069", "seconds": 13.609069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.887973+05:30", "timestamp": 1755780795.887973}}}
{"text": "2025-08-21 18:23:15.888 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:13.609574", "seconds": 13.609574}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.888478+05:30", "timestamp": 1755780795.888478}}}
{"text": "2025-08-21 18:23:15.888 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:13.610003", "seconds": 13.610003}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.888907+05:30", "timestamp": 1755780795.888907}}}
{"text": "2025-08-21 18:23:15.889 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:15.884561+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:13.610481", "seconds": 13.610481}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:15.884561+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.889385+05:30", "timestamp": 1755780795.889385}}}
{"text": "2025-08-21 18:23:15.889 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3161996.98, day=3161996.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.07, unrealized=63442.74, today_pnl=63442.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.57, unrealized=-70580.84, today_pnl=-70580.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.31, unrealized=879709.61, today_pnl=879709.61), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.23, unrealized=79017.27, today_pnl=79017.27), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1279.64, unrealized=2210408.2, today_pnl=2210408.2)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 15, 884561, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:13.610998", "seconds": 13.610998}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3161996.98, day=3161996.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.07, unrealized=63442.74, today_pnl=63442.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.57, unrealized=-70580.84, today_pnl=-70580.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.31, unrealized=879709.61, today_pnl=879709.61), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.23, unrealized=79017.27, today_pnl=79017.27), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1279.64, unrealized=2210408.2, today_pnl=2210408.2)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 15, 884561, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.889902+05:30", "timestamp": 1755780795.889902}}}
{"text": "2025-08-21 18:23:15.890 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3161996.98, day=3161996.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.07, unrealized=63442.74, today_pnl=63442.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.57, unrealized=-70580.84, today_pnl=-70580.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.31, unrealized=879709.61, today_pnl=879709.61), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.23, unrealized=79017.27, today_pnl=79017.27), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1279.64, unrealized=2210408.2, today_pnl=2210408.2)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 15, 884561, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:13.611589", "seconds": 13.611589}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3161996.98, day=3161996.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.07, unrealized=63442.74, today_pnl=63442.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.57, unrealized=-70580.84, today_pnl=-70580.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.31, unrealized=879709.61, today_pnl=879709.61), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.23, unrealized=79017.27, today_pnl=79017.27), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1279.64, unrealized=2210408.2, today_pnl=2210408.2)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 15, 884561, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.890493+05:30", "timestamp": 1755780795.890493}}}
{"text": "2025-08-21 18:23:15.891 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3161996.98\n", "record": {"elapsed": {"repr": "0:00:13.612118", "seconds": 13.612118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3161996.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.891022+05:30", "timestamp": 1755780795.891022}}}
{"text": "2025-08-21 18:23:15.891 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=13\n", "record": {"elapsed": {"repr": "0:00:13.612814", "seconds": 13.612814}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=13", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:15.891718+05:30", "timestamp": 1755780795.891718}}}
{"text": "2025-08-21 18:23:16.075 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=14\n", "record": {"elapsed": {"repr": "0:00:13.796302", "seconds": 13.796302}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=14", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:16.075206+05:30", "timestamp": 1755780796.075206}}}
{"text": "2025-08-21 18:23:16.346 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.067529", "seconds": 14.067529}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:16.346433+05:30", "timestamp": 1755780796.346433}}}
{"text": "2025-08-21 18:23:16.347 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.068403", "seconds": 14.068403}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:16.347307+05:30", "timestamp": 1755780796.347307}}}
{"text": "2025-08-21 18:23:16.347 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.068926", "seconds": 14.068926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:16.347830+05:30", "timestamp": 1755780796.34783}}}
{"text": "2025-08-21 18:23:16.348 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.069407", "seconds": 14.069407}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:16.348311+05:30", "timestamp": 1755780796.348311}}}
{"text": "2025-08-21 18:23:16.348 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.069789", "seconds": 14.069789}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:16.348693+05:30", "timestamp": 1755780796.348693}}}
{"text": "2025-08-21 18:23:16.349 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.070159", "seconds": 14.070159}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:16.349063+05:30", "timestamp": 1755780796.349063}}}
{"text": "2025-08-21 18:23:16.349 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.070563", "seconds": 14.070563}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:16.349467+05:30", "timestamp": 1755780796.349467}}}
{"text": "2025-08-21 18:23:16.349 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.071008", "seconds": 14.071008}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:16.349912+05:30", "timestamp": 1755780796.349912}}}
{"text": "2025-08-21 18:23:16.350 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.071499", "seconds": 14.071499}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:16.350403+05:30", "timestamp": 1755780796.350403}}}
{"text": "2025-08-21 18:23:16.350 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.071950", "seconds": 14.07195}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:16.350854+05:30", "timestamp": 1755780796.350854}}}
{"text": "2025-08-21 18:23:17.665 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:15.386794", "seconds": 15.386794}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.665698+05:30", "timestamp": 1755780797.665698}}}
{"text": "2025-08-21 18:23:17.666 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:15.387362", "seconds": 15.387362}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.666266+05:30", "timestamp": 1755780797.666266}}}
{"text": "2025-08-21 18:23:17.666 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=61340.61, today=61340.61\n", "record": {"elapsed": {"repr": "0:00:15.387904", "seconds": 15.387904}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=61340.61, today=61340.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.666808+05:30", "timestamp": 1755780797.666808}}}
{"text": "2025-08-21 18:23:17.667 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-69458.89, today=-69458.89\n", "record": {"elapsed": {"repr": "0:00:15.388286", "seconds": 15.388286}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-69458.89, today=-69458.89", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.667190+05:30", "timestamp": 1755780797.66719}}}
{"text": "2025-08-21 18:23:17.667 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=903989.16, today=903989.16\n", "record": {"elapsed": {"repr": "0:00:15.388710", "seconds": 15.38871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=903989.16, today=903989.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.667614+05:30", "timestamp": 1755780797.667614}}}
{"text": "2025-08-21 18:23:17.668 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=78458.38, today=78458.38\n", "record": {"elapsed": {"repr": "0:00:15.389247", "seconds": 15.389247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=78458.38, today=78458.38", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.668151+05:30", "timestamp": 1755780797.668151}}}
{"text": "2025-08-21 18:23:17.668 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2214840.35, today=2214840.35\n", "record": {"elapsed": {"repr": "0:00:15.389656", "seconds": 15.389656}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2214840.35, today=2214840.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.668560+05:30", "timestamp": 1755780797.66856}}}
{"text": "2025-08-21 18:23:17.669 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3189169.61, day: 3189169.61\n", "record": {"elapsed": {"repr": "0:00:15.390178", "seconds": 15.390178}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3189169.61, day: 3189169.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.669082+05:30", "timestamp": 1755780797.669082}}}
{"text": "2025-08-21 18:23:17.669 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:15.390586", "seconds": 15.390586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.669490+05:30", "timestamp": 1755780797.66949}}}
{"text": "2025-08-21 18:23:17.669 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:15.391065", "seconds": 15.391065}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.669969+05:30", "timestamp": 1755780797.669969}}}
{"text": "2025-08-21 18:23:17.670 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:15.391557", "seconds": 15.391557}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.670461+05:30", "timestamp": 1755780797.670461}}}
{"text": "2025-08-21 18:23:17.670 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:15.391997", "seconds": 15.391997}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.670901+05:30", "timestamp": 1755780797.670901}}}
{"text": "2025-08-21 18:23:17.671 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:17.666764+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:15.392383", "seconds": 15.392383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:17.666764+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.671287+05:30", "timestamp": 1755780797.671287}}}
{"text": "2025-08-21 18:23:17.671 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3189169.61, day=3189169.61, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=320.91, unrealized=61340.61, today_pnl=61340.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1529.24, unrealized=-69458.89, today_pnl=-69458.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2300.22, unrealized=903989.16, today_pnl=903989.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=272.53, unrealized=78458.38, today_pnl=78458.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1282.0, unrealized=2214840.35, today_pnl=2214840.35)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 17, 666764, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:15.392910", "seconds": 15.39291}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3189169.61, day=3189169.61, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=320.91, unrealized=61340.61, today_pnl=61340.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1529.24, unrealized=-69458.89, today_pnl=-69458.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2300.22, unrealized=903989.16, today_pnl=903989.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=272.53, unrealized=78458.38, today_pnl=78458.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1282.0, unrealized=2214840.35, today_pnl=2214840.35)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 17, 666764, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.671814+05:30", "timestamp": 1755780797.671814}}}
{"text": "2025-08-21 18:23:17.672 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3189169.61, day=3189169.61, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=320.91, unrealized=61340.61, today_pnl=61340.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1529.24, unrealized=-69458.89, today_pnl=-69458.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2300.22, unrealized=903989.16, today_pnl=903989.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=272.53, unrealized=78458.38, today_pnl=78458.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1282.0, unrealized=2214840.35, today_pnl=2214840.35)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 17, 666764, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:15.393527", "seconds": 15.393527}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3189169.61, day=3189169.61, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=320.91, unrealized=61340.61, today_pnl=61340.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1529.24, unrealized=-69458.89, today_pnl=-69458.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2300.22, unrealized=903989.16, today_pnl=903989.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=272.53, unrealized=78458.38, today_pnl=78458.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1282.0, unrealized=2214840.35, today_pnl=2214840.35)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 17, 666764, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.672431+05:30", "timestamp": 1755780797.672431}}}
{"text": "2025-08-21 18:23:17.673 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3189169.61\n", "record": {"elapsed": {"repr": "0:00:15.394138", "seconds": 15.394138}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3189169.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.673042+05:30", "timestamp": 1755780797.673042}}}
{"text": "2025-08-21 18:23:17.673 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=15\n", "record": {"elapsed": {"repr": "0:00:15.394771", "seconds": 15.394771}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=15", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.673675+05:30", "timestamp": 1755780797.673675}}}
{"text": "2025-08-21 18:23:17.940 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=16\n", "record": {"elapsed": {"repr": "0:00:15.661948", "seconds": 15.661948}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=16", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:17.940852+05:30", "timestamp": 1755780797.940852}}}
{"text": "2025-08-21 18:23:18.352 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.073220", "seconds": 16.07322}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:18.352124+05:30", "timestamp": 1755780798.352124}}}
{"text": "2025-08-21 18:23:18.352 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.073945", "seconds": 16.073945}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:18.352849+05:30", "timestamp": 1755780798.352849}}}
{"text": "2025-08-21 18:23:18.353 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.074495", "seconds": 16.074495}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:18.353399+05:30", "timestamp": 1755780798.353399}}}
{"text": "2025-08-21 18:23:18.353 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.075039", "seconds": 16.075039}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:18.353943+05:30", "timestamp": 1755780798.353943}}}
{"text": "2025-08-21 18:23:18.354 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.075557", "seconds": 16.075557}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:18.354461+05:30", "timestamp": 1755780798.354461}}}
{"text": "2025-08-21 18:23:18.354 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.076041", "seconds": 16.076041}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:18.354945+05:30", "timestamp": 1755780798.354945}}}
{"text": "2025-08-21 18:23:18.355 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.076594", "seconds": 16.076594}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:18.355498+05:30", "timestamp": 1755780798.355498}}}
{"text": "2025-08-21 18:23:18.356 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.077104", "seconds": 16.077104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:18.356008+05:30", "timestamp": 1755780798.356008}}}
{"text": "2025-08-21 18:23:18.356 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.077592", "seconds": 16.077592}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:18.356496+05:30", "timestamp": 1755780798.356496}}}
{"text": "2025-08-21 18:23:18.356 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.078080", "seconds": 16.07808}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:18.356984+05:30", "timestamp": 1755780798.356984}}}
{"text": "2025-08-21 18:23:19.338 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:17.059587", "seconds": 17.059587}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.338491+05:30", "timestamp": 1755780799.338491}}}
{"text": "2025-08-21 18:23:19.339 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:17.060247", "seconds": 17.060247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.339151+05:30", "timestamp": 1755780799.339151}}}
{"text": "2025-08-21 18:23:19.339 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=59875.49, today=59875.49\n", "record": {"elapsed": {"repr": "0:00:17.060794", "seconds": 17.060794}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=59875.49, today=59875.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.339698+05:30", "timestamp": 1755780799.339698}}}
{"text": "2025-08-21 18:23:19.340 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-72166.31, today=-72166.31\n", "record": {"elapsed": {"repr": "0:00:17.061252", "seconds": 17.061252}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-72166.31, today=-72166.31", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.340156+05:30", "timestamp": 1755780799.340156}}}
{"text": "2025-08-21 18:23:19.340 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=879596.74, today=879596.74\n", "record": {"elapsed": {"repr": "0:00:17.061692", "seconds": 17.061692}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=879596.74, today=879596.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.340596+05:30", "timestamp": 1755780799.340596}}}
{"text": "2025-08-21 18:23:19.341 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79111.91, today=79111.91\n", "record": {"elapsed": {"repr": "0:00:17.062228", "seconds": 17.062228}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79111.91, today=79111.91", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.341132+05:30", "timestamp": 1755780799.341132}}}
{"text": "2025-08-21 18:23:19.341 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2232160.17, today=2232160.17\n", "record": {"elapsed": {"repr": "0:00:17.062625", "seconds": 17.062625}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2232160.17, today=2232160.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.341529+05:30", "timestamp": 1755780799.341529}}}
{"text": "2025-08-21 18:23:19.342 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3178578.0, day: 3178578.0\n", "record": {"elapsed": {"repr": "0:00:17.063161", "seconds": 17.063161}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3178578.0, day: 3178578.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.342065+05:30", "timestamp": 1755780799.342065}}}
{"text": "2025-08-21 18:23:19.342 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:17.063656", "seconds": 17.063656}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.342560+05:30", "timestamp": 1755780799.34256}}}
{"text": "2025-08-21 18:23:19.342 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:17.064062", "seconds": 17.064062}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.342966+05:30", "timestamp": 1755780799.342966}}}
{"text": "2025-08-21 18:23:19.343 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:17.064410", "seconds": 17.06441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.343314+05:30", "timestamp": 1755780799.343314}}}
{"text": "2025-08-21 18:23:19.343 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:17.064844", "seconds": 17.064844}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.343748+05:30", "timestamp": 1755780799.343748}}}
{"text": "2025-08-21 18:23:19.344 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:19.339649+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:17.065264", "seconds": 17.065264}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:19.339649+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.344168+05:30", "timestamp": 1755780799.344168}}}
{"text": "2025-08-21 18:23:19.344 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3178578.0, day=3178578.0, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.01, unrealized=59875.49, today_pnl=59875.49), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1546.94, unrealized=-72166.31, today_pnl=-72166.31), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.18, unrealized=879596.74, today_pnl=879596.74), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=267.51, unrealized=79111.91, today_pnl=79111.91), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1291.22, unrealized=2232160.17, today_pnl=2232160.17)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 19, 339649, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:17.065855", "seconds": 17.065855}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3178578.0, day=3178578.0, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.01, unrealized=59875.49, today_pnl=59875.49), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1546.94, unrealized=-72166.31, today_pnl=-72166.31), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.18, unrealized=879596.74, today_pnl=879596.74), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=267.51, unrealized=79111.91, today_pnl=79111.91), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1291.22, unrealized=2232160.17, today_pnl=2232160.17)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 19, 339649, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.344759+05:30", "timestamp": 1755780799.344759}}}
{"text": "2025-08-21 18:23:19.345 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3178578.0, day=3178578.0, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.01, unrealized=59875.49, today_pnl=59875.49), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1546.94, unrealized=-72166.31, today_pnl=-72166.31), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.18, unrealized=879596.74, today_pnl=879596.74), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=267.51, unrealized=79111.91, today_pnl=79111.91), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1291.22, unrealized=2232160.17, today_pnl=2232160.17)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 19, 339649, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:17.066534", "seconds": 17.066534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3178578.0, day=3178578.0, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.01, unrealized=59875.49, today_pnl=59875.49), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1546.94, unrealized=-72166.31, today_pnl=-72166.31), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.18, unrealized=879596.74, today_pnl=879596.74), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=267.51, unrealized=79111.91, today_pnl=79111.91), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1291.22, unrealized=2232160.17, today_pnl=2232160.17)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 19, 339649, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.345438+05:30", "timestamp": 1755780799.345438}}}
{"text": "2025-08-21 18:23:19.345 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3178578.00\n", "record": {"elapsed": {"repr": "0:00:17.067066", "seconds": 17.067066}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3178578.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.345970+05:30", "timestamp": 1755780799.34597}}}
{"text": "2025-08-21 18:23:19.346 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=17\n", "record": {"elapsed": {"repr": "0:00:17.067782", "seconds": 17.067782}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=17", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.346686+05:30", "timestamp": 1755780799.346686}}}
{"text": "2025-08-21 18:23:19.736 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=18\n", "record": {"elapsed": {"repr": "0:00:17.457585", "seconds": 17.457585}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=18", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:19.736489+05:30", "timestamp": 1755780799.736489}}}
{"text": "2025-08-21 18:23:20.358 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.079369", "seconds": 18.079369}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:20.358273+05:30", "timestamp": 1755780800.358273}}}
{"text": "2025-08-21 18:23:20.358 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.080044", "seconds": 18.080044}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:20.358948+05:30", "timestamp": 1755780800.358948}}}
{"text": "2025-08-21 18:23:20.359 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.080638", "seconds": 18.080638}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:20.359542+05:30", "timestamp": 1755780800.359542}}}
{"text": "2025-08-21 18:23:20.360 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.081159", "seconds": 18.081159}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:20.360063+05:30", "timestamp": 1755780800.360063}}}
{"text": "2025-08-21 18:23:20.360 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.081549", "seconds": 18.081549}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:20.360453+05:30", "timestamp": 1755780800.360453}}}
{"text": "2025-08-21 18:23:20.360 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.081980", "seconds": 18.08198}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:20.360884+05:30", "timestamp": 1755780800.360884}}}
{"text": "2025-08-21 18:23:20.361 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.082418", "seconds": 18.082418}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:20.361322+05:30", "timestamp": 1755780800.361322}}}
{"text": "2025-08-21 18:23:20.361 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.082866", "seconds": 18.082866}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:20.361770+05:30", "timestamp": 1755780800.36177}}}
{"text": "2025-08-21 18:23:20.362 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.083307", "seconds": 18.083307}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:20.362211+05:30", "timestamp": 1755780800.362211}}}
{"text": "2025-08-21 18:23:20.362 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.083743", "seconds": 18.083743}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:20.362647+05:30", "timestamp": 1755780800.362647}}}
{"text": "2025-08-21 18:23:21.345 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:19.066604", "seconds": 19.066604}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.345508+05:30", "timestamp": 1755780801.345508}}}
{"text": "2025-08-21 18:23:21.346 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:19.067193", "seconds": 19.067193}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.346097+05:30", "timestamp": 1755780801.346097}}}
{"text": "2025-08-21 18:23:21.346 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=59274.45, today=59274.45\n", "record": {"elapsed": {"repr": "0:00:19.067664", "seconds": 19.067664}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=59274.45, today=59274.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.346568+05:30", "timestamp": 1755780801.346568}}}
{"text": "2025-08-21 18:23:21.347 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-74270.02, today=-74270.02\n", "record": {"elapsed": {"repr": "0:00:19.068203", "seconds": 19.068203}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-74270.02, today=-74270.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.347107+05:30", "timestamp": 1755780801.347107}}}
{"text": "2025-08-21 18:23:21.347 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=883646.09, today=883646.09\n", "record": {"elapsed": {"repr": "0:00:19.068649", "seconds": 19.068649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=883646.09, today=883646.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.347553+05:30", "timestamp": 1755780801.347553}}}
{"text": "2025-08-21 18:23:21.348 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=78957.12, today=78957.12\n", "record": {"elapsed": {"repr": "0:00:19.069193", "seconds": 19.069193}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=78957.12, today=78957.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.348097+05:30", "timestamp": 1755780801.348097}}}
{"text": "2025-08-21 18:23:21.348 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2208949.29, today=2208949.29\n", "record": {"elapsed": {"repr": "0:00:19.069792", "seconds": 19.069792}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2208949.29, today=2208949.29", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.348696+05:30", "timestamp": 1755780801.348696}}}
{"text": "2025-08-21 18:23:21.349 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3156556.93, day: 3156556.93\n", "record": {"elapsed": {"repr": "0:00:19.070268", "seconds": 19.070268}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3156556.93, day: 3156556.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.349172+05:30", "timestamp": 1755780801.349172}}}
{"text": "2025-08-21 18:23:21.349 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:19.070721", "seconds": 19.070721}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.349625+05:30", "timestamp": 1755780801.349625}}}
{"text": "2025-08-21 18:23:21.350 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:19.071307", "seconds": 19.071307}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.350211+05:30", "timestamp": 1755780801.350211}}}
{"text": "2025-08-21 18:23:21.350 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:19.071806", "seconds": 19.071806}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.350710+05:30", "timestamp": 1755780801.35071}}}
{"text": "2025-08-21 18:23:21.351 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:19.072169", "seconds": 19.072169}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.351073+05:30", "timestamp": 1755780801.351073}}}
{"text": "2025-08-21 18:23:21.351 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:21.346506+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:19.072699", "seconds": 19.072699}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:21.346506+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.351603+05:30", "timestamp": 1755780801.351603}}}
{"text": "2025-08-21 18:23:21.352 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3156556.93, day=3156556.93, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=316.82, unrealized=59274.45, today_pnl=59274.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1560.68, unrealized=-74270.02, today_pnl=-74270.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2276.84, unrealized=883646.09, today_pnl=883646.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.7, unrealized=78957.12, today_pnl=78957.12), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.86, unrealized=2208949.29, today_pnl=2208949.29)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 21, 346506, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:19.073383", "seconds": 19.073383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3156556.93, day=3156556.93, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=316.82, unrealized=59274.45, today_pnl=59274.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1560.68, unrealized=-74270.02, today_pnl=-74270.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2276.84, unrealized=883646.09, today_pnl=883646.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.7, unrealized=78957.12, today_pnl=78957.12), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.86, unrealized=2208949.29, today_pnl=2208949.29)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 21, 346506, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.352287+05:30", "timestamp": 1755780801.352287}}}
{"text": "2025-08-21 18:23:21.353 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3156556.93, day=3156556.93, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=316.82, unrealized=59274.45, today_pnl=59274.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1560.68, unrealized=-74270.02, today_pnl=-74270.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2276.84, unrealized=883646.09, today_pnl=883646.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.7, unrealized=78957.12, today_pnl=78957.12), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.86, unrealized=2208949.29, today_pnl=2208949.29)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 21, 346506, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:19.074147", "seconds": 19.074147}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3156556.93, day=3156556.93, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=316.82, unrealized=59274.45, today_pnl=59274.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1560.68, unrealized=-74270.02, today_pnl=-74270.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2276.84, unrealized=883646.09, today_pnl=883646.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.7, unrealized=78957.12, today_pnl=78957.12), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.86, unrealized=2208949.29, today_pnl=2208949.29)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 21, 346506, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.353051+05:30", "timestamp": 1755780801.353051}}}
{"text": "2025-08-21 18:23:21.353 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3156556.93\n", "record": {"elapsed": {"repr": "0:00:19.074737", "seconds": 19.074737}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3156556.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.353641+05:30", "timestamp": 1755780801.353641}}}
{"text": "2025-08-21 18:23:21.354 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=19\n", "record": {"elapsed": {"repr": "0:00:19.075447", "seconds": 19.075447}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=19", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.354351+05:30", "timestamp": 1755780801.354351}}}
{"text": "2025-08-21 18:23:21.433 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=20\n", "record": {"elapsed": {"repr": "0:00:19.154150", "seconds": 19.15415}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=20", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:21.433054+05:30", "timestamp": 1755780801.433054}}}
{"text": "2025-08-21 18:23:22.364 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.085141", "seconds": 20.085141}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:22.364045+05:30", "timestamp": 1755780802.364045}}}
{"text": "2025-08-21 18:23:22.364 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.085827", "seconds": 20.085827}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:22.364731+05:30", "timestamp": 1755780802.364731}}}
{"text": "2025-08-21 18:23:22.365 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.086418", "seconds": 20.086418}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:22.365322+05:30", "timestamp": 1755780802.365322}}}
{"text": "2025-08-21 18:23:22.365 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.086913", "seconds": 20.086913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:22.365817+05:30", "timestamp": 1755780802.365817}}}
{"text": "2025-08-21 18:23:22.366 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.087380", "seconds": 20.08738}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:22.366284+05:30", "timestamp": 1755780802.366284}}}
{"text": "2025-08-21 18:23:22.366 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.087924", "seconds": 20.087924}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:22.366828+05:30", "timestamp": 1755780802.366828}}}
{"text": "2025-08-21 18:23:22.367 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.088394", "seconds": 20.088394}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:22.367298+05:30", "timestamp": 1755780802.367298}}}
{"text": "2025-08-21 18:23:22.367 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.088751", "seconds": 20.088751}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:22.367655+05:30", "timestamp": 1755780802.367655}}}
{"text": "2025-08-21 18:23:22.368 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.089298", "seconds": 20.089298}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:22.368202+05:30", "timestamp": 1755780802.368202}}}
{"text": "2025-08-21 18:23:22.368 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.089827", "seconds": 20.089827}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:22.368731+05:30", "timestamp": 1755780802.368731}}}
{"text": "2025-08-21 18:23:22.856 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:20.577616", "seconds": 20.577616}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.856520+05:30", "timestamp": 1755780802.85652}}}
{"text": "2025-08-21 18:23:22.857 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:20.578103", "seconds": 20.578103}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.857007+05:30", "timestamp": 1755780802.857007}}}
{"text": "2025-08-21 18:23:22.857 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=56260.06, today=56260.06\n", "record": {"elapsed": {"repr": "0:00:20.578540", "seconds": 20.57854}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=56260.06, today=56260.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.857444+05:30", "timestamp": 1755780802.857444}}}
{"text": "2025-08-21 18:23:22.857 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-76328.37, today=-76328.37\n", "record": {"elapsed": {"repr": "0:00:20.578990", "seconds": 20.57899}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-76328.37, today=-76328.37", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.857894+05:30", "timestamp": 1755780802.857894}}}
{"text": "2025-08-21 18:23:22.858 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=893153.51, today=893153.51\n", "record": {"elapsed": {"repr": "0:00:20.579424", "seconds": 20.579424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=893153.51, today=893153.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.858328+05:30", "timestamp": 1755780802.858328}}}
{"text": "2025-08-21 18:23:22.858 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=78972.92, today=78972.92\n", "record": {"elapsed": {"repr": "0:00:20.579846", "seconds": 20.579846}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=78972.92, today=78972.92", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.858750+05:30", "timestamp": 1755780802.85875}}}
{"text": "2025-08-21 18:23:22.859 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2183327.05, today=2183327.05\n", "record": {"elapsed": {"repr": "0:00:20.580363", "seconds": 20.580363}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2183327.05, today=2183327.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.859267+05:30", "timestamp": 1755780802.859267}}}
{"text": "2025-08-21 18:23:22.859 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3135385.17, day: 3135385.17\n", "record": {"elapsed": {"repr": "0:00:20.580743", "seconds": 20.580743}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3135385.17, day: 3135385.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.859647+05:30", "timestamp": 1755780802.859647}}}
{"text": "2025-08-21 18:23:22.860 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:20.581116", "seconds": 20.581116}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.860020+05:30", "timestamp": 1755780802.86002}}}
{"text": "2025-08-21 18:23:22.860 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:20.581518", "seconds": 20.581518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.860422+05:30", "timestamp": 1755780802.860422}}}
{"text": "2025-08-21 18:23:22.860 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:20.581943", "seconds": 20.581943}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.860847+05:30", "timestamp": 1755780802.860847}}}
{"text": "2025-08-21 18:23:22.861 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:20.582322", "seconds": 20.582322}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.861226+05:30", "timestamp": 1755780802.861226}}}
{"text": "2025-08-21 18:23:22.861 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:22.857387+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:20.582765", "seconds": 20.582765}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:22.857387+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.861669+05:30", "timestamp": 1755780802.861669}}}
{"text": "2025-08-21 18:23:22.862 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3135385.17, day=3135385.17, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=310.85, unrealized=56260.06, today_pnl=56260.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1574.14, unrealized=-76328.37, today_pnl=-76328.37), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2287.76, unrealized=893153.51, today_pnl=893153.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.58, unrealized=78972.92, today_pnl=78972.92), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1265.22, unrealized=2183327.05, today_pnl=2183327.05)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 22, 857387, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:20.583297", "seconds": 20.583297}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3135385.17, day=3135385.17, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=310.85, unrealized=56260.06, today_pnl=56260.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1574.14, unrealized=-76328.37, today_pnl=-76328.37), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2287.76, unrealized=893153.51, today_pnl=893153.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.58, unrealized=78972.92, today_pnl=78972.92), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1265.22, unrealized=2183327.05, today_pnl=2183327.05)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 22, 857387, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.862201+05:30", "timestamp": 1755780802.862201}}}
{"text": "2025-08-21 18:23:22.862 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3135385.17, day=3135385.17, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=310.85, unrealized=56260.06, today_pnl=56260.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1574.14, unrealized=-76328.37, today_pnl=-76328.37), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2287.76, unrealized=893153.51, today_pnl=893153.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.58, unrealized=78972.92, today_pnl=78972.92), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1265.22, unrealized=2183327.05, today_pnl=2183327.05)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 22, 857387, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:20.583931", "seconds": 20.583931}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3135385.17, day=3135385.17, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=310.85, unrealized=56260.06, today_pnl=56260.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1574.14, unrealized=-76328.37, today_pnl=-76328.37), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2287.76, unrealized=893153.51, today_pnl=893153.51), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=268.58, unrealized=78972.92, today_pnl=78972.92), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1265.22, unrealized=2183327.05, today_pnl=2183327.05)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 22, 857387, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.862835+05:30", "timestamp": 1755780802.862835}}}
{"text": "2025-08-21 18:23:22.863 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3135385.17\n", "record": {"elapsed": {"repr": "0:00:20.584479", "seconds": 20.584479}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3135385.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.863383+05:30", "timestamp": 1755780802.863383}}}
{"text": "2025-08-21 18:23:22.863 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=21\n", "record": {"elapsed": {"repr": "0:00:20.585013", "seconds": 20.585013}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=21", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.863917+05:30", "timestamp": 1755780802.863917}}}
{"text": "2025-08-21 18:23:22.975 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=22\n", "record": {"elapsed": {"repr": "0:00:20.697048", "seconds": 20.697048}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=22", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:22.975952+05:30", "timestamp": 1755780802.975952}}}
{"text": "2025-08-21 18:23:24.369 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.090565", "seconds": 22.090565}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:24.369469+05:30", "timestamp": 1755780804.369469}}}
{"text": "2025-08-21 18:23:24.370 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.091197", "seconds": 22.091197}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:24.370101+05:30", "timestamp": 1755780804.370101}}}
{"text": "2025-08-21 18:23:24.370 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.091693", "seconds": 22.091693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:24.370597+05:30", "timestamp": 1755780804.370597}}}
{"text": "2025-08-21 18:23:24.371 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.092240", "seconds": 22.09224}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:24.371144+05:30", "timestamp": 1755780804.371144}}}
{"text": "2025-08-21 18:23:24.371 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.092627", "seconds": 22.092627}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:24.371531+05:30", "timestamp": 1755780804.371531}}}
{"text": "2025-08-21 18:23:24.371 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.093034", "seconds": 22.093034}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:24.371938+05:30", "timestamp": 1755780804.371938}}}
{"text": "2025-08-21 18:23:24.372 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.093492", "seconds": 22.093492}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:24.372396+05:30", "timestamp": 1755780804.372396}}}
{"text": "2025-08-21 18:23:24.372 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.093878", "seconds": 22.093878}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:24.372782+05:30", "timestamp": 1755780804.372782}}}
{"text": "2025-08-21 18:23:24.373 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.094366", "seconds": 22.094366}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:24.373270+05:30", "timestamp": 1755780804.37327}}}
{"text": "2025-08-21 18:23:24.373 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.094758", "seconds": 22.094758}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:24.373662+05:30", "timestamp": 1755780804.373662}}}
{"text": "2025-08-21 18:23:24.620 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:22.341517", "seconds": 22.341517}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.620421+05:30", "timestamp": 1755780804.620421}}}
{"text": "2025-08-21 18:23:24.621 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:22.342559", "seconds": 22.342559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.621463+05:30", "timestamp": 1755780804.621463}}}
{"text": "2025-08-21 18:23:24.622 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=54285.76, today=54285.76\n", "record": {"elapsed": {"repr": "0:00:22.343755", "seconds": 22.343755}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=54285.76, today=54285.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.622659+05:30", "timestamp": 1755780804.622659}}}
{"text": "2025-08-21 18:23:24.623 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-73934.47, today=-73934.47\n", "record": {"elapsed": {"repr": "0:00:22.344643", "seconds": 22.344643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-73934.47, today=-73934.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.623547+05:30", "timestamp": 1755780804.623547}}}
{"text": "2025-08-21 18:23:24.624 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=909568.97, today=909568.97\n", "record": {"elapsed": {"repr": "0:00:22.345365", "seconds": 22.345365}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=909568.97, today=909568.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.624269+05:30", "timestamp": 1755780804.624269}}}
{"text": "2025-08-21 18:23:24.624 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79323.29, today=79323.29\n", "record": {"elapsed": {"repr": "0:00:22.346020", "seconds": 22.34602}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79323.29, today=79323.29", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.624924+05:30", "timestamp": 1755780804.624924}}}
{"text": "2025-08-21 18:23:24.625 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2208705.5, today=2208705.5\n", "record": {"elapsed": {"repr": "0:00:22.346584", "seconds": 22.346584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2208705.5, today=2208705.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.625488+05:30", "timestamp": 1755780804.625488}}}
{"text": "2025-08-21 18:23:24.625 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3177949.05, day: 3177949.05\n", "record": {"elapsed": {"repr": "0:00:22.346978", "seconds": 22.346978}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3177949.05, day: 3177949.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.625882+05:30", "timestamp": 1755780804.625882}}}
{"text": "2025-08-21 18:23:24.626 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:22.347720", "seconds": 22.34772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.626624+05:30", "timestamp": 1755780804.626624}}}
{"text": "2025-08-21 18:23:24.627 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:22.348573", "seconds": 22.348573}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.627477+05:30", "timestamp": 1755780804.627477}}}
{"text": "2025-08-21 18:23:24.628 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:22.349128", "seconds": 22.349128}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.628032+05:30", "timestamp": 1755780804.628032}}}
{"text": "2025-08-21 18:23:24.628 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:22.349596", "seconds": 22.349596}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.628500+05:30", "timestamp": 1755780804.6285}}}
{"text": "2025-08-21 18:23:24.628 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:24.622423+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:22.350000", "seconds": 22.35}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:24.622423+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.628904+05:30", "timestamp": 1755780804.628904}}}
{"text": "2025-08-21 18:23:24.629 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3177949.05, day=3177949.05, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=306.94, unrealized=54285.76, today_pnl=54285.76), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1558.49, unrealized=-73934.47, today_pnl=-73934.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.63, unrealized=909568.97, today_pnl=909568.97), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.88, unrealized=79323.29, today_pnl=79323.29), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.73, unrealized=2208705.5, today_pnl=2208705.5)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 24, 622423, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:22.350605", "seconds": 22.350605}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3177949.05, day=3177949.05, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=306.94, unrealized=54285.76, today_pnl=54285.76), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1558.49, unrealized=-73934.47, today_pnl=-73934.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.63, unrealized=909568.97, today_pnl=909568.97), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.88, unrealized=79323.29, today_pnl=79323.29), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.73, unrealized=2208705.5, today_pnl=2208705.5)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 24, 622423, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.629509+05:30", "timestamp": 1755780804.629509}}}
{"text": "2025-08-21 18:23:24.630 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3177949.05, day=3177949.05, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=306.94, unrealized=54285.76, today_pnl=54285.76), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1558.49, unrealized=-73934.47, today_pnl=-73934.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.63, unrealized=909568.97, today_pnl=909568.97), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.88, unrealized=79323.29, today_pnl=79323.29), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.73, unrealized=2208705.5, today_pnl=2208705.5)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 24, 622423, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:22.351240", "seconds": 22.35124}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3177949.05, day=3177949.05, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=306.94, unrealized=54285.76, today_pnl=54285.76), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1558.49, unrealized=-73934.47, today_pnl=-73934.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.63, unrealized=909568.97, today_pnl=909568.97), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.88, unrealized=79323.29, today_pnl=79323.29), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.73, unrealized=2208705.5, today_pnl=2208705.5)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 24, 622423, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.630144+05:30", "timestamp": 1755780804.630144}}}
{"text": "2025-08-21 18:23:24.630 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3177949.05\n", "record": {"elapsed": {"repr": "0:00:22.351844", "seconds": 22.351844}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3177949.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.630748+05:30", "timestamp": 1755780804.630748}}}
{"text": "2025-08-21 18:23:24.631 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=23\n", "record": {"elapsed": {"repr": "0:00:22.352427", "seconds": 22.352427}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=23", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.631331+05:30", "timestamp": 1755780804.631331}}}
{"text": "2025-08-21 18:23:24.795 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=24\n", "record": {"elapsed": {"repr": "0:00:22.516285", "seconds": 22.516285}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=24", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:24.795189+05:30", "timestamp": 1755780804.795189}}}
{"text": "2025-08-21 18:23:26.279 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:24.001073", "seconds": 24.001073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.279977+05:30", "timestamp": 1755780806.279977}}}
{"text": "2025-08-21 18:23:26.280 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:24.001745", "seconds": 24.001745}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.280649+05:30", "timestamp": 1755780806.280649}}}
{"text": "2025-08-21 18:23:26.281 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=54285.76, today=54285.76\n", "record": {"elapsed": {"repr": "0:00:24.002435", "seconds": 24.002435}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=54285.76, today=54285.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.281339+05:30", "timestamp": 1755780806.281339}}}
{"text": "2025-08-21 18:23:26.281 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-73934.47, today=-73934.47\n", "record": {"elapsed": {"repr": "0:00:24.002950", "seconds": 24.00295}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-73934.47, today=-73934.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.281854+05:30", "timestamp": 1755780806.281854}}}
{"text": "2025-08-21 18:23:26.282 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=909568.97, today=909568.97\n", "record": {"elapsed": {"repr": "0:00:24.003430", "seconds": 24.00343}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=909568.97, today=909568.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.282334+05:30", "timestamp": 1755780806.282334}}}
{"text": "2025-08-21 18:23:26.282 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79323.29, today=79323.29\n", "record": {"elapsed": {"repr": "0:00:24.003920", "seconds": 24.00392}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79323.29, today=79323.29", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.282824+05:30", "timestamp": 1755780806.282824}}}
{"text": "2025-08-21 18:23:26.283 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2208705.5, today=2208705.5\n", "record": {"elapsed": {"repr": "0:00:24.004404", "seconds": 24.004404}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2208705.5, today=2208705.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.283308+05:30", "timestamp": 1755780806.283308}}}
{"text": "2025-08-21 18:23:26.283 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3177949.05, day: 3177949.05\n", "record": {"elapsed": {"repr": "0:00:24.005043", "seconds": 24.005043}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3177949.05, day: 3177949.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.283947+05:30", "timestamp": 1755780806.283947}}}
{"text": "2025-08-21 18:23:26.284 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:24.005538", "seconds": 24.005538}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.284442+05:30", "timestamp": 1755780806.284442}}}
{"text": "2025-08-21 18:23:26.284 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:24.006017", "seconds": 24.006017}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.284921+05:30", "timestamp": 1755780806.284921}}}
{"text": "2025-08-21 18:23:26.285 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:24.006614", "seconds": 24.006614}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.285518+05:30", "timestamp": 1755780806.285518}}}
{"text": "2025-08-21 18:23:26.286 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:24.007098", "seconds": 24.007098}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.286002+05:30", "timestamp": 1755780806.286002}}}
{"text": "2025-08-21 18:23:26.286 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:26.281277+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:24.007572", "seconds": 24.007572}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:26.281277+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.286476+05:30", "timestamp": 1755780806.286476}}}
{"text": "2025-08-21 18:23:26.287 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3177949.05, day=3177949.05, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=306.94, unrealized=54285.76, today_pnl=54285.76), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1558.49, unrealized=-73934.47, today_pnl=-73934.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.63, unrealized=909568.97, today_pnl=909568.97), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.88, unrealized=79323.29, today_pnl=79323.29), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.73, unrealized=2208705.5, today_pnl=2208705.5)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 26, 281277, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:24.008404", "seconds": 24.008404}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3177949.05, day=3177949.05, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=306.94, unrealized=54285.76, today_pnl=54285.76), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1558.49, unrealized=-73934.47, today_pnl=-73934.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.63, unrealized=909568.97, today_pnl=909568.97), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.88, unrealized=79323.29, today_pnl=79323.29), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.73, unrealized=2208705.5, today_pnl=2208705.5)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 26, 281277, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.287308+05:30", "timestamp": 1755780806.287308}}}
{"text": "2025-08-21 18:23:26.288 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3177949.05, day=3177949.05, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=306.94, unrealized=54285.76, today_pnl=54285.76), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1558.49, unrealized=-73934.47, today_pnl=-73934.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.63, unrealized=909568.97, today_pnl=909568.97), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.88, unrealized=79323.29, today_pnl=79323.29), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.73, unrealized=2208705.5, today_pnl=2208705.5)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 26, 281277, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:24.009166", "seconds": 24.009166}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3177949.05, day=3177949.05, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=306.94, unrealized=54285.76, today_pnl=54285.76), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1558.49, unrealized=-73934.47, today_pnl=-73934.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.63, unrealized=909568.97, today_pnl=909568.97), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.88, unrealized=79323.29, today_pnl=79323.29), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1278.73, unrealized=2208705.5, today_pnl=2208705.5)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 26, 281277, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.288070+05:30", "timestamp": 1755780806.28807}}}
{"text": "2025-08-21 18:23:26.288 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3177949.05\n", "record": {"elapsed": {"repr": "0:00:24.009890", "seconds": 24.00989}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3177949.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.288794+05:30", "timestamp": 1755780806.288794}}}
{"text": "2025-08-21 18:23:26.289 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=25\n", "record": {"elapsed": {"repr": "0:00:24.010521", "seconds": 24.010521}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=25", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.289425+05:30", "timestamp": 1755780806.289425}}}
{"text": "2025-08-21 18:23:26.374 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.095508", "seconds": 24.095508}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:26.374412+05:30", "timestamp": 1755780806.374412}}}
