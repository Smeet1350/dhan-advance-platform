{"text": "2025-08-21 18:30:16.703 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:40.701215", "seconds": 100.701215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:16.703190+05:30", "timestamp": 1755781216.70319}}}
{"text": "2025-08-21 18:30:16.709 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:40.707428", "seconds": 100.707428}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:16.709403+05:30", "timestamp": 1755781216.709403}}}
{"text": "2025-08-21 18:30:16.710 | DEBUG    | app.ws.live:emit_delta:408 - Emitted holdings delta: seq=133\n", "record": {"elapsed": {"repr": "0:01:40.708872", "seconds": 100.708872}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted holdings delta: seq=133", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:16.710847+05:30", "timestamp": 1755781216.710847}}}
{"text": "2025-08-21 18:30:17.477 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:41.475881", "seconds": 101.475881}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.477856+05:30", "timestamp": 1755781217.477856}}}
{"text": "2025-08-21 18:30:17.479 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:41.477062", "seconds": 101.477062}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.479037+05:30", "timestamp": 1755781217.479037}}}
{"text": "2025-08-21 18:30:17.480 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-959418.74, today=-959418.74\n", "record": {"elapsed": {"repr": "0:01:41.478267", "seconds": 101.478267}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-959418.74, today=-959418.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.480242+05:30", "timestamp": 1755781217.480242}}}
{"text": "2025-08-21 18:30:17.481 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=950290.89, today=950290.89\n", "record": {"elapsed": {"repr": "0:01:41.479325", "seconds": 101.479325}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=950290.89, today=950290.89", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.481300+05:30", "timestamp": 1755781217.4813}}}
{"text": "2025-08-21 18:30:17.482 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1998076.8, today=-1998076.8\n", "record": {"elapsed": {"repr": "0:01:41.480320", "seconds": 101.48032}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1998076.8, today=-1998076.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.482295+05:30", "timestamp": 1755781217.482295}}}
{"text": "2025-08-21 18:30:17.483 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=205765.1, today=205765.1\n", "record": {"elapsed": {"repr": "0:01:41.481511", "seconds": 101.481511}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=205765.1, today=205765.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.483486+05:30", "timestamp": 1755781217.483486}}}
{"text": "2025-08-21 18:30:17.489 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=374512.52, today=374512.52\n", "record": {"elapsed": {"repr": "0:01:41.487800", "seconds": 101.4878}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=374512.52, today=374512.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.489775+05:30", "timestamp": 1755781217.489775}}}
{"text": "2025-08-21 18:30:17.492 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1426927.03, day: -1426927.03\n", "record": {"elapsed": {"repr": "0:01:41.490638", "seconds": 101.490638}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1426927.03, day: -1426927.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.492613+05:30", "timestamp": 1755781217.492613}}}
{"text": "2025-08-21 18:30:17.494 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:41.492742", "seconds": 101.492742}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.494717+05:30", "timestamp": 1755781217.494717}}}
{"text": "2025-08-21 18:30:17.496 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:41.494217", "seconds": 101.494217}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.496192+05:30", "timestamp": 1755781217.496192}}}
{"text": "2025-08-21 18:30:17.498 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:41.496613", "seconds": 101.496613}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.498588+05:30", "timestamp": 1755781217.498588}}}
{"text": "2025-08-21 18:30:17.499 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:41.497584", "seconds": 101.497584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.499559+05:30", "timestamp": 1755781217.499559}}}
{"text": "2025-08-21 18:30:17.500 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:17.479822+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:41.498274", "seconds": 101.498274}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:17.479822+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.500249+05:30", "timestamp": 1755781217.500249}}}
{"text": "2025-08-21 18:30:17.501 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1426927.03, day=-1426927.03, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1377.94, unrealized=-959418.74, today_pnl=-959418.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=439.0, unrealized=950290.89, today_pnl=950290.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=669.47, unrealized=-1998076.8, today_pnl=-1998076.8), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=557.52, unrealized=205765.1, today_pnl=205765.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2383.85, unrealized=374512.52, today_pnl=374512.52)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 17, 479822, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:41.499414", "seconds": 101.499414}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1426927.03, day=-1426927.03, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1377.94, unrealized=-959418.74, today_pnl=-959418.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=439.0, unrealized=950290.89, today_pnl=950290.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=669.47, unrealized=-1998076.8, today_pnl=-1998076.8), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=557.52, unrealized=205765.1, today_pnl=205765.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2383.85, unrealized=374512.52, today_pnl=374512.52)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 17, 479822, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.501389+05:30", "timestamp": 1755781217.501389}}}
{"text": "2025-08-21 18:30:17.502 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1426927.03, day=-1426927.03, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1377.94, unrealized=-959418.74, today_pnl=-959418.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=439.0, unrealized=950290.89, today_pnl=950290.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=669.47, unrealized=-1998076.8, today_pnl=-1998076.8), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=557.52, unrealized=205765.1, today_pnl=205765.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2383.85, unrealized=374512.52, today_pnl=374512.52)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 17, 479822, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:41.500830", "seconds": 101.50083}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1426927.03, day=-1426927.03, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1377.94, unrealized=-959418.74, today_pnl=-959418.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=439.0, unrealized=950290.89, today_pnl=950290.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=669.47, unrealized=-1998076.8, today_pnl=-1998076.8), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=557.52, unrealized=205765.1, today_pnl=205765.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2383.85, unrealized=374512.52, today_pnl=374512.52)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 17, 479822, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.502805+05:30", "timestamp": 1755781217.502805}}}
{"text": "2025-08-21 18:30:17.504 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1426927.03\n", "record": {"elapsed": {"repr": "0:01:41.502654", "seconds": 101.502654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1426927.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.504629+05:30", "timestamp": 1755781217.504629}}}
{"text": "2025-08-21 18:30:17.506 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=134\n", "record": {"elapsed": {"repr": "0:01:41.504294", "seconds": 101.504294}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=134", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.506269+05:30", "timestamp": 1755781217.506269}}}
{"text": "2025-08-21 18:30:17.507 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=135\n", "record": {"elapsed": {"repr": "0:01:41.505700", "seconds": 101.5057}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=135", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:17.507675+05:30", "timestamp": 1755781217.507675}}}
{"text": "2025-08-21 18:30:18.710 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:42.708728", "seconds": 102.708728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:18.710703+05:30", "timestamp": 1755781218.710703}}}
{"text": "2025-08-21 18:30:18.711 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:42.709820", "seconds": 102.70982}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:18.711795+05:30", "timestamp": 1755781218.711795}}}
{"text": "2025-08-21 18:30:18.712 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:42.710469", "seconds": 102.710469}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:18.712444+05:30", "timestamp": 1755781218.712444}}}
{"text": "2025-08-21 18:30:18.713 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:42.711382", "seconds": 102.711382}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:18.713357+05:30", "timestamp": 1755781218.713357}}}
{"text": "2025-08-21 18:30:18.714 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:42.712647", "seconds": 102.712647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:18.714622+05:30", "timestamp": 1755781218.714622}}}
{"text": "2025-08-21 18:30:18.715 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:42.713947", "seconds": 102.713947}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:18.715922+05:30", "timestamp": 1755781218.715922}}}
{"text": "2025-08-21 18:30:18.716 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:42.714997", "seconds": 102.714997}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:18.716972+05:30", "timestamp": 1755781218.716972}}}
{"text": "2025-08-21 18:30:18.718 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:42.716199", "seconds": 102.716199}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:18.718174+05:30", "timestamp": 1755781218.718174}}}
{"text": "2025-08-21 18:30:18.718 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:42.716807", "seconds": 102.716807}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:18.718782+05:30", "timestamp": 1755781218.718782}}}
{"text": "2025-08-21 18:30:18.719 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:42.717410", "seconds": 102.71741}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:18.719385+05:30", "timestamp": 1755781218.719385}}}
{"text": "2025-08-21 18:30:19.094 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:43.092261", "seconds": 103.092261}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.094236+05:30", "timestamp": 1755781219.094236}}}
{"text": "2025-08-21 18:30:19.095 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:43.093215", "seconds": 103.093215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.095190+05:30", "timestamp": 1755781219.09519}}}
{"text": "2025-08-21 18:30:19.096 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-922506.79, today=-922506.79\n", "record": {"elapsed": {"repr": "0:01:43.094164", "seconds": 103.094164}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-922506.79, today=-922506.79", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.096139+05:30", "timestamp": 1755781219.096139}}}
{"text": "2025-08-21 18:30:19.096 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=954760.78, today=954760.78\n", "record": {"elapsed": {"repr": "0:01:43.094876", "seconds": 103.094876}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=954760.78, today=954760.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.096851+05:30", "timestamp": 1755781219.096851}}}
{"text": "2025-08-21 18:30:19.097 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1977483.42, today=-1977483.42\n", "record": {"elapsed": {"repr": "0:01:43.095497", "seconds": 103.095497}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1977483.42, today=-1977483.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.097472+05:30", "timestamp": 1755781219.097472}}}
{"text": "2025-08-21 18:30:19.098 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=201903.14, today=201903.14\n", "record": {"elapsed": {"repr": "0:01:43.096112", "seconds": 103.096112}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=201903.14, today=201903.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.098087+05:30", "timestamp": 1755781219.098087}}}
{"text": "2025-08-21 18:30:19.098 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=381015.94, today=381015.94\n", "record": {"elapsed": {"repr": "0:01:43.096757", "seconds": 103.096757}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=381015.94, today=381015.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.098732+05:30", "timestamp": 1755781219.098732}}}
{"text": "2025-08-21 18:30:19.099 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1362310.35, day: -1362310.35\n", "record": {"elapsed": {"repr": "0:01:43.097532", "seconds": 103.097532}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1362310.35, day: -1362310.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.099507+05:30", "timestamp": 1755781219.099507}}}
{"text": "2025-08-21 18:30:19.100 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:43.098399", "seconds": 103.098399}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.100374+05:30", "timestamp": 1755781219.100374}}}
{"text": "2025-08-21 18:30:19.101 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:43.099199", "seconds": 103.099199}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.101174+05:30", "timestamp": 1755781219.101174}}}
{"text": "2025-08-21 18:30:19.102 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:43.100803", "seconds": 103.100803}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.102778+05:30", "timestamp": 1755781219.102778}}}
{"text": "2025-08-21 18:30:19.103 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:43.101724", "seconds": 103.101724}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.103699+05:30", "timestamp": 1755781219.103699}}}
{"text": "2025-08-21 18:30:19.104 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:19.096037+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:43.102857", "seconds": 103.102857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:19.096037+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.104832+05:30", "timestamp": 1755781219.104832}}}
{"text": "2025-08-21 18:30:19.106 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1362310.35, day=-1362310.35, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1401.86, unrealized=-922506.79, today_pnl=-922506.79), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=431.71, unrealized=954760.78, today_pnl=954760.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=681.52, unrealized=-1977483.42, today_pnl=-1977483.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=563.07, unrealized=201903.14, today_pnl=201903.14), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2409.35, unrealized=381015.94, today_pnl=381015.94)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 19, 96037, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:43.104500", "seconds": 103.1045}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1362310.35, day=-1362310.35, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1401.86, unrealized=-922506.79, today_pnl=-922506.79), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=431.71, unrealized=954760.78, today_pnl=954760.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=681.52, unrealized=-1977483.42, today_pnl=-1977483.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=563.07, unrealized=201903.14, today_pnl=201903.14), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2409.35, unrealized=381015.94, today_pnl=381015.94)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 19, 96037, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.106475+05:30", "timestamp": 1755781219.106475}}}
{"text": "2025-08-21 18:30:19.107 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1362310.35, day=-1362310.35, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1401.86, unrealized=-922506.79, today_pnl=-922506.79), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=431.71, unrealized=954760.78, today_pnl=954760.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=681.52, unrealized=-1977483.42, today_pnl=-1977483.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=563.07, unrealized=201903.14, today_pnl=201903.14), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2409.35, unrealized=381015.94, today_pnl=381015.94)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 19, 96037, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:43.105999", "seconds": 103.105999}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1362310.35, day=-1362310.35, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1401.86, unrealized=-922506.79, today_pnl=-922506.79), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=431.71, unrealized=954760.78, today_pnl=954760.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=681.52, unrealized=-1977483.42, today_pnl=-1977483.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=563.07, unrealized=201903.14, today_pnl=201903.14), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2409.35, unrealized=381015.94, today_pnl=381015.94)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 19, 96037, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.107974+05:30", "timestamp": 1755781219.107974}}}
{"text": "2025-08-21 18:30:19.109 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1362310.35\n", "record": {"elapsed": {"repr": "0:01:43.107677", "seconds": 103.107677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1362310.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.109652+05:30", "timestamp": 1755781219.109652}}}
{"text": "2025-08-21 18:30:19.111 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=136\n", "record": {"elapsed": {"repr": "0:01:43.109324", "seconds": 103.109324}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=136", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.111299+05:30", "timestamp": 1755781219.111299}}}
{"text": "2025-08-21 18:30:19.112 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=137\n", "record": {"elapsed": {"repr": "0:01:43.110658", "seconds": 103.110658}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=137", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:19.112633+05:30", "timestamp": 1755781219.112633}}}
{"text": "2025-08-21 18:30:20.720 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:44.718690", "seconds": 104.71869}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:20.720665+05:30", "timestamp": 1755781220.720665}}}
{"text": "2025-08-21 18:30:20.722 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:44.720344", "seconds": 104.720344}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:20.722319+05:30", "timestamp": 1755781220.722319}}}
{"text": "2025-08-21 18:30:20.723 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:44.722017", "seconds": 104.722017}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:20.723992+05:30", "timestamp": 1755781220.723992}}}
{"text": "2025-08-21 18:30:20.725 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:44.723641", "seconds": 104.723641}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:20.725616+05:30", "timestamp": 1755781220.725616}}}
{"text": "2025-08-21 18:30:20.726 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:44.724750", "seconds": 104.72475}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:20.726725+05:30", "timestamp": 1755781220.726725}}}
{"text": "2025-08-21 18:30:20.727 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:44.725885", "seconds": 104.725885}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:20.727860+05:30", "timestamp": 1755781220.72786}}}
{"text": "2025-08-21 18:30:20.729 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:44.727599", "seconds": 104.727599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:20.729574+05:30", "timestamp": 1755781220.729574}}}
{"text": "2025-08-21 18:30:20.730 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:44.728666", "seconds": 104.728666}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:20.730641+05:30", "timestamp": 1755781220.730641}}}
{"text": "2025-08-21 18:30:20.731 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:44.729649", "seconds": 104.729649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:20.731624+05:30", "timestamp": 1755781220.731624}}}
{"text": "2025-08-21 18:30:20.732 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:44.730862", "seconds": 104.730862}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:20.732837+05:30", "timestamp": 1755781220.732837}}}
{"text": "2025-08-21 18:30:20.993 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:44.991298", "seconds": 104.991298}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:20.993273+05:30", "timestamp": 1755781220.993273}}}
{"text": "2025-08-21 18:30:20.994 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:44.992510", "seconds": 104.99251}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:20.994485+05:30", "timestamp": 1755781220.994485}}}
{"text": "2025-08-21 18:30:20.995 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-949508.87, today=-949508.87\n", "record": {"elapsed": {"repr": "0:01:44.993542", "seconds": 104.993542}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-949508.87, today=-949508.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:20.995517+05:30", "timestamp": 1755781220.995517}}}
{"text": "2025-08-21 18:30:20.997 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=949762.18, today=949762.18\n", "record": {"elapsed": {"repr": "0:01:44.995591", "seconds": 104.995591}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=949762.18, today=949762.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:20.997566+05:30", "timestamp": 1755781220.997566}}}
{"text": "2025-08-21 18:30:20.998 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1961555.75, today=-1961555.75\n", "record": {"elapsed": {"repr": "0:01:44.996609", "seconds": 104.996609}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1961555.75, today=-1961555.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:20.998584+05:30", "timestamp": 1755781220.998584}}}
{"text": "2025-08-21 18:30:20.999 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=206608.07, today=206608.07\n", "record": {"elapsed": {"repr": "0:01:44.997527", "seconds": 104.997527}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=206608.07, today=206608.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:20.999502+05:30", "timestamp": 1755781220.999502}}}
{"text": "2025-08-21 18:30:21.000 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=373480.42, today=373480.42\n", "record": {"elapsed": {"repr": "0:01:44.998752", "seconds": 104.998752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=373480.42, today=373480.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.000727+05:30", "timestamp": 1755781221.000727}}}
{"text": "2025-08-21 18:30:21.001 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1381213.95, day: -1381213.95\n", "record": {"elapsed": {"repr": "0:01:44.999794", "seconds": 104.999794}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1381213.95, day: -1381213.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.001769+05:30", "timestamp": 1755781221.001769}}}
{"text": "2025-08-21 18:30:21.002 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:45.000727", "seconds": 105.000727}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.002702+05:30", "timestamp": 1755781221.002702}}}
{"text": "2025-08-21 18:30:21.004 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:45.002660", "seconds": 105.00266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.004635+05:30", "timestamp": 1755781221.004635}}}
{"text": "2025-08-21 18:30:21.005 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:45.003505", "seconds": 105.003505}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.005480+05:30", "timestamp": 1755781221.00548}}}
{"text": "2025-08-21 18:30:21.006 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:45.004293", "seconds": 105.004293}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.006268+05:30", "timestamp": 1755781221.006268}}}
{"text": "2025-08-21 18:30:21.007 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:20.995376+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:45.005053", "seconds": 105.005053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:20.995376+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.007028+05:30", "timestamp": 1755781221.007028}}}
{"text": "2025-08-21 18:30:21.008 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1381213.95, day=-1381213.95, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1384.36, unrealized=-949508.87, today_pnl=-949508.87), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=439.86, unrealized=949762.18, today_pnl=949762.18), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=690.84, unrealized=-1961555.75, today_pnl=-1961555.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=556.32, unrealized=206608.07, today_pnl=206608.07), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2379.8, unrealized=373480.42, today_pnl=373480.42)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 20, 995376, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:45.006291", "seconds": 105.006291}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1381213.95, day=-1381213.95, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1384.36, unrealized=-949508.87, today_pnl=-949508.87), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=439.86, unrealized=949762.18, today_pnl=949762.18), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=690.84, unrealized=-1961555.75, today_pnl=-1961555.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=556.32, unrealized=206608.07, today_pnl=206608.07), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2379.8, unrealized=373480.42, today_pnl=373480.42)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 20, 995376, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.008266+05:30", "timestamp": 1755781221.008266}}}
{"text": "2025-08-21 18:30:21.009 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1381213.95, day=-1381213.95, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1384.36, unrealized=-949508.87, today_pnl=-949508.87), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=439.86, unrealized=949762.18, today_pnl=949762.18), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=690.84, unrealized=-1961555.75, today_pnl=-1961555.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=556.32, unrealized=206608.07, today_pnl=206608.07), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2379.8, unrealized=373480.42, today_pnl=373480.42)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 20, 995376, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:45.007908", "seconds": 105.007908}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1381213.95, day=-1381213.95, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1384.36, unrealized=-949508.87, today_pnl=-949508.87), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=439.86, unrealized=949762.18, today_pnl=949762.18), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=690.84, unrealized=-1961555.75, today_pnl=-1961555.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=556.32, unrealized=206608.07, today_pnl=206608.07), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2379.8, unrealized=373480.42, today_pnl=373480.42)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 20, 995376, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.009883+05:30", "timestamp": 1755781221.009883}}}
{"text": "2025-08-21 18:30:21.013 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1381213.95\n", "record": {"elapsed": {"repr": "0:01:45.011063", "seconds": 105.011063}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1381213.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.013038+05:30", "timestamp": 1755781221.013038}}}
{"text": "2025-08-21 18:30:21.014 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=138\n", "record": {"elapsed": {"repr": "0:01:45.012608", "seconds": 105.012608}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=138", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.014583+05:30", "timestamp": 1755781221.014583}}}
{"text": "2025-08-21 18:30:21.016 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=139\n", "record": {"elapsed": {"repr": "0:01:45.014317", "seconds": 105.014317}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=139", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:21.016292+05:30", "timestamp": 1755781221.016292}}}
{"text": "2025-08-21 18:30:22.734 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:46.732375", "seconds": 106.732375}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:22.734350+05:30", "timestamp": 1755781222.73435}}}
{"text": "2025-08-21 18:30:22.735 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:46.733672", "seconds": 106.733672}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:22.735647+05:30", "timestamp": 1755781222.735647}}}
{"text": "2025-08-21 18:30:22.737 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:46.735048", "seconds": 106.735048}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:22.737023+05:30", "timestamp": 1755781222.737023}}}
{"text": "2025-08-21 18:30:22.738 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:46.736398", "seconds": 106.736398}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:22.738373+05:30", "timestamp": 1755781222.738373}}}
{"text": "2025-08-21 18:30:22.740 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:46.738309", "seconds": 106.738309}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:22.740284+05:30", "timestamp": 1755781222.740284}}}
{"text": "2025-08-21 18:30:22.743 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:46.741152", "seconds": 106.741152}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:22.743127+05:30", "timestamp": 1755781222.743127}}}
{"text": "2025-08-21 18:30:22.744 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:46.742600", "seconds": 106.7426}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:22.744575+05:30", "timestamp": 1755781222.744575}}}
{"text": "2025-08-21 18:30:22.745 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:46.743454", "seconds": 106.743454}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:22.745429+05:30", "timestamp": 1755781222.745429}}}
{"text": "2025-08-21 18:30:22.746 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:46.744518", "seconds": 106.744518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:22.746493+05:30", "timestamp": 1755781222.746493}}}
{"text": "2025-08-21 18:30:22.747 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:46.745442", "seconds": 106.745442}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:22.747417+05:30", "timestamp": 1755781222.747417}}}
{"text": "2025-08-21 18:30:22.850 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:46.848346", "seconds": 106.848346}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.850321+05:30", "timestamp": 1755781222.850321}}}
{"text": "2025-08-21 18:30:22.851 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:46.849288", "seconds": 106.849288}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.851263+05:30", "timestamp": 1755781222.851263}}}
{"text": "2025-08-21 18:30:22.852 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-942870.66, today=-942870.66\n", "record": {"elapsed": {"repr": "0:01:46.850151", "seconds": 106.850151}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-942870.66, today=-942870.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.852126+05:30", "timestamp": 1755781222.852126}}}
{"text": "2025-08-21 18:30:22.852 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=947001.45, today=947001.45\n", "record": {"elapsed": {"repr": "0:01:46.850876", "seconds": 106.850876}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=947001.45, today=947001.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.852851+05:30", "timestamp": 1755781222.852851}}}
{"text": "2025-08-21 18:30:22.853 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1942220.85, today=-1942220.85\n", "record": {"elapsed": {"repr": "0:01:46.851581", "seconds": 106.851581}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1942220.85, today=-1942220.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.853556+05:30", "timestamp": 1755781222.853556}}}
{"text": "2025-08-21 18:30:22.854 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=211979.19, today=211979.19\n", "record": {"elapsed": {"repr": "0:01:46.852270", "seconds": 106.85227}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=211979.19, today=211979.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.854245+05:30", "timestamp": 1755781222.854245}}}
{"text": "2025-08-21 18:30:22.854 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=370631.14, today=370631.14\n", "record": {"elapsed": {"repr": "0:01:46.852891", "seconds": 106.852891}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=370631.14, today=370631.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.854866+05:30", "timestamp": 1755781222.854866}}}
{"text": "2025-08-21 18:30:22.855 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1355479.73, day: -1355479.73\n", "record": {"elapsed": {"repr": "0:01:46.853659", "seconds": 106.853659}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1355479.73, day: -1355479.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.855634+05:30", "timestamp": 1755781222.855634}}}
{"text": "2025-08-21 18:30:22.856 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:46.854694", "seconds": 106.854694}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.856669+05:30", "timestamp": 1755781222.856669}}}
{"text": "2025-08-21 18:30:22.857 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:46.855468", "seconds": 106.855468}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.857443+05:30", "timestamp": 1755781222.857443}}}
{"text": "2025-08-21 18:30:22.858 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:46.856174", "seconds": 106.856174}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.858149+05:30", "timestamp": 1755781222.858149}}}
{"text": "2025-08-21 18:30:22.858 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:46.856981", "seconds": 106.856981}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.858956+05:30", "timestamp": 1755781222.858956}}}
{"text": "2025-08-21 18:30:22.859 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:22.851917+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:46.857787", "seconds": 106.857787}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:22.851917+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.859762+05:30", "timestamp": 1755781222.859762}}}
{"text": "2025-08-21 18:30:22.860 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1355479.73, day=-1355479.73, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1388.67, unrealized=-942870.66, today_pnl=-942870.66), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=444.37, unrealized=947001.45, today_pnl=947001.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=702.15, unrealized=-1942220.85, today_pnl=-1942220.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=548.61, unrealized=211979.19, today_pnl=211979.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2368.63, unrealized=370631.14, today_pnl=370631.14)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 22, 851917, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:46.858903", "seconds": 106.858903}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1355479.73, day=-1355479.73, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1388.67, unrealized=-942870.66, today_pnl=-942870.66), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=444.37, unrealized=947001.45, today_pnl=947001.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=702.15, unrealized=-1942220.85, today_pnl=-1942220.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=548.61, unrealized=211979.19, today_pnl=211979.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2368.63, unrealized=370631.14, today_pnl=370631.14)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 22, 851917, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.860878+05:30", "timestamp": 1755781222.860878}}}
{"text": "2025-08-21 18:30:22.863 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1355479.73, day=-1355479.73, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1388.67, unrealized=-942870.66, today_pnl=-942870.66), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=444.37, unrealized=947001.45, today_pnl=947001.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=702.15, unrealized=-1942220.85, today_pnl=-1942220.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=548.61, unrealized=211979.19, today_pnl=211979.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2368.63, unrealized=370631.14, today_pnl=370631.14)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 22, 851917, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:46.861165", "seconds": 106.861165}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1355479.73, day=-1355479.73, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1388.67, unrealized=-942870.66, today_pnl=-942870.66), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=444.37, unrealized=947001.45, today_pnl=947001.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=702.15, unrealized=-1942220.85, today_pnl=-1942220.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=548.61, unrealized=211979.19, today_pnl=211979.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2368.63, unrealized=370631.14, today_pnl=370631.14)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 22, 851917, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.863140+05:30", "timestamp": 1755781222.86314}}}
{"text": "2025-08-21 18:30:22.865 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1355479.73\n", "record": {"elapsed": {"repr": "0:01:46.863161", "seconds": 106.863161}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1355479.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.865136+05:30", "timestamp": 1755781222.865136}}}
{"text": "2025-08-21 18:30:22.866 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=140\n", "record": {"elapsed": {"repr": "0:01:46.864707", "seconds": 106.864707}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=140", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.866682+05:30", "timestamp": 1755781222.866682}}}
{"text": "2025-08-21 18:30:22.868 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=141\n", "record": {"elapsed": {"repr": "0:01:46.866446", "seconds": 106.866446}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=141", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:22.868421+05:30", "timestamp": 1755781222.868421}}}
{"text": "2025-08-21 18:30:24.628 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:48.626953", "seconds": 108.626953}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.628928+05:30", "timestamp": 1755781224.628928}}}
{"text": "2025-08-21 18:30:24.631 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:48.629131", "seconds": 108.629131}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.631106+05:30", "timestamp": 1755781224.631106}}}
{"text": "2025-08-21 18:30:24.632 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-942870.66, today=-942870.66\n", "record": {"elapsed": {"repr": "0:01:48.630368", "seconds": 108.630368}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-942870.66, today=-942870.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.632343+05:30", "timestamp": 1755781224.632343}}}
{"text": "2025-08-21 18:30:24.633 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=947001.45, today=947001.45\n", "record": {"elapsed": {"repr": "0:01:48.631663", "seconds": 108.631663}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=947001.45, today=947001.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.633638+05:30", "timestamp": 1755781224.633638}}}
{"text": "2025-08-21 18:30:24.635 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1942220.85, today=-1942220.85\n", "record": {"elapsed": {"repr": "0:01:48.633262", "seconds": 108.633262}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1942220.85, today=-1942220.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.635237+05:30", "timestamp": 1755781224.635237}}}
{"text": "2025-08-21 18:30:24.636 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=211979.19, today=211979.19\n", "record": {"elapsed": {"repr": "0:01:48.634719", "seconds": 108.634719}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=211979.19, today=211979.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.636694+05:30", "timestamp": 1755781224.636694}}}
{"text": "2025-08-21 18:30:24.638 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=370631.14, today=370631.14\n", "record": {"elapsed": {"repr": "0:01:48.636877", "seconds": 108.636877}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=370631.14, today=370631.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.638852+05:30", "timestamp": 1755781224.638852}}}
{"text": "2025-08-21 18:30:24.640 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1355479.73, day: -1355479.73\n", "record": {"elapsed": {"repr": "0:01:48.638532", "seconds": 108.638532}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1355479.73, day: -1355479.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.640507+05:30", "timestamp": 1755781224.640507}}}
{"text": "2025-08-21 18:30:24.641 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:48.639586", "seconds": 108.639586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.641561+05:30", "timestamp": 1755781224.641561}}}
{"text": "2025-08-21 18:30:24.642 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:48.640473", "seconds": 108.640473}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.642448+05:30", "timestamp": 1755781224.642448}}}
{"text": "2025-08-21 18:30:24.644 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:48.642853", "seconds": 108.642853}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.644828+05:30", "timestamp": 1755781224.644828}}}
{"text": "2025-08-21 18:30:24.645 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:48.643841", "seconds": 108.643841}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.645816+05:30", "timestamp": 1755781224.645816}}}
{"text": "2025-08-21 18:30:24.646 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:24.632128+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:48.644551", "seconds": 108.644551}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:24.632128+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.646526+05:30", "timestamp": 1755781224.646526}}}
{"text": "2025-08-21 18:30:24.647 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1355479.73, day=-1355479.73, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1388.67, unrealized=-942870.66, today_pnl=-942870.66), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=444.37, unrealized=947001.45, today_pnl=947001.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=702.15, unrealized=-1942220.85, today_pnl=-1942220.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=548.61, unrealized=211979.19, today_pnl=211979.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2368.63, unrealized=370631.14, today_pnl=370631.14)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 24, 632128, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:48.645589", "seconds": 108.645589}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1355479.73, day=-1355479.73, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1388.67, unrealized=-942870.66, today_pnl=-942870.66), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=444.37, unrealized=947001.45, today_pnl=947001.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=702.15, unrealized=-1942220.85, today_pnl=-1942220.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=548.61, unrealized=211979.19, today_pnl=211979.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2368.63, unrealized=370631.14, today_pnl=370631.14)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 24, 632128, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.647564+05:30", "timestamp": 1755781224.647564}}}
{"text": "2025-08-21 18:30:24.649 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1355479.73, day=-1355479.73, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1388.67, unrealized=-942870.66, today_pnl=-942870.66), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=444.37, unrealized=947001.45, today_pnl=947001.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=702.15, unrealized=-1942220.85, today_pnl=-1942220.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=548.61, unrealized=211979.19, today_pnl=211979.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2368.63, unrealized=370631.14, today_pnl=370631.14)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 24, 632128, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:48.647212", "seconds": 108.647212}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1355479.73, day=-1355479.73, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1388.67, unrealized=-942870.66, today_pnl=-942870.66), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=444.37, unrealized=947001.45, today_pnl=947001.45), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=702.15, unrealized=-1942220.85, today_pnl=-1942220.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=548.61, unrealized=211979.19, today_pnl=211979.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2368.63, unrealized=370631.14, today_pnl=370631.14)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 24, 632128, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.649187+05:30", "timestamp": 1755781224.649187}}}
{"text": "2025-08-21 18:30:24.650 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1355479.73\n", "record": {"elapsed": {"repr": "0:01:48.648607", "seconds": 108.648607}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1355479.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.650582+05:30", "timestamp": 1755781224.650582}}}
{"text": "2025-08-21 18:30:24.652 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=142\n", "record": {"elapsed": {"repr": "0:01:48.650280", "seconds": 108.65028}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=142", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:24.652255+05:30", "timestamp": 1755781224.652255}}}
{"text": "2025-08-21 18:30:24.748 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:48.746859", "seconds": 108.746859}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:24.748834+05:30", "timestamp": 1755781224.748834}}}
{"text": "2025-08-21 18:30:24.750 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:48.748110", "seconds": 108.74811}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:24.750085+05:30", "timestamp": 1755781224.750085}}}
{"text": "2025-08-21 18:30:24.751 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:48.749878", "seconds": 108.749878}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:24.751853+05:30", "timestamp": 1755781224.751853}}}
{"text": "2025-08-21 18:30:24.753 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:48.751221", "seconds": 108.751221}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:24.753196+05:30", "timestamp": 1755781224.753196}}}
{"text": "2025-08-21 18:30:24.754 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:48.752101", "seconds": 108.752101}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:24.754076+05:30", "timestamp": 1755781224.754076}}}
{"text": "2025-08-21 18:30:24.754 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:48.752872", "seconds": 108.752872}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:24.754847+05:30", "timestamp": 1755781224.754847}}}
{"text": "2025-08-21 18:30:24.756 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:48.754746", "seconds": 108.754746}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:24.756721+05:30", "timestamp": 1755781224.756721}}}
{"text": "2025-08-21 18:30:24.757 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:48.755669", "seconds": 108.755669}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:24.757644+05:30", "timestamp": 1755781224.757644}}}
{"text": "2025-08-21 18:30:24.758 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:48.757021", "seconds": 108.757021}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:24.758996+05:30", "timestamp": 1755781224.758996}}}
{"text": "2025-08-21 18:30:24.760 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:48.758301", "seconds": 108.758301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:24.760276+05:30", "timestamp": 1755781224.760276}}}
{"text": "2025-08-21 18:30:26.050 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.048821", "seconds": 110.048821}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.050796+05:30", "timestamp": 1755781226.050796}}}
{"text": "2025-08-21 18:30:26.081 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.079298", "seconds": 110.079298}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.081273+05:30", "timestamp": 1755781226.081273}}}
{"text": "2025-08-21 18:30:26.082 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.080683", "seconds": 110.080683}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.082658+05:30", "timestamp": 1755781226.082658}}}
{"text": "2025-08-21 18:30:26.086 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.084642", "seconds": 110.084642}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.086617+05:30", "timestamp": 1755781226.086617}}}
{"text": "2025-08-21 18:30:26.088 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.086395", "seconds": 110.086395}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.088370+05:30", "timestamp": 1755781226.08837}}}
{"text": "2025-08-21 18:30:26.090 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.088314", "seconds": 110.088314}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.090289+05:30", "timestamp": 1755781226.090289}}}
{"text": "2025-08-21 18:30:26.092 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.090675", "seconds": 110.090675}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.092650+05:30", "timestamp": 1755781226.09265}}}
{"text": "2025-08-21 18:30:26.095 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.093867", "seconds": 110.093867}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.095842+05:30", "timestamp": 1755781226.095842}}}
{"text": "2025-08-21 18:30:26.105 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.103638", "seconds": 110.103638}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.105613+05:30", "timestamp": 1755781226.105613}}}
{"text": "2025-08-21 18:30:26.140 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.138483", "seconds": 110.138483}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.140458+05:30", "timestamp": 1755781226.140458}}}
{"text": "2025-08-21 18:30:26.141 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.139588", "seconds": 110.139588}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.141563+05:30", "timestamp": 1755781226.141563}}}
{"text": "2025-08-21 18:30:26.142 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.140945", "seconds": 110.140945}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.142920+05:30", "timestamp": 1755781226.14292}}}
{"text": "2025-08-21 18:30:26.144 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.142770", "seconds": 110.14277}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.144745+05:30", "timestamp": 1755781226.144745}}}
{"text": "2025-08-21 18:30:26.147 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.145588", "seconds": 110.145588}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.147563+05:30", "timestamp": 1755781226.147563}}}
{"text": "2025-08-21 18:30:26.149 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.147032", "seconds": 110.147032}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.149007+05:30", "timestamp": 1755781226.149007}}}
{"text": "2025-08-21 18:30:26.150 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.148347", "seconds": 110.148347}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.150322+05:30", "timestamp": 1755781226.150322}}}
{"text": "2025-08-21 18:30:26.151 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.149911", "seconds": 110.149911}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.151886+05:30", "timestamp": 1755781226.151886}}}
{"text": "2025-08-21 18:30:26.153 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.151153", "seconds": 110.151153}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.153128+05:30", "timestamp": 1755781226.153128}}}
{"text": "2025-08-21 18:30:26.171 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.169765", "seconds": 110.169765}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.171740+05:30", "timestamp": 1755781226.17174}}}
{"text": "2025-08-21 18:30:26.172 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.170600", "seconds": 110.1706}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.172575+05:30", "timestamp": 1755781226.172575}}}
{"text": "2025-08-21 18:30:26.173 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.171488", "seconds": 110.171488}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.173463+05:30", "timestamp": 1755781226.173463}}}
{"text": "2025-08-21 18:30:26.174 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.172322", "seconds": 110.172322}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.174297+05:30", "timestamp": 1755781226.174297}}}
{"text": "2025-08-21 18:30:26.175 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.173197", "seconds": 110.173197}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.175172+05:30", "timestamp": 1755781226.175172}}}
{"text": "2025-08-21 18:30:26.176 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.174107", "seconds": 110.174107}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.176082+05:30", "timestamp": 1755781226.176082}}}
{"text": "2025-08-21 18:30:26.177 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.175164", "seconds": 110.175164}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.177139+05:30", "timestamp": 1755781226.177139}}}
{"text": "2025-08-21 18:30:26.180 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.178969", "seconds": 110.178969}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.180944+05:30", "timestamp": 1755781226.180944}}}
{"text": "2025-08-21 18:30:26.182 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.180058", "seconds": 110.180058}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.182033+05:30", "timestamp": 1755781226.182033}}}
{"text": "2025-08-21 18:30:26.183 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.181031", "seconds": 110.181031}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.183006+05:30", "timestamp": 1755781226.183006}}}
{"text": "2025-08-21 18:30:26.184 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.182287", "seconds": 110.182287}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.184262+05:30", "timestamp": 1755781226.184262}}}
{"text": "2025-08-21 18:30:26.185 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.183243", "seconds": 110.183243}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.185218+05:30", "timestamp": 1755781226.185218}}}
{"text": "2025-08-21 18:30:26.186 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.184040", "seconds": 110.18404}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.186015+05:30", "timestamp": 1755781226.186015}}}
{"text": "2025-08-21 18:30:26.186 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.184749", "seconds": 110.184749}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.186724+05:30", "timestamp": 1755781226.186724}}}
{"text": "2025-08-21 18:30:26.188 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.186223", "seconds": 110.186223}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.188198+05:30", "timestamp": 1755781226.188198}}}
{"text": "2025-08-21 18:30:26.189 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.187447", "seconds": 110.187447}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.189422+05:30", "timestamp": 1755781226.189422}}}
{"text": "2025-08-21 18:30:26.190 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.188130", "seconds": 110.18813}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.190105+05:30", "timestamp": 1755781226.190105}}}
{"text": "2025-08-21 18:30:26.190 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.188790", "seconds": 110.18879}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.190765+05:30", "timestamp": 1755781226.190765}}}
{"text": "2025-08-21 18:30:26.191 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.189816", "seconds": 110.189816}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.191791+05:30", "timestamp": 1755781226.191791}}}
{"text": "2025-08-21 18:30:26.192 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.190671", "seconds": 110.190671}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.192646+05:30", "timestamp": 1755781226.192646}}}
{"text": "2025-08-21 18:30:26.193 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.191406", "seconds": 110.191406}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.193381+05:30", "timestamp": 1755781226.193381}}}
{"text": "2025-08-21 18:30:26.194 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.192223", "seconds": 110.192223}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.194198+05:30", "timestamp": 1755781226.194198}}}
{"text": "2025-08-21 18:30:26.195 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.193836", "seconds": 110.193836}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.195811+05:30", "timestamp": 1755781226.195811}}}
{"text": "2025-08-21 18:30:26.197 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.195193", "seconds": 110.195193}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.197168+05:30", "timestamp": 1755781226.197168}}}
{"text": "2025-08-21 18:30:26.198 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.196097", "seconds": 110.196097}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.198072+05:30", "timestamp": 1755781226.198072}}}
{"text": "2025-08-21 18:30:26.198 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.196949", "seconds": 110.196949}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.198924+05:30", "timestamp": 1755781226.198924}}}
{"text": "2025-08-21 18:30:26.216 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.214498", "seconds": 110.214498}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.216473+05:30", "timestamp": 1755781226.216473}}}
{"text": "2025-08-21 18:30:26.218 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.216195", "seconds": 110.216195}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.218170+05:30", "timestamp": 1755781226.21817}}}
{"text": "2025-08-21 18:30:26.219 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.217505", "seconds": 110.217505}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.219480+05:30", "timestamp": 1755781226.21948}}}
{"text": "2025-08-21 18:30:26.221 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.219323", "seconds": 110.219323}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.221298+05:30", "timestamp": 1755781226.221298}}}
{"text": "2025-08-21 18:30:26.223 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.221999", "seconds": 110.221999}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.223974+05:30", "timestamp": 1755781226.223974}}}
{"text": "2025-08-21 18:30:26.226 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.224665", "seconds": 110.224665}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.226640+05:30", "timestamp": 1755781226.22664}}}
{"text": "2025-08-21 18:30:26.229 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.227387", "seconds": 110.227387}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.229362+05:30", "timestamp": 1755781226.229362}}}
{"text": "2025-08-21 18:30:26.231 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.229040", "seconds": 110.22904}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.231015+05:30", "timestamp": 1755781226.231015}}}
{"text": "2025-08-21 18:30:26.233 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.231675", "seconds": 110.231675}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.233650+05:30", "timestamp": 1755781226.23365}}}
{"text": "2025-08-21 18:30:26.234 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.232900", "seconds": 110.2329}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.234875+05:30", "timestamp": 1755781226.234875}}}
{"text": "2025-08-21 18:30:26.236 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.234257", "seconds": 110.234257}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.236232+05:30", "timestamp": 1755781226.236232}}}
{"text": "2025-08-21 18:30:26.238 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.236841", "seconds": 110.236841}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.238816+05:30", "timestamp": 1755781226.238816}}}
{"text": "2025-08-21 18:30:26.239 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.237917", "seconds": 110.237917}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.239892+05:30", "timestamp": 1755781226.239892}}}
{"text": "2025-08-21 18:30:26.244 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.242172", "seconds": 110.242172}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.244147+05:30", "timestamp": 1755781226.244147}}}
{"text": "2025-08-21 18:30:26.246 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.244974", "seconds": 110.244974}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.246949+05:30", "timestamp": 1755781226.246949}}}
{"text": "2025-08-21 18:30:26.248 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.246360", "seconds": 110.24636}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.248335+05:30", "timestamp": 1755781226.248335}}}
{"text": "2025-08-21 18:30:26.249 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.247311", "seconds": 110.247311}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.249286+05:30", "timestamp": 1755781226.249286}}}
{"text": "2025-08-21 18:30:26.250 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.248655", "seconds": 110.248655}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.250630+05:30", "timestamp": 1755781226.25063}}}
{"text": "2025-08-21 18:30:26.251 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.249669", "seconds": 110.249669}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.251644+05:30", "timestamp": 1755781226.251644}}}
{"text": "2025-08-21 18:30:26.252 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.250656", "seconds": 110.250656}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.252631+05:30", "timestamp": 1755781226.252631}}}
{"text": "2025-08-21 18:30:26.254 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.252917", "seconds": 110.252917}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.254892+05:30", "timestamp": 1755781226.254892}}}
{"text": "2025-08-21 18:30:26.256 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.254421", "seconds": 110.254421}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.256396+05:30", "timestamp": 1755781226.256396}}}
{"text": "2025-08-21 18:30:26.257 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.255624", "seconds": 110.255624}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.257599+05:30", "timestamp": 1755781226.257599}}}
{"text": "2025-08-21 18:30:26.258 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.256959", "seconds": 110.256959}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.258934+05:30", "timestamp": 1755781226.258934}}}
{"text": "2025-08-21 18:30:26.260 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.258234", "seconds": 110.258234}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.260209+05:30", "timestamp": 1755781226.260209}}}
{"text": "2025-08-21 18:30:26.262 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.260174", "seconds": 110.260174}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.262149+05:30", "timestamp": 1755781226.262149}}}
{"text": "2025-08-21 18:30:26.263 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.261201", "seconds": 110.261201}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.263176+05:30", "timestamp": 1755781226.263176}}}
{"text": "2025-08-21 18:30:26.264 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.262109", "seconds": 110.262109}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.264084+05:30", "timestamp": 1755781226.264084}}}
{"text": "2025-08-21 18:30:26.264 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.262984", "seconds": 110.262984}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.264959+05:30", "timestamp": 1755781226.264959}}}
{"text": "2025-08-21 18:30:26.265 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.263655", "seconds": 110.263655}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.265630+05:30", "timestamp": 1755781226.26563}}}
{"text": "2025-08-21 18:30:26.266 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.264302", "seconds": 110.264302}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.266277+05:30", "timestamp": 1755781226.266277}}}
{"text": "2025-08-21 18:30:26.267 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.265084", "seconds": 110.265084}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.267059+05:30", "timestamp": 1755781226.267059}}}
{"text": "2025-08-21 18:30:26.267 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.265972", "seconds": 110.265972}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.267947+05:30", "timestamp": 1755781226.267947}}}
{"text": "2025-08-21 18:30:26.268 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.266728", "seconds": 110.266728}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.268703+05:30", "timestamp": 1755781226.268703}}}
{"text": "2025-08-21 18:30:26.269 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.267624", "seconds": 110.267624}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.269599+05:30", "timestamp": 1755781226.269599}}}
{"text": "2025-08-21 18:30:26.270 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.268384", "seconds": 110.268384}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.270359+05:30", "timestamp": 1755781226.270359}}}
{"text": "2025-08-21 18:30:26.271 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.269127", "seconds": 110.269127}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.271102+05:30", "timestamp": 1755781226.271102}}}
{"text": "2025-08-21 18:30:26.271 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.269830", "seconds": 110.26983}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.271805+05:30", "timestamp": 1755781226.271805}}}
{"text": "2025-08-21 18:30:26.272 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.270909", "seconds": 110.270909}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.272884+05:30", "timestamp": 1755781226.272884}}}
{"text": "2025-08-21 18:30:26.274 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.272194", "seconds": 110.272194}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.274169+05:30", "timestamp": 1755781226.274169}}}
{"text": "2025-08-21 18:30:26.275 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.273282", "seconds": 110.273282}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.275257+05:30", "timestamp": 1755781226.275257}}}
{"text": "2025-08-21 18:30:26.276 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.274635", "seconds": 110.274635}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.276610+05:30", "timestamp": 1755781226.27661}}}
{"text": "2025-08-21 18:30:26.280 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.278064", "seconds": 110.278064}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.280039+05:30", "timestamp": 1755781226.280039}}}
{"text": "2025-08-21 18:30:26.282 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.280148", "seconds": 110.280148}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.282123+05:30", "timestamp": 1755781226.282123}}}
{"text": "2025-08-21 18:30:26.283 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.281249", "seconds": 110.281249}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.283224+05:30", "timestamp": 1755781226.283224}}}
{"text": "2025-08-21 18:30:26.284 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.282787", "seconds": 110.282787}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.284762+05:30", "timestamp": 1755781226.284762}}}
{"text": "2025-08-21 18:30:26.285 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.283788", "seconds": 110.283788}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.285763+05:30", "timestamp": 1755781226.285763}}}
{"text": "2025-08-21 18:30:26.286 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.284884", "seconds": 110.284884}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.286859+05:30", "timestamp": 1755781226.286859}}}
{"text": "2025-08-21 18:30:26.288 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.286031", "seconds": 110.286031}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.288006+05:30", "timestamp": 1755781226.288006}}}
{"text": "2025-08-21 18:30:26.289 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.287543", "seconds": 110.287543}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.289518+05:30", "timestamp": 1755781226.289518}}}
{"text": "2025-08-21 18:30:26.290 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.288694", "seconds": 110.288694}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.290669+05:30", "timestamp": 1755781226.290669}}}
{"text": "2025-08-21 18:30:26.291 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.289481", "seconds": 110.289481}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.291456+05:30", "timestamp": 1755781226.291456}}}
{"text": "2025-08-21 18:30:26.292 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.290301", "seconds": 110.290301}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.292276+05:30", "timestamp": 1755781226.292276}}}
{"text": "2025-08-21 18:30:26.293 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.291223", "seconds": 110.291223}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.293198+05:30", "timestamp": 1755781226.293198}}}
{"text": "2025-08-21 18:30:26.294 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.292441", "seconds": 110.292441}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.294416+05:30", "timestamp": 1755781226.294416}}}
{"text": "2025-08-21 18:30:26.295 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.293729", "seconds": 110.293729}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.295704+05:30", "timestamp": 1755781226.295704}}}
{"text": "2025-08-21 18:30:26.296 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.294644", "seconds": 110.294644}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.296619+05:30", "timestamp": 1755781226.296619}}}
{"text": "2025-08-21 18:30:26.301 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.299765", "seconds": 110.299765}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.301740+05:30", "timestamp": 1755781226.30174}}}
{"text": "2025-08-21 18:30:26.302 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.300731", "seconds": 110.300731}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.302706+05:30", "timestamp": 1755781226.302706}}}
{"text": "2025-08-21 18:30:26.303 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.301947", "seconds": 110.301947}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.303922+05:30", "timestamp": 1755781226.303922}}}
{"text": "2025-08-21 18:30:26.305 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.304015", "seconds": 110.304015}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.305990+05:30", "timestamp": 1755781226.30599}}}
{"text": "2025-08-21 18:30:26.307 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.305277", "seconds": 110.305277}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.307252+05:30", "timestamp": 1755781226.307252}}}
{"text": "2025-08-21 18:30:26.308 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.306090", "seconds": 110.30609}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.308065+05:30", "timestamp": 1755781226.308065}}}
{"text": "2025-08-21 18:30:26.308 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.306992", "seconds": 110.306992}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.308967+05:30", "timestamp": 1755781226.308967}}}
{"text": "2025-08-21 18:30:26.310 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.308259", "seconds": 110.308259}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.310234+05:30", "timestamp": 1755781226.310234}}}
{"text": "2025-08-21 18:30:26.319 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:01:50.317281", "seconds": 110.317281}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.319256+05:30", "timestamp": 1755781226.319256}}}
{"text": "2025-08-21 18:30:26.329 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:50.327731", "seconds": 110.327731}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.329706+05:30", "timestamp": 1755781226.329706}}}
{"text": "2025-08-21 18:30:26.330 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:50.328316", "seconds": 110.328316}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.330291+05:30", "timestamp": 1755781226.330291}}}
{"text": "2025-08-21 18:30:26.331 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-942151.94, today=-942151.94\n", "record": {"elapsed": {"repr": "0:01:50.329035", "seconds": 110.329035}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-942151.94, today=-942151.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.331010+05:30", "timestamp": 1755781226.33101}}}
{"text": "2025-08-21 18:30:26.331 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=946463.47, today=946463.47\n", "record": {"elapsed": {"repr": "0:01:50.329656", "seconds": 110.329656}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=946463.47, today=946463.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.331631+05:30", "timestamp": 1755781226.331631}}}
{"text": "2025-08-21 18:30:26.332 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1924127.07, today=-1924127.07\n", "record": {"elapsed": {"repr": "0:01:50.330255", "seconds": 110.330255}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1924127.07, today=-1924127.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.332230+05:30", "timestamp": 1755781226.33223}}}
{"text": "2025-08-21 18:30:26.332 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=208416.74, today=208416.74\n", "record": {"elapsed": {"repr": "0:01:50.330931", "seconds": 110.330931}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=208416.74, today=208416.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.332906+05:30", "timestamp": 1755781226.332906}}}
{"text": "2025-08-21 18:30:26.333 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=370403.41, today=370403.41\n", "record": {"elapsed": {"repr": "0:01:50.331622", "seconds": 110.331622}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=370403.41, today=370403.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.333597+05:30", "timestamp": 1755781226.333597}}}
{"text": "2025-08-21 18:30:26.334 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1340995.39, day: -1340995.39\n", "record": {"elapsed": {"repr": "0:01:50.332109", "seconds": 110.332109}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1340995.39, day: -1340995.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.334084+05:30", "timestamp": 1755781226.334084}}}
{"text": "2025-08-21 18:30:26.334 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:50.332675", "seconds": 110.332675}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.334650+05:30", "timestamp": 1755781226.33465}}}
{"text": "2025-08-21 18:30:26.335 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:50.333327", "seconds": 110.333327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.335302+05:30", "timestamp": 1755781226.335302}}}
{"text": "2025-08-21 18:30:26.335 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:50.333910", "seconds": 110.33391}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.335885+05:30", "timestamp": 1755781226.335885}}}
{"text": "2025-08-21 18:30:26.336 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:50.334634", "seconds": 110.334634}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.336609+05:30", "timestamp": 1755781226.336609}}}
{"text": "2025-08-21 18:30:26.337 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:26.330914+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:50.335302", "seconds": 110.335302}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:26.330914+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.337277+05:30", "timestamp": 1755781226.337277}}}
{"text": "2025-08-21 18:30:26.338 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1340995.39, day=-1340995.39, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1389.13, unrealized=-942151.94, today_pnl=-942151.94), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=445.24, unrealized=946463.47, today_pnl=946463.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=712.74, unrealized=-1924127.07, today_pnl=-1924127.07), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=553.72, unrealized=208416.74, today_pnl=208416.74), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2367.73, unrealized=370403.41, today_pnl=370403.41)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 26, 330914, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:50.336056", "seconds": 110.336056}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1340995.39, day=-1340995.39, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1389.13, unrealized=-942151.94, today_pnl=-942151.94), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=445.24, unrealized=946463.47, today_pnl=946463.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=712.74, unrealized=-1924127.07, today_pnl=-1924127.07), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=553.72, unrealized=208416.74, today_pnl=208416.74), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2367.73, unrealized=370403.41, today_pnl=370403.41)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 26, 330914, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.338031+05:30", "timestamp": 1755781226.338031}}}
{"text": "2025-08-21 18:30:26.338 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1340995.39, day=-1340995.39, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1389.13, unrealized=-942151.94, today_pnl=-942151.94), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=445.24, unrealized=946463.47, today_pnl=946463.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=712.74, unrealized=-1924127.07, today_pnl=-1924127.07), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=553.72, unrealized=208416.74, today_pnl=208416.74), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2367.73, unrealized=370403.41, today_pnl=370403.41)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 26, 330914, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:50.336931", "seconds": 110.336931}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1340995.39, day=-1340995.39, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1389.13, unrealized=-942151.94, today_pnl=-942151.94), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=445.24, unrealized=946463.47, today_pnl=946463.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=712.74, unrealized=-1924127.07, today_pnl=-1924127.07), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=553.72, unrealized=208416.74, today_pnl=208416.74), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2367.73, unrealized=370403.41, today_pnl=370403.41)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 26, 330914, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.338906+05:30", "timestamp": 1755781226.338906}}}
{"text": "2025-08-21 18:30:26.339 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1340995.39\n", "record": {"elapsed": {"repr": "0:01:50.337632", "seconds": 110.337632}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1340995.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.339607+05:30", "timestamp": 1755781226.339607}}}
{"text": "2025-08-21 18:30:26.340 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=143\n", "record": {"elapsed": {"repr": "0:01:50.338335", "seconds": 110.338335}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=143", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.340310+05:30", "timestamp": 1755781226.34031}}}
{"text": "2025-08-21 18:30:26.341 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=144\n", "record": {"elapsed": {"repr": "0:01:50.339032", "seconds": 110.339032}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=144", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:26.341007+05:30", "timestamp": 1755781226.341007}}}
{"text": "2025-08-21 18:30:26.763 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:50.761121", "seconds": 110.761121}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:26.763096+05:30", "timestamp": 1755781226.763096}}}
{"text": "2025-08-21 18:30:26.763 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:50.761917", "seconds": 110.761917}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:26.763892+05:30", "timestamp": 1755781226.763892}}}
{"text": "2025-08-21 18:30:26.764 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:50.762452", "seconds": 110.762452}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:26.764427+05:30", "timestamp": 1755781226.764427}}}
{"text": "2025-08-21 18:30:26.765 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:50.763126", "seconds": 110.763126}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:26.765101+05:30", "timestamp": 1755781226.765101}}}
{"text": "2025-08-21 18:30:26.765 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:50.763693", "seconds": 110.763693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:26.765668+05:30", "timestamp": 1755781226.765668}}}
{"text": "2025-08-21 18:30:26.766 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:50.764228", "seconds": 110.764228}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:26.766203+05:30", "timestamp": 1755781226.766203}}}
{"text": "2025-08-21 18:30:26.766 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:50.764866", "seconds": 110.764866}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:26.766841+05:30", "timestamp": 1755781226.766841}}}
{"text": "2025-08-21 18:30:26.767 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:50.765399", "seconds": 110.765399}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:26.767374+05:30", "timestamp": 1755781226.767374}}}
{"text": "2025-08-21 18:30:26.767 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:50.765921", "seconds": 110.765921}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:26.767896+05:30", "timestamp": 1755781226.767896}}}
{"text": "2025-08-21 18:30:26.768 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:50.766459", "seconds": 110.766459}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:26.768434+05:30", "timestamp": 1755781226.768434}}}
{"text": "2025-08-21 18:30:28.336 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:52.334180", "seconds": 112.33418}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.336155+05:30", "timestamp": 1755781228.336155}}}
{"text": "2025-08-21 18:30:28.336 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:52.334964", "seconds": 112.334964}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.336939+05:30", "timestamp": 1755781228.336939}}}
{"text": "2025-08-21 18:30:28.340 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-953677.96, today=-953677.96\n", "record": {"elapsed": {"repr": "0:01:52.338734", "seconds": 112.338734}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-953677.96, today=-953677.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.340709+05:30", "timestamp": 1755781228.340709}}}
{"text": "2025-08-21 18:30:28.352 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=950470.49, today=950470.49\n", "record": {"elapsed": {"repr": "0:01:52.350631", "seconds": 112.350631}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=950470.49, today=950470.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.352606+05:30", "timestamp": 1755781228.352606}}}
{"text": "2025-08-21 18:30:28.355 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1943889.67, today=-1943889.67\n", "record": {"elapsed": {"repr": "0:01:52.353610", "seconds": 112.35361}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1943889.67, today=-1943889.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.355585+05:30", "timestamp": 1755781228.355585}}}
{"text": "2025-08-21 18:30:28.361 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=213446.16, today=213446.16\n", "record": {"elapsed": {"repr": "0:01:52.359621", "seconds": 112.359621}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=213446.16, today=213446.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.361596+05:30", "timestamp": 1755781228.361596}}}
{"text": "2025-08-21 18:30:28.370 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=364946.92, today=364946.92\n", "record": {"elapsed": {"repr": "0:01:52.368162", "seconds": 112.368162}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=364946.92, today=364946.92", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.370137+05:30", "timestamp": 1755781228.370137}}}
{"text": "2025-08-21 18:30:28.374 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1368704.06, day: -1368704.06\n", "record": {"elapsed": {"repr": "0:01:52.372210", "seconds": 112.37221}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1368704.06, day: -1368704.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.374185+05:30", "timestamp": 1755781228.374185}}}
{"text": "2025-08-21 18:30:28.380 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:52.378346", "seconds": 112.378346}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.380321+05:30", "timestamp": 1755781228.380321}}}
{"text": "2025-08-21 18:30:28.390 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:52.388974", "seconds": 112.388974}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.390949+05:30", "timestamp": 1755781228.390949}}}
{"text": "2025-08-21 18:30:28.402 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:52.400233", "seconds": 112.400233}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.402208+05:30", "timestamp": 1755781228.402208}}}
{"text": "2025-08-21 18:30:28.406 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:52.404622", "seconds": 112.404622}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.406597+05:30", "timestamp": 1755781228.406597}}}
{"text": "2025-08-21 18:30:28.410 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:28.340608+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:52.408515", "seconds": 112.408515}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:28.340608+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.410490+05:30", "timestamp": 1755781228.41049}}}
{"text": "2025-08-21 18:30:28.414 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1368704.06, day=-1368704.06, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1381.66, unrealized=-953677.96, today_pnl=-953677.96), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=438.71, unrealized=950470.49, today_pnl=950470.49), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=701.18, unrealized=-1943889.67, today_pnl=-1943889.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=546.5, unrealized=213446.16, today_pnl=213446.16), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2346.33, unrealized=364946.92, today_pnl=364946.92)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 28, 340608, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:52.412827", "seconds": 112.412827}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1368704.06, day=-1368704.06, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1381.66, unrealized=-953677.96, today_pnl=-953677.96), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=438.71, unrealized=950470.49, today_pnl=950470.49), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=701.18, unrealized=-1943889.67, today_pnl=-1943889.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=546.5, unrealized=213446.16, today_pnl=213446.16), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2346.33, unrealized=364946.92, today_pnl=364946.92)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 28, 340608, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.414802+05:30", "timestamp": 1755781228.414802}}}
{"text": "2025-08-21 18:30:28.419 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1368704.06, day=-1368704.06, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1381.66, unrealized=-953677.96, today_pnl=-953677.96), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=438.71, unrealized=950470.49, today_pnl=950470.49), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=701.18, unrealized=-1943889.67, today_pnl=-1943889.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=546.5, unrealized=213446.16, today_pnl=213446.16), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2346.33, unrealized=364946.92, today_pnl=364946.92)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 28, 340608, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:52.417377", "seconds": 112.417377}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1368704.06, day=-1368704.06, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1381.66, unrealized=-953677.96, today_pnl=-953677.96), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=438.71, unrealized=950470.49, today_pnl=950470.49), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=701.18, unrealized=-1943889.67, today_pnl=-1943889.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=546.5, unrealized=213446.16, today_pnl=213446.16), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2346.33, unrealized=364946.92, today_pnl=364946.92)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 28, 340608, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.419352+05:30", "timestamp": 1755781228.419352}}}
{"text": "2025-08-21 18:30:28.427 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1368704.06\n", "record": {"elapsed": {"repr": "0:01:52.425319", "seconds": 112.425319}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1368704.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.427294+05:30", "timestamp": 1755781228.427294}}}
{"text": "2025-08-21 18:30:28.436 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=145\n", "record": {"elapsed": {"repr": "0:01:52.434325", "seconds": 112.434325}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=145", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.436300+05:30", "timestamp": 1755781228.4363}}}
{"text": "2025-08-21 18:30:28.452 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=146\n", "record": {"elapsed": {"repr": "0:01:52.450473", "seconds": 112.450473}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=146", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:28.452448+05:30", "timestamp": 1755781228.452448}}}
{"text": "2025-08-21 18:30:28.769 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:52.767495", "seconds": 112.767495}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:28.769470+05:30", "timestamp": 1755781228.76947}}}
{"text": "2025-08-21 18:30:28.770 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:52.768323", "seconds": 112.768323}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:28.770298+05:30", "timestamp": 1755781228.770298}}}
{"text": "2025-08-21 18:30:28.770 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:52.768981", "seconds": 112.768981}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:28.770956+05:30", "timestamp": 1755781228.770956}}}
{"text": "2025-08-21 18:30:28.771 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:52.769680", "seconds": 112.76968}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:28.771655+05:30", "timestamp": 1755781228.771655}}}
{"text": "2025-08-21 18:30:28.772 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:52.770490", "seconds": 112.77049}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:28.772465+05:30", "timestamp": 1755781228.772465}}}
{"text": "2025-08-21 18:30:28.773 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:52.771247", "seconds": 112.771247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:28.773222+05:30", "timestamp": 1755781228.773222}}}
{"text": "2025-08-21 18:30:28.774 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:52.772302", "seconds": 112.772302}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:28.774277+05:30", "timestamp": 1755781228.774277}}}
{"text": "2025-08-21 18:30:28.775 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:52.773543", "seconds": 112.773543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:28.775518+05:30", "timestamp": 1755781228.775518}}}
{"text": "2025-08-21 18:30:28.776 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:52.774323", "seconds": 112.774323}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:28.776298+05:30", "timestamp": 1755781228.776298}}}
{"text": "2025-08-21 18:30:28.777 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:52.775056", "seconds": 112.775056}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:28.777031+05:30", "timestamp": 1755781228.777031}}}
{"text": "2025-08-21 18:30:30.006 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:54.004405", "seconds": 114.004405}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.006380+05:30", "timestamp": 1755781230.00638}}}
{"text": "2025-08-21 18:30:30.007 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:54.005137", "seconds": 114.005137}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.007112+05:30", "timestamp": 1755781230.007112}}}
{"text": "2025-08-21 18:30:30.007 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-982640.32, today=-982640.32\n", "record": {"elapsed": {"repr": "0:01:54.005684", "seconds": 114.005684}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-982640.32, today=-982640.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.007659+05:30", "timestamp": 1755781230.007659}}}
{"text": "2025-08-21 18:30:30.008 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=955542.07, today=955542.07\n", "record": {"elapsed": {"repr": "0:01:54.006082", "seconds": 114.006082}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=955542.07, today=955542.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.008057+05:30", "timestamp": 1755781230.008057}}}
{"text": "2025-08-21 18:30:30.008 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1957232.29, today=-1957232.29\n", "record": {"elapsed": {"repr": "0:01:54.006522", "seconds": 114.006522}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1957232.29, today=-1957232.29", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.008497+05:30", "timestamp": 1755781230.008497}}}
{"text": "2025-08-21 18:30:30.008 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=207907.72, today=207907.72\n", "record": {"elapsed": {"repr": "0:01:54.006887", "seconds": 114.006887}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=207907.72, today=207907.72", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.008862+05:30", "timestamp": 1755781230.008862}}}
{"text": "2025-08-21 18:30:30.009 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=357065.05, today=357065.05\n", "record": {"elapsed": {"repr": "0:01:54.007301", "seconds": 114.007301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=357065.05, today=357065.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.009276+05:30", "timestamp": 1755781230.009276}}}
{"text": "2025-08-21 18:30:30.009 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1419357.77, day: -1419357.77\n", "record": {"elapsed": {"repr": "0:01:54.007720", "seconds": 114.00772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1419357.77, day: -1419357.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.009695+05:30", "timestamp": 1755781230.009695}}}
{"text": "2025-08-21 18:30:30.010 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:54.008078", "seconds": 114.008078}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.010053+05:30", "timestamp": 1755781230.010053}}}
{"text": "2025-08-21 18:30:30.010 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:54.008554", "seconds": 114.008554}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.010529+05:30", "timestamp": 1755781230.010529}}}
{"text": "2025-08-21 18:30:30.010 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:54.008919", "seconds": 114.008919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.010894+05:30", "timestamp": 1755781230.010894}}}
{"text": "2025-08-21 18:30:30.011 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:54.009243", "seconds": 114.009243}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.011218+05:30", "timestamp": 1755781230.011218}}}
{"text": "2025-08-21 18:30:30.011 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:30.007590+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:54.009598", "seconds": 114.009598}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:30:30.007590+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.011573+05:30", "timestamp": 1755781230.011573}}}
{"text": "2025-08-21 18:30:30.012 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1419357.77, day=-1419357.77, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1362.89, unrealized=-982640.32, today_pnl=-982640.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=430.43, unrealized=955542.07, today_pnl=955542.07), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=693.37, unrealized=-1957232.29, today_pnl=-1957232.29), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=554.45, unrealized=207907.72, today_pnl=207907.72), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2315.43, unrealized=357065.05, today_pnl=357065.05)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 30, 7590, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:54.010169", "seconds": 114.010169}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1419357.77, day=-1419357.77, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1362.89, unrealized=-982640.32, today_pnl=-982640.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=430.43, unrealized=955542.07, today_pnl=955542.07), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=693.37, unrealized=-1957232.29, today_pnl=-1957232.29), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=554.45, unrealized=207907.72, today_pnl=207907.72), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2315.43, unrealized=357065.05, today_pnl=357065.05)] updated_at=datetime.datetime(2025, 8, 21, 18, 30, 30, 7590, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.012144+05:30", "timestamp": 1755781230.012144}}}
{"text": "2025-08-21 18:30:30.012 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1419357.77, day=-1419357.77, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1362.89, unrealized=-982640.32, today_pnl=-982640.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=430.43, unrealized=955542.07, today_pnl=955542.07), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=693.37, unrealized=-1957232.29, today_pnl=-1957232.29), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=554.45, unrealized=207907.72, today_pnl=207907.72), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2315.43, unrealized=357065.05, today_pnl=357065.05)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 30, 7590, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:54.010894", "seconds": 114.010894}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1419357.77, day=-1419357.77, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1543, avg=1999.73, ltp=1362.89, unrealized=-982640.32, today_pnl=-982640.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=613, avg=1989.23, ltp=430.43, unrealized=955542.07, today_pnl=955542.07), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1709, avg=1838.62, ltp=693.37, unrealized=-1957232.29, today_pnl=-1957232.29), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=697, avg=852.74, ltp=554.45, unrealized=207907.72, today_pnl=207907.72), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=255, avg=915.17, ltp=2315.43, unrealized=357065.05, today_pnl=357065.05)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 30, 30, 7590, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.012869+05:30", "timestamp": 1755781230.012869}}}
{"text": "2025-08-21 18:30:30.013 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1419357.77\n", "record": {"elapsed": {"repr": "0:01:54.011641", "seconds": 114.011641}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1419357.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.013616+05:30", "timestamp": 1755781230.013616}}}
{"text": "2025-08-21 18:30:30.014 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=147\n", "record": {"elapsed": {"repr": "0:01:54.012277", "seconds": 114.012277}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=147", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.014252+05:30", "timestamp": 1755781230.014252}}}
{"text": "2025-08-21 18:30:30.022 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=148\n", "record": {"elapsed": {"repr": "0:01:54.020597", "seconds": 114.020597}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=148", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:30.022572+05:30", "timestamp": 1755781230.022572}}}
{"text": "2025-08-21 18:30:30.778 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:54.776075", "seconds": 114.776075}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:30.778050+05:30", "timestamp": 1755781230.77805}}}
{"text": "2025-08-21 18:30:30.778 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:54.776605", "seconds": 114.776605}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:30.778580+05:30", "timestamp": 1755781230.77858}}}
{"text": "2025-08-21 18:30:30.778 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:54.776938", "seconds": 114.776938}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:30.778913+05:30", "timestamp": 1755781230.778913}}}
{"text": "2025-08-21 18:30:30.779 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:54.777266", "seconds": 114.777266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:30.779241+05:30", "timestamp": 1755781230.779241}}}
{"text": "2025-08-21 18:30:30.779 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:54.777688", "seconds": 114.777688}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:30.779663+05:30", "timestamp": 1755781230.779663}}}
{"text": "2025-08-21 18:30:30.780 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:54.778098", "seconds": 114.778098}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:30.780073+05:30", "timestamp": 1755781230.780073}}}
{"text": "2025-08-21 18:30:30.780 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:54.778490", "seconds": 114.77849}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:30.780465+05:30", "timestamp": 1755781230.780465}}}
{"text": "2025-08-21 18:30:30.780 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:54.778974", "seconds": 114.778974}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:30.780949+05:30", "timestamp": 1755781230.780949}}}
{"text": "2025-08-21 18:30:30.781 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:54.779384", "seconds": 114.779384}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:30.781359+05:30", "timestamp": 1755781230.781359}}}
{"text": "2025-08-21 18:30:30.781 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:54.779727", "seconds": 114.779727}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 17632, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:30:30.781702+05:30", "timestamp": 1755781230.781702}}}
{"text": "2025-08-21 18:30:31.543 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:01:55.541428", "seconds": 115.541428}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:31.543403+05:30", "timestamp": 1755781231.543403}}}
{"text": "2025-08-21 18:30:31.544 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:01:55.542063", "seconds": 115.542063}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:31.544038+05:30", "timestamp": 1755781231.544038}}}
{"text": "2025-08-21 18:30:31.544 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:01:55.542472", "seconds": 115.542472}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 27596, "name": "MainProcess"}, "thread": {"id": 27316, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:30:31.544447+05:30", "timestamp": 1755781231.544447}}}
{"text": "2025-08-21 18:54:26.042 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.065022", "seconds": 0.065022}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.042104+05:30", "timestamp": 1755782666.042104}}}
{"text": "2025-08-21 18:54:26.042 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=2376, avg_price=170.03908158543265, ltp=194.49791319508162\n", "record": {"elapsed": {"repr": "0:00:00.065824", "seconds": 0.065824}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=2376, avg_price=170.03908158543265, ltp=194.49791319508162", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.042906+05:30", "timestamp": 1755782666.042906}}}
{"text": "2025-08-21 18:54:26.043 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=4303, avg_price=1638.9234289026872, ltp=1411.0113158015251\n", "record": {"elapsed": {"repr": "0:00:00.066365", "seconds": 0.066365}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=4303, avg_price=1638.9234289026872, ltp=1411.0113158015251", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.043447+05:30", "timestamp": 1755782666.043447}}}
{"text": "2025-08-21 18:54:26.044 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=2088, avg_price=1732.768479539259, ltp=1685.1609791378623\n", "record": {"elapsed": {"repr": "0:00:00.066941", "seconds": 0.066941}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=2088, avg_price=1732.768479539259, ltp=1685.1609791378623", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.044023+05:30", "timestamp": 1755782666.044023}}}
{"text": "2025-08-21 18:54:26.044 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=2874, avg_price=1656.9001245962802, ltp=1815.1122116036386\n", "record": {"elapsed": {"repr": "0:00:00.067768", "seconds": 0.067768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=2874, avg_price=1656.9001245962802, ltp=1815.1122116036386", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.044850+05:30", "timestamp": 1755782666.04485}}}
{"text": "2025-08-21 18:54:26.045 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=1878, avg_price=1697.4479563409213, ltp=1681.0889049185148\n", "record": {"elapsed": {"repr": "0:00:00.068359", "seconds": 0.068359}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=1878, avg_price=1697.4479563409213, ltp=1681.0889049185148", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.045441+05:30", "timestamp": 1755782666.045441}}}
{"text": "2025-08-21 18:54:26.045 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=191, avg_price=1439.3177219229383, ltp=1285.6031607318969\n", "record": {"elapsed": {"repr": "0:00:00.068767", "seconds": 0.068767}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=191, avg_price=1439.3177219229383, ltp=1285.6031607318969", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.045849+05:30", "timestamp": 1755782666.045849}}}
{"text": "2025-08-21 18:54:26.046 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=4738, avg_price=589.6324133411233, ltp=476.3822764288133\n", "record": {"elapsed": {"repr": "0:00:00.069288", "seconds": 0.069288}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=4738, avg_price=589.6324133411233, ltp=476.3822764288133", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.046370+05:30", "timestamp": 1755782666.04637}}}
{"text": "2025-08-21 18:54:26.046 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=4011, avg_price=1086.3938280097059, ltp=1294.6690996789919\n", "record": {"elapsed": {"repr": "0:00:00.069819", "seconds": 0.069819}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=4011, avg_price=1086.3938280097059, ltp=1294.6690996789919", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.046901+05:30", "timestamp": 1755782666.046901}}}
{"text": "2025-08-21 18:54:26.047 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=5000, avg_price=1132.3458871932385, ltp=1317.2302177805395\n", "record": {"elapsed": {"repr": "0:00:00.070487", "seconds": 0.070487}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=5000, avg_price=1132.3458871932385, ltp=1317.2302177805395", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.047569+05:30", "timestamp": 1755782666.047569}}}
{"text": "2025-08-21 18:54:26.048 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=3984, avg_price=1809.6932667854755, ltp=1623.798694813934\n", "record": {"elapsed": {"repr": "0:00:00.071645", "seconds": 0.071645}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=3984, avg_price=1809.6932667854755, ltp=1623.798694813934", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.048727+05:30", "timestamp": 1755782666.048727}}}
{"text": "2025-08-21 18:54:26.049 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.072398", "seconds": 0.072398}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.049480+05:30", "timestamp": 1755782666.04948}}}
{"text": "2025-08-21 18:54:26.050 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=854, avg_price=1470.87\n", "record": {"elapsed": {"repr": "0:00:00.072962", "seconds": 0.072962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=854, avg_price=1470.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.050044+05:30", "timestamp": 1755782666.050044}}}
{"text": "2025-08-21 18:54:26.050 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1625, avg_price=905.8\n", "record": {"elapsed": {"repr": "0:00:00.073434", "seconds": 0.073434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1625, avg_price=905.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.050516+05:30", "timestamp": 1755782666.050516}}}
{"text": "2025-08-21 18:54:26.051 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1162, avg_price=344.5\n", "record": {"elapsed": {"repr": "0:00:00.073957", "seconds": 0.073957}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1162, avg_price=344.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.051039+05:30", "timestamp": 1755782666.051039}}}
{"text": "2025-08-21 18:54:26.051 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1604, avg_price=721.21\n", "record": {"elapsed": {"repr": "0:00:00.074426", "seconds": 0.074426}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1604, avg_price=721.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.051508+05:30", "timestamp": 1755782666.051508}}}
{"text": "2025-08-21 18:54:26.052 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=370, avg_price=1966.61\n", "record": {"elapsed": {"repr": "0:00:00.075024", "seconds": 0.075024}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=370, avg_price=1966.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.052106+05:30", "timestamp": 1755782666.052106}}}
{"text": "2025-08-21 18:54:26.052 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.075864", "seconds": 0.075864}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.052946+05:30", "timestamp": 1755782666.052946}}}
{"text": "2025-08-21 18:54:26.054 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.077361", "seconds": 0.077361}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.054443+05:30", "timestamp": 1755782666.054443}}}
{"text": "2025-08-21 18:54:26.055 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.078496", "seconds": 0.078496}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.055578+05:30", "timestamp": 1755782666.055578}}}
{"text": "2025-08-21 18:54:26.056 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.079599", "seconds": 0.079599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.056681+05:30", "timestamp": 1755782666.056681}}}
{"text": "2025-08-21 18:54:26.098 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.120948", "seconds": 0.120948}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 27544, "name": "MainProcess"}, "thread": {"id": 13456, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:54:26.098030+05:30", "timestamp": 1755782666.09803}}}
{"text": "2025-08-21 18:57:14.653 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.040650", "seconds": 0.04065}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.653177+05:30", "timestamp": 1755782834.653177}}}
{"text": "2025-08-21 18:57:14.654 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=1302, avg_price=1942.494540270211, ltp=1830.8927484548728\n", "record": {"elapsed": {"repr": "0:00:00.041574", "seconds": 0.041574}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=1302, avg_price=1942.494540270211, ltp=1830.8927484548728", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.654101+05:30", "timestamp": 1755782834.654101}}}
{"text": "2025-08-21 18:57:14.654 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=2314, avg_price=1057.8340363174066, ltp=1039.5107940091584\n", "record": {"elapsed": {"repr": "0:00:00.042110", "seconds": 0.04211}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=2314, avg_price=1057.8340363174066, ltp=1039.5107940091584", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.654637+05:30", "timestamp": 1755782834.654637}}}
{"text": "2025-08-21 18:57:14.655 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=4168, avg_price=901.3762196378418, ltp=894.6704001730725\n", "record": {"elapsed": {"repr": "0:00:00.042667", "seconds": 0.042667}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=4168, avg_price=901.3762196378418, ltp=894.6704001730725", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.655194+05:30", "timestamp": 1755782834.655194}}}
{"text": "2025-08-21 18:57:14.655 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=4708, avg_price=654.3178584862588, ltp=647.4600036423743\n", "record": {"elapsed": {"repr": "0:00:00.043240", "seconds": 0.04324}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=4708, avg_price=654.3178584862588, ltp=647.4600036423743", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.655767+05:30", "timestamp": 1755782834.655767}}}
{"text": "2025-08-21 18:57:14.656 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=3966, avg_price=1887.0000898813728, ltp=1601.8845514439809\n", "record": {"elapsed": {"repr": "0:00:00.044095", "seconds": 0.044095}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=3966, avg_price=1887.0000898813728, ltp=1601.8845514439809", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.656622+05:30", "timestamp": 1755782834.656622}}}
{"text": "2025-08-21 18:57:14.657 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=2497, avg_price=1422.007389282031, ltp=1674.3221161545202\n", "record": {"elapsed": {"repr": "0:00:00.044867", "seconds": 0.044867}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=2497, avg_price=1422.007389282031, ltp=1674.3221161545202", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.657394+05:30", "timestamp": 1755782834.657394}}}
{"text": "2025-08-21 18:57:14.658 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=1238, avg_price=1980.0027174885029, ltp=1889.668589503812\n", "record": {"elapsed": {"repr": "0:00:00.045473", "seconds": 0.045473}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=1238, avg_price=1980.0027174885029, ltp=1889.668589503812", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.658000+05:30", "timestamp": 1755782834.658}}}
{"text": "2025-08-21 18:57:14.658 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=2709, avg_price=130.67370679327868, ltp=111.66526064946939\n", "record": {"elapsed": {"repr": "0:00:00.046109", "seconds": 0.046109}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=2709, avg_price=130.67370679327868, ltp=111.66526064946939", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.658636+05:30", "timestamp": 1755782834.658636}}}
{"text": "2025-08-21 18:57:14.659 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=3320, avg_price=427.4322042201722, ltp=439.201468120384\n", "record": {"elapsed": {"repr": "0:00:00.047156", "seconds": 0.047156}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=3320, avg_price=427.4322042201722, ltp=439.201468120384", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.659683+05:30", "timestamp": 1755782834.659683}}}
{"text": "2025-08-21 18:57:14.660 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=1925, avg_price=1923.0439313077545, ltp=1691.3269623298452\n", "record": {"elapsed": {"repr": "0:00:00.048244", "seconds": 0.048244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=1925, avg_price=1923.0439313077545, ltp=1691.3269623298452", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.660771+05:30", "timestamp": 1755782834.660771}}}
{"text": "2025-08-21 18:57:14.661 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.048933", "seconds": 0.048933}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.661460+05:30", "timestamp": 1755782834.66146}}}
{"text": "2025-08-21 18:57:14.662 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1951, avg_price=725.96\n", "record": {"elapsed": {"repr": "0:00:00.049477", "seconds": 0.049477}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1951, avg_price=725.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.662004+05:30", "timestamp": 1755782834.662004}}}
{"text": "2025-08-21 18:57:14.662 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1474, avg_price=504.34\n", "record": {"elapsed": {"repr": "0:00:00.049964", "seconds": 0.049964}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1474, avg_price=504.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.662491+05:30", "timestamp": 1755782834.662491}}}
{"text": "2025-08-21 18:57:14.662 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=233, avg_price=1729.32\n", "record": {"elapsed": {"repr": "0:00:00.050423", "seconds": 0.050423}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=233, avg_price=1729.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.662950+05:30", "timestamp": 1755782834.66295}}}
{"text": "2025-08-21 18:57:14.663 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1786, avg_price=1998.04\n", "record": {"elapsed": {"repr": "0:00:00.050867", "seconds": 0.050867}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1786, avg_price=1998.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.663394+05:30", "timestamp": 1755782834.663394}}}
{"text": "2025-08-21 18:57:14.663 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=1922, avg_price=1096.58\n", "record": {"elapsed": {"repr": "0:00:00.051432", "seconds": 0.051432}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=1922, avg_price=1096.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.663959+05:30", "timestamp": 1755782834.663959}}}
{"text": "2025-08-21 18:57:14.664 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.051930", "seconds": 0.05193}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.664457+05:30", "timestamp": 1755782834.664457}}}
{"text": "2025-08-21 18:57:14.666 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.053661", "seconds": 0.053661}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.666188+05:30", "timestamp": 1755782834.666188}}}
{"text": "2025-08-21 18:57:14.667 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.054620", "seconds": 0.05462}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.667147+05:30", "timestamp": 1755782834.667147}}}
{"text": "2025-08-21 18:57:14.667 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.055139", "seconds": 0.055139}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.667666+05:30", "timestamp": 1755782834.667666}}}
{"text": "2025-08-21 18:57:14.701 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.089256", "seconds": 0.089256}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.701783+05:30", "timestamp": 1755782834.701783}}}
{"text": "2025-08-21 18:57:14.704 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.091488", "seconds": 0.091488}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.704015+05:30", "timestamp": 1755782834.704015}}}
{"text": "2025-08-21 18:57:14.704 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.092227", "seconds": 0.092227}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.704754+05:30", "timestamp": 1755782834.704754}}}
{"text": "2025-08-21 18:57:14.705 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.092545", "seconds": 0.092545}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.705072+05:30", "timestamp": 1755782834.705072}}}
{"text": "2025-08-21 18:57:14.705 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.092974", "seconds": 0.092974}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.705501+05:30", "timestamp": 1755782834.705501}}}
{"text": "2025-08-21 18:57:14.707 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.095173", "seconds": 0.095173}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.707700+05:30", "timestamp": 1755782834.7077}}}
{"text": "2025-08-21 18:57:14.708 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.096014", "seconds": 0.096014}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.708541+05:30", "timestamp": 1755782834.708541}}}
{"text": "2025-08-21 18:57:14.709 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:00.096651", "seconds": 0.096651}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 23968, "name": "MainProcess"}, "thread": {"id": 19524, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:57:14.709178+05:30", "timestamp": 1755782834.709178}}}
{"text": "2025-08-21 18:59:00.249 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.045059", "seconds": 0.045059}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.249007+05:30", "timestamp": 1755782940.249007}}}
{"text": "2025-08-21 18:59:00.250 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=4593, avg_price=1825.7050545201146, ltp=1850.6659141878342\n", "record": {"elapsed": {"repr": "0:00:00.046429", "seconds": 0.046429}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=4593, avg_price=1825.7050545201146, ltp=1850.6659141878342", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.250377+05:30", "timestamp": 1755782940.250377}}}
{"text": "2025-08-21 18:59:00.251 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=2074, avg_price=446.0004430624224, ltp=417.2578864101419\n", "record": {"elapsed": {"repr": "0:00:00.047320", "seconds": 0.04732}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=2074, avg_price=446.0004430624224, ltp=417.2578864101419", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.251268+05:30", "timestamp": 1755782940.251268}}}
{"text": "2025-08-21 18:59:00.251 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=368, avg_price=1658.6406220021192, ltp=1423.5579008289008\n", "record": {"elapsed": {"repr": "0:00:00.047845", "seconds": 0.047845}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=368, avg_price=1658.6406220021192, ltp=1423.5579008289008", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.251793+05:30", "timestamp": 1755782940.251793}}}
{"text": "2025-08-21 18:59:00.252 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=4061, avg_price=1744.780346925942, ltp=1615.618313485355\n", "record": {"elapsed": {"repr": "0:00:00.048392", "seconds": 0.048392}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=4061, avg_price=1744.780346925942, ltp=1615.618313485355", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.252340+05:30", "timestamp": 1755782940.25234}}}
{"text": "2025-08-21 18:59:00.252 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=1455, avg_price=1434.9847700488956, ltp=1604.0191050023316\n", "record": {"elapsed": {"repr": "0:00:00.048953", "seconds": 0.048953}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=1455, avg_price=1434.9847700488956, ltp=1604.0191050023316", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.252901+05:30", "timestamp": 1755782940.252901}}}
{"text": "2025-08-21 18:59:00.253 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=4483, avg_price=346.97293122635404, ltp=379.0020074388978\n", "record": {"elapsed": {"repr": "0:00:00.049547", "seconds": 0.049547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=4483, avg_price=346.97293122635404, ltp=379.0020074388978", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.253495+05:30", "timestamp": 1755782940.253495}}}
{"text": "2025-08-21 18:59:00.254 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=3190, avg_price=232.3710229068903, ltp=208.4098430708731\n", "record": {"elapsed": {"repr": "0:00:00.050245", "seconds": 0.050245}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=3190, avg_price=232.3710229068903, ltp=208.4098430708731", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.254193+05:30", "timestamp": 1755782940.254193}}}
{"text": "2025-08-21 18:59:00.255 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=4204, avg_price=768.1201937607605, ltp=660.8323181694582\n", "record": {"elapsed": {"repr": "0:00:00.051256", "seconds": 0.051256}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=4204, avg_price=768.1201937607605, ltp=660.8323181694582", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.255204+05:30", "timestamp": 1755782940.255204}}}
{"text": "2025-08-21 18:59:00.255 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=994, avg_price=107.44103844183486, ltp=105.97213765489914\n", "record": {"elapsed": {"repr": "0:00:00.051884", "seconds": 0.051884}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=994, avg_price=107.44103844183486, ltp=105.97213765489914", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.255832+05:30", "timestamp": 1755782940.255832}}}
{"text": "2025-08-21 18:59:00.256 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=3681, avg_price=671.2212309052667, ltp=537.4790177034182\n", "record": {"elapsed": {"repr": "0:00:00.052424", "seconds": 0.052424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=3681, avg_price=671.2212309052667, ltp=537.4790177034182", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.256372+05:30", "timestamp": 1755782940.256372}}}
{"text": "2025-08-21 18:59:00.257 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.053251", "seconds": 0.053251}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.257199+05:30", "timestamp": 1755782940.257199}}}
{"text": "2025-08-21 18:59:00.258 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1203, avg_price=171.5\n", "record": {"elapsed": {"repr": "0:00:00.054464", "seconds": 0.054464}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1203, avg_price=171.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.258412+05:30", "timestamp": 1755782940.258412}}}
{"text": "2025-08-21 18:59:00.259 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=238, avg_price=1866.97\n", "record": {"elapsed": {"repr": "0:00:00.055452", "seconds": 0.055452}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=238, avg_price=1866.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.259400+05:30", "timestamp": 1755782940.2594}}}
{"text": "2025-08-21 18:59:00.259 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=960, avg_price=381.42\n", "record": {"elapsed": {"repr": "0:00:00.055999", "seconds": 0.055999}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=960, avg_price=381.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.259947+05:30", "timestamp": 1755782940.259947}}}
{"text": "2025-08-21 18:59:00.260 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=835, avg_price=426.16\n", "record": {"elapsed": {"repr": "0:00:00.056541", "seconds": 0.056541}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=835, avg_price=426.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.260489+05:30", "timestamp": 1755782940.260489}}}
{"text": "2025-08-21 18:59:00.261 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=1150, avg_price=604.51\n", "record": {"elapsed": {"repr": "0:00:00.057203", "seconds": 0.057203}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=1150, avg_price=604.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.261151+05:30", "timestamp": 1755782940.261151}}}
{"text": "2025-08-21 18:59:00.261 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.057702", "seconds": 0.057702}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.261650+05:30", "timestamp": 1755782940.26165}}}
{"text": "2025-08-21 18:59:00.262 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.058611", "seconds": 0.058611}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.262559+05:30", "timestamp": 1755782940.262559}}}
{"text": "2025-08-21 18:59:00.263 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.059925", "seconds": 0.059925}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.263873+05:30", "timestamp": 1755782940.263873}}}
{"text": "2025-08-21 18:59:00.264 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.060566", "seconds": 0.060566}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.264514+05:30", "timestamp": 1755782940.264514}}}
{"text": "2025-08-21 18:59:00.300 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.096994", "seconds": 0.096994}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.300942+05:30", "timestamp": 1755782940.300942}}}
{"text": "2025-08-21 18:59:00.302 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.098969", "seconds": 0.098969}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.302917+05:30", "timestamp": 1755782940.302917}}}
{"text": "2025-08-21 18:59:00.304 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.100336", "seconds": 0.100336}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.304284+05:30", "timestamp": 1755782940.304284}}}
{"text": "2025-08-21 18:59:00.305 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.101324", "seconds": 0.101324}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.305272+05:30", "timestamp": 1755782940.305272}}}
{"text": "2025-08-21 18:59:00.305 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.101818", "seconds": 0.101818}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:00.305766+05:30", "timestamp": 1755782940.305766}}}
{"text": "2025-08-21 18:59:02.267 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.063151", "seconds": 2.063151}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:02.267099+05:30", "timestamp": 1755782942.267099}}}
{"text": "2025-08-21 18:59:02.267 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.063699", "seconds": 2.063699}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:02.267647+05:30", "timestamp": 1755782942.267647}}}
{"text": "2025-08-21 18:59:02.268 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.064084", "seconds": 2.064084}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:02.268032+05:30", "timestamp": 1755782942.268032}}}
{"text": "2025-08-21 18:59:02.268 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.064480", "seconds": 2.06448}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:02.268428+05:30", "timestamp": 1755782942.268428}}}
{"text": "2025-08-21 18:59:02.268 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.064865", "seconds": 2.064865}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:02.268813+05:30", "timestamp": 1755782942.268813}}}
{"text": "2025-08-21 18:59:02.269 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.065280", "seconds": 2.06528}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:02.269228+05:30", "timestamp": 1755782942.269228}}}
{"text": "2025-08-21 18:59:02.269 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.065857", "seconds": 2.065857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:02.269805+05:30", "timestamp": 1755782942.269805}}}
{"text": "2025-08-21 18:59:02.270 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.066697", "seconds": 2.066697}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:02.270645+05:30", "timestamp": 1755782942.270645}}}
{"text": "2025-08-21 18:59:02.271 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.067190", "seconds": 2.06719}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:02.271138+05:30", "timestamp": 1755782942.271138}}}
{"text": "2025-08-21 18:59:02.271 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.067566", "seconds": 2.067566}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:02.271514+05:30", "timestamp": 1755782942.271514}}}
{"text": "2025-08-21 18:59:02.283 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:02.079289", "seconds": 2.079289}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.283237+05:30", "timestamp": 1755782942.283237}}}
{"text": "2025-08-21 18:59:02.283 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:02.079790", "seconds": 2.07979}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.283738+05:30", "timestamp": 1755782942.283738}}}
{"text": "2025-08-21 18:59:02.284 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:02.080224", "seconds": 2.080224}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.284172+05:30", "timestamp": 1755782942.284172}}}
{"text": "2025-08-21 18:59:02.284 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2030221.39, today=2030221.39\n", "record": {"elapsed": {"repr": "0:00:02.080647", "seconds": 2.080647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2030221.39, today=2030221.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.284595+05:30", "timestamp": 1755782942.284595}}}
{"text": "2025-08-21 18:59:02.285 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=346976.06, today=346976.06\n", "record": {"elapsed": {"repr": "0:00:02.081098", "seconds": 2.081098}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=346976.06, today=346976.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.285046+05:30", "timestamp": 1755782942.285046}}}
{"text": "2025-08-21 18:59:02.285 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=988815.34, today=988815.34\n", "record": {"elapsed": {"repr": "0:00:02.081633", "seconds": 2.081633}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=988815.34, today=988815.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.285581+05:30", "timestamp": 1755782942.285581}}}
{"text": "2025-08-21 18:59:02.286 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-996506.5, today=-996506.5\n", "record": {"elapsed": {"repr": "0:00:02.082368", "seconds": 2.082368}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-996506.5, today=-996506.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.286316+05:30", "timestamp": 1755782942.286316}}}
{"text": "2025-08-21 18:59:02.287 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1185142.25, today=1185142.25\n", "record": {"elapsed": {"repr": "0:00:02.083406", "seconds": 2.083406}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1185142.25, today=1185142.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.287354+05:30", "timestamp": 1755782942.287354}}}
{"text": "2025-08-21 18:59:02.287 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3554648.54, day: 3554648.54\n", "record": {"elapsed": {"repr": "0:00:02.083883", "seconds": 2.083883}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3554648.54, day: 3554648.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.287831+05:30", "timestamp": 1755782942.287831}}}
{"text": "2025-08-21 18:59:02.288 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:02.084305", "seconds": 2.084305}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.288253+05:30", "timestamp": 1755782942.288253}}}
{"text": "2025-08-21 18:59:02.288 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:02.084821", "seconds": 2.084821}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.288769+05:30", "timestamp": 1755782942.288769}}}
{"text": "2025-08-21 18:59:02.289 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:02.085339", "seconds": 2.085339}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.289287+05:30", "timestamp": 1755782942.289287}}}
{"text": "2025-08-21 18:59:02.289 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:02.085923", "seconds": 2.085923}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.289871+05:30", "timestamp": 1755782942.289871}}}
{"text": "2025-08-21 18:59:02.290 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:02.284532+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:02.086631", "seconds": 2.086631}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:02.284532+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.290579+05:30", "timestamp": 1755782942.290579}}}
{"text": "2025-08-21 18:59:02.291 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3554648.54, day=3554648.54, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.13, unrealized=2030221.39, today_pnl=2030221.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=409.09, unrealized=346976.06, today_pnl=346976.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1411.44, unrealized=988815.34, today_pnl=988815.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1619.58, unrealized=-996506.5, today_pnl=-996506.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1635.07, unrealized=1185142.25, today_pnl=1185142.25)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 2, 284532, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:02.087573", "seconds": 2.087573}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3554648.54, day=3554648.54, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.13, unrealized=2030221.39, today_pnl=2030221.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=409.09, unrealized=346976.06, today_pnl=346976.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1411.44, unrealized=988815.34, today_pnl=988815.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1619.58, unrealized=-996506.5, today_pnl=-996506.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1635.07, unrealized=1185142.25, today_pnl=1185142.25)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 2, 284532, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.291521+05:30", "timestamp": 1755782942.291521}}}
{"text": "2025-08-21 18:59:02.292 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3554648.54, day=3554648.54, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.13, unrealized=2030221.39, today_pnl=2030221.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=409.09, unrealized=346976.06, today_pnl=346976.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1411.44, unrealized=988815.34, today_pnl=988815.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1619.58, unrealized=-996506.5, today_pnl=-996506.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1635.07, unrealized=1185142.25, today_pnl=1185142.25)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 2, 284532, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:02.088327", "seconds": 2.088327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3554648.54, day=3554648.54, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.13, unrealized=2030221.39, today_pnl=2030221.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=409.09, unrealized=346976.06, today_pnl=346976.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1411.44, unrealized=988815.34, today_pnl=988815.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1619.58, unrealized=-996506.5, today_pnl=-996506.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1635.07, unrealized=1185142.25, today_pnl=1185142.25)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 2, 284532, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.292275+05:30", "timestamp": 1755782942.292275}}}
{"text": "2025-08-21 18:59:02.292 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3554648.54\n", "record": {"elapsed": {"repr": "0:00:02.088846", "seconds": 2.088846}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3554648.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.292794+05:30", "timestamp": 1755782942.292794}}}
{"text": "2025-08-21 18:59:02.293 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:02.089450", "seconds": 2.08945}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:02.293398+05:30", "timestamp": 1755782942.293398}}}
{"text": "2025-08-21 18:59:03.282 | DEBUG    | app.ws.live:emit_delta:408 - Emitted orders delta: seq=3\n", "record": {"elapsed": {"repr": "0:00:03.078725", "seconds": 3.078725}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted orders delta: seq=3", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:03.282673+05:30", "timestamp": 1755782943.282673}}}
{"text": "2025-08-21 18:59:04.266 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:04.062204", "seconds": 4.062204}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.266152+05:30", "timestamp": 1755782944.266152}}}
{"text": "2025-08-21 18:59:04.266 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:04.062766", "seconds": 4.062766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.266714+05:30", "timestamp": 1755782944.266714}}}
{"text": "2025-08-21 18:59:04.267 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2030221.39, today=2030221.39\n", "record": {"elapsed": {"repr": "0:00:04.063279", "seconds": 4.063279}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2030221.39, today=2030221.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.267227+05:30", "timestamp": 1755782944.267227}}}
{"text": "2025-08-21 18:59:04.267 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=346976.06, today=346976.06\n", "record": {"elapsed": {"repr": "0:00:04.063810", "seconds": 4.06381}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=346976.06, today=346976.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.267758+05:30", "timestamp": 1755782944.267758}}}
{"text": "2025-08-21 18:59:04.268 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=988815.34, today=988815.34\n", "record": {"elapsed": {"repr": "0:00:04.064347", "seconds": 4.064347}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=988815.34, today=988815.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.268295+05:30", "timestamp": 1755782944.268295}}}
{"text": "2025-08-21 18:59:04.269 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-996506.5, today=-996506.5\n", "record": {"elapsed": {"repr": "0:00:04.065309", "seconds": 4.065309}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-996506.5, today=-996506.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.269257+05:30", "timestamp": 1755782944.269257}}}
{"text": "2025-08-21 18:59:04.269 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1185142.25, today=1185142.25\n", "record": {"elapsed": {"repr": "0:00:04.065923", "seconds": 4.065923}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1185142.25, today=1185142.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.269871+05:30", "timestamp": 1755782944.269871}}}
{"text": "2025-08-21 18:59:04.270 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3554648.54, day: 3554648.54\n", "record": {"elapsed": {"repr": "0:00:04.066303", "seconds": 4.066303}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3554648.54, day: 3554648.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.270251+05:30", "timestamp": 1755782944.270251}}}
{"text": "2025-08-21 18:59:04.270 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:04.066836", "seconds": 4.066836}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.270784+05:30", "timestamp": 1755782944.270784}}}
{"text": "2025-08-21 18:59:04.271 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:04.067344", "seconds": 4.067344}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.271292+05:30", "timestamp": 1755782944.271292}}}
{"text": "2025-08-21 18:59:04.272 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:04.068083", "seconds": 4.068083}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.272031+05:30", "timestamp": 1755782944.272031}}}
{"text": "2025-08-21 18:59:04.272 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:04.068997", "seconds": 4.068997}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.272945+05:30", "timestamp": 1755782944.272945}}}
{"text": "2025-08-21 18:59:04.272 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.068365", "seconds": 4.068365}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:04.272313+05:30", "timestamp": 1755782944.272313}}}
{"text": "2025-08-21 18:59:04.273 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:04.267158+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:04.069744", "seconds": 4.069744}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:04.267158+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.273692+05:30", "timestamp": 1755782944.273692}}}
{"text": "2025-08-21 18:59:04.274 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.070106", "seconds": 4.070106}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:04.274054+05:30", "timestamp": 1755782944.274054}}}
{"text": "2025-08-21 18:59:04.275 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.071285", "seconds": 4.071285}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:04.275233+05:30", "timestamp": 1755782944.275233}}}
{"text": "2025-08-21 18:59:04.274 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3554648.54, day=3554648.54, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.13, unrealized=2030221.39, today_pnl=2030221.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=409.09, unrealized=346976.06, today_pnl=346976.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1411.44, unrealized=988815.34, today_pnl=988815.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1619.58, unrealized=-996506.5, today_pnl=-996506.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1635.07, unrealized=1185142.25, today_pnl=1185142.25)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 4, 267158, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:04.070936", "seconds": 4.070936}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3554648.54, day=3554648.54, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.13, unrealized=2030221.39, today_pnl=2030221.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=409.09, unrealized=346976.06, today_pnl=346976.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1411.44, unrealized=988815.34, today_pnl=988815.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1619.58, unrealized=-996506.5, today_pnl=-996506.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1635.07, unrealized=1185142.25, today_pnl=1185142.25)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 4, 267158, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.274884+05:30", "timestamp": 1755782944.274884}}}
{"text": "2025-08-21 18:59:04.276 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3554648.54, day=3554648.54, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.13, unrealized=2030221.39, today_pnl=2030221.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=409.09, unrealized=346976.06, today_pnl=346976.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1411.44, unrealized=988815.34, today_pnl=988815.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1619.58, unrealized=-996506.5, today_pnl=-996506.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1635.07, unrealized=1185142.25, today_pnl=1185142.25)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 4, 267158, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:04.072646", "seconds": 4.072646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3554648.54, day=3554648.54, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.13, unrealized=2030221.39, today_pnl=2030221.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=409.09, unrealized=346976.06, today_pnl=346976.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1411.44, unrealized=988815.34, today_pnl=988815.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1619.58, unrealized=-996506.5, today_pnl=-996506.5), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1635.07, unrealized=1185142.25, today_pnl=1185142.25)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 4, 267158, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.276594+05:30", "timestamp": 1755782944.276594}}}
{"text": "2025-08-21 18:59:04.275 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.071743", "seconds": 4.071743}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:04.275691+05:30", "timestamp": 1755782944.275691}}}
{"text": "2025-08-21 18:59:04.278 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3554648.54\n", "record": {"elapsed": {"repr": "0:00:04.074272", "seconds": 4.074272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3554648.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.278220+05:30", "timestamp": 1755782944.27822}}}
{"text": "2025-08-21 18:59:04.278 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.074736", "seconds": 4.074736}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:04.278684+05:30", "timestamp": 1755782944.278684}}}
{"text": "2025-08-21 18:59:04.279 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.075537", "seconds": 4.075537}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:04.279485+05:30", "timestamp": 1755782944.279485}}}
{"text": "2025-08-21 18:59:04.279 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=4\n", "record": {"elapsed": {"repr": "0:00:04.075253", "seconds": 4.075253}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=4", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:04.279201+05:30", "timestamp": 1755782944.279201}}}
{"text": "2025-08-21 18:59:04.280 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.076159", "seconds": 4.076159}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:04.280107+05:30", "timestamp": 1755782944.280107}}}
{"text": "2025-08-21 18:59:04.281 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.077138", "seconds": 4.077138}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:04.281086+05:30", "timestamp": 1755782944.281086}}}
{"text": "2025-08-21 18:59:04.282 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.078465", "seconds": 4.078465}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:04.282413+05:30", "timestamp": 1755782944.282413}}}
{"text": "2025-08-21 18:59:04.283 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.079147", "seconds": 4.079147}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:04.283095+05:30", "timestamp": 1755782944.283095}}}
{"text": "2025-08-21 18:59:06.201 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=5\n", "record": {"elapsed": {"repr": "0:00:05.997432", "seconds": 5.997432}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=5", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.201380+05:30", "timestamp": 1755782946.20138}}}
{"text": "2025-08-21 18:59:06.245 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:06.041966", "seconds": 6.041966}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.245914+05:30", "timestamp": 1755782946.245914}}}
{"text": "2025-08-21 18:59:06.246 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:06.042998", "seconds": 6.042998}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.246946+05:30", "timestamp": 1755782946.246946}}}
{"text": "2025-08-21 18:59:06.247 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2051531.98, today=2051531.98\n", "record": {"elapsed": {"repr": "0:00:06.043760", "seconds": 6.04376}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2051531.98, today=2051531.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.247708+05:30", "timestamp": 1755782946.247708}}}
{"text": "2025-08-21 18:59:06.248 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=348035.7, today=348035.7\n", "record": {"elapsed": {"repr": "0:00:06.044379", "seconds": 6.044379}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=348035.7, today=348035.7", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.248327+05:30", "timestamp": 1755782946.248327}}}
{"text": "2025-08-21 18:59:06.248 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=994475.56, today=994475.56\n", "record": {"elapsed": {"repr": "0:00:06.044960", "seconds": 6.04496}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=994475.56, today=994475.56", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.248908+05:30", "timestamp": 1755782946.248908}}}
{"text": "2025-08-21 18:59:06.249 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1012396.32, today=-1012396.32\n", "record": {"elapsed": {"repr": "0:00:06.045589", "seconds": 6.045589}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1012396.32, today=-1012396.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.249537+05:30", "timestamp": 1755782946.249537}}}
{"text": "2025-08-21 18:59:06.250 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1191333.1, today=1191333.1\n", "record": {"elapsed": {"repr": "0:00:06.046652", "seconds": 6.046652}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1191333.1, today=1191333.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.250600+05:30", "timestamp": 1755782946.2506}}}
{"text": "2025-08-21 18:59:06.252 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3572980.02, day: 3572980.02\n", "record": {"elapsed": {"repr": "0:00:06.048065", "seconds": 6.048065}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3572980.02, day: 3572980.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.252013+05:30", "timestamp": 1755782946.252013}}}
{"text": "2025-08-21 18:59:06.252 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:06.048684", "seconds": 6.048684}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.252632+05:30", "timestamp": 1755782946.252632}}}
{"text": "2025-08-21 18:59:06.253 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:06.049274", "seconds": 6.049274}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.253222+05:30", "timestamp": 1755782946.253222}}}
{"text": "2025-08-21 18:59:06.254 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:06.050069", "seconds": 6.050069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.254017+05:30", "timestamp": 1755782946.254017}}}
{"text": "2025-08-21 18:59:06.254 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:06.050824", "seconds": 6.050824}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.254772+05:30", "timestamp": 1755782946.254772}}}
{"text": "2025-08-21 18:59:06.255 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:06.247636+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:06.052029", "seconds": 6.052029}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:06.247636+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.255977+05:30", "timestamp": 1755782946.255977}}}
{"text": "2025-08-21 18:59:06.256 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3572980.02, day=3572980.02, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1876.85, unrealized=2051531.98, today_pnl=2051531.98), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=404.64, unrealized=348035.7, today_pnl=348035.7), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1417.33, unrealized=994475.56, today_pnl=994475.56), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1638.61, unrealized=-1012396.32, today_pnl=-1012396.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1640.45, unrealized=1191333.1, today_pnl=1191333.1)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 6, 247636, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:06.053006", "seconds": 6.053006}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3572980.02, day=3572980.02, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1876.85, unrealized=2051531.98, today_pnl=2051531.98), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=404.64, unrealized=348035.7, today_pnl=348035.7), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1417.33, unrealized=994475.56, today_pnl=994475.56), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1638.61, unrealized=-1012396.32, today_pnl=-1012396.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1640.45, unrealized=1191333.1, today_pnl=1191333.1)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 6, 247636, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.256954+05:30", "timestamp": 1755782946.256954}}}
{"text": "2025-08-21 18:59:06.257 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3572980.02, day=3572980.02, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1876.85, unrealized=2051531.98, today_pnl=2051531.98), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=404.64, unrealized=348035.7, today_pnl=348035.7), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1417.33, unrealized=994475.56, today_pnl=994475.56), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1638.61, unrealized=-1012396.32, today_pnl=-1012396.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1640.45, unrealized=1191333.1, today_pnl=1191333.1)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 6, 247636, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:06.054029", "seconds": 6.054029}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3572980.02, day=3572980.02, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1876.85, unrealized=2051531.98, today_pnl=2051531.98), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=404.64, unrealized=348035.7, today_pnl=348035.7), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1417.33, unrealized=994475.56, today_pnl=994475.56), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1638.61, unrealized=-1012396.32, today_pnl=-1012396.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1640.45, unrealized=1191333.1, today_pnl=1191333.1)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 6, 247636, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.257977+05:30", "timestamp": 1755782946.257977}}}
{"text": "2025-08-21 18:59:06.259 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3572980.02\n", "record": {"elapsed": {"repr": "0:00:06.055306", "seconds": 6.055306}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3572980.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.259254+05:30", "timestamp": 1755782946.259254}}}
{"text": "2025-08-21 18:59:06.260 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=6\n", "record": {"elapsed": {"repr": "0:00:06.056601", "seconds": 6.056601}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=6", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:06.260549+05:30", "timestamp": 1755782946.260549}}}
{"text": "2025-08-21 18:59:06.284 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.080557", "seconds": 6.080557}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:06.284505+05:30", "timestamp": 1755782946.284505}}}
{"text": "2025-08-21 18:59:06.285 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.081468", "seconds": 6.081468}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:06.285416+05:30", "timestamp": 1755782946.285416}}}
{"text": "2025-08-21 18:59:06.286 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.082063", "seconds": 6.082063}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:06.286011+05:30", "timestamp": 1755782946.286011}}}
{"text": "2025-08-21 18:59:06.286 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.082648", "seconds": 6.082648}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:06.286596+05:30", "timestamp": 1755782946.286596}}}
{"text": "2025-08-21 18:59:06.287 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.083529", "seconds": 6.083529}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:06.287477+05:30", "timestamp": 1755782946.287477}}}
{"text": "2025-08-21 18:59:06.288 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.084931", "seconds": 6.084931}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:06.288879+05:30", "timestamp": 1755782946.288879}}}
{"text": "2025-08-21 18:59:06.289 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.085751", "seconds": 6.085751}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:06.289699+05:30", "timestamp": 1755782946.289699}}}
{"text": "2025-08-21 18:59:06.290 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.086344", "seconds": 6.086344}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:06.290292+05:30", "timestamp": 1755782946.290292}}}
{"text": "2025-08-21 18:59:06.290 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.086962", "seconds": 6.086962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:06.290910+05:30", "timestamp": 1755782946.29091}}}
{"text": "2025-08-21 18:59:06.291 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.087552", "seconds": 6.087552}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:06.291500+05:30", "timestamp": 1755782946.2915}}}
{"text": "2025-08-21 18:59:08.131 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=7\n", "record": {"elapsed": {"repr": "0:00:07.927116", "seconds": 7.927116}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=7", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.131064+05:30", "timestamp": 1755782948.131064}}}
{"text": "2025-08-21 18:59:08.222 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.018527", "seconds": 8.018527}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.222475+05:30", "timestamp": 1755782948.222475}}}
{"text": "2025-08-21 18:59:08.223 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.019170", "seconds": 8.01917}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.223118+05:30", "timestamp": 1755782948.223118}}}
{"text": "2025-08-21 18:59:08.223 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2027677.18, today=2027677.18\n", "record": {"elapsed": {"repr": "0:00:08.019631", "seconds": 8.019631}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2027677.18, today=2027677.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.223579+05:30", "timestamp": 1755782948.223579}}}
{"text": "2025-08-21 18:59:08.224 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=348250.99, today=348250.99\n", "record": {"elapsed": {"repr": "0:00:08.020205", "seconds": 8.020205}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=348250.99, today=348250.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.224153+05:30", "timestamp": 1755782948.224153}}}
{"text": "2025-08-21 18:59:08.224 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1000192.4, today=1000192.4\n", "record": {"elapsed": {"repr": "0:00:08.020789", "seconds": 8.020789}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1000192.4, today=1000192.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.224737+05:30", "timestamp": 1755782948.224737}}}
{"text": "2025-08-21 18:59:08.225 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1018843.6, today=-1018843.6\n", "record": {"elapsed": {"repr": "0:00:08.021819", "seconds": 8.021819}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1018843.6, today=-1018843.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.225767+05:30", "timestamp": 1755782948.225767}}}
{"text": "2025-08-21 18:59:08.226 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1165658.9, today=1165658.9\n", "record": {"elapsed": {"repr": "0:00:08.022428", "seconds": 8.022428}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1165658.9, today=1165658.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.226376+05:30", "timestamp": 1755782948.226376}}}
{"text": "2025-08-21 18:59:08.226 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3522935.87, day: 3522935.87\n", "record": {"elapsed": {"repr": "0:00:08.022979", "seconds": 8.022979}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3522935.87, day: 3522935.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.226927+05:30", "timestamp": 1755782948.226927}}}
{"text": "2025-08-21 18:59:08.227 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.023797", "seconds": 8.023797}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.227745+05:30", "timestamp": 1755782948.227745}}}
{"text": "2025-08-21 18:59:08.229 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.025304", "seconds": 8.025304}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.229252+05:30", "timestamp": 1755782948.229252}}}
{"text": "2025-08-21 18:59:08.229 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.025923", "seconds": 8.025923}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.229871+05:30", "timestamp": 1755782948.229871}}}
{"text": "2025-08-21 18:59:08.230 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.026536", "seconds": 8.026536}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.230484+05:30", "timestamp": 1755782948.230484}}}
{"text": "2025-08-21 18:59:08.230 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:08.223520+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.027040", "seconds": 8.02704}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:08.223520+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.230988+05:30", "timestamp": 1755782948.230988}}}
{"text": "2025-08-21 18:59:08.231 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3522935.87, day=3522935.87, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1857.02, unrealized=2027677.18, today_pnl=2027677.18), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=403.73, unrealized=348250.99, today_pnl=348250.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1423.29, unrealized=1000192.4, today_pnl=1000192.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1646.33, unrealized=-1018843.6, today_pnl=-1018843.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1618.13, unrealized=1165658.9, today_pnl=1165658.9)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 8, 223520, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:08.027752", "seconds": 8.027752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3522935.87, day=3522935.87, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1857.02, unrealized=2027677.18, today_pnl=2027677.18), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=403.73, unrealized=348250.99, today_pnl=348250.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1423.29, unrealized=1000192.4, today_pnl=1000192.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1646.33, unrealized=-1018843.6, today_pnl=-1018843.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1618.13, unrealized=1165658.9, today_pnl=1165658.9)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 8, 223520, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.231700+05:30", "timestamp": 1755782948.2317}}}
{"text": "2025-08-21 18:59:08.232 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3522935.87, day=3522935.87, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1857.02, unrealized=2027677.18, today_pnl=2027677.18), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=403.73, unrealized=348250.99, today_pnl=348250.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1423.29, unrealized=1000192.4, today_pnl=1000192.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1646.33, unrealized=-1018843.6, today_pnl=-1018843.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1618.13, unrealized=1165658.9, today_pnl=1165658.9)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 8, 223520, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:08.028927", "seconds": 8.028927}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3522935.87, day=3522935.87, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1857.02, unrealized=2027677.18, today_pnl=2027677.18), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=403.73, unrealized=348250.99, today_pnl=348250.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1423.29, unrealized=1000192.4, today_pnl=1000192.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1646.33, unrealized=-1018843.6, today_pnl=-1018843.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1618.13, unrealized=1165658.9, today_pnl=1165658.9)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 8, 223520, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.232875+05:30", "timestamp": 1755782948.232875}}}
{"text": "2025-08-21 18:59:08.234 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3522935.87\n", "record": {"elapsed": {"repr": "0:00:08.030183", "seconds": 8.030183}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3522935.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.234131+05:30", "timestamp": 1755782948.234131}}}
{"text": "2025-08-21 18:59:08.235 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=8\n", "record": {"elapsed": {"repr": "0:00:08.031054", "seconds": 8.031054}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=8", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:08.235002+05:30", "timestamp": 1755782948.235002}}}
{"text": "2025-08-21 18:59:08.292 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.088840", "seconds": 8.08884}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:08.292788+05:30", "timestamp": 1755782948.292788}}}
{"text": "2025-08-21 18:59:08.293 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.089543", "seconds": 8.089543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:08.293491+05:30", "timestamp": 1755782948.293491}}}
{"text": "2025-08-21 18:59:08.294 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.090429", "seconds": 8.090429}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:08.294377+05:30", "timestamp": 1755782948.294377}}}
{"text": "2025-08-21 18:59:08.295 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.091663", "seconds": 8.091663}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:08.295611+05:30", "timestamp": 1755782948.295611}}}
{"text": "2025-08-21 18:59:08.296 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.092264", "seconds": 8.092264}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:08.296212+05:30", "timestamp": 1755782948.296212}}}
{"text": "2025-08-21 18:59:08.296 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.092758", "seconds": 8.092758}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:08.296706+05:30", "timestamp": 1755782948.296706}}}
{"text": "2025-08-21 18:59:08.297 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.093200", "seconds": 8.0932}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:08.297148+05:30", "timestamp": 1755782948.297148}}}
{"text": "2025-08-21 18:59:08.297 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.093651", "seconds": 8.093651}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:08.297599+05:30", "timestamp": 1755782948.297599}}}
{"text": "2025-08-21 18:59:08.298 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.094114", "seconds": 8.094114}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:08.298062+05:30", "timestamp": 1755782948.298062}}}
{"text": "2025-08-21 18:59:08.298 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.094559", "seconds": 8.094559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:08.298507+05:30", "timestamp": 1755782948.298507}}}
{"text": "2025-08-21 18:59:10.029 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=9\n", "record": {"elapsed": {"repr": "0:00:09.825626", "seconds": 9.825626}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=9", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.029574+05:30", "timestamp": 1755782950.029574}}}
{"text": "2025-08-21 18:59:10.188 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:09.984474", "seconds": 9.984474}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.188422+05:30", "timestamp": 1755782950.188422}}}
{"text": "2025-08-21 18:59:10.189 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:09.985268", "seconds": 9.985268}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.189216+05:30", "timestamp": 1755782950.189216}}}
{"text": "2025-08-21 18:59:10.189 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2025020.69, today=2025020.69\n", "record": {"elapsed": {"repr": "0:00:09.986039", "seconds": 9.986039}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2025020.69, today=2025020.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.189987+05:30", "timestamp": 1755782950.189987}}}
{"text": "2025-08-21 18:59:10.190 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=350013.67, today=350013.67\n", "record": {"elapsed": {"repr": "0:00:09.986969", "seconds": 9.986969}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=350013.67, today=350013.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.190917+05:30", "timestamp": 1755782950.190917}}}
{"text": "2025-08-21 18:59:10.191 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=981396.85, today=981396.85\n", "record": {"elapsed": {"repr": "0:00:09.987921", "seconds": 9.987921}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=981396.85, today=981396.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.191869+05:30", "timestamp": 1755782950.191869}}}
{"text": "2025-08-21 18:59:10.192 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1004644.1, today=-1004644.1\n", "record": {"elapsed": {"repr": "0:00:09.988459", "seconds": 9.988459}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1004644.1, today=-1004644.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.192407+05:30", "timestamp": 1755782950.192407}}}
{"text": "2025-08-21 18:59:10.193 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1142275.07, today=1142275.07\n", "record": {"elapsed": {"repr": "0:00:09.989083", "seconds": 9.989083}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1142275.07, today=1142275.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.193031+05:30", "timestamp": 1755782950.193031}}}
{"text": "2025-08-21 18:59:10.194 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3494062.18, day: 3494062.18\n", "record": {"elapsed": {"repr": "0:00:09.990329", "seconds": 9.990329}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3494062.18, day: 3494062.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.194277+05:30", "timestamp": 1755782950.194277}}}
{"text": "2025-08-21 18:59:10.195 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:09.991459", "seconds": 9.991459}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.195407+05:30", "timestamp": 1755782950.195407}}}
{"text": "2025-08-21 18:59:10.196 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:09.992119", "seconds": 9.992119}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.196067+05:30", "timestamp": 1755782950.196067}}}
{"text": "2025-08-21 18:59:10.196 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:09.992612", "seconds": 9.992612}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.196560+05:30", "timestamp": 1755782950.19656}}}
{"text": "2025-08-21 18:59:10.197 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:09.993114", "seconds": 9.993114}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.197062+05:30", "timestamp": 1755782950.197062}}}
{"text": "2025-08-21 18:59:10.197 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:10.189891+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:09.993582", "seconds": 9.993582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:10.189891+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.197530+05:30", "timestamp": 1755782950.19753}}}
{"text": "2025-08-21 18:59:10.198 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3494062.18, day=3494062.18, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1854.81, unrealized=2025020.69, today_pnl=2025020.69), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=396.32, unrealized=350013.67, today_pnl=350013.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1403.71, unrealized=981396.85, today_pnl=981396.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1629.33, unrealized=-1004644.1, today_pnl=-1004644.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1597.79, unrealized=1142275.07, today_pnl=1142275.07)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 10, 189891, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:09.994453", "seconds": 9.994453}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3494062.18, day=3494062.18, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1854.81, unrealized=2025020.69, today_pnl=2025020.69), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=396.32, unrealized=350013.67, today_pnl=350013.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1403.71, unrealized=981396.85, today_pnl=981396.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1629.33, unrealized=-1004644.1, today_pnl=-1004644.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1597.79, unrealized=1142275.07, today_pnl=1142275.07)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 10, 189891, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.198401+05:30", "timestamp": 1755782950.198401}}}
{"text": "2025-08-21 18:59:10.199 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3494062.18, day=3494062.18, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1854.81, unrealized=2025020.69, today_pnl=2025020.69), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=396.32, unrealized=350013.67, today_pnl=350013.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1403.71, unrealized=981396.85, today_pnl=981396.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1629.33, unrealized=-1004644.1, today_pnl=-1004644.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1597.79, unrealized=1142275.07, today_pnl=1142275.07)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 10, 189891, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:09.995959", "seconds": 9.995959}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3494062.18, day=3494062.18, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1854.81, unrealized=2025020.69, today_pnl=2025020.69), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=396.32, unrealized=350013.67, today_pnl=350013.67), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1403.71, unrealized=981396.85, today_pnl=981396.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1629.33, unrealized=-1004644.1, today_pnl=-1004644.1), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1597.79, unrealized=1142275.07, today_pnl=1142275.07)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 10, 189891, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.199907+05:30", "timestamp": 1755782950.199907}}}
{"text": "2025-08-21 18:59:10.200 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3494062.18\n", "record": {"elapsed": {"repr": "0:00:09.996880", "seconds": 9.99688}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3494062.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.200828+05:30", "timestamp": 1755782950.200828}}}
{"text": "2025-08-21 18:59:10.201 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=10\n", "record": {"elapsed": {"repr": "0:00:09.997784", "seconds": 9.997784}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=10", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:10.201732+05:30", "timestamp": 1755782950.201732}}}
{"text": "2025-08-21 18:59:10.299 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.095814", "seconds": 10.095814}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:10.299762+05:30", "timestamp": 1755782950.299762}}}
{"text": "2025-08-21 18:59:10.300 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.096558", "seconds": 10.096558}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:10.300506+05:30", "timestamp": 1755782950.300506}}}
{"text": "2025-08-21 18:59:10.301 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.097164", "seconds": 10.097164}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:10.301112+05:30", "timestamp": 1755782950.301112}}}
{"text": "2025-08-21 18:59:10.301 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.097990", "seconds": 10.09799}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:10.301938+05:30", "timestamp": 1755782950.301938}}}
{"text": "2025-08-21 18:59:10.303 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.099348", "seconds": 10.099348}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:10.303296+05:30", "timestamp": 1755782950.303296}}}
{"text": "2025-08-21 18:59:10.303 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.100048", "seconds": 10.100048}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:10.303996+05:30", "timestamp": 1755782950.303996}}}
{"text": "2025-08-21 18:59:10.304 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.100706", "seconds": 10.100706}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:10.304654+05:30", "timestamp": 1755782950.304654}}}
{"text": "2025-08-21 18:59:10.305 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.101147", "seconds": 10.101147}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:10.305095+05:30", "timestamp": 1755782950.305095}}}
{"text": "2025-08-21 18:59:10.305 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.101650", "seconds": 10.10165}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:10.305598+05:30", "timestamp": 1755782950.305598}}}
{"text": "2025-08-21 18:59:10.306 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.102468", "seconds": 10.102468}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:10.306416+05:30", "timestamp": 1755782950.306416}}}
{"text": "2025-08-21 18:59:11.870 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=11\n", "record": {"elapsed": {"repr": "0:00:11.666064", "seconds": 11.666064}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=11", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:11.870012+05:30", "timestamp": 1755782951.870012}}}
{"text": "2025-08-21 18:59:12.130 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:11.926546", "seconds": 11.926546}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.130494+05:30", "timestamp": 1755782952.130494}}}
{"text": "2025-08-21 18:59:12.131 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:11.927588", "seconds": 11.927588}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.131536+05:30", "timestamp": 1755782952.131536}}}
{"text": "2025-08-21 18:59:12.132 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2058943.31, today=2058943.31\n", "record": {"elapsed": {"repr": "0:00:11.928322", "seconds": 11.928322}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2058943.31, today=2058943.31", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.132270+05:30", "timestamp": 1755782952.13227}}}
{"text": "2025-08-21 18:59:12.132 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=351016.09, today=351016.09\n", "record": {"elapsed": {"repr": "0:00:11.928925", "seconds": 11.928925}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=351016.09, today=351016.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.132873+05:30", "timestamp": 1755782952.132873}}}
{"text": "2025-08-21 18:59:12.133 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=990697.72, today=990697.72\n", "record": {"elapsed": {"repr": "0:00:11.929506", "seconds": 11.929506}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=990697.72, today=990697.72", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.133454+05:30", "timestamp": 1755782952.133454}}}
{"text": "2025-08-21 18:59:12.134 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1027301.11, today=-1027301.11\n", "record": {"elapsed": {"repr": "0:00:11.930301", "seconds": 11.930301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1027301.11, today=-1027301.11", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.134249+05:30", "timestamp": 1755782952.134249}}}
{"text": "2025-08-21 18:59:12.135 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1150349.72, today=1150349.72\n", "record": {"elapsed": {"repr": "0:00:11.931512", "seconds": 11.931512}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1150349.72, today=1150349.72", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.135460+05:30", "timestamp": 1755782952.13546}}}
{"text": "2025-08-21 18:59:12.136 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3523705.73, day: 3523705.73\n", "record": {"elapsed": {"repr": "0:00:11.932258", "seconds": 11.932258}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3523705.73, day: 3523705.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.136206+05:30", "timestamp": 1755782952.136206}}}
{"text": "2025-08-21 18:59:12.136 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:11.932856", "seconds": 11.932856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.136804+05:30", "timestamp": 1755782952.136804}}}
{"text": "2025-08-21 18:59:12.137 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:11.933458", "seconds": 11.933458}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.137406+05:30", "timestamp": 1755782952.137406}}}
{"text": "2025-08-21 18:59:12.137 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:11.934016", "seconds": 11.934016}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.137964+05:30", "timestamp": 1755782952.137964}}}
{"text": "2025-08-21 18:59:12.138 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:11.934521", "seconds": 11.934521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.138469+05:30", "timestamp": 1755782952.138469}}}
{"text": "2025-08-21 18:59:12.138 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:12.132202+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:11.935018", "seconds": 11.935018}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:12.132202+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.138966+05:30", "timestamp": 1755782952.138966}}}
{"text": "2025-08-21 18:59:12.140 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3523705.73, day=3523705.73, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1883.01, unrealized=2058943.31, today_pnl=2058943.31), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=392.11, unrealized=351016.09, today_pnl=351016.09), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1413.4, unrealized=990697.72, today_pnl=990697.72), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1656.46, unrealized=-1027301.11, today_pnl=-1027301.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1604.81, unrealized=1150349.72, today_pnl=1150349.72)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 12, 132202, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:11.936146", "seconds": 11.936146}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3523705.73, day=3523705.73, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1883.01, unrealized=2058943.31, today_pnl=2058943.31), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=392.11, unrealized=351016.09, today_pnl=351016.09), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1413.4, unrealized=990697.72, today_pnl=990697.72), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1656.46, unrealized=-1027301.11, today_pnl=-1027301.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1604.81, unrealized=1150349.72, today_pnl=1150349.72)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 12, 132202, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.140094+05:30", "timestamp": 1755782952.140094}}}
{"text": "2025-08-21 18:59:12.141 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3523705.73, day=3523705.73, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1883.01, unrealized=2058943.31, today_pnl=2058943.31), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=392.11, unrealized=351016.09, today_pnl=351016.09), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1413.4, unrealized=990697.72, today_pnl=990697.72), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1656.46, unrealized=-1027301.11, today_pnl=-1027301.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1604.81, unrealized=1150349.72, today_pnl=1150349.72)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 12, 132202, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:11.937176", "seconds": 11.937176}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3523705.73, day=3523705.73, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1883.01, unrealized=2058943.31, today_pnl=2058943.31), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=392.11, unrealized=351016.09, today_pnl=351016.09), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1413.4, unrealized=990697.72, today_pnl=990697.72), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1656.46, unrealized=-1027301.11, today_pnl=-1027301.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1604.81, unrealized=1150349.72, today_pnl=1150349.72)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 12, 132202, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.141124+05:30", "timestamp": 1755782952.141124}}}
{"text": "2025-08-21 18:59:12.141 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3523705.73\n", "record": {"elapsed": {"repr": "0:00:11.937949", "seconds": 11.937949}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3523705.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.141897+05:30", "timestamp": 1755782952.141897}}}
{"text": "2025-08-21 18:59:12.142 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=12\n", "record": {"elapsed": {"repr": "0:00:11.938812", "seconds": 11.938812}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=12", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:12.142760+05:30", "timestamp": 1755782952.14276}}}
{"text": "2025-08-21 18:59:12.307 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.103369", "seconds": 12.103369}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:12.307317+05:30", "timestamp": 1755782952.307317}}}
{"text": "2025-08-21 18:59:12.307 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.104046", "seconds": 12.104046}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:12.307994+05:30", "timestamp": 1755782952.307994}}}
{"text": "2025-08-21 18:59:12.308 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.104693", "seconds": 12.104693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:12.308641+05:30", "timestamp": 1755782952.308641}}}
{"text": "2025-08-21 18:59:12.309 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.105575", "seconds": 12.105575}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:12.309523+05:30", "timestamp": 1755782952.309523}}}
{"text": "2025-08-21 18:59:12.310 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.106264", "seconds": 12.106264}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:12.310212+05:30", "timestamp": 1755782952.310212}}}
{"text": "2025-08-21 18:59:12.310 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.106747", "seconds": 12.106747}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:12.310695+05:30", "timestamp": 1755782952.310695}}}
{"text": "2025-08-21 18:59:12.311 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.107168", "seconds": 12.107168}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:12.311116+05:30", "timestamp": 1755782952.311116}}}
{"text": "2025-08-21 18:59:12.311 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.107702", "seconds": 12.107702}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:12.311650+05:30", "timestamp": 1755782952.31165}}}
{"text": "2025-08-21 18:59:12.312 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.108191", "seconds": 12.108191}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:12.312139+05:30", "timestamp": 1755782952.312139}}}
{"text": "2025-08-21 18:59:12.312 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.108710", "seconds": 12.10871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:12.312658+05:30", "timestamp": 1755782952.312658}}}
{"text": "2025-08-21 18:59:13.629 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=13\n", "record": {"elapsed": {"repr": "0:00:13.425609", "seconds": 13.425609}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=13", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:13.629557+05:30", "timestamp": 1755782953.629557}}}
{"text": "2025-08-21 18:59:14.038 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:13.834618", "seconds": 13.834618}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.038566+05:30", "timestamp": 1755782954.038566}}}
{"text": "2025-08-21 18:59:14.039 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:13.835582", "seconds": 13.835582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.039530+05:30", "timestamp": 1755782954.03953}}}
{"text": "2025-08-21 18:59:14.040 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2063517.97, today=2063517.97\n", "record": {"elapsed": {"repr": "0:00:13.836127", "seconds": 13.836127}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2063517.97, today=2063517.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.040075+05:30", "timestamp": 1755782954.040075}}}
{"text": "2025-08-21 18:59:14.040 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=350428.35, today=350428.35\n", "record": {"elapsed": {"repr": "0:00:13.836760", "seconds": 13.83676}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=350428.35, today=350428.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.040708+05:30", "timestamp": 1755782954.040708}}}
{"text": "2025-08-21 18:59:14.041 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=982205.48, today=982205.48\n", "record": {"elapsed": {"repr": "0:00:13.837540", "seconds": 13.83754}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=982205.48, today=982205.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.041488+05:30", "timestamp": 1755782954.041488}}}
{"text": "2025-08-21 18:59:14.042 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1051692.79, today=-1051692.79\n", "record": {"elapsed": {"repr": "0:00:13.838680", "seconds": 13.83868}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1051692.79, today=-1051692.79", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.042628+05:30", "timestamp": 1755782954.042628}}}
{"text": "2025-08-21 18:59:14.043 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1131811.79, today=1131811.79\n", "record": {"elapsed": {"repr": "0:00:13.839364", "seconds": 13.839364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1131811.79, today=1131811.79", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.043312+05:30", "timestamp": 1755782954.043312}}}
{"text": "2025-08-21 18:59:14.043 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3476270.8, day: 3476270.8\n", "record": {"elapsed": {"repr": "0:00:13.839858", "seconds": 13.839858}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3476270.8, day: 3476270.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.043806+05:30", "timestamp": 1755782954.043806}}}
{"text": "2025-08-21 18:59:14.044 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:13.840474", "seconds": 13.840474}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.044422+05:30", "timestamp": 1755782954.044422}}}
{"text": "2025-08-21 18:59:14.045 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:13.841066", "seconds": 13.841066}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.045014+05:30", "timestamp": 1755782954.045014}}}
{"text": "2025-08-21 18:59:14.045 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:13.841613", "seconds": 13.841613}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.045561+05:30", "timestamp": 1755782954.045561}}}
{"text": "2025-08-21 18:59:14.046 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:13.842118", "seconds": 13.842118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.046066+05:30", "timestamp": 1755782954.046066}}}
{"text": "2025-08-21 18:59:14.046 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:14.039986+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:13.843043", "seconds": 13.843043}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:14.039986+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.046991+05:30", "timestamp": 1755782954.046991}}}
{"text": "2025-08-21 18:59:14.047 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3476270.8, day=3476270.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1886.81, unrealized=2063517.97, today_pnl=2063517.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.58, unrealized=350428.35, today_pnl=350428.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1404.55, unrealized=982205.48, today_pnl=982205.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1685.67, unrealized=-1051692.79, today_pnl=-1051692.79), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1588.69, unrealized=1131811.79, today_pnl=1131811.79)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 14, 39986, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:13.843847", "seconds": 13.843847}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3476270.8, day=3476270.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1886.81, unrealized=2063517.97, today_pnl=2063517.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.58, unrealized=350428.35, today_pnl=350428.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1404.55, unrealized=982205.48, today_pnl=982205.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1685.67, unrealized=-1051692.79, today_pnl=-1051692.79), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1588.69, unrealized=1131811.79, today_pnl=1131811.79)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 14, 39986, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.047795+05:30", "timestamp": 1755782954.047795}}}
{"text": "2025-08-21 18:59:14.048 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3476270.8, day=3476270.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1886.81, unrealized=2063517.97, today_pnl=2063517.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.58, unrealized=350428.35, today_pnl=350428.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1404.55, unrealized=982205.48, today_pnl=982205.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1685.67, unrealized=-1051692.79, today_pnl=-1051692.79), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1588.69, unrealized=1131811.79, today_pnl=1131811.79)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 14, 39986, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:13.844671", "seconds": 13.844671}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3476270.8, day=3476270.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1886.81, unrealized=2063517.97, today_pnl=2063517.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.58, unrealized=350428.35, today_pnl=350428.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1404.55, unrealized=982205.48, today_pnl=982205.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1685.67, unrealized=-1051692.79, today_pnl=-1051692.79), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1588.69, unrealized=1131811.79, today_pnl=1131811.79)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 14, 39986, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.048619+05:30", "timestamp": 1755782954.048619}}}
{"text": "2025-08-21 18:59:14.049 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3476270.80\n", "record": {"elapsed": {"repr": "0:00:13.845519", "seconds": 13.845519}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3476270.80", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.049467+05:30", "timestamp": 1755782954.049467}}}
{"text": "2025-08-21 18:59:14.050 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=14\n", "record": {"elapsed": {"repr": "0:00:13.847051", "seconds": 13.847051}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=14", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:14.050999+05:30", "timestamp": 1755782954.050999}}}
{"text": "2025-08-21 18:59:14.313 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.109997", "seconds": 14.109997}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:14.313945+05:30", "timestamp": 1755782954.313945}}}
{"text": "2025-08-21 18:59:14.314 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.110594", "seconds": 14.110594}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:14.314542+05:30", "timestamp": 1755782954.314542}}}
{"text": "2025-08-21 18:59:14.315 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.111109", "seconds": 14.111109}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:14.315057+05:30", "timestamp": 1755782954.315057}}}
{"text": "2025-08-21 18:59:14.315 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.111775", "seconds": 14.111775}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:14.315723+05:30", "timestamp": 1755782954.315723}}}
{"text": "2025-08-21 18:59:14.316 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.112577", "seconds": 14.112577}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:14.316525+05:30", "timestamp": 1755782954.316525}}}
{"text": "2025-08-21 18:59:14.317 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.113346", "seconds": 14.113346}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:14.317294+05:30", "timestamp": 1755782954.317294}}}
{"text": "2025-08-21 18:59:14.317 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.113765", "seconds": 14.113765}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:14.317713+05:30", "timestamp": 1755782954.317713}}}
{"text": "2025-08-21 18:59:14.318 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.114173", "seconds": 14.114173}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:14.318121+05:30", "timestamp": 1755782954.318121}}}
{"text": "2025-08-21 18:59:14.318 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.114682", "seconds": 14.114682}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:14.318630+05:30", "timestamp": 1755782954.31863}}}
{"text": "2025-08-21 18:59:14.319 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.115175", "seconds": 14.115175}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:14.319123+05:30", "timestamp": 1755782954.319123}}}
{"text": "2025-08-21 18:59:15.271 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=15\n", "record": {"elapsed": {"repr": "0:00:15.067256", "seconds": 15.067256}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=15", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.271204+05:30", "timestamp": 1755782955.271204}}}
{"text": "2025-08-21 18:59:15.902 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:15.698196", "seconds": 15.698196}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.902144+05:30", "timestamp": 1755782955.902144}}}
{"text": "2025-08-21 18:59:15.902 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:15.698856", "seconds": 15.698856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.902804+05:30", "timestamp": 1755782955.902804}}}
{"text": "2025-08-21 18:59:15.903 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2041376.69, today=2041376.69\n", "record": {"elapsed": {"repr": "0:00:15.699434", "seconds": 15.699434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2041376.69, today=2041376.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.903382+05:30", "timestamp": 1755782955.903382}}}
{"text": "2025-08-21 18:59:15.904 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=350373.95, today=350373.95\n", "record": {"elapsed": {"repr": "0:00:15.700438", "seconds": 15.700438}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=350373.95, today=350373.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.904386+05:30", "timestamp": 1755782955.904386}}}
{"text": "2025-08-21 18:59:15.905 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=980993.37, today=980993.37\n", "record": {"elapsed": {"repr": "0:00:15.701070", "seconds": 15.70107}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=980993.37, today=980993.37", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.905018+05:30", "timestamp": 1755782955.905018}}}
{"text": "2025-08-21 18:59:15.905 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1039547.04, today=-1039547.04\n", "record": {"elapsed": {"repr": "0:00:15.701522", "seconds": 15.701522}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1039547.04, today=-1039547.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.905470+05:30", "timestamp": 1755782955.90547}}}
{"text": "2025-08-21 18:59:15.905 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1124082.99, today=1124082.99\n", "record": {"elapsed": {"repr": "0:00:15.701992", "seconds": 15.701992}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1124082.99, today=1124082.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.905940+05:30", "timestamp": 1755782955.90594}}}
{"text": "2025-08-21 18:59:15.906 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3457279.96, day: 3457279.96\n", "record": {"elapsed": {"repr": "0:00:15.702767", "seconds": 15.702767}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3457279.96, day: 3457279.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.906715+05:30", "timestamp": 1755782955.906715}}}
{"text": "2025-08-21 18:59:15.907 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:15.703436", "seconds": 15.703436}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.907384+05:30", "timestamp": 1755782955.907384}}}
{"text": "2025-08-21 18:59:15.908 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:15.704388", "seconds": 15.704388}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.908336+05:30", "timestamp": 1755782955.908336}}}
{"text": "2025-08-21 18:59:15.908 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:15.704885", "seconds": 15.704885}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.908833+05:30", "timestamp": 1755782955.908833}}}
{"text": "2025-08-21 18:59:15.909 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:15.705377", "seconds": 15.705377}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.909325+05:30", "timestamp": 1755782955.909325}}}
{"text": "2025-08-21 18:59:15.909 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:15.903312+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:15.705879", "seconds": 15.705879}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:15.903312+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.909827+05:30", "timestamp": 1755782955.909827}}}
{"text": "2025-08-21 18:59:15.910 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3457279.96, day=3457279.96, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1868.4, unrealized=2041376.69, today_pnl=2041376.69), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.81, unrealized=350373.95, today_pnl=350373.95), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1403.29, unrealized=980993.37, today_pnl=980993.37), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1671.13, unrealized=-1039547.04, today_pnl=-1039547.04), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1581.97, unrealized=1124082.99, today_pnl=1124082.99)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 15, 903312, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:15.706467", "seconds": 15.706467}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3457279.96, day=3457279.96, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1868.4, unrealized=2041376.69, today_pnl=2041376.69), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.81, unrealized=350373.95, today_pnl=350373.95), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1403.29, unrealized=980993.37, today_pnl=980993.37), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1671.13, unrealized=-1039547.04, today_pnl=-1039547.04), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1581.97, unrealized=1124082.99, today_pnl=1124082.99)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 15, 903312, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.910415+05:30", "timestamp": 1755782955.910415}}}
{"text": "2025-08-21 18:59:15.911 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3457279.96, day=3457279.96, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1868.4, unrealized=2041376.69, today_pnl=2041376.69), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.81, unrealized=350373.95, today_pnl=350373.95), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1403.29, unrealized=980993.37, today_pnl=980993.37), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1671.13, unrealized=-1039547.04, today_pnl=-1039547.04), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1581.97, unrealized=1124082.99, today_pnl=1124082.99)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 15, 903312, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:15.707197", "seconds": 15.707197}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3457279.96, day=3457279.96, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1868.4, unrealized=2041376.69, today_pnl=2041376.69), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.81, unrealized=350373.95, today_pnl=350373.95), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1403.29, unrealized=980993.37, today_pnl=980993.37), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1671.13, unrealized=-1039547.04, today_pnl=-1039547.04), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1581.97, unrealized=1124082.99, today_pnl=1124082.99)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 15, 903312, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.911145+05:30", "timestamp": 1755782955.911145}}}
{"text": "2025-08-21 18:59:15.912 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3457279.96\n", "record": {"elapsed": {"repr": "0:00:15.708354", "seconds": 15.708354}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3457279.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.912302+05:30", "timestamp": 1755782955.912302}}}
{"text": "2025-08-21 18:59:15.913 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=16\n", "record": {"elapsed": {"repr": "0:00:15.709341", "seconds": 15.709341}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=16", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:15.913289+05:30", "timestamp": 1755782955.913289}}}
{"text": "2025-08-21 18:59:16.320 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.116105", "seconds": 16.116105}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:16.320053+05:30", "timestamp": 1755782956.320053}}}
{"text": "2025-08-21 18:59:16.321 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.117064", "seconds": 16.117064}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:16.321012+05:30", "timestamp": 1755782956.321012}}}
{"text": "2025-08-21 18:59:16.321 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.117528", "seconds": 16.117528}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:16.321476+05:30", "timestamp": 1755782956.321476}}}
{"text": "2025-08-21 18:59:16.321 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.117981", "seconds": 16.117981}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:16.321929+05:30", "timestamp": 1755782956.321929}}}
{"text": "2025-08-21 18:59:16.322 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.118459", "seconds": 16.118459}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:16.322407+05:30", "timestamp": 1755782956.322407}}}
{"text": "2025-08-21 18:59:16.322 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.119032", "seconds": 16.119032}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:16.322980+05:30", "timestamp": 1755782956.32298}}}
{"text": "2025-08-21 18:59:16.323 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.119871", "seconds": 16.119871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:16.323819+05:30", "timestamp": 1755782956.323819}}}
{"text": "2025-08-21 18:59:16.324 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.120475", "seconds": 16.120475}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:16.324423+05:30", "timestamp": 1755782956.324423}}}
{"text": "2025-08-21 18:59:16.324 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.120840", "seconds": 16.12084}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:16.324788+05:30", "timestamp": 1755782956.324788}}}
{"text": "2025-08-21 18:59:16.325 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.121182", "seconds": 16.121182}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:16.325130+05:30", "timestamp": 1755782956.32513}}}
{"text": "2025-08-21 18:59:17.238 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=17\n", "record": {"elapsed": {"repr": "0:00:17.034234", "seconds": 17.034234}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=17", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.238182+05:30", "timestamp": 1755782957.238182}}}
{"text": "2025-08-21 18:59:17.694 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:17.490145", "seconds": 17.490145}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.694093+05:30", "timestamp": 1755782957.694093}}}
{"text": "2025-08-21 18:59:17.695 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:17.491336", "seconds": 17.491336}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.695284+05:30", "timestamp": 1755782957.695284}}}
{"text": "2025-08-21 18:59:17.695 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2007096.18, today=2007096.18\n", "record": {"elapsed": {"repr": "0:00:17.491933", "seconds": 17.491933}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2007096.18, today=2007096.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.695881+05:30", "timestamp": 1755782957.695881}}}
{"text": "2025-08-21 18:59:17.696 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=351968.21, today=351968.21\n", "record": {"elapsed": {"repr": "0:00:17.492573", "seconds": 17.492573}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=351968.21, today=351968.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.696521+05:30", "timestamp": 1755782957.696521}}}
{"text": "2025-08-21 18:59:17.697 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1005534.21, today=1005534.21\n", "record": {"elapsed": {"repr": "0:00:17.493158", "seconds": 17.493158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1005534.21, today=1005534.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.697106+05:30", "timestamp": 1755782957.697106}}}
{"text": "2025-08-21 18:59:17.697 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1029359.3, today=-1029359.3\n", "record": {"elapsed": {"repr": "0:00:17.493758", "seconds": 17.493758}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1029359.3, today=-1029359.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.697706+05:30", "timestamp": 1755782957.697706}}}
{"text": "2025-08-21 18:59:17.698 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1152910.68, today=1152910.68\n", "record": {"elapsed": {"repr": "0:00:17.494810", "seconds": 17.49481}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1152910.68, today=1152910.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.698758+05:30", "timestamp": 1755782957.698758}}}
{"text": "2025-08-21 18:59:17.699 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3488149.98, day: 3488149.98\n", "record": {"elapsed": {"repr": "0:00:17.495559", "seconds": 17.495559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3488149.98, day: 3488149.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.699507+05:30", "timestamp": 1755782957.699507}}}
{"text": "2025-08-21 18:59:17.700 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:17.496186", "seconds": 17.496186}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.700134+05:30", "timestamp": 1755782957.700134}}}
{"text": "2025-08-21 18:59:17.700 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:17.496769", "seconds": 17.496769}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.700717+05:30", "timestamp": 1755782957.700717}}}
{"text": "2025-08-21 18:59:17.701 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:17.497469", "seconds": 17.497469}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.701417+05:30", "timestamp": 1755782957.701417}}}
{"text": "2025-08-21 18:59:17.702 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:17.498275", "seconds": 17.498275}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.702223+05:30", "timestamp": 1755782957.702223}}}
{"text": "2025-08-21 18:59:17.702 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:17.695798+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:17.499035", "seconds": 17.499035}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:17.695798+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.702983+05:30", "timestamp": 1755782957.702983}}}
{"text": "2025-08-21 18:59:17.704 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3488149.98, day=3488149.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1839.91, unrealized=2007096.18, today_pnl=2007096.18), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=388.11, unrealized=351968.21, today_pnl=351968.21), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1428.85, unrealized=1005534.21, today_pnl=1005534.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1658.93, unrealized=-1029359.3, today_pnl=-1029359.3), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1607.04, unrealized=1152910.68, today_pnl=1152910.68)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 17, 695798, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:17.500076", "seconds": 17.500076}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3488149.98, day=3488149.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1839.91, unrealized=2007096.18, today_pnl=2007096.18), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=388.11, unrealized=351968.21, today_pnl=351968.21), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1428.85, unrealized=1005534.21, today_pnl=1005534.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1658.93, unrealized=-1029359.3, today_pnl=-1029359.3), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1607.04, unrealized=1152910.68, today_pnl=1152910.68)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 17, 695798, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.704024+05:30", "timestamp": 1755782957.704024}}}
{"text": "2025-08-21 18:59:17.704 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3488149.98, day=3488149.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1839.91, unrealized=2007096.18, today_pnl=2007096.18), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=388.11, unrealized=351968.21, today_pnl=351968.21), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1428.85, unrealized=1005534.21, today_pnl=1005534.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1658.93, unrealized=-1029359.3, today_pnl=-1029359.3), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1607.04, unrealized=1152910.68, today_pnl=1152910.68)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 17, 695798, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:17.501006", "seconds": 17.501006}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3488149.98, day=3488149.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1839.91, unrealized=2007096.18, today_pnl=2007096.18), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=388.11, unrealized=351968.21, today_pnl=351968.21), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1428.85, unrealized=1005534.21, today_pnl=1005534.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1658.93, unrealized=-1029359.3, today_pnl=-1029359.3), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1607.04, unrealized=1152910.68, today_pnl=1152910.68)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 17, 695798, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.704954+05:30", "timestamp": 1755782957.704954}}}
{"text": "2025-08-21 18:59:17.705 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3488149.98\n", "record": {"elapsed": {"repr": "0:00:17.501796", "seconds": 17.501796}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3488149.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.705744+05:30", "timestamp": 1755782957.705744}}}
{"text": "2025-08-21 18:59:17.706 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=18\n", "record": {"elapsed": {"repr": "0:00:17.502920", "seconds": 17.50292}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=18", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:17.706868+05:30", "timestamp": 1755782957.706868}}}
{"text": "2025-08-21 18:59:18.326 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.122348", "seconds": 18.122348}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:18.326296+05:30", "timestamp": 1755782958.326296}}}
{"text": "2025-08-21 18:59:18.326 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.123005", "seconds": 18.123005}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:18.326953+05:30", "timestamp": 1755782958.326953}}}
{"text": "2025-08-21 18:59:18.327 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.124025", "seconds": 18.124025}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:18.327973+05:30", "timestamp": 1755782958.327973}}}
{"text": "2025-08-21 18:59:18.328 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.124585", "seconds": 18.124585}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:18.328533+05:30", "timestamp": 1755782958.328533}}}
{"text": "2025-08-21 18:59:18.328 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.124984", "seconds": 18.124984}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:18.328932+05:30", "timestamp": 1755782958.328932}}}
{"text": "2025-08-21 18:59:18.329 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.125491", "seconds": 18.125491}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:18.329439+05:30", "timestamp": 1755782958.329439}}}
{"text": "2025-08-21 18:59:18.329 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.125983", "seconds": 18.125983}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:18.329931+05:30", "timestamp": 1755782958.329931}}}
{"text": "2025-08-21 18:59:18.330 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.126549", "seconds": 18.126549}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:18.330497+05:30", "timestamp": 1755782958.330497}}}
{"text": "2025-08-21 18:59:18.331 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.127383", "seconds": 18.127383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:18.331331+05:30", "timestamp": 1755782958.331331}}}
{"text": "2025-08-21 18:59:18.332 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.128140", "seconds": 18.12814}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:18.332088+05:30", "timestamp": 1755782958.332088}}}
{"text": "2025-08-21 18:59:19.196 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=19\n", "record": {"elapsed": {"repr": "0:00:18.992281", "seconds": 18.992281}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=19", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.196229+05:30", "timestamp": 1755782959.196229}}}
{"text": "2025-08-21 18:59:19.390 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:19.186559", "seconds": 19.186559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.390507+05:30", "timestamp": 1755782959.390507}}}
{"text": "2025-08-21 18:59:19.391 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:19.187115", "seconds": 19.187115}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.391063+05:30", "timestamp": 1755782959.391063}}}
{"text": "2025-08-21 18:59:19.391 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2030820.81, today=2030820.81\n", "record": {"elapsed": {"repr": "0:00:19.187611", "seconds": 19.187611}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2030820.81, today=2030820.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.391559+05:30", "timestamp": 1755782959.391559}}}
{"text": "2025-08-21 18:59:19.391 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=350579.96, today=350579.96\n", "record": {"elapsed": {"repr": "0:00:19.188049", "seconds": 19.188049}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=350579.96, today=350579.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.391997+05:30", "timestamp": 1755782959.391997}}}
{"text": "2025-08-21 18:59:19.392 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1017160.29, today=1017160.29\n", "record": {"elapsed": {"repr": "0:00:19.188579", "seconds": 19.188579}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1017160.29, today=1017160.29", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.392527+05:30", "timestamp": 1755782959.392527}}}
{"text": "2025-08-21 18:59:19.393 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1047014.55, today=-1047014.55\n", "record": {"elapsed": {"repr": "0:00:19.189124", "seconds": 19.189124}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1047014.55, today=-1047014.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.393072+05:30", "timestamp": 1755782959.393072}}}
{"text": "2025-08-21 18:59:19.393 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1135707.33, today=1135707.33\n", "record": {"elapsed": {"repr": "0:00:19.190016", "seconds": 19.190016}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1135707.33, today=1135707.33", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.393964+05:30", "timestamp": 1755782959.393964}}}
{"text": "2025-08-21 18:59:19.394 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3487253.84, day: 3487253.84\n", "record": {"elapsed": {"repr": "0:00:19.190623", "seconds": 19.190623}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3487253.84, day: 3487253.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.394571+05:30", "timestamp": 1755782959.394571}}}
{"text": "2025-08-21 18:59:19.395 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:19.191101", "seconds": 19.191101}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.395049+05:30", "timestamp": 1755782959.395049}}}
{"text": "2025-08-21 18:59:19.395 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:19.191566", "seconds": 19.191566}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.395514+05:30", "timestamp": 1755782959.395514}}}
{"text": "2025-08-21 18:59:19.396 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:19.192155", "seconds": 19.192155}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.396103+05:30", "timestamp": 1755782959.396103}}}
{"text": "2025-08-21 18:59:19.396 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:19.192822", "seconds": 19.192822}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.396770+05:30", "timestamp": 1755782959.39677}}}
{"text": "2025-08-21 18:59:19.397 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:19.391507+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:19.193718", "seconds": 19.193718}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:19.391507+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.397666+05:30", "timestamp": 1755782959.397666}}}
{"text": "2025-08-21 18:59:19.398 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3487253.84, day=3487253.84, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.63, unrealized=2030820.81, today_pnl=2030820.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=393.94, unrealized=350579.96, today_pnl=350579.96), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1440.96, unrealized=1017160.29, today_pnl=1017160.29), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1680.07, unrealized=-1047014.55, today_pnl=-1047014.55), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1592.08, unrealized=1135707.33, today_pnl=1135707.33)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 19, 391507, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:19.194506", "seconds": 19.194506}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3487253.84, day=3487253.84, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.63, unrealized=2030820.81, today_pnl=2030820.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=393.94, unrealized=350579.96, today_pnl=350579.96), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1440.96, unrealized=1017160.29, today_pnl=1017160.29), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1680.07, unrealized=-1047014.55, today_pnl=-1047014.55), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1592.08, unrealized=1135707.33, today_pnl=1135707.33)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 19, 391507, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.398454+05:30", "timestamp": 1755782959.398454}}}
{"text": "2025-08-21 18:59:19.399 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3487253.84, day=3487253.84, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.63, unrealized=2030820.81, today_pnl=2030820.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=393.94, unrealized=350579.96, today_pnl=350579.96), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1440.96, unrealized=1017160.29, today_pnl=1017160.29), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1680.07, unrealized=-1047014.55, today_pnl=-1047014.55), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1592.08, unrealized=1135707.33, today_pnl=1135707.33)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 19, 391507, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:19.195219", "seconds": 19.195219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3487253.84, day=3487253.84, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.63, unrealized=2030820.81, today_pnl=2030820.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=393.94, unrealized=350579.96, today_pnl=350579.96), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1440.96, unrealized=1017160.29, today_pnl=1017160.29), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1680.07, unrealized=-1047014.55, today_pnl=-1047014.55), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1592.08, unrealized=1135707.33, today_pnl=1135707.33)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 19, 391507, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.399167+05:30", "timestamp": 1755782959.399167}}}
{"text": "2025-08-21 18:59:19.399 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3487253.84\n", "record": {"elapsed": {"repr": "0:00:19.195890", "seconds": 19.19589}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3487253.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.399838+05:30", "timestamp": 1755782959.399838}}}
{"text": "2025-08-21 18:59:19.400 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=20\n", "record": {"elapsed": {"repr": "0:00:19.196567", "seconds": 19.196567}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=20", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:19.400515+05:30", "timestamp": 1755782959.400515}}}
{"text": "2025-08-21 18:59:20.333 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.129137", "seconds": 20.129137}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:20.333085+05:30", "timestamp": 1755782960.333085}}}
{"text": "2025-08-21 18:59:20.334 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.130333", "seconds": 20.130333}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:20.334281+05:30", "timestamp": 1755782960.334281}}}
{"text": "2025-08-21 18:59:20.335 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.131687", "seconds": 20.131687}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:20.335635+05:30", "timestamp": 1755782960.335635}}}
{"text": "2025-08-21 18:59:20.336 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.132291", "seconds": 20.132291}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:20.336239+05:30", "timestamp": 1755782960.336239}}}
{"text": "2025-08-21 18:59:20.336 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.132852", "seconds": 20.132852}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:20.336800+05:30", "timestamp": 1755782960.3368}}}
{"text": "2025-08-21 18:59:20.337 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.133293", "seconds": 20.133293}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:20.337241+05:30", "timestamp": 1755782960.337241}}}
{"text": "2025-08-21 18:59:20.337 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.133779", "seconds": 20.133779}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:20.337727+05:30", "timestamp": 1755782960.337727}}}
{"text": "2025-08-21 18:59:20.338 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.134427", "seconds": 20.134427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:20.338375+05:30", "timestamp": 1755782960.338375}}}
{"text": "2025-08-21 18:59:20.339 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.135858", "seconds": 20.135858}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:20.339806+05:30", "timestamp": 1755782960.339806}}}
{"text": "2025-08-21 18:59:20.340 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.136627", "seconds": 20.136627}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:20.340575+05:30", "timestamp": 1755782960.340575}}}
{"text": "2025-08-21 18:59:20.925 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:20.721465", "seconds": 20.721465}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.925413+05:30", "timestamp": 1755782960.925413}}}
{"text": "2025-08-21 18:59:20.926 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:20.722826", "seconds": 20.722826}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.926774+05:30", "timestamp": 1755782960.926774}}}
{"text": "2025-08-21 18:59:20.927 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2065858.67, today=2065858.67\n", "record": {"elapsed": {"repr": "0:00:20.723549", "seconds": 20.723549}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2065858.67, today=2065858.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.927497+05:30", "timestamp": 1755782960.927497}}}
{"text": "2025-08-21 18:59:20.928 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=349075.22, today=349075.22\n", "record": {"elapsed": {"repr": "0:00:20.724379", "seconds": 20.724379}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=349075.22, today=349075.22", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.928327+05:30", "timestamp": 1755782960.928327}}}
{"text": "2025-08-21 18:59:20.929 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1042140.34, today=1042140.34\n", "record": {"elapsed": {"repr": "0:00:20.725078", "seconds": 20.725078}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1042140.34, today=1042140.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.929026+05:30", "timestamp": 1755782960.929026}}}
{"text": "2025-08-21 18:59:20.930 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1029768.39, today=-1029768.39\n", "record": {"elapsed": {"repr": "0:00:20.726150", "seconds": 20.72615}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1029768.39, today=-1029768.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.930098+05:30", "timestamp": 1755782960.930098}}}
{"text": "2025-08-21 18:59:20.930 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1102360.42, today=1102360.42\n", "record": {"elapsed": {"repr": "0:00:20.727022", "seconds": 20.727022}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1102360.42, today=1102360.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.930970+05:30", "timestamp": 1755782960.93097}}}
{"text": "2025-08-21 18:59:20.931 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3529666.26, day: 3529666.26\n", "record": {"elapsed": {"repr": "0:00:20.727743", "seconds": 20.727743}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3529666.26, day: 3529666.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.931691+05:30", "timestamp": 1755782960.931691}}}
{"text": "2025-08-21 18:59:20.932 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:20.728444", "seconds": 20.728444}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.932392+05:30", "timestamp": 1755782960.932392}}}
{"text": "2025-08-21 18:59:20.933 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:20.729105", "seconds": 20.729105}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.933053+05:30", "timestamp": 1755782960.933053}}}
{"text": "2025-08-21 18:59:20.933 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:20.729748", "seconds": 20.729748}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.933696+05:30", "timestamp": 1755782960.933696}}}
{"text": "2025-08-21 18:59:20.934 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:20.730823", "seconds": 20.730823}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.934771+05:30", "timestamp": 1755782960.934771}}}
{"text": "2025-08-21 18:59:20.935 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:20.927422+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:20.731668", "seconds": 20.731668}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:20.927422+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.935616+05:30", "timestamp": 1755782960.935616}}}
{"text": "2025-08-21 18:59:20.936 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3529666.26, day=3529666.26, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1888.76, unrealized=2065858.67, today_pnl=2065858.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=400.27, unrealized=349075.22, today_pnl=349075.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1466.98, unrealized=1042140.34, today_pnl=1042140.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1659.42, unrealized=-1029768.39, today_pnl=-1029768.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1563.08, unrealized=1102360.42, today_pnl=1102360.42)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 20, 927422, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:20.732658", "seconds": 20.732658}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3529666.26, day=3529666.26, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1888.76, unrealized=2065858.67, today_pnl=2065858.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=400.27, unrealized=349075.22, today_pnl=349075.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1466.98, unrealized=1042140.34, today_pnl=1042140.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1659.42, unrealized=-1029768.39, today_pnl=-1029768.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1563.08, unrealized=1102360.42, today_pnl=1102360.42)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 20, 927422, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.936606+05:30", "timestamp": 1755782960.936606}}}
{"text": "2025-08-21 18:59:20.938 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3529666.26, day=3529666.26, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1888.76, unrealized=2065858.67, today_pnl=2065858.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=400.27, unrealized=349075.22, today_pnl=349075.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1466.98, unrealized=1042140.34, today_pnl=1042140.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1659.42, unrealized=-1029768.39, today_pnl=-1029768.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1563.08, unrealized=1102360.42, today_pnl=1102360.42)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 20, 927422, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:20.734814", "seconds": 20.734814}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3529666.26, day=3529666.26, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1888.76, unrealized=2065858.67, today_pnl=2065858.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=400.27, unrealized=349075.22, today_pnl=349075.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1466.98, unrealized=1042140.34, today_pnl=1042140.34), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1659.42, unrealized=-1029768.39, today_pnl=-1029768.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1563.08, unrealized=1102360.42, today_pnl=1102360.42)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 20, 927422, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.938762+05:30", "timestamp": 1755782960.938762}}}
{"text": "2025-08-21 18:59:20.939 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3529666.26\n", "record": {"elapsed": {"repr": "0:00:20.735847", "seconds": 20.735847}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3529666.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.939795+05:30", "timestamp": 1755782960.939795}}}
{"text": "2025-08-21 18:59:20.940 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=21\n", "record": {"elapsed": {"repr": "0:00:20.736636", "seconds": 20.736636}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=21", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:20.940584+05:30", "timestamp": 1755782960.940584}}}
{"text": "2025-08-21 18:59:21.130 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=22\n", "record": {"elapsed": {"repr": "0:00:20.926932", "seconds": 20.926932}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=22", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:21.130880+05:30", "timestamp": 1755782961.13088}}}
{"text": "2025-08-21 18:59:22.341 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.137745", "seconds": 22.137745}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:22.341693+05:30", "timestamp": 1755782962.341693}}}
{"text": "2025-08-21 18:59:22.343 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.139182", "seconds": 22.139182}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:22.343130+05:30", "timestamp": 1755782962.34313}}}
{"text": "2025-08-21 18:59:22.343 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.139939", "seconds": 22.139939}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:22.343887+05:30", "timestamp": 1755782962.343887}}}
{"text": "2025-08-21 18:59:22.344 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.140935", "seconds": 22.140935}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:22.344883+05:30", "timestamp": 1755782962.344883}}}
{"text": "2025-08-21 18:59:22.345 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.141817", "seconds": 22.141817}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:22.345765+05:30", "timestamp": 1755782962.345765}}}
{"text": "2025-08-21 18:59:22.347 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.143233", "seconds": 22.143233}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:22.347181+05:30", "timestamp": 1755782962.347181}}}
{"text": "2025-08-21 18:59:22.348 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.144385", "seconds": 22.144385}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:22.348333+05:30", "timestamp": 1755782962.348333}}}
{"text": "2025-08-21 18:59:22.349 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.145298", "seconds": 22.145298}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:22.349246+05:30", "timestamp": 1755782962.349246}}}
{"text": "2025-08-21 18:59:22.349 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.145965", "seconds": 22.145965}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:22.349913+05:30", "timestamp": 1755782962.349913}}}
{"text": "2025-08-21 18:59:22.351 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.147280", "seconds": 22.14728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:22.351228+05:30", "timestamp": 1755782962.351228}}}
{"text": "2025-08-21 18:59:22.746 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:22.542186", "seconds": 22.542186}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.746134+05:30", "timestamp": 1755782962.746134}}}
{"text": "2025-08-21 18:59:22.746 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:22.542860", "seconds": 22.54286}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.746808+05:30", "timestamp": 1755782962.746808}}}
{"text": "2025-08-21 18:59:22.747 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2030470.52, today=2030470.52\n", "record": {"elapsed": {"repr": "0:00:22.543478", "seconds": 22.543478}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2030470.52, today=2030470.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.747426+05:30", "timestamp": 1755782962.747426}}}
{"text": "2025-08-21 18:59:22.747 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=350436.06, today=350436.06\n", "record": {"elapsed": {"repr": "0:00:22.543979", "seconds": 22.543979}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=350436.06, today=350436.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.747927+05:30", "timestamp": 1755782962.747927}}}
{"text": "2025-08-21 18:59:22.748 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1037376.15, today=1037376.15\n", "record": {"elapsed": {"repr": "0:00:22.544404", "seconds": 22.544404}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1037376.15, today=1037376.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.748352+05:30", "timestamp": 1755782962.748352}}}
{"text": "2025-08-21 18:59:22.748 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1055043.81, today=-1055043.81\n", "record": {"elapsed": {"repr": "0:00:22.544952", "seconds": 22.544952}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1055043.81, today=-1055043.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.748900+05:30", "timestamp": 1755782962.7489}}}
{"text": "2025-08-21 18:59:22.749 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1113007.24, today=1113007.24\n", "record": {"elapsed": {"repr": "0:00:22.545557", "seconds": 22.545557}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1113007.24, today=1113007.24", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.749505+05:30", "timestamp": 1755782962.749505}}}
{"text": "2025-08-21 18:59:22.750 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3476246.16, day: 3476246.16\n", "record": {"elapsed": {"repr": "0:00:22.546575", "seconds": 22.546575}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3476246.16, day: 3476246.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.750523+05:30", "timestamp": 1755782962.750523}}}
{"text": "2025-08-21 18:59:22.751 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:22.547198", "seconds": 22.547198}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.751146+05:30", "timestamp": 1755782962.751146}}}
{"text": "2025-08-21 18:59:22.751 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:22.547733", "seconds": 22.547733}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.751681+05:30", "timestamp": 1755782962.751681}}}
{"text": "2025-08-21 18:59:22.752 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:22.548609", "seconds": 22.548609}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.752557+05:30", "timestamp": 1755782962.752557}}}
{"text": "2025-08-21 18:59:22.753 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:22.549103", "seconds": 22.549103}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.753051+05:30", "timestamp": 1755782962.753051}}}
{"text": "2025-08-21 18:59:22.754 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:22.747365+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:22.550217", "seconds": 22.550217}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:22.747365+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.754165+05:30", "timestamp": 1755782962.754165}}}
{"text": "2025-08-21 18:59:22.755 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3476246.16, day=3476246.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.34, unrealized=2030470.52, today_pnl=2030470.52), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.55, unrealized=350436.06, today_pnl=350436.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1462.02, unrealized=1037376.15, today_pnl=1037376.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1689.69, unrealized=-1055043.81, today_pnl=-1055043.81), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1572.34, unrealized=1113007.24, today_pnl=1113007.24)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 22, 747365, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:22.551140", "seconds": 22.55114}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3476246.16, day=3476246.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.34, unrealized=2030470.52, today_pnl=2030470.52), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.55, unrealized=350436.06, today_pnl=350436.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1462.02, unrealized=1037376.15, today_pnl=1037376.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1689.69, unrealized=-1055043.81, today_pnl=-1055043.81), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1572.34, unrealized=1113007.24, today_pnl=1113007.24)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 22, 747365, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.755088+05:30", "timestamp": 1755782962.755088}}}
{"text": "2025-08-21 18:59:22.755 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3476246.16, day=3476246.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.34, unrealized=2030470.52, today_pnl=2030470.52), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.55, unrealized=350436.06, today_pnl=350436.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1462.02, unrealized=1037376.15, today_pnl=1037376.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1689.69, unrealized=-1055043.81, today_pnl=-1055043.81), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1572.34, unrealized=1113007.24, today_pnl=1113007.24)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 22, 747365, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:22.551970", "seconds": 22.55197}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3476246.16, day=3476246.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1859.34, unrealized=2030470.52, today_pnl=2030470.52), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=394.55, unrealized=350436.06, today_pnl=350436.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1462.02, unrealized=1037376.15, today_pnl=1037376.15), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1689.69, unrealized=-1055043.81, today_pnl=-1055043.81), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1572.34, unrealized=1113007.24, today_pnl=1113007.24)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 22, 747365, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.755918+05:30", "timestamp": 1755782962.755918}}}
{"text": "2025-08-21 18:59:22.756 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3476246.16\n", "record": {"elapsed": {"repr": "0:00:22.552615", "seconds": 22.552615}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3476246.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.756563+05:30", "timestamp": 1755782962.756563}}}
{"text": "2025-08-21 18:59:22.757 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=23\n", "record": {"elapsed": {"repr": "0:00:22.553655", "seconds": 22.553655}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=23", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:22.757603+05:30", "timestamp": 1755782962.757603}}}
{"text": "2025-08-21 18:59:23.025 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=24\n", "record": {"elapsed": {"repr": "0:00:22.821963", "seconds": 22.821963}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=24", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:23.025911+05:30", "timestamp": 1755782963.025911}}}
{"text": "2025-08-21 18:59:24.352 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.148337", "seconds": 24.148337}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:24.352285+05:30", "timestamp": 1755782964.352285}}}
{"text": "2025-08-21 18:59:24.352 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.149027", "seconds": 24.149027}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:24.352975+05:30", "timestamp": 1755782964.352975}}}
{"text": "2025-08-21 18:59:24.353 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.149523", "seconds": 24.149523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:24.353471+05:30", "timestamp": 1755782964.353471}}}
{"text": "2025-08-21 18:59:24.353 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.150012", "seconds": 24.150012}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:24.353960+05:30", "timestamp": 1755782964.35396}}}
{"text": "2025-08-21 18:59:24.354 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.150441", "seconds": 24.150441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:24.354389+05:30", "timestamp": 1755782964.354389}}}
{"text": "2025-08-21 18:59:24.354 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.150866", "seconds": 24.150866}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:24.354814+05:30", "timestamp": 1755782964.354814}}}
{"text": "2025-08-21 18:59:24.355 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.151237", "seconds": 24.151237}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:24.355185+05:30", "timestamp": 1755782964.355185}}}
{"text": "2025-08-21 18:59:24.355 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.151705", "seconds": 24.151705}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:24.355653+05:30", "timestamp": 1755782964.355653}}}
{"text": "2025-08-21 18:59:24.356 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.152241", "seconds": 24.152241}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:24.356189+05:30", "timestamp": 1755782964.356189}}}
{"text": "2025-08-21 18:59:24.356 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.152675", "seconds": 24.152675}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 27100, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:59:24.356623+05:30", "timestamp": 1755782964.356623}}}
{"text": "2025-08-21 18:59:24.461 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:24.257365", "seconds": 24.257365}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.461313+05:30", "timestamp": 1755782964.461313}}}
{"text": "2025-08-21 18:59:24.462 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:24.258181", "seconds": 24.258181}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.462129+05:30", "timestamp": 1755782964.462129}}}
{"text": "2025-08-21 18:59:24.462 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=2035635.81, today=2035635.81\n", "record": {"elapsed": {"repr": "0:00:24.258781", "seconds": 24.258781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=2035635.81, today=2035635.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.462729+05:30", "timestamp": 1755782964.462729}}}
{"text": "2025-08-21 18:59:24.463 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=351931.54, today=351931.54\n", "record": {"elapsed": {"repr": "0:00:24.259276", "seconds": 24.259276}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=351931.54, today=351931.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.463224+05:30", "timestamp": 1755782964.463224}}}
{"text": "2025-08-21 18:59:24.463 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1044307.67, today=1044307.67\n", "record": {"elapsed": {"repr": "0:00:24.259860", "seconds": 24.25986}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1044307.67, today=1044307.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.463808+05:30", "timestamp": 1755782964.463808}}}
{"text": "2025-08-21 18:59:24.464 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1064590.25, today=-1064590.25\n", "record": {"elapsed": {"repr": "0:00:24.260795", "seconds": 24.260795}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1064590.25, today=-1064590.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.464743+05:30", "timestamp": 1755782964.464743}}}
{"text": "2025-08-21 18:59:24.466 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1088891.26, today=1088891.26\n", "record": {"elapsed": {"repr": "0:00:24.262338", "seconds": 24.262338}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1088891.26, today=1088891.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.466286+05:30", "timestamp": 1755782964.466286}}}
{"text": "2025-08-21 18:59:24.467 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3456176.03, day: 3456176.03\n", "record": {"elapsed": {"repr": "0:00:24.263342", "seconds": 24.263342}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3456176.03, day: 3456176.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.467290+05:30", "timestamp": 1755782964.46729}}}
{"text": "2025-08-21 18:59:24.468 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:24.264164", "seconds": 24.264164}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.468112+05:30", "timestamp": 1755782964.468112}}}
{"text": "2025-08-21 18:59:24.468 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:24.264643", "seconds": 24.264643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.468591+05:30", "timestamp": 1755782964.468591}}}
{"text": "2025-08-21 18:59:24.469 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:24.265084", "seconds": 24.265084}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.469032+05:30", "timestamp": 1755782964.469032}}}
{"text": "2025-08-21 18:59:24.469 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:24.265450", "seconds": 24.26545}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.469398+05:30", "timestamp": 1755782964.469398}}}
{"text": "2025-08-21 18:59:24.469 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:24.462646+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:24.265967", "seconds": 24.265967}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:59:24.462646+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.469915+05:30", "timestamp": 1755782964.469915}}}
{"text": "2025-08-21 18:59:24.470 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3456176.03, day=3456176.03, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1863.63, unrealized=2035635.81, today_pnl=2035635.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=388.27, unrealized=351931.54, today_pnl=351931.54), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1469.24, unrealized=1044307.67, today_pnl=1044307.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1701.12, unrealized=-1064590.25, today_pnl=-1064590.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1551.37, unrealized=1088891.26, today_pnl=1088891.26)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 24, 462646, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:24.266481", "seconds": 24.266481}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3456176.03, day=3456176.03, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1863.63, unrealized=2035635.81, today_pnl=2035635.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=388.27, unrealized=351931.54, today_pnl=351931.54), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1469.24, unrealized=1044307.67, today_pnl=1044307.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1701.12, unrealized=-1064590.25, today_pnl=-1064590.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1551.37, unrealized=1088891.26, today_pnl=1088891.26)] updated_at=datetime.datetime(2025, 8, 21, 18, 59, 24, 462646, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.470429+05:30", "timestamp": 1755782964.470429}}}
{"text": "2025-08-21 18:59:24.471 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3456176.03, day=3456176.03, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1863.63, unrealized=2035635.81, today_pnl=2035635.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=388.27, unrealized=351931.54, today_pnl=351931.54), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1469.24, unrealized=1044307.67, today_pnl=1044307.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1701.12, unrealized=-1064590.25, today_pnl=-1064590.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1551.37, unrealized=1088891.26, today_pnl=1088891.26)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 24, 462646, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:24.267067", "seconds": 24.267067}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3456176.03, day=3456176.03, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1203, avg=171.5, ltp=1863.63, unrealized=2035635.81, today_pnl=2035635.81), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=238, avg=1866.97, ltp=388.27, unrealized=351931.54, today_pnl=351931.54), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=960, avg=381.42, ltp=1469.24, unrealized=1044307.67, today_pnl=1044307.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=835, avg=426.16, ltp=1701.12, unrealized=-1064590.25, today_pnl=-1064590.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1150, avg=604.51, ltp=1551.37, unrealized=1088891.26, today_pnl=1088891.26)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 59, 24, 462646, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.471015+05:30", "timestamp": 1755782964.471015}}}
{"text": "2025-08-21 18:59:24.471 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3456176.03\n", "record": {"elapsed": {"repr": "0:00:24.267703", "seconds": 24.267703}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3456176.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.471651+05:30", "timestamp": 1755782964.471651}}}
{"text": "2025-08-21 18:59:24.472 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=25\n", "record": {"elapsed": {"repr": "0:00:24.268408", "seconds": 24.268408}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=25", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.472356+05:30", "timestamp": 1755782964.472356}}}
{"text": "2025-08-21 18:59:24.869 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=26\n", "record": {"elapsed": {"repr": "0:00:24.665392", "seconds": 24.665392}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=26", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.869340+05:30", "timestamp": 1755782964.86934}}}
{"text": "2025-08-21 18:59:24.870 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:24.666296", "seconds": 24.666296}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.870244+05:30", "timestamp": 1755782964.870244}}}
{"text": "2025-08-21 18:59:24.870 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:24.667017", "seconds": 24.667017}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.870965+05:30", "timestamp": 1755782964.870965}}}
{"text": "2025-08-21 18:59:24.871 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:24.667494", "seconds": 24.667494}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 27000, "name": "MainProcess"}, "thread": {"id": 25068, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:59:24.871442+05:30", "timestamp": 1755782964.871442}}}
{"text": "2025-08-21 19:01:18.337 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.044973", "seconds": 0.044973}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.337515+05:30", "timestamp": 1755783078.337515}}}
{"text": "2025-08-21 19:01:18.338 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=748, avg_price=268.9270667317892, ltp=310.87588704462235\n", "record": {"elapsed": {"repr": "0:00:00.046203", "seconds": 0.046203}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=748, avg_price=268.9270667317892, ltp=310.87588704462235", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.338745+05:30", "timestamp": 1755783078.338745}}}
{"text": "2025-08-21 19:01:18.339 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=4372, avg_price=1083.8536738857151, ltp=1263.048233123649\n", "record": {"elapsed": {"repr": "0:00:00.046879", "seconds": 0.046879}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=4372, avg_price=1083.8536738857151, ltp=1263.048233123649", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.339421+05:30", "timestamp": 1755783078.339421}}}
{"text": "2025-08-21 19:01:18.339 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=4726, avg_price=1960.7256797950272, ltp=1887.0206744561312\n", "record": {"elapsed": {"repr": "0:00:00.047419", "seconds": 0.047419}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=4726, avg_price=1960.7256797950272, ltp=1887.0206744561312", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.339961+05:30", "timestamp": 1755783078.339961}}}
{"text": "2025-08-21 19:01:18.340 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=1058, avg_price=1365.0389115425373, ltp=1195.5462026073553\n", "record": {"elapsed": {"repr": "0:00:00.047941", "seconds": 0.047941}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=1058, avg_price=1365.0389115425373, ltp=1195.5462026073553", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.340483+05:30", "timestamp": 1755783078.340483}}}
{"text": "2025-08-21 19:01:18.341 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=1994, avg_price=745.0815759572217, ltp=838.2312593984814\n", "record": {"elapsed": {"repr": "0:00:00.048497", "seconds": 0.048497}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=1994, avg_price=745.0815759572217, ltp=838.2312593984814", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.341039+05:30", "timestamp": 1755783078.341039}}}
{"text": "2025-08-21 19:01:18.341 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=2472, avg_price=1057.4563564167422, ltp=1198.4981434430715\n", "record": {"elapsed": {"repr": "0:00:00.049122", "seconds": 0.049122}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=2472, avg_price=1057.4563564167422, ltp=1198.4981434430715", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.341664+05:30", "timestamp": 1755783078.341664}}}
{"text": "2025-08-21 19:01:18.342 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=3096, avg_price=1165.083066886062, ltp=1261.5780188053664\n", "record": {"elapsed": {"repr": "0:00:00.050256", "seconds": 0.050256}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=3096, avg_price=1165.083066886062, ltp=1261.5780188053664", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.342798+05:30", "timestamp": 1755783078.342798}}}
{"text": "2025-08-21 19:01:18.343 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=4126, avg_price=1303.161992501345, ltp=1047.118691494019\n", "record": {"elapsed": {"repr": "0:00:00.050908", "seconds": 0.050908}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=4126, avg_price=1303.161992501345, ltp=1047.118691494019", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.343450+05:30", "timestamp": 1755783078.34345}}}
{"text": "2025-08-21 19:01:18.344 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=4946, avg_price=1685.93553383557, ltp=1995.7962727627566\n", "record": {"elapsed": {"repr": "0:00:00.051608", "seconds": 0.051608}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=4946, avg_price=1685.93553383557, ltp=1995.7962727627566", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.344150+05:30", "timestamp": 1755783078.34415}}}
{"text": "2025-08-21 19:01:18.344 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=4406, avg_price=1343.9461226466747, ltp=1171.432099278014\n", "record": {"elapsed": {"repr": "0:00:00.052261", "seconds": 0.052261}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=4406, avg_price=1343.9461226466747, ltp=1171.432099278014", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.344803+05:30", "timestamp": 1755783078.344803}}}
{"text": "2025-08-21 19:01:18.345 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.053303", "seconds": 0.053303}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.345845+05:30", "timestamp": 1755783078.345845}}}
{"text": "2025-08-21 19:01:18.347 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1727, avg_price=618.93\n", "record": {"elapsed": {"repr": "0:00:00.054464", "seconds": 0.054464}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1727, avg_price=618.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.347006+05:30", "timestamp": 1755783078.347006}}}
{"text": "2025-08-21 19:01:18.347 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=167, avg_price=948.57\n", "record": {"elapsed": {"repr": "0:00:00.055141", "seconds": 0.055141}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=167, avg_price=948.57", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.347683+05:30", "timestamp": 1755783078.347683}}}
{"text": "2025-08-21 19:01:18.348 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1347, avg_price=801.44\n", "record": {"elapsed": {"repr": "0:00:00.055670", "seconds": 0.05567}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1347, avg_price=801.44", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.348212+05:30", "timestamp": 1755783078.348212}}}
{"text": "2025-08-21 19:01:18.348 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=143, avg_price=1427.62\n", "record": {"elapsed": {"repr": "0:00:00.056240", "seconds": 0.05624}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=143, avg_price=1427.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.348782+05:30", "timestamp": 1755783078.348782}}}
{"text": "2025-08-21 19:01:18.349 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=438, avg_price=1994.48\n", "record": {"elapsed": {"repr": "0:00:00.057062", "seconds": 0.057062}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=438, avg_price=1994.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.349604+05:30", "timestamp": 1755783078.349604}}}
{"text": "2025-08-21 19:01:18.350 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.057702", "seconds": 0.057702}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.350244+05:30", "timestamp": 1755783078.350244}}}
{"text": "2025-08-21 19:01:18.351 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.059002", "seconds": 0.059002}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.351544+05:30", "timestamp": 1755783078.351544}}}
{"text": "2025-08-21 19:01:18.352 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.060271", "seconds": 0.060271}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.352813+05:30", "timestamp": 1755783078.352813}}}
{"text": "2025-08-21 19:01:18.353 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.061039", "seconds": 0.061039}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.353581+05:30", "timestamp": 1755783078.353581}}}
{"text": "2025-08-21 19:01:18.389 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.096696", "seconds": 0.096696}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.389238+05:30", "timestamp": 1755783078.389238}}}
{"text": "2025-08-21 19:01:18.392 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.099531", "seconds": 0.099531}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.392073+05:30", "timestamp": 1755783078.392073}}}
{"text": "2025-08-21 19:01:18.393 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.101045", "seconds": 0.101045}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.393587+05:30", "timestamp": 1755783078.393587}}}
{"text": "2025-08-21 19:01:18.394 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.101566", "seconds": 0.101566}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.394108+05:30", "timestamp": 1755783078.394108}}}
{"text": "2025-08-21 19:01:18.394 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.102209", "seconds": 0.102209}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:18.394751+05:30", "timestamp": 1755783078.394751}}}
{"text": "2025-08-21 19:01:19.922 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:01.630293", "seconds": 1.630293}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.922835+05:30", "timestamp": 1755783079.922835}}}
{"text": "2025-08-21 19:01:19.923 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:01.630837", "seconds": 1.630837}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.923379+05:30", "timestamp": 1755783079.923379}}}
{"text": "2025-08-21 19:01:19.923 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:01.631317", "seconds": 1.631317}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.923859+05:30", "timestamp": 1755783079.923859}}}
{"text": "2025-08-21 19:01:19.924 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-532009.45, today=-532009.45\n", "record": {"elapsed": {"repr": "0:00:01.631814", "seconds": 1.631814}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-532009.45, today=-532009.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.924356+05:30", "timestamp": 1755783079.924356}}}
{"text": "2025-08-21 19:01:19.925 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-52517.86, today=-52517.86\n", "record": {"elapsed": {"repr": "0:00:01.632660", "seconds": 1.63266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-52517.86, today=-52517.86", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.925202+05:30", "timestamp": 1755783079.925202}}}
{"text": "2025-08-21 19:01:19.925 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1462277.17, today=1462277.17\n", "record": {"elapsed": {"repr": "0:00:01.633223", "seconds": 1.633223}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1462277.17, today=1462277.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.925765+05:30", "timestamp": 1755783079.925765}}}
{"text": "2025-08-21 19:01:19.926 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=33186.55, today=33186.55\n", "record": {"elapsed": {"repr": "0:00:01.633736", "seconds": 1.633736}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=33186.55, today=33186.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.926278+05:30", "timestamp": 1755783079.926278}}}
{"text": "2025-08-21 19:01:19.926 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-506436.95, today=-506436.95\n", "record": {"elapsed": {"repr": "0:00:01.634288", "seconds": 1.634288}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-506436.95, today=-506436.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.926830+05:30", "timestamp": 1755783079.92683}}}
{"text": "2025-08-21 19:01:19.927 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 404499.46, day: 404499.46\n", "record": {"elapsed": {"repr": "0:00:01.634790", "seconds": 1.63479}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 404499.46, day: 404499.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.927332+05:30", "timestamp": 1755783079.927332}}}
{"text": "2025-08-21 19:01:19.928 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:01.635490", "seconds": 1.63549}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.928032+05:30", "timestamp": 1755783079.928032}}}
{"text": "2025-08-21 19:01:19.928 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:01.636367", "seconds": 1.636367}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.928909+05:30", "timestamp": 1755783079.928909}}}
{"text": "2025-08-21 19:01:19.929 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:01.637035", "seconds": 1.637035}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.929577+05:30", "timestamp": 1755783079.929577}}}
{"text": "2025-08-21 19:01:19.930 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:01.637534", "seconds": 1.637534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.930076+05:30", "timestamp": 1755783079.930076}}}
{"text": "2025-08-21 19:01:19.930 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:19.924286+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:01.637975", "seconds": 1.637975}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:19.924286+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.930517+05:30", "timestamp": 1755783079.930517}}}
{"text": "2025-08-21 19:01:19.931 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=404499.46, day=404499.46, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=310.88, unrealized=-532009.45, today_pnl=-532009.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1263.05, unrealized=-52517.86, today_pnl=-52517.86), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1887.02, unrealized=1462277.17, today_pnl=1462277.17), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1195.55, unrealized=33186.55, today_pnl=33186.55), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=838.23, unrealized=-506436.95, today_pnl=-506436.95)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 19, 924286, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:01.638602", "seconds": 1.638602}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=404499.46, day=404499.46, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=310.88, unrealized=-532009.45, today_pnl=-532009.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1263.05, unrealized=-52517.86, today_pnl=-52517.86), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1887.02, unrealized=1462277.17, today_pnl=1462277.17), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1195.55, unrealized=33186.55, today_pnl=33186.55), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=838.23, unrealized=-506436.95, today_pnl=-506436.95)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 19, 924286, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.931144+05:30", "timestamp": 1755783079.931144}}}
{"text": "2025-08-21 19:01:19.931 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=404499.46, day=404499.46, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=310.88, unrealized=-532009.45, today_pnl=-532009.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1263.05, unrealized=-52517.86, today_pnl=-52517.86), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1887.02, unrealized=1462277.17, today_pnl=1462277.17), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1195.55, unrealized=33186.55, today_pnl=33186.55), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=838.23, unrealized=-506436.95, today_pnl=-506436.95)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 19, 924286, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:01.639354", "seconds": 1.639354}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=404499.46, day=404499.46, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=310.88, unrealized=-532009.45, today_pnl=-532009.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1263.05, unrealized=-52517.86, today_pnl=-52517.86), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1887.02, unrealized=1462277.17, today_pnl=1462277.17), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1195.55, unrealized=33186.55, today_pnl=33186.55), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=838.23, unrealized=-506436.95, today_pnl=-506436.95)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 19, 924286, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.931896+05:30", "timestamp": 1755783079.931896}}}
{"text": "2025-08-21 19:01:19.933 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ404499.46\n", "record": {"elapsed": {"repr": "0:00:01.640555", "seconds": 1.640555}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ404499.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.933097+05:30", "timestamp": 1755783079.933097}}}
{"text": "2025-08-21 19:01:19.934 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:01.641652", "seconds": 1.641652}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:19.934194+05:30", "timestamp": 1755783079.934194}}}
{"text": "2025-08-21 19:01:20.356 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.064374", "seconds": 2.064374}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:20.356916+05:30", "timestamp": 1755783080.356916}}}
{"text": "2025-08-21 19:01:20.357 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.065158", "seconds": 2.065158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:20.357700+05:30", "timestamp": 1755783080.3577}}}
{"text": "2025-08-21 19:01:20.358 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.065975", "seconds": 2.065975}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:20.358517+05:30", "timestamp": 1755783080.358517}}}
{"text": "2025-08-21 19:01:20.358 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.066385", "seconds": 2.066385}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:20.358927+05:30", "timestamp": 1755783080.358927}}}
{"text": "2025-08-21 19:01:20.359 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.066866", "seconds": 2.066866}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:20.359408+05:30", "timestamp": 1755783080.359408}}}
{"text": "2025-08-21 19:01:20.360 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.067481", "seconds": 2.067481}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:20.360023+05:30", "timestamp": 1755783080.360023}}}
{"text": "2025-08-21 19:01:20.360 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.068129", "seconds": 2.068129}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:20.360671+05:30", "timestamp": 1755783080.360671}}}
{"text": "2025-08-21 19:01:20.361 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.068987", "seconds": 2.068987}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:20.361529+05:30", "timestamp": 1755783080.361529}}}
{"text": "2025-08-21 19:01:20.362 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.069598", "seconds": 2.069598}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:20.362140+05:30", "timestamp": 1755783080.36214}}}
{"text": "2025-08-21 19:01:20.362 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.070142", "seconds": 2.070142}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:20.362684+05:30", "timestamp": 1755783080.362684}}}
{"text": "2025-08-21 19:01:20.923 | DEBUG    | app.ws.live:emit_delta:408 - Emitted orders delta: seq=3\n", "record": {"elapsed": {"repr": "0:00:02.630717", "seconds": 2.630717}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted orders delta: seq=3", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:20.923259+05:30", "timestamp": 1755783080.923259}}}
{"text": "2025-08-21 19:01:21.711 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=4\n", "record": {"elapsed": {"repr": "0:00:03.419375", "seconds": 3.419375}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=4", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.711917+05:30", "timestamp": 1755783081.711917}}}
{"text": "2025-08-21 19:01:21.726 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:03.434317", "seconds": 3.434317}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.726859+05:30", "timestamp": 1755783081.726859}}}
{"text": "2025-08-21 19:01:21.727 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:03.435169", "seconds": 3.435169}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.727711+05:30", "timestamp": 1755783081.727711}}}
{"text": "2025-08-21 19:01:21.728 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-524987.22, today=-524987.22\n", "record": {"elapsed": {"repr": "0:00:03.435781", "seconds": 3.435781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-524987.22, today=-524987.22", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.728323+05:30", "timestamp": 1755783081.728323}}}
{"text": "2025-08-21 19:01:21.728 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-48931.58, today=-48931.58\n", "record": {"elapsed": {"repr": "0:00:03.436243", "seconds": 3.436243}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-48931.58, today=-48931.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.728785+05:30", "timestamp": 1755783081.728785}}}
{"text": "2025-08-21 19:01:21.729 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1415223.2, today=1415223.2\n", "record": {"elapsed": {"repr": "0:00:03.436698", "seconds": 3.436698}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1415223.2, today=1415223.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.729240+05:30", "timestamp": 1755783081.72924}}}
{"text": "2025-08-21 19:01:21.729 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=32644.49, today=32644.49\n", "record": {"elapsed": {"repr": "0:00:03.437151", "seconds": 3.437151}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=32644.49, today=32644.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.729693+05:30", "timestamp": 1755783081.729693}}}
{"text": "2025-08-21 19:01:21.730 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-510783.83, today=-510783.83\n", "record": {"elapsed": {"repr": "0:00:03.437603", "seconds": 3.437603}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-510783.83, today=-510783.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.730145+05:30", "timestamp": 1755783081.730145}}}
{"text": "2025-08-21 19:01:21.730 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 363165.06, day: 363165.06\n", "record": {"elapsed": {"repr": "0:00:03.438025", "seconds": 3.438025}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 363165.06, day: 363165.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.730567+05:30", "timestamp": 1755783081.730567}}}
{"text": "2025-08-21 19:01:21.731 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:03.438482", "seconds": 3.438482}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.731024+05:30", "timestamp": 1755783081.731024}}}
{"text": "2025-08-21 19:01:21.731 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:03.438977", "seconds": 3.438977}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.731519+05:30", "timestamp": 1755783081.731519}}}
{"text": "2025-08-21 19:01:21.732 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:03.439627", "seconds": 3.439627}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.732169+05:30", "timestamp": 1755783081.732169}}}
{"text": "2025-08-21 19:01:21.732 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:03.440387", "seconds": 3.440387}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.732929+05:30", "timestamp": 1755783081.732929}}}
{"text": "2025-08-21 19:01:21.733 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:21.728266+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:03.440884", "seconds": 3.440884}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:21.728266+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.733426+05:30", "timestamp": 1755783081.733426}}}
{"text": "2025-08-21 19:01:21.734 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=363165.06, day=363165.06, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=314.94, unrealized=-524987.22, today_pnl=-524987.22), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1241.57, unrealized=-48931.58, today_pnl=-48931.58), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1852.09, unrealized=1415223.2, today_pnl=1415223.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1199.34, unrealized=32644.49, today_pnl=32644.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=828.31, unrealized=-510783.83, today_pnl=-510783.83)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 21, 728266, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:03.441603", "seconds": 3.441603}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=363165.06, day=363165.06, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=314.94, unrealized=-524987.22, today_pnl=-524987.22), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1241.57, unrealized=-48931.58, today_pnl=-48931.58), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1852.09, unrealized=1415223.2, today_pnl=1415223.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1199.34, unrealized=32644.49, today_pnl=32644.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=828.31, unrealized=-510783.83, today_pnl=-510783.83)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 21, 728266, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.734145+05:30", "timestamp": 1755783081.734145}}}
{"text": "2025-08-21 19:01:21.735 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=363165.06, day=363165.06, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=314.94, unrealized=-524987.22, today_pnl=-524987.22), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1241.57, unrealized=-48931.58, today_pnl=-48931.58), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1852.09, unrealized=1415223.2, today_pnl=1415223.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1199.34, unrealized=32644.49, today_pnl=32644.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=828.31, unrealized=-510783.83, today_pnl=-510783.83)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 21, 728266, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:03.442670", "seconds": 3.44267}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=363165.06, day=363165.06, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=314.94, unrealized=-524987.22, today_pnl=-524987.22), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1241.57, unrealized=-48931.58, today_pnl=-48931.58), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1852.09, unrealized=1415223.2, today_pnl=1415223.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1199.34, unrealized=32644.49, today_pnl=32644.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=828.31, unrealized=-510783.83, today_pnl=-510783.83)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 21, 728266, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.735212+05:30", "timestamp": 1755783081.735212}}}
{"text": "2025-08-21 19:01:21.736 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ363165.06\n", "record": {"elapsed": {"repr": "0:00:03.443927", "seconds": 3.443927}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ363165.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.736469+05:30", "timestamp": 1755783081.736469}}}
{"text": "2025-08-21 19:01:21.737 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=5\n", "record": {"elapsed": {"repr": "0:00:03.444653", "seconds": 3.444653}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=5", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:21.737195+05:30", "timestamp": 1755783081.737195}}}
{"text": "2025-08-21 19:01:22.363 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.071248", "seconds": 4.071248}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:22.363790+05:30", "timestamp": 1755783082.36379}}}
{"text": "2025-08-21 19:01:22.364 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.072430", "seconds": 4.07243}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:22.364972+05:30", "timestamp": 1755783082.364972}}}
{"text": "2025-08-21 19:01:22.366 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.073548", "seconds": 4.073548}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:22.366090+05:30", "timestamp": 1755783082.36609}}}
{"text": "2025-08-21 19:01:22.366 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.074170", "seconds": 4.07417}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:22.366712+05:30", "timestamp": 1755783082.366712}}}
{"text": "2025-08-21 19:01:22.367 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.074808", "seconds": 4.074808}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:22.367350+05:30", "timestamp": 1755783082.36735}}}
{"text": "2025-08-21 19:01:22.368 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.075626", "seconds": 4.075626}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:22.368168+05:30", "timestamp": 1755783082.368168}}}
{"text": "2025-08-21 19:01:22.368 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.076399", "seconds": 4.076399}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:22.368941+05:30", "timestamp": 1755783082.368941}}}
{"text": "2025-08-21 19:01:22.370 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.077687", "seconds": 4.077687}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:22.370229+05:30", "timestamp": 1755783082.370229}}}
{"text": "2025-08-21 19:01:22.371 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.078467", "seconds": 4.078467}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:22.371009+05:30", "timestamp": 1755783082.371009}}}
{"text": "2025-08-21 19:01:22.371 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.079097", "seconds": 4.079097}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:22.371639+05:30", "timestamp": 1755783082.371639}}}
{"text": "2025-08-21 19:01:23.399 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=6\n", "record": {"elapsed": {"repr": "0:00:05.106953", "seconds": 5.106953}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=6", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.399495+05:30", "timestamp": 1755783083.399495}}}
{"text": "2025-08-21 19:01:23.430 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:05.137779", "seconds": 5.137779}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.430321+05:30", "timestamp": 1755783083.430321}}}
{"text": "2025-08-21 19:01:23.431 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:05.139108", "seconds": 5.139108}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.431650+05:30", "timestamp": 1755783083.43165}}}
{"text": "2025-08-21 19:01:23.432 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-531943.03, today=-531943.03\n", "record": {"elapsed": {"repr": "0:00:05.139879", "seconds": 5.139879}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-531943.03, today=-531943.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.432421+05:30", "timestamp": 1755783083.432421}}}
{"text": "2025-08-21 19:01:23.433 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-46514.23, today=-46514.23\n", "record": {"elapsed": {"repr": "0:00:05.140515", "seconds": 5.140515}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-46514.23, today=-46514.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.433057+05:30", "timestamp": 1755783083.433057}}}
{"text": "2025-08-21 19:01:23.433 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1441440.71, today=1441440.71\n", "record": {"elapsed": {"repr": "0:00:05.141143", "seconds": 5.141143}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1441440.71, today=1441440.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.433685+05:30", "timestamp": 1755783083.433685}}}
{"text": "2025-08-21 19:01:23.434 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=30191.95, today=30191.95\n", "record": {"elapsed": {"repr": "0:00:05.142068", "seconds": 5.142068}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=30191.95, today=30191.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.434610+05:30", "timestamp": 1755783083.43461}}}
{"text": "2025-08-21 19:01:23.435 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-510577.93, today=-510577.93\n", "record": {"elapsed": {"repr": "0:00:05.143372", "seconds": 5.143372}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-510577.93, today=-510577.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.435914+05:30", "timestamp": 1755783083.435914}}}
{"text": "2025-08-21 19:01:23.436 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 382597.47, day: 382597.47\n", "record": {"elapsed": {"repr": "0:00:05.144224", "seconds": 5.144224}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 382597.47, day: 382597.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.436766+05:30", "timestamp": 1755783083.436766}}}
{"text": "2025-08-21 19:01:23.437 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:05.144851", "seconds": 5.144851}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.437393+05:30", "timestamp": 1755783083.437393}}}
{"text": "2025-08-21 19:01:23.438 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:05.145468", "seconds": 5.145468}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.438010+05:30", "timestamp": 1755783083.43801}}}
{"text": "2025-08-21 19:01:23.438 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:05.145993", "seconds": 5.145993}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.438535+05:30", "timestamp": 1755783083.438535}}}
{"text": "2025-08-21 19:01:23.439 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:05.146805", "seconds": 5.146805}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.439347+05:30", "timestamp": 1755783083.439347}}}
{"text": "2025-08-21 19:01:23.440 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:23.432325+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:05.147821", "seconds": 5.147821}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:23.432325+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.440363+05:30", "timestamp": 1755783083.440363}}}
{"text": "2025-08-21 19:01:23.441 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=382597.47, day=382597.47, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=310.91, unrealized=-531943.03, today_pnl=-531943.03), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1227.1, unrealized=-46514.23, today_pnl=-46514.23), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1871.55, unrealized=1441440.71, today_pnl=1441440.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1216.49, unrealized=30191.95, today_pnl=30191.95), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=828.78, unrealized=-510577.93, today_pnl=-510577.93)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 23, 432325, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:05.148641", "seconds": 5.148641}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=382597.47, day=382597.47, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=310.91, unrealized=-531943.03, today_pnl=-531943.03), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1227.1, unrealized=-46514.23, today_pnl=-46514.23), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1871.55, unrealized=1441440.71, today_pnl=1441440.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1216.49, unrealized=30191.95, today_pnl=30191.95), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=828.78, unrealized=-510577.93, today_pnl=-510577.93)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 23, 432325, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.441183+05:30", "timestamp": 1755783083.441183}}}
{"text": "2025-08-21 19:01:23.442 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=382597.47, day=382597.47, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=310.91, unrealized=-531943.03, today_pnl=-531943.03), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1227.1, unrealized=-46514.23, today_pnl=-46514.23), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1871.55, unrealized=1441440.71, today_pnl=1441440.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1216.49, unrealized=30191.95, today_pnl=30191.95), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=828.78, unrealized=-510577.93, today_pnl=-510577.93)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 23, 432325, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:05.149686", "seconds": 5.149686}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=382597.47, day=382597.47, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=310.91, unrealized=-531943.03, today_pnl=-531943.03), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1227.1, unrealized=-46514.23, today_pnl=-46514.23), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1871.55, unrealized=1441440.71, today_pnl=1441440.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1216.49, unrealized=30191.95, today_pnl=30191.95), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=828.78, unrealized=-510577.93, today_pnl=-510577.93)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 23, 432325, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.442228+05:30", "timestamp": 1755783083.442228}}}
{"text": "2025-08-21 19:01:23.443 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ382597.47\n", "record": {"elapsed": {"repr": "0:00:05.151378", "seconds": 5.151378}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ382597.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.443920+05:30", "timestamp": 1755783083.44392}}}
{"text": "2025-08-21 19:01:23.444 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=7\n", "record": {"elapsed": {"repr": "0:00:05.152362", "seconds": 5.152362}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=7", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:23.444904+05:30", "timestamp": 1755783083.444904}}}
{"text": "2025-08-21 19:01:24.372 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.080104", "seconds": 6.080104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:24.372646+05:30", "timestamp": 1755783084.372646}}}
{"text": "2025-08-21 19:01:24.373 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.081183", "seconds": 6.081183}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:24.373725+05:30", "timestamp": 1755783084.373725}}}
{"text": "2025-08-21 19:01:24.374 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.082134", "seconds": 6.082134}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:24.374676+05:30", "timestamp": 1755783084.374676}}}
{"text": "2025-08-21 19:01:24.375 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.082672", "seconds": 6.082672}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:24.375214+05:30", "timestamp": 1755783084.375214}}}
{"text": "2025-08-21 19:01:24.376 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.083947", "seconds": 6.083947}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:24.376489+05:30", "timestamp": 1755783084.376489}}}
{"text": "2025-08-21 19:01:24.377 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.084733", "seconds": 6.084733}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:24.377275+05:30", "timestamp": 1755783084.377275}}}
{"text": "2025-08-21 19:01:24.377 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.085305", "seconds": 6.085305}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:24.377847+05:30", "timestamp": 1755783084.377847}}}
{"text": "2025-08-21 19:01:24.378 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.085683", "seconds": 6.085683}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:24.378225+05:30", "timestamp": 1755783084.378225}}}
{"text": "2025-08-21 19:01:24.378 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.086334", "seconds": 6.086334}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:24.378876+05:30", "timestamp": 1755783084.378876}}}
{"text": "2025-08-21 19:01:24.379 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.086962", "seconds": 6.086962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:24.379504+05:30", "timestamp": 1755783084.379504}}}
{"text": "2025-08-21 19:01:24.926 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=8\n", "record": {"elapsed": {"repr": "0:00:06.633927", "seconds": 6.633927}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=8", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:24.926469+05:30", "timestamp": 1755783084.926469}}}
{"text": "2025-08-21 19:01:25.000 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:06.707630", "seconds": 6.70763}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.000172+05:30", "timestamp": 1755783085.000172}}}
{"text": "2025-08-21 19:01:25.000 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:06.708222", "seconds": 6.708222}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.000764+05:30", "timestamp": 1755783085.000764}}}
{"text": "2025-08-21 19:01:25.001 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-529409.39, today=-529409.39\n", "record": {"elapsed": {"repr": "0:00:06.708756", "seconds": 6.708756}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-529409.39, today=-529409.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.001298+05:30", "timestamp": 1755783085.001298}}}
{"text": "2025-08-21 19:01:25.001 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-44490.96, today=-44490.96\n", "record": {"elapsed": {"repr": "0:00:06.709248", "seconds": 6.709248}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-44490.96, today=-44490.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.001790+05:30", "timestamp": 1755783085.00179}}}
{"text": "2025-08-21 19:01:25.002 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1484474.17, today=1484474.17\n", "record": {"elapsed": {"repr": "0:00:06.709689", "seconds": 6.709689}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1484474.17, today=1484474.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.002231+05:30", "timestamp": 1755783085.002231}}}
{"text": "2025-08-21 19:01:25.002 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=27360.6, today=27360.6\n", "record": {"elapsed": {"repr": "0:00:06.710057", "seconds": 6.710057}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=27360.6, today=27360.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.002599+05:30", "timestamp": 1755783085.002599}}}
{"text": "2025-08-21 19:01:25.002 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-505606.67, today=-505606.67\n", "record": {"elapsed": {"repr": "0:00:06.710424", "seconds": 6.710424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-505606.67, today=-505606.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.002966+05:30", "timestamp": 1755783085.002966}}}
{"text": "2025-08-21 19:01:25.003 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 432327.75, day: 432327.75\n", "record": {"elapsed": {"repr": "0:00:06.710877", "seconds": 6.710877}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 432327.75, day: 432327.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.003419+05:30", "timestamp": 1755783085.003419}}}
{"text": "2025-08-21 19:01:25.003 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:06.711314", "seconds": 6.711314}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.003856+05:30", "timestamp": 1755783085.003856}}}
{"text": "2025-08-21 19:01:25.004 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:06.711764", "seconds": 6.711764}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.004306+05:30", "timestamp": 1755783085.004306}}}
{"text": "2025-08-21 19:01:25.004 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:06.712194", "seconds": 6.712194}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.004736+05:30", "timestamp": 1755783085.004736}}}
{"text": "2025-08-21 19:01:25.005 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:06.713139", "seconds": 6.713139}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.005681+05:30", "timestamp": 1755783085.005681}}}
{"text": "2025-08-21 19:01:25.006 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:25.001228+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:06.713787", "seconds": 6.713787}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:25.001228+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.006329+05:30", "timestamp": 1755783085.006329}}}
{"text": "2025-08-21 19:01:25.007 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=432327.75, day=432327.75, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.38, unrealized=-529409.39, today_pnl=-529409.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1214.98, unrealized=-44490.96, today_pnl=-44490.96), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1903.5, unrealized=1484474.17, today_pnl=1484474.17), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1236.29, unrealized=27360.6, today_pnl=27360.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=840.13, unrealized=-505606.67, today_pnl=-505606.67)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 25, 1228, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:06.714547", "seconds": 6.714547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=432327.75, day=432327.75, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.38, unrealized=-529409.39, today_pnl=-529409.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1214.98, unrealized=-44490.96, today_pnl=-44490.96), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1903.5, unrealized=1484474.17, today_pnl=1484474.17), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1236.29, unrealized=27360.6, today_pnl=27360.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=840.13, unrealized=-505606.67, today_pnl=-505606.67)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 25, 1228, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.007089+05:30", "timestamp": 1755783085.007089}}}
{"text": "2025-08-21 19:01:25.008 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=432327.75, day=432327.75, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.38, unrealized=-529409.39, today_pnl=-529409.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1214.98, unrealized=-44490.96, today_pnl=-44490.96), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1903.5, unrealized=1484474.17, today_pnl=1484474.17), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1236.29, unrealized=27360.6, today_pnl=27360.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=840.13, unrealized=-505606.67, today_pnl=-505606.67)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 25, 1228, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:06.716327", "seconds": 6.716327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=432327.75, day=432327.75, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.38, unrealized=-529409.39, today_pnl=-529409.39), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1214.98, unrealized=-44490.96, today_pnl=-44490.96), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1903.5, unrealized=1484474.17, today_pnl=1484474.17), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1236.29, unrealized=27360.6, today_pnl=27360.6), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=840.13, unrealized=-505606.67, today_pnl=-505606.67)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 25, 1228, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.008869+05:30", "timestamp": 1755783085.008869}}}
{"text": "2025-08-21 19:01:25.009 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ432327.75\n", "record": {"elapsed": {"repr": "0:00:06.716994", "seconds": 6.716994}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ432327.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.009536+05:30", "timestamp": 1755783085.009536}}}
{"text": "2025-08-21 19:01:25.010 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=9\n", "record": {"elapsed": {"repr": "0:00:06.717572", "seconds": 6.717572}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=9", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:25.010114+05:30", "timestamp": 1755783085.010114}}}
{"text": "2025-08-21 19:01:26.380 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.088148", "seconds": 8.088148}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:26.380690+05:30", "timestamp": 1755783086.38069}}}
{"text": "2025-08-21 19:01:26.382 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.089616", "seconds": 8.089616}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:26.382158+05:30", "timestamp": 1755783086.382158}}}
{"text": "2025-08-21 19:01:26.382 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.090186", "seconds": 8.090186}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:26.382728+05:30", "timestamp": 1755783086.382728}}}
{"text": "2025-08-21 19:01:26.383 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.090627", "seconds": 8.090627}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:26.383169+05:30", "timestamp": 1755783086.383169}}}
{"text": "2025-08-21 19:01:26.383 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.091093", "seconds": 8.091093}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:26.383635+05:30", "timestamp": 1755783086.383635}}}
{"text": "2025-08-21 19:01:26.383 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.091446", "seconds": 8.091446}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:26.383988+05:30", "timestamp": 1755783086.383988}}}
{"text": "2025-08-21 19:01:26.384 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.091932", "seconds": 8.091932}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:26.384474+05:30", "timestamp": 1755783086.384474}}}
{"text": "2025-08-21 19:01:26.384 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.092365", "seconds": 8.092365}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:26.384907+05:30", "timestamp": 1755783086.384907}}}
{"text": "2025-08-21 19:01:26.385 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.092772", "seconds": 8.092772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:26.385314+05:30", "timestamp": 1755783086.385314}}}
{"text": "2025-08-21 19:01:26.385 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.093172", "seconds": 8.093172}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:26.385714+05:30", "timestamp": 1755783086.385714}}}
{"text": "2025-08-21 19:01:26.715 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=10\n", "record": {"elapsed": {"repr": "0:00:08.422607", "seconds": 8.422607}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=10", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.715149+05:30", "timestamp": 1755783086.715149}}}
{"text": "2025-08-21 19:01:26.850 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.557690", "seconds": 8.55769}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.850232+05:30", "timestamp": 1755783086.850232}}}
{"text": "2025-08-21 19:01:26.850 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.558355", "seconds": 8.558355}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.850897+05:30", "timestamp": 1755783086.850897}}}
{"text": "2025-08-21 19:01:26.851 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-520009.23, today=-520009.23\n", "record": {"elapsed": {"repr": "0:00:08.558882", "seconds": 8.558882}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-520009.23, today=-520009.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.851424+05:30", "timestamp": 1755783086.851424}}}
{"text": "2025-08-21 19:01:26.851 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-43342.32, today=-43342.32\n", "record": {"elapsed": {"repr": "0:00:08.559345", "seconds": 8.559345}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-43342.32, today=-43342.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.851887+05:30", "timestamp": 1755783086.851887}}}
{"text": "2025-08-21 19:01:26.852 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1478764.58, today=1478764.58\n", "record": {"elapsed": {"repr": "0:00:08.559782", "seconds": 8.559782}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1478764.58, today=1478764.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.852324+05:30", "timestamp": 1755783086.852324}}}
{"text": "2025-08-21 19:01:26.852 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=25767.9, today=25767.9\n", "record": {"elapsed": {"repr": "0:00:08.560244", "seconds": 8.560244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=25767.9, today=25767.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.852786+05:30", "timestamp": 1755783086.852786}}}
{"text": "2025-08-21 19:01:26.853 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-502786.3, today=-502786.3\n", "record": {"elapsed": {"repr": "0:00:08.560757", "seconds": 8.560757}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-502786.3, today=-502786.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.853299+05:30", "timestamp": 1755783086.853299}}}
{"text": "2025-08-21 19:01:26.853 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 438394.63, day: 438394.63\n", "record": {"elapsed": {"repr": "0:00:08.561295", "seconds": 8.561295}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 438394.63, day: 438394.63", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.853837+05:30", "timestamp": 1755783086.853837}}}
{"text": "2025-08-21 19:01:26.854 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.562251", "seconds": 8.562251}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.854793+05:30", "timestamp": 1755783086.854793}}}
{"text": "2025-08-21 19:01:26.855 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.562706", "seconds": 8.562706}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.855248+05:30", "timestamp": 1755783086.855248}}}
{"text": "2025-08-21 19:01:26.855 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.563272", "seconds": 8.563272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.855814+05:30", "timestamp": 1755783086.855814}}}
{"text": "2025-08-21 19:01:26.856 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.563908", "seconds": 8.563908}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.856450+05:30", "timestamp": 1755783086.85645}}}
{"text": "2025-08-21 19:01:26.857 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:26.851339+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.565098", "seconds": 8.565098}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:26.851339+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.857640+05:30", "timestamp": 1755783086.85764}}}
{"text": "2025-08-21 19:01:26.858 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=438394.63, day=438394.63, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=317.82, unrealized=-520009.23, today_pnl=-520009.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1208.1, unrealized=-43342.32, today_pnl=-43342.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1899.26, unrealized=1478764.58, today_pnl=1478764.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1247.42, unrealized=25767.9, today_pnl=25767.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=846.57, unrealized=-502786.3, today_pnl=-502786.3)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 26, 851339, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:08.565848", "seconds": 8.565848}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=438394.63, day=438394.63, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=317.82, unrealized=-520009.23, today_pnl=-520009.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1208.1, unrealized=-43342.32, today_pnl=-43342.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1899.26, unrealized=1478764.58, today_pnl=1478764.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1247.42, unrealized=25767.9, today_pnl=25767.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=846.57, unrealized=-502786.3, today_pnl=-502786.3)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 26, 851339, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.858390+05:30", "timestamp": 1755783086.85839}}}
{"text": "2025-08-21 19:01:26.859 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=438394.63, day=438394.63, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=317.82, unrealized=-520009.23, today_pnl=-520009.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1208.1, unrealized=-43342.32, today_pnl=-43342.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1899.26, unrealized=1478764.58, today_pnl=1478764.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1247.42, unrealized=25767.9, today_pnl=25767.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=846.57, unrealized=-502786.3, today_pnl=-502786.3)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 26, 851339, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:08.566638", "seconds": 8.566638}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=438394.63, day=438394.63, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=317.82, unrealized=-520009.23, today_pnl=-520009.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1208.1, unrealized=-43342.32, today_pnl=-43342.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1899.26, unrealized=1478764.58, today_pnl=1478764.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1247.42, unrealized=25767.9, today_pnl=25767.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=846.57, unrealized=-502786.3, today_pnl=-502786.3)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 26, 851339, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.859180+05:30", "timestamp": 1755783086.85918}}}
{"text": "2025-08-21 19:01:26.859 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ438394.63\n", "record": {"elapsed": {"repr": "0:00:08.567235", "seconds": 8.567235}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ438394.63", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.859777+05:30", "timestamp": 1755783086.859777}}}
{"text": "2025-08-21 19:01:26.860 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=11\n", "record": {"elapsed": {"repr": "0:00:08.567824", "seconds": 8.567824}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=11", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:26.860366+05:30", "timestamp": 1755783086.860366}}}
{"text": "2025-08-21 19:01:28.386 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.093737", "seconds": 10.093737}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:28.386279+05:30", "timestamp": 1755783088.386279}}}
{"text": "2025-08-21 19:01:28.387 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.094779", "seconds": 10.094779}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:28.387321+05:30", "timestamp": 1755783088.387321}}}
{"text": "2025-08-21 19:01:28.387 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.095262", "seconds": 10.095262}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:28.387804+05:30", "timestamp": 1755783088.387804}}}
{"text": "2025-08-21 19:01:28.388 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.095896", "seconds": 10.095896}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:28.388438+05:30", "timestamp": 1755783088.388438}}}
{"text": "2025-08-21 19:01:28.389 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.096955", "seconds": 10.096955}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:28.389497+05:30", "timestamp": 1755783088.389497}}}
{"text": "2025-08-21 19:01:28.390 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.097573", "seconds": 10.097573}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:28.390115+05:30", "timestamp": 1755783088.390115}}}
{"text": "2025-08-21 19:01:28.390 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.098049", "seconds": 10.098049}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:28.390591+05:30", "timestamp": 1755783088.390591}}}
{"text": "2025-08-21 19:01:28.391 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.098465", "seconds": 10.098465}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:28.391007+05:30", "timestamp": 1755783088.391007}}}
{"text": "2025-08-21 19:01:28.391 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.098839", "seconds": 10.098839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:28.391381+05:30", "timestamp": 1755783088.391381}}}
{"text": "2025-08-21 19:01:28.391 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.099286", "seconds": 10.099286}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:28.391828+05:30", "timestamp": 1755783088.391828}}}
{"text": "2025-08-21 19:01:28.406 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=12\n", "record": {"elapsed": {"repr": "0:00:10.113767", "seconds": 10.113767}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=12", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.406309+05:30", "timestamp": 1755783088.406309}}}
{"text": "2025-08-21 19:01:28.615 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:10.323280", "seconds": 10.32328}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.615822+05:30", "timestamp": 1755783088.615822}}}
{"text": "2025-08-21 19:01:28.616 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:10.323839", "seconds": 10.323839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.616381+05:30", "timestamp": 1755783088.616381}}}
{"text": "2025-08-21 19:01:28.616 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-529331.01, today=-529331.01\n", "record": {"elapsed": {"repr": "0:00:10.324360", "seconds": 10.32436}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-529331.01, today=-529331.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.616902+05:30", "timestamp": 1755783088.616902}}}
{"text": "2025-08-21 19:01:28.617 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-44524.57, today=-44524.57\n", "record": {"elapsed": {"repr": "0:00:10.324805", "seconds": 10.324805}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-44524.57, today=-44524.57", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.617347+05:30", "timestamp": 1755783088.617347}}}
{"text": "2025-08-21 19:01:28.617 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1451853.58, today=1451853.58\n", "record": {"elapsed": {"repr": "0:00:10.325185", "seconds": 10.325185}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1451853.58, today=1451853.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.617727+05:30", "timestamp": 1755783088.617727}}}
{"text": "2025-08-21 19:01:28.618 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=22266.25, today=22266.25\n", "record": {"elapsed": {"repr": "0:00:10.325585", "seconds": 10.325585}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=22266.25, today=22266.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.618127+05:30", "timestamp": 1755783088.618127}}}
{"text": "2025-08-21 19:01:28.618 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-497991.93, today=-497991.93\n", "record": {"elapsed": {"repr": "0:00:10.326011", "seconds": 10.326011}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-497991.93, today=-497991.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.618553+05:30", "timestamp": 1755783088.618553}}}
{"text": "2025-08-21 19:01:28.619 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 402272.32, day: 402272.32\n", "record": {"elapsed": {"repr": "0:00:10.326489", "seconds": 10.326489}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 402272.32, day: 402272.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.619031+05:30", "timestamp": 1755783088.619031}}}
{"text": "2025-08-21 19:01:28.619 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:10.327166", "seconds": 10.327166}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.619708+05:30", "timestamp": 1755783088.619708}}}
{"text": "2025-08-21 19:01:28.620 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:10.328025", "seconds": 10.328025}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.620567+05:30", "timestamp": 1755783088.620567}}}
{"text": "2025-08-21 19:01:28.621 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:10.328526", "seconds": 10.328526}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.621068+05:30", "timestamp": 1755783088.621068}}}
{"text": "2025-08-21 19:01:28.621 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:10.329018", "seconds": 10.329018}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.621560+05:30", "timestamp": 1755783088.62156}}}
{"text": "2025-08-21 19:01:28.622 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:28.616844+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:10.329756", "seconds": 10.329756}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:28.616844+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.622298+05:30", "timestamp": 1755783088.622298}}}
{"text": "2025-08-21 19:01:28.623 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=402272.32, day=402272.32, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.43, unrealized=-529331.01, today_pnl=-529331.01), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1215.18, unrealized=-44524.57, today_pnl=-44524.57), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1879.28, unrealized=1451853.58, today_pnl=1451853.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1271.91, unrealized=22266.25, today_pnl=22266.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=857.51, unrealized=-497991.93, today_pnl=-497991.93)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 28, 616844, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:10.331276", "seconds": 10.331276}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=402272.32, day=402272.32, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.43, unrealized=-529331.01, today_pnl=-529331.01), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1215.18, unrealized=-44524.57, today_pnl=-44524.57), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1879.28, unrealized=1451853.58, today_pnl=1451853.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1271.91, unrealized=22266.25, today_pnl=22266.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=857.51, unrealized=-497991.93, today_pnl=-497991.93)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 28, 616844, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.623818+05:30", "timestamp": 1755783088.623818}}}
{"text": "2025-08-21 19:01:28.624 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=402272.32, day=402272.32, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.43, unrealized=-529331.01, today_pnl=-529331.01), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1215.18, unrealized=-44524.57, today_pnl=-44524.57), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1879.28, unrealized=1451853.58, today_pnl=1451853.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1271.91, unrealized=22266.25, today_pnl=22266.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=857.51, unrealized=-497991.93, today_pnl=-497991.93)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 28, 616844, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:10.332092", "seconds": 10.332092}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=402272.32, day=402272.32, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.43, unrealized=-529331.01, today_pnl=-529331.01), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1215.18, unrealized=-44524.57, today_pnl=-44524.57), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1879.28, unrealized=1451853.58, today_pnl=1451853.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1271.91, unrealized=22266.25, today_pnl=22266.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=857.51, unrealized=-497991.93, today_pnl=-497991.93)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 28, 616844, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.624634+05:30", "timestamp": 1755783088.624634}}}
{"text": "2025-08-21 19:01:28.625 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ402272.32\n", "record": {"elapsed": {"repr": "0:00:10.332666", "seconds": 10.332666}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ402272.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.625208+05:30", "timestamp": 1755783088.625208}}}
{"text": "2025-08-21 19:01:28.625 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=13\n", "record": {"elapsed": {"repr": "0:00:10.333308", "seconds": 10.333308}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=13", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:28.625850+05:30", "timestamp": 1755783088.62585}}}
{"text": "2025-08-21 19:01:30.266 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:11.974123", "seconds": 11.974123}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.266665+05:30", "timestamp": 1755783090.266665}}}
{"text": "2025-08-21 19:01:30.267 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:11.974668", "seconds": 11.974668}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.267210+05:30", "timestamp": 1755783090.26721}}}
{"text": "2025-08-21 19:01:30.267 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-529331.01, today=-529331.01\n", "record": {"elapsed": {"repr": "0:00:11.975214", "seconds": 11.975214}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-529331.01, today=-529331.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.267756+05:30", "timestamp": 1755783090.267756}}}
{"text": "2025-08-21 19:01:30.268 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-44524.57, today=-44524.57\n", "record": {"elapsed": {"repr": "0:00:11.975717", "seconds": 11.975717}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-44524.57, today=-44524.57", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.268259+05:30", "timestamp": 1755783090.268259}}}
{"text": "2025-08-21 19:01:30.268 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1451853.58, today=1451853.58\n", "record": {"elapsed": {"repr": "0:00:11.976282", "seconds": 11.976282}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1451853.58, today=1451853.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.268824+05:30", "timestamp": 1755783090.268824}}}
{"text": "2025-08-21 19:01:30.269 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=22266.25, today=22266.25\n", "record": {"elapsed": {"repr": "0:00:11.977069", "seconds": 11.977069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=22266.25, today=22266.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.269611+05:30", "timestamp": 1755783090.269611}}}
{"text": "2025-08-21 19:01:30.270 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-497991.93, today=-497991.93\n", "record": {"elapsed": {"repr": "0:00:11.977620", "seconds": 11.97762}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-497991.93, today=-497991.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.270162+05:30", "timestamp": 1755783090.270162}}}
{"text": "2025-08-21 19:01:30.270 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 402272.32, day: 402272.32\n", "record": {"elapsed": {"repr": "0:00:11.978123", "seconds": 11.978123}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 402272.32, day: 402272.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.270665+05:30", "timestamp": 1755783090.270665}}}
{"text": "2025-08-21 19:01:30.271 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:11.978585", "seconds": 11.978585}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.271127+05:30", "timestamp": 1755783090.271127}}}
{"text": "2025-08-21 19:01:30.271 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:11.979122", "seconds": 11.979122}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.271664+05:30", "timestamp": 1755783090.271664}}}
{"text": "2025-08-21 19:01:30.272 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:11.980130", "seconds": 11.98013}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.272672+05:30", "timestamp": 1755783090.272672}}}
{"text": "2025-08-21 19:01:30.273 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:11.980728", "seconds": 11.980728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.273270+05:30", "timestamp": 1755783090.27327}}}
{"text": "2025-08-21 19:01:30.273 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:30.267681+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:11.981135", "seconds": 11.981135}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:30.267681+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.273677+05:30", "timestamp": 1755783090.273677}}}
{"text": "2025-08-21 19:01:30.274 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=402272.32, day=402272.32, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.43, unrealized=-529331.01, today_pnl=-529331.01), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1215.18, unrealized=-44524.57, today_pnl=-44524.57), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1879.28, unrealized=1451853.58, today_pnl=1451853.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1271.91, unrealized=22266.25, today_pnl=22266.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=857.51, unrealized=-497991.93, today_pnl=-497991.93)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 30, 267681, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:11.981701", "seconds": 11.981701}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=402272.32, day=402272.32, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.43, unrealized=-529331.01, today_pnl=-529331.01), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1215.18, unrealized=-44524.57, today_pnl=-44524.57), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1879.28, unrealized=1451853.58, today_pnl=1451853.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1271.91, unrealized=22266.25, today_pnl=22266.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=857.51, unrealized=-497991.93, today_pnl=-497991.93)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 30, 267681, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.274243+05:30", "timestamp": 1755783090.274243}}}
{"text": "2025-08-21 19:01:30.274 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=402272.32, day=402272.32, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.43, unrealized=-529331.01, today_pnl=-529331.01), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1215.18, unrealized=-44524.57, today_pnl=-44524.57), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1879.28, unrealized=1451853.58, today_pnl=1451853.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1271.91, unrealized=22266.25, today_pnl=22266.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=857.51, unrealized=-497991.93, today_pnl=-497991.93)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 30, 267681, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:11.982369", "seconds": 11.982369}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=402272.32, day=402272.32, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=312.43, unrealized=-529331.01, today_pnl=-529331.01), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1215.18, unrealized=-44524.57, today_pnl=-44524.57), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1879.28, unrealized=1451853.58, today_pnl=1451853.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1271.91, unrealized=22266.25, today_pnl=22266.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=857.51, unrealized=-497991.93, today_pnl=-497991.93)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 30, 267681, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.274911+05:30", "timestamp": 1755783090.274911}}}
{"text": "2025-08-21 19:01:30.275 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ402272.32\n", "record": {"elapsed": {"repr": "0:00:11.982896", "seconds": 11.982896}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ402272.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.275438+05:30", "timestamp": 1755783090.275438}}}
{"text": "2025-08-21 19:01:30.276 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=14\n", "record": {"elapsed": {"repr": "0:00:11.983586", "seconds": 11.983586}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=14", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:30.276128+05:30", "timestamp": 1755783090.276128}}}
{"text": "2025-08-21 19:01:30.392 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.100077", "seconds": 12.100077}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:30.392619+05:30", "timestamp": 1755783090.392619}}}
{"text": "2025-08-21 19:01:30.393 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.100638", "seconds": 12.100638}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:30.393180+05:30", "timestamp": 1755783090.39318}}}
{"text": "2025-08-21 19:01:30.393 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.101427", "seconds": 12.101427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:30.393969+05:30", "timestamp": 1755783090.393969}}}
{"text": "2025-08-21 19:01:30.394 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.102240", "seconds": 12.10224}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:30.394782+05:30", "timestamp": 1755783090.394782}}}
{"text": "2025-08-21 19:01:30.395 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.102750", "seconds": 12.10275}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:30.395292+05:30", "timestamp": 1755783090.395292}}}
{"text": "2025-08-21 19:01:30.395 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.103219", "seconds": 12.103219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:30.395761+05:30", "timestamp": 1755783090.395761}}}
{"text": "2025-08-21 19:01:30.396 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.103640", "seconds": 12.10364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:30.396182+05:30", "timestamp": 1755783090.396182}}}
{"text": "2025-08-21 19:01:30.396 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.104127", "seconds": 12.104127}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:30.396669+05:30", "timestamp": 1755783090.396669}}}
{"text": "2025-08-21 19:01:30.397 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.104868", "seconds": 12.104868}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:30.397410+05:30", "timestamp": 1755783090.39741}}}
{"text": "2025-08-21 19:01:30.398 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.105644", "seconds": 12.105644}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:30.398186+05:30", "timestamp": 1755783090.398186}}}
{"text": "2025-08-21 19:01:31.741 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=15\n", "record": {"elapsed": {"repr": "0:00:13.448545", "seconds": 13.448545}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=15", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:31.741087+05:30", "timestamp": 1755783091.741087}}}
{"text": "2025-08-21 19:01:32.239 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:13.947039", "seconds": 13.947039}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.239581+05:30", "timestamp": 1755783092.239581}}}
{"text": "2025-08-21 19:01:32.240 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:13.947582", "seconds": 13.947582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.240124+05:30", "timestamp": 1755783092.240124}}}
{"text": "2025-08-21 19:01:32.240 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-523211.46, today=-523211.46\n", "record": {"elapsed": {"repr": "0:00:13.948071", "seconds": 13.948071}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-523211.46, today=-523211.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.240613+05:30", "timestamp": 1755783092.240613}}}
{"text": "2025-08-21 19:01:32.241 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-41689.43, today=-41689.43\n", "record": {"elapsed": {"repr": "0:00:13.948503", "seconds": 13.948503}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-41689.43, today=-41689.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.241045+05:30", "timestamp": 1755783092.241045}}}
{"text": "2025-08-21 19:01:32.241 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1493425.78, today=1493425.78\n", "record": {"elapsed": {"repr": "0:00:13.948901", "seconds": 13.948901}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1493425.78, today=1493425.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.241443+05:30", "timestamp": 1755783092.241443}}}
{"text": "2025-08-21 19:01:32.241 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=22867.01, today=22867.01\n", "record": {"elapsed": {"repr": "0:00:13.949341", "seconds": 13.949341}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=22867.01, today=22867.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.241883+05:30", "timestamp": 1755783092.241883}}}
{"text": "2025-08-21 19:01:32.242 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-494657.3, today=-494657.3\n", "record": {"elapsed": {"repr": "0:00:13.949975", "seconds": 13.949975}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-494657.3, today=-494657.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.242517+05:30", "timestamp": 1755783092.242517}}}
{"text": "2025-08-21 19:01:32.243 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 456734.6, day: 456734.6\n", "record": {"elapsed": {"repr": "0:00:13.950810", "seconds": 13.95081}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 456734.6, day: 456734.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.243352+05:30", "timestamp": 1755783092.243352}}}
{"text": "2025-08-21 19:01:32.243 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:13.951277", "seconds": 13.951277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.243819+05:30", "timestamp": 1755783092.243819}}}
{"text": "2025-08-21 19:01:32.244 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:13.951754", "seconds": 13.951754}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.244296+05:30", "timestamp": 1755783092.244296}}}
{"text": "2025-08-21 19:01:32.244 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:13.952329", "seconds": 13.952329}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.244871+05:30", "timestamp": 1755783092.244871}}}
{"text": "2025-08-21 19:01:32.245 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:13.952919", "seconds": 13.952919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.245461+05:30", "timestamp": 1755783092.245461}}}
{"text": "2025-08-21 19:01:32.246 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:32.240545+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:13.953670", "seconds": 13.95367}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:32.240545+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.246212+05:30", "timestamp": 1755783092.246212}}}
{"text": "2025-08-21 19:01:32.247 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=456734.6, day=456734.6, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=315.97, unrealized=-523211.46, today_pnl=-523211.46), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1198.21, unrealized=-41689.43, today_pnl=-41689.43), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1910.15, unrealized=1493425.78, today_pnl=1493425.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1267.71, unrealized=22867.01, today_pnl=22867.01), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=865.13, unrealized=-494657.3, today_pnl=-494657.3)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 32, 240545, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:13.954539", "seconds": 13.954539}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=456734.6, day=456734.6, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=315.97, unrealized=-523211.46, today_pnl=-523211.46), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1198.21, unrealized=-41689.43, today_pnl=-41689.43), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1910.15, unrealized=1493425.78, today_pnl=1493425.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1267.71, unrealized=22867.01, today_pnl=22867.01), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=865.13, unrealized=-494657.3, today_pnl=-494657.3)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 32, 240545, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.247081+05:30", "timestamp": 1755783092.247081}}}
{"text": "2025-08-21 19:01:32.247 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=456734.6, day=456734.6, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=315.97, unrealized=-523211.46, today_pnl=-523211.46), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1198.21, unrealized=-41689.43, today_pnl=-41689.43), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1910.15, unrealized=1493425.78, today_pnl=1493425.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1267.71, unrealized=22867.01, today_pnl=22867.01), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=865.13, unrealized=-494657.3, today_pnl=-494657.3)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 32, 240545, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:13.955207", "seconds": 13.955207}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=456734.6, day=456734.6, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=315.97, unrealized=-523211.46, today_pnl=-523211.46), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1198.21, unrealized=-41689.43, today_pnl=-41689.43), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1910.15, unrealized=1493425.78, today_pnl=1493425.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1267.71, unrealized=22867.01, today_pnl=22867.01), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=865.13, unrealized=-494657.3, today_pnl=-494657.3)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 32, 240545, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.247749+05:30", "timestamp": 1755783092.247749}}}
{"text": "2025-08-21 19:01:32.248 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ456734.60\n", "record": {"elapsed": {"repr": "0:00:13.955758", "seconds": 13.955758}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ456734.60", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.248300+05:30", "timestamp": 1755783092.2483}}}
{"text": "2025-08-21 19:01:32.248 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=16\n", "record": {"elapsed": {"repr": "0:00:13.956353", "seconds": 13.956353}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=16", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:32.248895+05:30", "timestamp": 1755783092.248895}}}
{"text": "2025-08-21 19:01:32.399 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.106474", "seconds": 14.106474}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:32.399016+05:30", "timestamp": 1755783092.399016}}}
{"text": "2025-08-21 19:01:32.399 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.107082", "seconds": 14.107082}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:32.399624+05:30", "timestamp": 1755783092.399624}}}
{"text": "2025-08-21 19:01:32.400 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.107671", "seconds": 14.107671}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:32.400213+05:30", "timestamp": 1755783092.400213}}}
{"text": "2025-08-21 19:01:32.400 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.108268", "seconds": 14.108268}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:32.400810+05:30", "timestamp": 1755783092.40081}}}
{"text": "2025-08-21 19:01:32.401 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.109135", "seconds": 14.109135}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:32.401677+05:30", "timestamp": 1755783092.401677}}}
{"text": "2025-08-21 19:01:32.402 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.109621", "seconds": 14.109621}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:32.402163+05:30", "timestamp": 1755783092.402163}}}
{"text": "2025-08-21 19:01:32.402 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.110101", "seconds": 14.110101}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:32.402643+05:30", "timestamp": 1755783092.402643}}}
{"text": "2025-08-21 19:01:32.403 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.110565", "seconds": 14.110565}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:32.403107+05:30", "timestamp": 1755783092.403107}}}
{"text": "2025-08-21 19:01:32.403 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.111264", "seconds": 14.111264}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:32.403806+05:30", "timestamp": 1755783092.403806}}}
{"text": "2025-08-21 19:01:32.404 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.112108", "seconds": 14.112108}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:32.404650+05:30", "timestamp": 1755783092.40465}}}
{"text": "2025-08-21 19:01:33.439 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=17\n", "record": {"elapsed": {"repr": "0:00:15.146472", "seconds": 15.146472}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=17", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:33.439014+05:30", "timestamp": 1755783093.439014}}}
{"text": "2025-08-21 19:01:34.197 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:15.905169", "seconds": 15.905169}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.197711+05:30", "timestamp": 1755783094.197711}}}
{"text": "2025-08-21 19:01:34.198 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:15.905758", "seconds": 15.905758}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.198300+05:30", "timestamp": 1755783094.1983}}}
{"text": "2025-08-21 19:01:34.198 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-525315.83, today=-525315.83\n", "record": {"elapsed": {"repr": "0:00:15.906251", "seconds": 15.906251}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-525315.83, today=-525315.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.198793+05:30", "timestamp": 1755783094.198793}}}
{"text": "2025-08-21 19:01:34.199 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-42430.78, today=-42430.78\n", "record": {"elapsed": {"repr": "0:00:15.906837", "seconds": 15.906837}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-42430.78, today=-42430.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.199379+05:30", "timestamp": 1755783094.199379}}}
{"text": "2025-08-21 19:01:34.200 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1492461.27, today=1492461.27\n", "record": {"elapsed": {"repr": "0:00:15.907622", "seconds": 15.907622}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1492461.27, today=1492461.27", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.200164+05:30", "timestamp": 1755783094.200164}}}
{"text": "2025-08-21 19:01:34.200 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=24389.32, today=24389.32\n", "record": {"elapsed": {"repr": "0:00:15.908424", "seconds": 15.908424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=24389.32, today=24389.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.200966+05:30", "timestamp": 1755783094.200966}}}
{"text": "2025-08-21 19:01:34.201 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-488143.7, today=-488143.7\n", "record": {"elapsed": {"repr": "0:00:15.908898", "seconds": 15.908898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-488143.7, today=-488143.7", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.201440+05:30", "timestamp": 1755783094.20144}}}
{"text": "2025-08-21 19:01:34.201 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 460960.28, day: 460960.28\n", "record": {"elapsed": {"repr": "0:00:15.909335", "seconds": 15.909335}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 460960.28, day: 460960.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.201877+05:30", "timestamp": 1755783094.201877}}}
{"text": "2025-08-21 19:01:34.202 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:15.909907", "seconds": 15.909907}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.202449+05:30", "timestamp": 1755783094.202449}}}
{"text": "2025-08-21 19:01:34.203 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:15.910519", "seconds": 15.910519}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.203061+05:30", "timestamp": 1755783094.203061}}}
{"text": "2025-08-21 19:01:34.203 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:15.911380", "seconds": 15.91138}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.203922+05:30", "timestamp": 1755783094.203922}}}
{"text": "2025-08-21 19:01:34.204 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:15.912089", "seconds": 15.912089}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.204631+05:30", "timestamp": 1755783094.204631}}}
{"text": "2025-08-21 19:01:34.205 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:34.198697+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:15.912540", "seconds": 15.91254}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:34.198697+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.205082+05:30", "timestamp": 1755783094.205082}}}
{"text": "2025-08-21 19:01:34.205 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=460960.28, day=460960.28, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=314.75, unrealized=-525315.83, today_pnl=-525315.83), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1202.65, unrealized=-42430.78, today_pnl=-42430.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1909.43, unrealized=1492461.27, today_pnl=1492461.27), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1257.07, unrealized=24389.32, today_pnl=24389.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=880.0, unrealized=-488143.7, today_pnl=-488143.7)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 34, 198697, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:15.913121", "seconds": 15.913121}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=460960.28, day=460960.28, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=314.75, unrealized=-525315.83, today_pnl=-525315.83), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1202.65, unrealized=-42430.78, today_pnl=-42430.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1909.43, unrealized=1492461.27, today_pnl=1492461.27), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1257.07, unrealized=24389.32, today_pnl=24389.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=880.0, unrealized=-488143.7, today_pnl=-488143.7)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 34, 198697, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.205663+05:30", "timestamp": 1755783094.205663}}}
{"text": "2025-08-21 19:01:34.206 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=460960.28, day=460960.28, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=314.75, unrealized=-525315.83, today_pnl=-525315.83), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1202.65, unrealized=-42430.78, today_pnl=-42430.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1909.43, unrealized=1492461.27, today_pnl=1492461.27), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1257.07, unrealized=24389.32, today_pnl=24389.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=880.0, unrealized=-488143.7, today_pnl=-488143.7)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 34, 198697, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:15.913844", "seconds": 15.913844}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=460960.28, day=460960.28, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=314.75, unrealized=-525315.83, today_pnl=-525315.83), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1202.65, unrealized=-42430.78, today_pnl=-42430.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1909.43, unrealized=1492461.27, today_pnl=1492461.27), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1257.07, unrealized=24389.32, today_pnl=24389.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=880.0, unrealized=-488143.7, today_pnl=-488143.7)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 34, 198697, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.206386+05:30", "timestamp": 1755783094.206386}}}
{"text": "2025-08-21 19:01:34.206 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ460960.28\n", "record": {"elapsed": {"repr": "0:00:15.914454", "seconds": 15.914454}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ460960.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.206996+05:30", "timestamp": 1755783094.206996}}}
{"text": "2025-08-21 19:01:34.207 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=18\n", "record": {"elapsed": {"repr": "0:00:15.915214", "seconds": 15.915214}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=18", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.207756+05:30", "timestamp": 1755783094.207756}}}
{"text": "2025-08-21 19:01:34.405 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.113113", "seconds": 16.113113}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:34.405655+05:30", "timestamp": 1755783094.405655}}}
{"text": "2025-08-21 19:01:34.406 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.113717", "seconds": 16.113717}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:34.406259+05:30", "timestamp": 1755783094.406259}}}
{"text": "2025-08-21 19:01:34.406 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.114074", "seconds": 16.114074}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:34.406616+05:30", "timestamp": 1755783094.406616}}}
{"text": "2025-08-21 19:01:34.407 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.114546", "seconds": 16.114546}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:34.407088+05:30", "timestamp": 1755783094.407088}}}
{"text": "2025-08-21 19:01:34.407 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.115031", "seconds": 16.115031}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:34.407573+05:30", "timestamp": 1755783094.407573}}}
{"text": "2025-08-21 19:01:34.408 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.115693", "seconds": 16.115693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:34.408235+05:30", "timestamp": 1755783094.408235}}}
{"text": "2025-08-21 19:01:34.408 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.116384", "seconds": 16.116384}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:34.408926+05:30", "timestamp": 1755783094.408926}}}
{"text": "2025-08-21 19:01:34.409 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.116778", "seconds": 16.116778}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:34.409320+05:30", "timestamp": 1755783094.40932}}}
{"text": "2025-08-21 19:01:34.409 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.117133", "seconds": 16.117133}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:34.409675+05:30", "timestamp": 1755783094.409675}}}
{"text": "2025-08-21 19:01:34.410 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.117515", "seconds": 16.117515}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:34.410057+05:30", "timestamp": 1755783094.410057}}}
{"text": "2025-08-21 19:01:34.989 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=19\n", "record": {"elapsed": {"repr": "0:00:16.696526", "seconds": 16.696526}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=19", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:34.989068+05:30", "timestamp": 1755783094.989068}}}
{"text": "2025-08-21 19:01:36.138 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:17.845898", "seconds": 17.845898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.138440+05:30", "timestamp": 1755783096.13844}}}
{"text": "2025-08-21 19:01:36.139 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:17.846468", "seconds": 17.846468}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.139010+05:30", "timestamp": 1755783096.13901}}}
{"text": "2025-08-21 19:01:36.139 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-514978.58, today=-514978.58\n", "record": {"elapsed": {"repr": "0:00:17.847018", "seconds": 17.847018}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-514978.58, today=-514978.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.139560+05:30", "timestamp": 1755783096.13956}}}
{"text": "2025-08-21 19:01:36.140 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-39041.15, today=-39041.15\n", "record": {"elapsed": {"repr": "0:00:17.847485", "seconds": 17.847485}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-39041.15, today=-39041.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.140027+05:30", "timestamp": 1755783096.140027}}}
{"text": "2025-08-21 19:01:36.140 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1489929.13, today=1489929.13\n", "record": {"elapsed": {"repr": "0:00:17.848152", "seconds": 17.848152}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1489929.13, today=1489929.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.140694+05:30", "timestamp": 1755783096.140694}}}
{"text": "2025-08-21 19:01:36.141 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=26011.59, today=26011.59\n", "record": {"elapsed": {"repr": "0:00:17.849009", "seconds": 17.849009}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=26011.59, today=26011.59", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.141551+05:30", "timestamp": 1755783096.141551}}}
{"text": "2025-08-21 19:01:36.142 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-486813.12, today=-486813.12\n", "record": {"elapsed": {"repr": "0:00:17.849495", "seconds": 17.849495}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-486813.12, today=-486813.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.142037+05:30", "timestamp": 1755783096.142037}}}
{"text": "2025-08-21 19:01:36.142 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 475107.87, day: 475107.87\n", "record": {"elapsed": {"repr": "0:00:17.849977", "seconds": 17.849977}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 475107.87, day: 475107.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.142519+05:30", "timestamp": 1755783096.142519}}}
{"text": "2025-08-21 19:01:36.143 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:17.850559", "seconds": 17.850559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.143101+05:30", "timestamp": 1755783096.143101}}}
{"text": "2025-08-21 19:01:36.143 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:17.851221", "seconds": 17.851221}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.143763+05:30", "timestamp": 1755783096.143763}}}
{"text": "2025-08-21 19:01:36.144 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:17.852244", "seconds": 17.852244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.144786+05:30", "timestamp": 1755783096.144786}}}
{"text": "2025-08-21 19:01:36.145 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:17.852766", "seconds": 17.852766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.145308+05:30", "timestamp": 1755783096.145308}}}
{"text": "2025-08-21 19:01:36.145 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:36.139467+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:17.853100", "seconds": 17.8531}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:36.139467+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.145642+05:30", "timestamp": 1755783096.145642}}}
{"text": "2025-08-21 19:01:36.146 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=475107.87, day=475107.87, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=320.74, unrealized=-514978.58, today_pnl=-514978.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1182.35, unrealized=-39041.15, today_pnl=-39041.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1907.55, unrealized=1489929.13, today_pnl=1489929.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1245.72, unrealized=26011.59, today_pnl=26011.59), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=883.03, unrealized=-486813.12, today_pnl=-486813.12)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 36, 139467, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:17.853674", "seconds": 17.853674}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=475107.87, day=475107.87, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=320.74, unrealized=-514978.58, today_pnl=-514978.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1182.35, unrealized=-39041.15, today_pnl=-39041.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1907.55, unrealized=1489929.13, today_pnl=1489929.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1245.72, unrealized=26011.59, today_pnl=26011.59), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=883.03, unrealized=-486813.12, today_pnl=-486813.12)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 36, 139467, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.146216+05:30", "timestamp": 1755783096.146216}}}
{"text": "2025-08-21 19:01:36.146 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=475107.87, day=475107.87, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=320.74, unrealized=-514978.58, today_pnl=-514978.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1182.35, unrealized=-39041.15, today_pnl=-39041.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1907.55, unrealized=1489929.13, today_pnl=1489929.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1245.72, unrealized=26011.59, today_pnl=26011.59), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=883.03, unrealized=-486813.12, today_pnl=-486813.12)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 36, 139467, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:17.854379", "seconds": 17.854379}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=475107.87, day=475107.87, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=320.74, unrealized=-514978.58, today_pnl=-514978.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1182.35, unrealized=-39041.15, today_pnl=-39041.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1907.55, unrealized=1489929.13, today_pnl=1489929.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1245.72, unrealized=26011.59, today_pnl=26011.59), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=883.03, unrealized=-486813.12, today_pnl=-486813.12)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 36, 139467, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.146921+05:30", "timestamp": 1755783096.146921}}}
{"text": "2025-08-21 19:01:36.147 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ475107.87\n", "record": {"elapsed": {"repr": "0:00:17.854873", "seconds": 17.854873}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ475107.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.147415+05:30", "timestamp": 1755783096.147415}}}
{"text": "2025-08-21 19:01:36.148 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=20\n", "record": {"elapsed": {"repr": "0:00:17.855497", "seconds": 17.855497}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=20", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.148039+05:30", "timestamp": 1755783096.148039}}}
{"text": "2025-08-21 19:01:36.410 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.118329", "seconds": 18.118329}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:36.410871+05:30", "timestamp": 1755783096.410871}}}
{"text": "2025-08-21 19:01:36.411 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.118962", "seconds": 18.118962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:36.411504+05:30", "timestamp": 1755783096.411504}}}
{"text": "2025-08-21 19:01:36.411 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.119417", "seconds": 18.119417}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:36.411959+05:30", "timestamp": 1755783096.411959}}}
{"text": "2025-08-21 19:01:36.412 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.119816", "seconds": 18.119816}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:36.412358+05:30", "timestamp": 1755783096.412358}}}
{"text": "2025-08-21 19:01:36.412 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.120285", "seconds": 18.120285}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:36.412827+05:30", "timestamp": 1755783096.412827}}}
{"text": "2025-08-21 19:01:36.413 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.120654", "seconds": 18.120654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:36.413196+05:30", "timestamp": 1755783096.413196}}}
{"text": "2025-08-21 19:01:36.413 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.121015", "seconds": 18.121015}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:36.413557+05:30", "timestamp": 1755783096.413557}}}
{"text": "2025-08-21 19:01:36.413 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.121346", "seconds": 18.121346}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:36.413888+05:30", "timestamp": 1755783096.413888}}}
{"text": "2025-08-21 19:01:36.414 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.121831", "seconds": 18.121831}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:36.414373+05:30", "timestamp": 1755783096.414373}}}
{"text": "2025-08-21 19:01:36.414 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.122325", "seconds": 18.122325}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:36.414867+05:30", "timestamp": 1755783096.414867}}}
{"text": "2025-08-21 19:01:36.813 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=21\n", "record": {"elapsed": {"repr": "0:00:18.520620", "seconds": 18.52062}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=21", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:36.813162+05:30", "timestamp": 1755783096.813162}}}
{"text": "2025-08-21 19:01:38.053 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:19.761350", "seconds": 19.76135}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.053892+05:30", "timestamp": 1755783098.053892}}}
{"text": "2025-08-21 19:01:38.054 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:19.761917", "seconds": 19.761917}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.054459+05:30", "timestamp": 1755783098.054459}}}
{"text": "2025-08-21 19:01:38.054 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-520736.3, today=-520736.3\n", "record": {"elapsed": {"repr": "0:00:19.762443", "seconds": 19.762443}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-520736.3, today=-520736.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.054985+05:30", "timestamp": 1755783098.054985}}}
{"text": "2025-08-21 19:01:38.055 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-39987.51, today=-39987.51\n", "record": {"elapsed": {"repr": "0:00:19.763002", "seconds": 19.763002}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-39987.51, today=-39987.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.055544+05:30", "timestamp": 1755783098.055544}}}
{"text": "2025-08-21 19:01:38.056 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1472606.1, today=1472606.1\n", "record": {"elapsed": {"repr": "0:00:19.763902", "seconds": 19.763902}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1472606.1, today=1472606.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.056444+05:30", "timestamp": 1755783098.056444}}}
{"text": "2025-08-21 19:01:38.057 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=28583.99, today=28583.99\n", "record": {"elapsed": {"repr": "0:00:19.764558", "seconds": 19.764558}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=28583.99, today=28583.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.057100+05:30", "timestamp": 1755783098.0571}}}
{"text": "2025-08-21 19:01:38.057 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-491528.01, today=-491528.01\n", "record": {"elapsed": {"repr": "0:00:19.765115", "seconds": 19.765115}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-491528.01, today=-491528.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.057657+05:30", "timestamp": 1755783098.057657}}}
{"text": "2025-08-21 19:01:38.058 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 448938.27, day: 448938.27\n", "record": {"elapsed": {"repr": "0:00:19.765595", "seconds": 19.765595}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 448938.27, day: 448938.27", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.058137+05:30", "timestamp": 1755783098.058137}}}
{"text": "2025-08-21 19:01:38.058 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:19.766052", "seconds": 19.766052}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.058594+05:30", "timestamp": 1755783098.058594}}}
{"text": "2025-08-21 19:01:38.059 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:19.766703", "seconds": 19.766703}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.059245+05:30", "timestamp": 1755783098.059245}}}
{"text": "2025-08-21 19:01:38.060 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:19.767621", "seconds": 19.767621}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.060163+05:30", "timestamp": 1755783098.060163}}}
{"text": "2025-08-21 19:01:38.060 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:19.768086", "seconds": 19.768086}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.060628+05:30", "timestamp": 1755783098.060628}}}
{"text": "2025-08-21 19:01:38.060 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:38.054894+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:19.768428", "seconds": 19.768428}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:38.054894+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.060970+05:30", "timestamp": 1755783098.06097}}}
{"text": "2025-08-21 19:01:38.061 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=448938.27, day=448938.27, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=317.4, unrealized=-520736.3, today_pnl=-520736.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1188.02, unrealized=-39987.51, today_pnl=-39987.51), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1894.69, unrealized=1472606.1, today_pnl=1472606.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1227.73, unrealized=28583.99, today_pnl=28583.99), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=872.27, unrealized=-491528.01, today_pnl=-491528.01)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 38, 54894, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:19.768991", "seconds": 19.768991}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=448938.27, day=448938.27, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=317.4, unrealized=-520736.3, today_pnl=-520736.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1188.02, unrealized=-39987.51, today_pnl=-39987.51), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1894.69, unrealized=1472606.1, today_pnl=1472606.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1227.73, unrealized=28583.99, today_pnl=28583.99), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=872.27, unrealized=-491528.01, today_pnl=-491528.01)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 38, 54894, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.061533+05:30", "timestamp": 1755783098.061533}}}
{"text": "2025-08-21 19:01:38.062 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=448938.27, day=448938.27, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=317.4, unrealized=-520736.3, today_pnl=-520736.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1188.02, unrealized=-39987.51, today_pnl=-39987.51), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1894.69, unrealized=1472606.1, today_pnl=1472606.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1227.73, unrealized=28583.99, today_pnl=28583.99), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=872.27, unrealized=-491528.01, today_pnl=-491528.01)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 38, 54894, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:19.769547", "seconds": 19.769547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=448938.27, day=448938.27, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=317.4, unrealized=-520736.3, today_pnl=-520736.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1188.02, unrealized=-39987.51, today_pnl=-39987.51), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1894.69, unrealized=1472606.1, today_pnl=1472606.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1227.73, unrealized=28583.99, today_pnl=28583.99), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=872.27, unrealized=-491528.01, today_pnl=-491528.01)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 38, 54894, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.062089+05:30", "timestamp": 1755783098.062089}}}
{"text": "2025-08-21 19:01:38.062 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ448938.27\n", "record": {"elapsed": {"repr": "0:00:19.770016", "seconds": 19.770016}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ448938.27", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.062558+05:30", "timestamp": 1755783098.062558}}}
{"text": "2025-08-21 19:01:38.063 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=22\n", "record": {"elapsed": {"repr": "0:00:19.770647", "seconds": 19.770647}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=22", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.063189+05:30", "timestamp": 1755783098.063189}}}
{"text": "2025-08-21 19:01:38.415 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.123408", "seconds": 20.123408}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:38.415950+05:30", "timestamp": 1755783098.41595}}}
{"text": "2025-08-21 19:01:38.416 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.124178", "seconds": 20.124178}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:38.416720+05:30", "timestamp": 1755783098.41672}}}
{"text": "2025-08-21 19:01:38.417 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.125091", "seconds": 20.125091}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:38.417633+05:30", "timestamp": 1755783098.417633}}}
{"text": "2025-08-21 19:01:38.418 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.125818", "seconds": 20.125818}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:38.418360+05:30", "timestamp": 1755783098.41836}}}
{"text": "2025-08-21 19:01:38.418 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.126274", "seconds": 20.126274}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:38.418816+05:30", "timestamp": 1755783098.418816}}}
{"text": "2025-08-21 19:01:38.419 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.126698", "seconds": 20.126698}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:38.419240+05:30", "timestamp": 1755783098.41924}}}
{"text": "2025-08-21 19:01:38.419 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.127089", "seconds": 20.127089}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:38.419631+05:30", "timestamp": 1755783098.419631}}}
{"text": "2025-08-21 19:01:38.420 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.127458", "seconds": 20.127458}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:38.420000+05:30", "timestamp": 1755783098.42}}}
{"text": "2025-08-21 19:01:38.420 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.127910", "seconds": 20.12791}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:38.420452+05:30", "timestamp": 1755783098.420452}}}
{"text": "2025-08-21 19:01:38.420 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.128258", "seconds": 20.128258}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:38.420800+05:30", "timestamp": 1755783098.4208}}}
{"text": "2025-08-21 19:01:38.552 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=23\n", "record": {"elapsed": {"repr": "0:00:20.260202", "seconds": 20.260202}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=23", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:38.552744+05:30", "timestamp": 1755783098.552744}}}
{"text": "2025-08-21 19:01:39.920 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:21.628238", "seconds": 21.628238}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.920780+05:30", "timestamp": 1755783099.92078}}}
{"text": "2025-08-21 19:01:39.921 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:21.629049", "seconds": 21.629049}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.921591+05:30", "timestamp": 1755783099.921591}}}
{"text": "2025-08-21 19:01:39.922 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-518454.49, today=-518454.49\n", "record": {"elapsed": {"repr": "0:00:21.629912", "seconds": 21.629912}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-518454.49, today=-518454.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.922454+05:30", "timestamp": 1755783099.922454}}}
{"text": "2025-08-21 19:01:39.922 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-36730.33, today=-36730.33\n", "record": {"elapsed": {"repr": "0:00:21.630416", "seconds": 21.630416}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-36730.33, today=-36730.33", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.922958+05:30", "timestamp": 1755783099.922958}}}
{"text": "2025-08-21 19:01:39.923 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1475462.78, today=1475462.78\n", "record": {"elapsed": {"repr": "0:00:21.630795", "seconds": 21.630795}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1475462.78, today=1475462.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.923337+05:30", "timestamp": 1755783099.923337}}}
{"text": "2025-08-21 19:01:39.923 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=28717.05, today=28717.05\n", "record": {"elapsed": {"repr": "0:00:21.631234", "seconds": 21.631234}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=28717.05, today=28717.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.923776+05:30", "timestamp": 1755783099.923776}}}
{"text": "2025-08-21 19:01:39.924 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-489302.43, today=-489302.43\n", "record": {"elapsed": {"repr": "0:00:21.631819", "seconds": 21.631819}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-489302.43, today=-489302.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.924361+05:30", "timestamp": 1755783099.924361}}}
{"text": "2025-08-21 19:01:39.925 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 459692.58, day: 459692.58\n", "record": {"elapsed": {"repr": "0:00:21.632476", "seconds": 21.632476}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 459692.58, day: 459692.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.925018+05:30", "timestamp": 1755783099.925018}}}
{"text": "2025-08-21 19:01:39.925 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:21.633287", "seconds": 21.633287}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.925829+05:30", "timestamp": 1755783099.925829}}}
{"text": "2025-08-21 19:01:39.926 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:21.633898", "seconds": 21.633898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.926440+05:30", "timestamp": 1755783099.92644}}}
{"text": "2025-08-21 19:01:39.926 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:21.634373", "seconds": 21.634373}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.926915+05:30", "timestamp": 1755783099.926915}}}
{"text": "2025-08-21 19:01:39.927 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:21.634878", "seconds": 21.634878}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.927420+05:30", "timestamp": 1755783099.92742}}}
{"text": "2025-08-21 19:01:39.927 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:39.922395+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:21.635299", "seconds": 21.635299}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:39.922395+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.927841+05:30", "timestamp": 1755783099.927841}}}
{"text": "2025-08-21 19:01:39.928 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=459692.58, day=459692.58, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=318.72, unrealized=-518454.49, today_pnl=-518454.49), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1168.51, unrealized=-36730.33, today_pnl=-36730.33), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1896.81, unrealized=1475462.78, today_pnl=1475462.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1226.8, unrealized=28717.05, today_pnl=28717.05), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=877.35, unrealized=-489302.43, today_pnl=-489302.43)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 39, 922395, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:21.635856", "seconds": 21.635856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=459692.58, day=459692.58, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=318.72, unrealized=-518454.49, today_pnl=-518454.49), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1168.51, unrealized=-36730.33, today_pnl=-36730.33), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1896.81, unrealized=1475462.78, today_pnl=1475462.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1226.8, unrealized=28717.05, today_pnl=28717.05), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=877.35, unrealized=-489302.43, today_pnl=-489302.43)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 39, 922395, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.928398+05:30", "timestamp": 1755783099.928398}}}
{"text": "2025-08-21 19:01:39.929 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=459692.58, day=459692.58, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=318.72, unrealized=-518454.49, today_pnl=-518454.49), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1168.51, unrealized=-36730.33, today_pnl=-36730.33), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1896.81, unrealized=1475462.78, today_pnl=1475462.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1226.8, unrealized=28717.05, today_pnl=28717.05), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=877.35, unrealized=-489302.43, today_pnl=-489302.43)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 39, 922395, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:21.636638", "seconds": 21.636638}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=459692.58, day=459692.58, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=318.72, unrealized=-518454.49, today_pnl=-518454.49), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1168.51, unrealized=-36730.33, today_pnl=-36730.33), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1896.81, unrealized=1475462.78, today_pnl=1475462.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1226.8, unrealized=28717.05, today_pnl=28717.05), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=877.35, unrealized=-489302.43, today_pnl=-489302.43)], 'updated_at': datetime.datetime(2025, 8, 21, 19, 1, 39, 922395, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.929180+05:30", "timestamp": 1755783099.92918}}}
{"text": "2025-08-21 19:01:39.930 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ459692.58\n", "record": {"elapsed": {"repr": "0:00:21.637770", "seconds": 21.63777}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ459692.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.930312+05:30", "timestamp": 1755783099.930312}}}
{"text": "2025-08-21 19:01:39.931 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=24\n", "record": {"elapsed": {"repr": "0:00:21.638578", "seconds": 21.638578}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=24", "module": "live", "name": "app.ws.live", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:39.931120+05:30", "timestamp": 1755783099.93112}}}
{"text": "2025-08-21 19:01:40.421 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.128982", "seconds": 22.128982}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:40.421524+05:30", "timestamp": 1755783100.421524}}}
{"text": "2025-08-21 19:01:40.422 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.129942", "seconds": 22.129942}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:40.422484+05:30", "timestamp": 1755783100.422484}}}
{"text": "2025-08-21 19:01:40.422 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.130388", "seconds": 22.130388}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:40.422930+05:30", "timestamp": 1755783100.42293}}}
{"text": "2025-08-21 19:01:40.423 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.130785", "seconds": 22.130785}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:40.423327+05:30", "timestamp": 1755783100.423327}}}
{"text": "2025-08-21 19:01:40.423 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.131244", "seconds": 22.131244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:40.423786+05:30", "timestamp": 1755783100.423786}}}
{"text": "2025-08-21 19:01:40.424 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.131900", "seconds": 22.1319}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:40.424442+05:30", "timestamp": 1755783100.424442}}}
{"text": "2025-08-21 19:01:40.425 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.132663", "seconds": 22.132663}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:40.425205+05:30", "timestamp": 1755783100.425205}}}
{"text": "2025-08-21 19:01:40.426 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.133557", "seconds": 22.133557}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:40.426099+05:30", "timestamp": 1755783100.426099}}}
{"text": "2025-08-21 19:01:40.426 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.134019", "seconds": 22.134019}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:40.426561+05:30", "timestamp": 1755783100.426561}}}
{"text": "2025-08-21 19:01:40.426 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.134415", "seconds": 22.134415}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 25328, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 19:01:40.426957+05:30", "timestamp": 1755783100.426957}}}
{"text": "2025-08-21 19:01:41.726 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:23.434203", "seconds": 23.434203}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.726745+05:30", "timestamp": 1755783101.726745}}}
{"text": "2025-08-21 19:01:41.727 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:23.434781", "seconds": 23.434781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.727323+05:30", "timestamp": 1755783101.727323}}}
{"text": "2025-08-21 19:01:41.727 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-516108.0, today=-516108.0\n", "record": {"elapsed": {"repr": "0:00:23.435247", "seconds": 23.435247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-516108.0, today=-516108.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.727789+05:30", "timestamp": 1755783101.727789}}}
{"text": "2025-08-21 19:01:41.728 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-34169.25, today=-34169.25\n", "record": {"elapsed": {"repr": "0:00:23.435753", "seconds": 23.435753}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-34169.25, today=-34169.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.728295+05:30", "timestamp": 1755783101.728295}}}
{"text": "2025-08-21 19:01:41.729 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1470363.46, today=1470363.46\n", "record": {"elapsed": {"repr": "0:00:23.436521", "seconds": 23.436521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1470363.46, today=1470363.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.729063+05:30", "timestamp": 1755783101.729063}}}
{"text": "2025-08-21 19:01:41.729 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=29214.03, today=29214.03\n", "record": {"elapsed": {"repr": "0:00:23.437387", "seconds": 23.437387}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=29214.03, today=29214.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.729929+05:30", "timestamp": 1755783101.729929}}}
{"text": "2025-08-21 19:01:41.730 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-488535.63, today=-488535.63\n", "record": {"elapsed": {"repr": "0:00:23.437952", "seconds": 23.437952}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-488535.63, today=-488535.63", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.730494+05:30", "timestamp": 1755783101.730494}}}
{"text": "2025-08-21 19:01:41.731 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 460764.61, day: 460764.61\n", "record": {"elapsed": {"repr": "0:00:23.438543", "seconds": 23.438543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 460764.61, day: 460764.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.731085+05:30", "timestamp": 1755783101.731085}}}
{"text": "2025-08-21 19:01:41.731 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:23.439148", "seconds": 23.439148}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.731690+05:30", "timestamp": 1755783101.73169}}}
{"text": "2025-08-21 19:01:41.732 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:23.439968", "seconds": 23.439968}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.732510+05:30", "timestamp": 1755783101.73251}}}
{"text": "2025-08-21 19:01:41.733 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:23.440790", "seconds": 23.44079}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.733332+05:30", "timestamp": 1755783101.733332}}}
{"text": "2025-08-21 19:01:41.733 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:23.441253", "seconds": 23.441253}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.733795+05:30", "timestamp": 1755783101.733795}}}
{"text": "2025-08-21 19:01:41.734 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:41.727723+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:23.441641", "seconds": 23.441641}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 19:01:41.727723+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.734183+05:30", "timestamp": 1755783101.734183}}}
{"text": "2025-08-21 19:01:41.734 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=460764.61, day=460764.61, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=320.08, unrealized=-516108.0, today_pnl=-516108.0), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1153.18, unrealized=-34169.25, today_pnl=-34169.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1893.02, unrealized=1470363.46, today_pnl=1470363.46), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1223.33, unrealized=29214.03, today_pnl=29214.03), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=879.1, unrealized=-488535.63, today_pnl=-488535.63)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 41, 727723, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:23.442265", "seconds": 23.442265}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=460764.61, day=460764.61, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1727, avg=618.93, ltp=320.08, unrealized=-516108.0, today_pnl=-516108.0), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=167, avg=948.57, ltp=1153.18, unrealized=-34169.25, today_pnl=-34169.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1347, avg=801.44, ltp=1893.02, unrealized=1470363.46, today_pnl=1470363.46), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=143, avg=1427.62, ltp=1223.33, unrealized=29214.03, today_pnl=29214.03), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=438, avg=1994.48, ltp=879.1, unrealized=-488535.63, today_pnl=-488535.63)] updated_at=datetime.datetime(2025, 8, 21, 19, 1, 41, 727723, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 16348, "name": "MainProcess"}, "thread": {"id": 26428, "name": "MainThread"}, "time": {"repr": "2025-08-21 19:01:41.734807+05:30", "timestamp": 1755783101.734807}}}
