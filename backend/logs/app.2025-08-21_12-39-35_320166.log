{"text": "2025-08-21 12:39:35.315 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.096122", "seconds": 6.096122}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.315905+05:30", "timestamp": 1755760175.315905}}}
{"text": "2025-08-21 12:39:35.322 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.102370", "seconds": 6.10237}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.322153+05:30", "timestamp": 1755760175.322153}}}
{"text": "2025-08-21 12:39:35.322 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.102916", "seconds": 6.102916}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.322699+05:30", "timestamp": 1755760175.322699}}}
{"text": "2025-08-21 12:39:35.323 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.103392", "seconds": 6.103392}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.323175+05:30", "timestamp": 1755760175.323175}}}
{"text": "2025-08-21 12:39:35.323 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.103788", "seconds": 6.103788}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.323571+05:30", "timestamp": 1755760175.323571}}}
{"text": "2025-08-21 12:39:35.324 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.104458", "seconds": 6.104458}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.324241+05:30", "timestamp": 1755760175.324241}}}
{"text": "2025-08-21 12:39:35.324 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.105021", "seconds": 6.105021}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.324804+05:30", "timestamp": 1755760175.324804}}}
{"text": "2025-08-21 12:39:35.325 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.105523", "seconds": 6.105523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.325306+05:30", "timestamp": 1755760175.325306}}}
{"text": "2025-08-21 12:39:35.326 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.106490", "seconds": 6.10649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.326273+05:30", "timestamp": 1755760175.326273}}}
{"text": "2025-08-21 12:39:35.326 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.107055", "seconds": 6.107055}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:35.326838+05:30", "timestamp": 1755760175.326838}}}
{"text": "2025-08-21 12:39:36.387 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:07.167475", "seconds": 7.167475}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.387258+05:30", "timestamp": 1755760176.387258}}}
{"text": "2025-08-21 12:39:36.387 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:07.168136", "seconds": 7.168136}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.387919+05:30", "timestamp": 1755760176.387919}}}
{"text": "2025-08-21 12:39:36.388 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1366602.59, today=1366602.59\n", "record": {"elapsed": {"repr": "0:00:07.168649", "seconds": 7.168649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1366602.59, today=1366602.59", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.388432+05:30", "timestamp": 1755760176.388432}}}
{"text": "2025-08-21 12:39:36.388 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479770.04, today=479770.04\n", "record": {"elapsed": {"repr": "0:00:07.169080", "seconds": 7.16908}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479770.04, today=479770.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.388863+05:30", "timestamp": 1755760176.388863}}}
{"text": "2025-08-21 12:39:36.389 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=635470.53, today=635470.53\n", "record": {"elapsed": {"repr": "0:00:07.169534", "seconds": 7.169534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=635470.53, today=635470.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.389317+05:30", "timestamp": 1755760176.389317}}}
{"text": "2025-08-21 12:39:36.389 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3369722.88, today=-3369722.88\n", "record": {"elapsed": {"repr": "0:00:07.169976", "seconds": 7.169976}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3369722.88, today=-3369722.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.389759+05:30", "timestamp": 1755760176.389759}}}
{"text": "2025-08-21 12:39:36.390 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=18406.04, today=18406.04\n", "record": {"elapsed": {"repr": "0:00:07.170411", "seconds": 7.170411}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=18406.04, today=18406.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.390194+05:30", "timestamp": 1755760176.390194}}}
{"text": "2025-08-21 12:39:36.390 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -869473.68, day: -869473.68\n", "record": {"elapsed": {"repr": "0:00:07.170921", "seconds": 7.170921}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -869473.68, day: -869473.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.390704+05:30", "timestamp": 1755760176.390704}}}
{"text": "2025-08-21 12:39:36.391 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:07.171379", "seconds": 7.171379}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.391162+05:30", "timestamp": 1755760176.391162}}}
{"text": "2025-08-21 12:39:36.391 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:07.172118", "seconds": 7.172118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.391901+05:30", "timestamp": 1755760176.391901}}}
{"text": "2025-08-21 12:39:36.392 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:07.172768", "seconds": 7.172768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.392551+05:30", "timestamp": 1755760176.392551}}}
{"text": "2025-08-21 12:39:36.393 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:07.173221", "seconds": 7.173221}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.393004+05:30", "timestamp": 1755760176.393004}}}
{"text": "2025-08-21 12:39:36.393 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:36.388364+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:07.173842", "seconds": 7.173842}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:36.388364+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.393625+05:30", "timestamp": 1755760176.393625}}}
{"text": "2025-08-21 12:39:36.394 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:07.175137", "seconds": 7.175137}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.394920+05:30", "timestamp": 1755760176.39492}}}
{"text": "2025-08-21 12:39:36.397 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:07.177622", "seconds": 7.177622}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:36.397405+05:30", "timestamp": 1755760176.397405}}}
{"text": "2025-08-21 12:39:37.344 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.125158", "seconds": 8.125158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.344941+05:30", "timestamp": 1755760177.344941}}}
{"text": "2025-08-21 12:39:37.384 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.164859", "seconds": 8.164859}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.384642+05:30", "timestamp": 1755760177.384642}}}
{"text": "2025-08-21 12:39:37.442 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.223069", "seconds": 8.223069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.442852+05:30", "timestamp": 1755760177.442852}}}
{"text": "2025-08-21 12:39:37.488 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.268434", "seconds": 8.268434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.488217+05:30", "timestamp": 1755760177.488217}}}
{"text": "2025-08-21 12:39:37.498 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.278387", "seconds": 8.278387}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.498170+05:30", "timestamp": 1755760177.49817}}}
{"text": "2025-08-21 12:39:37.501 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.281305", "seconds": 8.281305}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.501088+05:30", "timestamp": 1755760177.501088}}}
{"text": "2025-08-21 12:39:37.501 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.282008", "seconds": 8.282008}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.501791+05:30", "timestamp": 1755760177.501791}}}
{"text": "2025-08-21 12:39:37.502 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.283176", "seconds": 8.283176}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.502959+05:30", "timestamp": 1755760177.502959}}}
{"text": "2025-08-21 12:39:37.504 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.284619", "seconds": 8.284619}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.504402+05:30", "timestamp": 1755760177.504402}}}
{"text": "2025-08-21 12:39:37.505 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.285513", "seconds": 8.285513}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:37.505296+05:30", "timestamp": 1755760177.505296}}}
{"text": "2025-08-21 12:39:38.012 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.793049", "seconds": 8.793049}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.012832+05:30", "timestamp": 1755760178.012832}}}
{"text": "2025-08-21 12:39:38.013 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.793761", "seconds": 8.793761}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.013544+05:30", "timestamp": 1755760178.013544}}}
{"text": "2025-08-21 12:39:38.014 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1386779.48, today=1386779.48\n", "record": {"elapsed": {"repr": "0:00:08.794282", "seconds": 8.794282}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1386779.48, today=1386779.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.014065+05:30", "timestamp": 1755760178.014065}}}
{"text": "2025-08-21 12:39:38.014 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=480633.2, today=480633.2\n", "record": {"elapsed": {"repr": "0:00:08.794816", "seconds": 8.794816}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=480633.2, today=480633.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.014599+05:30", "timestamp": 1755760178.014599}}}
{"text": "2025-08-21 12:39:38.015 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=655172.31, today=655172.31\n", "record": {"elapsed": {"repr": "0:00:08.795371", "seconds": 8.795371}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=655172.31, today=655172.31", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.015154+05:30", "timestamp": 1755760178.015154}}}
{"text": "2025-08-21 12:39:38.016 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3298083.55, today=-3298083.55\n", "record": {"elapsed": {"repr": "0:00:08.796364", "seconds": 8.796364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3298083.55, today=-3298083.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.016147+05:30", "timestamp": 1755760178.016147}}}
{"text": "2025-08-21 12:39:38.016 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=14879.78, today=14879.78\n", "record": {"elapsed": {"repr": "0:00:08.796969", "seconds": 8.796969}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=14879.78, today=14879.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.016752+05:30", "timestamp": 1755760178.016752}}}
{"text": "2025-08-21 12:39:38.017 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -760618.78, day: -760618.78\n", "record": {"elapsed": {"repr": "0:00:08.797397", "seconds": 8.797397}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -760618.78, day: -760618.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.017180+05:30", "timestamp": 1755760178.01718}}}
{"text": "2025-08-21 12:39:38.017 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.797920", "seconds": 8.79792}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.017703+05:30", "timestamp": 1755760178.017703}}}
{"text": "2025-08-21 12:39:38.018 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.798442", "seconds": 8.798442}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.018225+05:30", "timestamp": 1755760178.018225}}}
{"text": "2025-08-21 12:39:38.019 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.799260", "seconds": 8.79926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.019043+05:30", "timestamp": 1755760178.019043}}}
{"text": "2025-08-21 12:39:38.019 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.800090", "seconds": 8.80009}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.019873+05:30", "timestamp": 1755760178.019873}}}
{"text": "2025-08-21 12:39:38.020 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:38.014007+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.800674", "seconds": 8.800674}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:38.014007+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.020457+05:30", "timestamp": 1755760178.020457}}}
{"text": "2025-08-21 12:39:38.021 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:08.801503", "seconds": 8.801503}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.021286+05:30", "timestamp": 1755760178.021286}}}
{"text": "2025-08-21 12:39:38.023 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:08.803494", "seconds": 8.803494}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:38.023277+05:30", "timestamp": 1755760178.023277}}}
{"text": "2025-08-21 12:39:39.506 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.287141", "seconds": 10.287141}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.506924+05:30", "timestamp": 1755760179.506924}}}
{"text": "2025-08-21 12:39:39.507 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.287906", "seconds": 10.287906}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.507689+05:30", "timestamp": 1755760179.507689}}}
{"text": "2025-08-21 12:39:39.508 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.288442", "seconds": 10.288442}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.508225+05:30", "timestamp": 1755760179.508225}}}
{"text": "2025-08-21 12:39:39.508 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.288963", "seconds": 10.288963}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.508746+05:30", "timestamp": 1755760179.508746}}}
{"text": "2025-08-21 12:39:39.509 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.289700", "seconds": 10.2897}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.509483+05:30", "timestamp": 1755760179.509483}}}
{"text": "2025-08-21 12:39:39.510 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.290529", "seconds": 10.290529}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.510312+05:30", "timestamp": 1755760179.510312}}}
{"text": "2025-08-21 12:39:39.510 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.291075", "seconds": 10.291075}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.510858+05:30", "timestamp": 1755760179.510858}}}
{"text": "2025-08-21 12:39:39.511 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.291488", "seconds": 10.291488}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.511271+05:30", "timestamp": 1755760179.511271}}}
{"text": "2025-08-21 12:39:39.511 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.291850", "seconds": 10.29185}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.511633+05:30", "timestamp": 1755760179.511633}}}
{"text": "2025-08-21 12:39:39.512 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.292273", "seconds": 10.292273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:39.512056+05:30", "timestamp": 1755760179.512056}}}
{"text": "2025-08-21 12:39:39.612 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:10.393081", "seconds": 10.393081}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.612864+05:30", "timestamp": 1755760179.612864}}}
{"text": "2025-08-21 12:39:39.946 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:10.726340", "seconds": 10.72634}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.946123+05:30", "timestamp": 1755760179.946123}}}
{"text": "2025-08-21 12:39:39.946 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:10.726905", "seconds": 10.726905}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.946688+05:30", "timestamp": 1755760179.946688}}}
{"text": "2025-08-21 12:39:39.947 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1357538.81, today=1357538.81\n", "record": {"elapsed": {"repr": "0:00:10.727421", "seconds": 10.727421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1357538.81, today=1357538.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.947204+05:30", "timestamp": 1755760179.947204}}}
{"text": "2025-08-21 12:39:39.947 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479497.28, today=479497.28\n", "record": {"elapsed": {"repr": "0:00:10.728036", "seconds": 10.728036}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479497.28, today=479497.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.947819+05:30", "timestamp": 1755760179.947819}}}
{"text": "2025-08-21 12:39:39.948 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=625825.58, today=625825.58\n", "record": {"elapsed": {"repr": "0:00:10.728902", "seconds": 10.728902}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=625825.58, today=625825.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.948685+05:30", "timestamp": 1755760179.948685}}}
{"text": "2025-08-21 12:39:39.949 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3230550.07, today=-3230550.07\n", "record": {"elapsed": {"repr": "0:00:10.729407", "seconds": 10.729407}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3230550.07, today=-3230550.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.949190+05:30", "timestamp": 1755760179.94919}}}
{"text": "2025-08-21 12:39:39.949 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=17057.55, today=17057.55\n", "record": {"elapsed": {"repr": "0:00:10.729835", "seconds": 10.729835}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=17057.55, today=17057.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.949618+05:30", "timestamp": 1755760179.949618}}}
{"text": "2025-08-21 12:39:39.950 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -750630.85, day: -750630.85\n", "record": {"elapsed": {"repr": "0:00:10.730345", "seconds": 10.730345}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -750630.85, day: -750630.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.950128+05:30", "timestamp": 1755760179.950128}}}
{"text": "2025-08-21 12:39:39.950 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:10.730925", "seconds": 10.730925}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.950708+05:30", "timestamp": 1755760179.950708}}}
{"text": "2025-08-21 12:39:39.951 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:10.731582", "seconds": 10.731582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.951365+05:30", "timestamp": 1755760179.951365}}}
{"text": "2025-08-21 12:39:39.952 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:10.732268", "seconds": 10.732268}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.952051+05:30", "timestamp": 1755760179.952051}}}
{"text": "2025-08-21 12:39:39.952 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:10.732857", "seconds": 10.732857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.952640+05:30", "timestamp": 1755760179.95264}}}
{"text": "2025-08-21 12:39:39.953 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:39.947133+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:10.733309", "seconds": 10.733309}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:39.947133+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.953092+05:30", "timestamp": 1755760179.953092}}}
{"text": "2025-08-21 12:39:39.953 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:10.734053", "seconds": 10.734053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.953836+05:30", "timestamp": 1755760179.953836}}}
{"text": "2025-08-21 12:39:39.955 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:10.735507", "seconds": 10.735507}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:39.955290+05:30", "timestamp": 1755760179.95529}}}
{"text": "2025-08-21 12:39:41.513 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.293250", "seconds": 12.29325}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.513033+05:30", "timestamp": 1755760181.513033}}}
{"text": "2025-08-21 12:39:41.513 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.294165", "seconds": 12.294165}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.513948+05:30", "timestamp": 1755760181.513948}}}
{"text": "2025-08-21 12:39:41.514 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.294996", "seconds": 12.294996}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.514779+05:30", "timestamp": 1755760181.514779}}}
{"text": "2025-08-21 12:39:41.515 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.295587", "seconds": 12.295587}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.515370+05:30", "timestamp": 1755760181.51537}}}
{"text": "2025-08-21 12:39:41.516 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.296242", "seconds": 12.296242}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.516025+05:30", "timestamp": 1755760181.516025}}}
{"text": "2025-08-21 12:39:41.516 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.297009", "seconds": 12.297009}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.516792+05:30", "timestamp": 1755760181.516792}}}
{"text": "2025-08-21 12:39:41.517 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.297665", "seconds": 12.297665}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.517448+05:30", "timestamp": 1755760181.517448}}}
{"text": "2025-08-21 12:39:41.517 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.298188", "seconds": 12.298188}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.517971+05:30", "timestamp": 1755760181.517971}}}
{"text": "2025-08-21 12:39:41.518 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.298651", "seconds": 12.298651}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.518434+05:30", "timestamp": 1755760181.518434}}}
{"text": "2025-08-21 12:39:41.518 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.299016", "seconds": 12.299016}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:41.518799+05:30", "timestamp": 1755760181.518799}}}
{"text": "2025-08-21 12:39:41.853 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:12.633550", "seconds": 12.63355}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.853333+05:30", "timestamp": 1755760181.853333}}}
{"text": "2025-08-21 12:39:41.854 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:12.634729", "seconds": 12.634729}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.854512+05:30", "timestamp": 1755760181.854512}}}
{"text": "2025-08-21 12:39:41.855 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1364441.19, today=1364441.19\n", "record": {"elapsed": {"repr": "0:00:12.636056", "seconds": 12.636056}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1364441.19, today=1364441.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.855839+05:30", "timestamp": 1755760181.855839}}}
{"text": "2025-08-21 12:39:41.856 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479294.83, today=479294.83\n", "record": {"elapsed": {"repr": "0:00:12.636677", "seconds": 12.636677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479294.83, today=479294.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.856460+05:30", "timestamp": 1755760181.85646}}}
{"text": "2025-08-21 12:39:41.856 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=627149.5, today=627149.5\n", "record": {"elapsed": {"repr": "0:00:12.637212", "seconds": 12.637212}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=627149.5, today=627149.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.856995+05:30", "timestamp": 1755760181.856995}}}
{"text": "2025-08-21 12:39:41.857 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3196660.89, today=-3196660.89\n", "record": {"elapsed": {"repr": "0:00:12.637848", "seconds": 12.637848}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3196660.89, today=-3196660.89", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.857631+05:30", "timestamp": 1755760181.857631}}}
{"text": "2025-08-21 12:39:41.858 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=15706.97, today=15706.97\n", "record": {"elapsed": {"repr": "0:00:12.638518", "seconds": 12.638518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=15706.97, today=15706.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.858301+05:30", "timestamp": 1755760181.858301}}}
{"text": "2025-08-21 12:39:41.859 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -710068.4, day: -710068.4\n", "record": {"elapsed": {"repr": "0:00:12.639488", "seconds": 12.639488}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -710068.4, day: -710068.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.859271+05:30", "timestamp": 1755760181.859271}}}
{"text": "2025-08-21 12:39:41.860 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:12.640742", "seconds": 12.640742}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.860525+05:30", "timestamp": 1755760181.860525}}}
{"text": "2025-08-21 12:39:41.861 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:12.641475", "seconds": 12.641475}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.861258+05:30", "timestamp": 1755760181.861258}}}
{"text": "2025-08-21 12:39:41.861 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:12.642078", "seconds": 12.642078}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.861861+05:30", "timestamp": 1755760181.861861}}}
{"text": "2025-08-21 12:39:41.862 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:12.642784", "seconds": 12.642784}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.862567+05:30", "timestamp": 1755760181.862567}}}
{"text": "2025-08-21 12:39:41.864 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:41.855629+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:12.644458", "seconds": 12.644458}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:41.855629+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.864241+05:30", "timestamp": 1755760181.864241}}}
{"text": "2025-08-21 12:39:41.865 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:12.645772", "seconds": 12.645772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.865555+05:30", "timestamp": 1755760181.865555}}}
{"text": "2025-08-21 12:39:41.868 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:12.649116", "seconds": 12.649116}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:41.868899+05:30", "timestamp": 1755760181.868899}}}
{"text": "2025-08-21 12:39:43.519 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.300182", "seconds": 14.300182}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.519965+05:30", "timestamp": 1755760183.519965}}}
{"text": "2025-08-21 12:39:43.520 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.301201", "seconds": 14.301201}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.520984+05:30", "timestamp": 1755760183.520984}}}
{"text": "2025-08-21 12:39:43.521 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.302177", "seconds": 14.302177}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.521960+05:30", "timestamp": 1755760183.52196}}}
{"text": "2025-08-21 12:39:43.522 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.302686", "seconds": 14.302686}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.522469+05:30", "timestamp": 1755760183.522469}}}
{"text": "2025-08-21 12:39:43.523 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.303244", "seconds": 14.303244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.523027+05:30", "timestamp": 1755760183.523027}}}
{"text": "2025-08-21 12:39:43.523 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.303898", "seconds": 14.303898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.523681+05:30", "timestamp": 1755760183.523681}}}
{"text": "2025-08-21 12:39:43.524 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.304864", "seconds": 14.304864}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.524647+05:30", "timestamp": 1755760183.524647}}}
{"text": "2025-08-21 12:39:43.525 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.306002", "seconds": 14.306002}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.525785+05:30", "timestamp": 1755760183.525785}}}
{"text": "2025-08-21 12:39:43.526 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.306776", "seconds": 14.306776}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.526559+05:30", "timestamp": 1755760183.526559}}}
{"text": "2025-08-21 12:39:43.526 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.307213", "seconds": 14.307213}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:43.526996+05:30", "timestamp": 1755760183.526996}}}
{"text": "2025-08-21 12:39:43.714 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:14.494519", "seconds": 14.494519}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.714302+05:30", "timestamp": 1755760183.714302}}}
{"text": "2025-08-21 12:39:43.715 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:14.495327", "seconds": 14.495327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.715110+05:30", "timestamp": 1755760183.71511}}}
{"text": "2025-08-21 12:39:43.715 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1387294.12, today=1387294.12\n", "record": {"elapsed": {"repr": "0:00:14.496191", "seconds": 14.496191}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1387294.12, today=1387294.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.715974+05:30", "timestamp": 1755760183.715974}}}
{"text": "2025-08-21 12:39:43.716 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479365.74, today=479365.74\n", "record": {"elapsed": {"repr": "0:00:14.496910", "seconds": 14.49691}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479365.74, today=479365.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.716693+05:30", "timestamp": 1755760183.716693}}}
{"text": "2025-08-21 12:39:43.717 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=595224.16, today=595224.16\n", "record": {"elapsed": {"repr": "0:00:14.497489", "seconds": 14.497489}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=595224.16, today=595224.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.717272+05:30", "timestamp": 1755760183.717272}}}
{"text": "2025-08-21 12:39:43.717 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3164788.51, today=-3164788.51\n", "record": {"elapsed": {"repr": "0:00:14.498010", "seconds": 14.49801}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3164788.51, today=-3164788.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.717793+05:30", "timestamp": 1755760183.717793}}}
{"text": "2025-08-21 12:39:43.718 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=16380.65, today=16380.65\n", "record": {"elapsed": {"repr": "0:00:14.498543", "seconds": 14.498543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=16380.65, today=16380.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.718326+05:30", "timestamp": 1755760183.718326}}}
{"text": "2025-08-21 12:39:43.718 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -686523.84, day: -686523.84\n", "record": {"elapsed": {"repr": "0:00:14.499005", "seconds": 14.499005}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -686523.84, day: -686523.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.718788+05:30", "timestamp": 1755760183.718788}}}
{"text": "2025-08-21 12:39:43.719 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:14.499482", "seconds": 14.499482}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.719265+05:30", "timestamp": 1755760183.719265}}}
{"text": "2025-08-21 12:39:43.719 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:14.500042", "seconds": 14.500042}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.719825+05:30", "timestamp": 1755760183.719825}}}
{"text": "2025-08-21 12:39:43.720 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:14.501013", "seconds": 14.501013}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.720796+05:30", "timestamp": 1755760183.720796}}}
{"text": "2025-08-21 12:39:43.721 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:14.501913", "seconds": 14.501913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.721696+05:30", "timestamp": 1755760183.721696}}}
{"text": "2025-08-21 12:39:43.722 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:43.715871+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:14.502478", "seconds": 14.502478}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:43.715871+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.722261+05:30", "timestamp": 1755760183.722261}}}
{"text": "2025-08-21 12:39:43.723 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:14.503244", "seconds": 14.503244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.723027+05:30", "timestamp": 1755760183.723027}}}
{"text": "2025-08-21 12:39:43.724 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:14.505022", "seconds": 14.505022}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:43.724805+05:30", "timestamp": 1755760183.724805}}}
{"text": "2025-08-21 12:39:45.505 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:16.285347", "seconds": 16.285347}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.505130+05:30", "timestamp": 1755760185.50513}}}
{"text": "2025-08-21 12:39:45.505 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:16.286046", "seconds": 16.286046}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.505829+05:30", "timestamp": 1755760185.505829}}}
{"text": "2025-08-21 12:39:45.506 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1387294.12, today=1387294.12\n", "record": {"elapsed": {"repr": "0:00:16.286985", "seconds": 16.286985}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1387294.12, today=1387294.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.506768+05:30", "timestamp": 1755760185.506768}}}
{"text": "2025-08-21 12:39:45.507 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479365.74, today=479365.74\n", "record": {"elapsed": {"repr": "0:00:16.287650", "seconds": 16.28765}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479365.74, today=479365.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.507433+05:30", "timestamp": 1755760185.507433}}}
{"text": "2025-08-21 12:39:45.507 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=595224.16, today=595224.16\n", "record": {"elapsed": {"repr": "0:00:16.288116", "seconds": 16.288116}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=595224.16, today=595224.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.507899+05:30", "timestamp": 1755760185.507899}}}
{"text": "2025-08-21 12:39:45.508 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3164788.51, today=-3164788.51\n", "record": {"elapsed": {"repr": "0:00:16.288576", "seconds": 16.288576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3164788.51, today=-3164788.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.508359+05:30", "timestamp": 1755760185.508359}}}
{"text": "2025-08-21 12:39:45.508 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=16380.65, today=16380.65\n", "record": {"elapsed": {"repr": "0:00:16.289004", "seconds": 16.289004}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=16380.65, today=16380.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.508787+05:30", "timestamp": 1755760185.508787}}}
{"text": "2025-08-21 12:39:45.509 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -686523.84, day: -686523.84\n", "record": {"elapsed": {"repr": "0:00:16.289383", "seconds": 16.289383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -686523.84, day: -686523.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.509166+05:30", "timestamp": 1755760185.509166}}}
{"text": "2025-08-21 12:39:45.509 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:16.289801", "seconds": 16.289801}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.509584+05:30", "timestamp": 1755760185.509584}}}
{"text": "2025-08-21 12:39:45.510 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:16.290324", "seconds": 16.290324}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.510107+05:30", "timestamp": 1755760185.510107}}}
{"text": "2025-08-21 12:39:45.510 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:16.290760", "seconds": 16.29076}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.510543+05:30", "timestamp": 1755760185.510543}}}
{"text": "2025-08-21 12:39:45.510 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:16.291204", "seconds": 16.291204}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.510987+05:30", "timestamp": 1755760185.510987}}}
{"text": "2025-08-21 12:39:45.512 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:45.506669+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:16.292257", "seconds": 16.292257}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:45.506669+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.512040+05:30", "timestamp": 1755760185.51204}}}
{"text": "2025-08-21 12:39:45.512 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:16.293039", "seconds": 16.293039}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.512822+05:30", "timestamp": 1755760185.512822}}}
{"text": "2025-08-21 12:39:45.514 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:16.294372", "seconds": 16.294372}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:45.514155+05:30", "timestamp": 1755760185.514155}}}
{"text": "2025-08-21 12:39:45.528 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.308398", "seconds": 16.308398}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.528181+05:30", "timestamp": 1755760185.528181}}}
{"text": "2025-08-21 12:39:45.529 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.309265", "seconds": 16.309265}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.529048+05:30", "timestamp": 1755760185.529048}}}
{"text": "2025-08-21 12:39:45.529 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.309728", "seconds": 16.309728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.529511+05:30", "timestamp": 1755760185.529511}}}
{"text": "2025-08-21 12:39:45.530 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.310230", "seconds": 16.31023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.530013+05:30", "timestamp": 1755760185.530013}}}
{"text": "2025-08-21 12:39:45.530 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.310836", "seconds": 16.310836}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.530619+05:30", "timestamp": 1755760185.530619}}}
{"text": "2025-08-21 12:39:45.531 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.311450", "seconds": 16.31145}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.531233+05:30", "timestamp": 1755760185.531233}}}
{"text": "2025-08-21 12:39:45.532 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.312333", "seconds": 16.312333}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.532116+05:30", "timestamp": 1755760185.532116}}}
{"text": "2025-08-21 12:39:45.532 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.313112", "seconds": 16.313112}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.532895+05:30", "timestamp": 1755760185.532895}}}
{"text": "2025-08-21 12:39:45.533 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.313644", "seconds": 16.313644}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.533427+05:30", "timestamp": 1755760185.533427}}}
{"text": "2025-08-21 12:39:45.533 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.314121", "seconds": 16.314121}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:45.533904+05:30", "timestamp": 1755760185.533904}}}
{"text": "2025-08-21 12:39:46.335 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:17.115490", "seconds": 17.11549}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:46.335273+05:30", "timestamp": 1755760186.335273}}}
{"text": "2025-08-21 12:39:47.178 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:17.958411", "seconds": 17.958411}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.178194+05:30", "timestamp": 1755760187.178194}}}
{"text": "2025-08-21 12:39:47.178 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:17.959038", "seconds": 17.959038}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.178821+05:30", "timestamp": 1755760187.178821}}}
{"text": "2025-08-21 12:39:47.179 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1390298.3, today=1390298.3\n", "record": {"elapsed": {"repr": "0:00:17.959774", "seconds": 17.959774}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1390298.3, today=1390298.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.179557+05:30", "timestamp": 1755760187.179557}}}
{"text": "2025-08-21 12:39:47.180 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=479861.01, today=479861.01\n", "record": {"elapsed": {"repr": "0:00:17.960534", "seconds": 17.960534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=479861.01, today=479861.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.180317+05:30", "timestamp": 1755760187.180317}}}
{"text": "2025-08-21 12:39:47.180 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=598311.41, today=598311.41\n", "record": {"elapsed": {"repr": "0:00:17.961205", "seconds": 17.961205}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=598311.41, today=598311.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.180988+05:30", "timestamp": 1755760187.180988}}}
{"text": "2025-08-21 12:39:47.181 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3163446.48, today=-3163446.48\n", "record": {"elapsed": {"repr": "0:00:17.961649", "seconds": 17.961649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3163446.48, today=-3163446.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.181432+05:30", "timestamp": 1755760187.181432}}}
{"text": "2025-08-21 12:39:47.181 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=13831.26, today=13831.26\n", "record": {"elapsed": {"repr": "0:00:17.962089", "seconds": 17.962089}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=13831.26, today=13831.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.181872+05:30", "timestamp": 1755760187.181872}}}
{"text": "2025-08-21 12:39:47.182 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -681144.5, day: -681144.5\n", "record": {"elapsed": {"repr": "0:00:17.962447", "seconds": 17.962447}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -681144.5, day: -681144.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.182230+05:30", "timestamp": 1755760187.18223}}}
{"text": "2025-08-21 12:39:47.182 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:17.962849", "seconds": 17.962849}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.182632+05:30", "timestamp": 1755760187.182632}}}
{"text": "2025-08-21 12:39:47.182 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:17.963209", "seconds": 17.963209}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.182992+05:30", "timestamp": 1755760187.182992}}}
{"text": "2025-08-21 12:39:47.183 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:17.963598", "seconds": 17.963598}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.183381+05:30", "timestamp": 1755760187.183381}}}
{"text": "2025-08-21 12:39:47.183 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:17.963924", "seconds": 17.963924}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.183707+05:30", "timestamp": 1755760187.183707}}}
{"text": "2025-08-21 12:39:47.184 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:47.179484+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:17.964270", "seconds": 17.96427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:47.179484+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.184053+05:30", "timestamp": 1755760187.184053}}}
{"text": "2025-08-21 12:39:47.184 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:17.965102", "seconds": 17.965102}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.184885+05:30", "timestamp": 1755760187.184885}}}
{"text": "2025-08-21 12:39:47.186 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:17.966970", "seconds": 17.96697}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:47.186753+05:30", "timestamp": 1755760187.186753}}}
{"text": "2025-08-21 12:39:47.534 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.314736", "seconds": 18.314736}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.534519+05:30", "timestamp": 1755760187.534519}}}
{"text": "2025-08-21 12:39:47.535 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.315804", "seconds": 18.315804}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.535587+05:30", "timestamp": 1755760187.535587}}}
{"text": "2025-08-21 12:39:47.536 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.316406", "seconds": 18.316406}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.536189+05:30", "timestamp": 1755760187.536189}}}
{"text": "2025-08-21 12:39:47.536 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.316832", "seconds": 18.316832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.536615+05:30", "timestamp": 1755760187.536615}}}
{"text": "2025-08-21 12:39:47.537 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.317272", "seconds": 18.317272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.537055+05:30", "timestamp": 1755760187.537055}}}
{"text": "2025-08-21 12:39:47.537 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.317731", "seconds": 18.317731}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.537514+05:30", "timestamp": 1755760187.537514}}}
{"text": "2025-08-21 12:39:47.538 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.318470", "seconds": 18.31847}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.538253+05:30", "timestamp": 1755760187.538253}}}
{"text": "2025-08-21 12:39:47.538 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.319195", "seconds": 18.319195}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.538978+05:30", "timestamp": 1755760187.538978}}}
{"text": "2025-08-21 12:39:47.539 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.319765", "seconds": 18.319765}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.539548+05:30", "timestamp": 1755760187.539548}}}
{"text": "2025-08-21 12:39:47.539 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.320171", "seconds": 18.320171}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:47.539954+05:30", "timestamp": 1755760187.539954}}}
{"text": "2025-08-21 12:39:49.200 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:19.980514", "seconds": 19.980514}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.200297+05:30", "timestamp": 1755760189.200297}}}
{"text": "2025-08-21 12:39:49.200 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:19.981083", "seconds": 19.981083}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.200866+05:30", "timestamp": 1755760189.200866}}}
{"text": "2025-08-21 12:39:49.201 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1399855.76, today=1399855.76\n", "record": {"elapsed": {"repr": "0:00:19.982082", "seconds": 19.982082}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1399855.76, today=1399855.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.201865+05:30", "timestamp": 1755760189.201865}}}
{"text": "2025-08-21 12:39:49.202 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=480442.56, today=480442.56\n", "record": {"elapsed": {"repr": "0:00:19.982624", "seconds": 19.982624}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=480442.56, today=480442.56", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.202407+05:30", "timestamp": 1755760189.202407}}}
{"text": "2025-08-21 12:39:49.202 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=580387.96, today=580387.96\n", "record": {"elapsed": {"repr": "0:00:19.983146", "seconds": 19.983146}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=580387.96, today=580387.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.202929+05:30", "timestamp": 1755760189.202929}}}
{"text": "2025-08-21 12:39:49.203 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3147539.85, today=-3147539.85\n", "record": {"elapsed": {"repr": "0:00:19.983654", "seconds": 19.983654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3147539.85, today=-3147539.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.203437+05:30", "timestamp": 1755760189.203437}}}
{"text": "2025-08-21 12:39:49.204 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=12556.02, today=12556.02\n", "record": {"elapsed": {"repr": "0:00:19.984357", "seconds": 19.984357}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=12556.02, today=12556.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.204140+05:30", "timestamp": 1755760189.20414}}}
{"text": "2025-08-21 12:39:49.205 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -674297.55, day: -674297.55\n", "record": {"elapsed": {"repr": "0:00:19.985390", "seconds": 19.98539}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -674297.55, day: -674297.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.205173+05:30", "timestamp": 1755760189.205173}}}
{"text": "2025-08-21 12:39:49.205 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:19.986127", "seconds": 19.986127}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.205910+05:30", "timestamp": 1755760189.20591}}}
{"text": "2025-08-21 12:39:49.206 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:19.986643", "seconds": 19.986643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.206426+05:30", "timestamp": 1755760189.206426}}}
{"text": "2025-08-21 12:39:49.206 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:19.987063", "seconds": 19.987063}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.206846+05:30", "timestamp": 1755760189.206846}}}
{"text": "2025-08-21 12:39:49.207 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:19.987529", "seconds": 19.987529}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.207312+05:30", "timestamp": 1755760189.207312}}}
{"text": "2025-08-21 12:39:49.207 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:49.201784+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:19.987944", "seconds": 19.987944}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:49.201784+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.207727+05:30", "timestamp": 1755760189.207727}}}
{"text": "2025-08-21 12:39:49.208 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:19.988741", "seconds": 19.988741}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.208524+05:30", "timestamp": 1755760189.208524}}}
{"text": "2025-08-21 12:39:49.210 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:19.990552", "seconds": 19.990552}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:49.210335+05:30", "timestamp": 1755760189.210335}}}
{"text": "2025-08-21 12:39:49.540 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.321050", "seconds": 20.32105}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.540833+05:30", "timestamp": 1755760189.540833}}}
{"text": "2025-08-21 12:39:49.541 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.321622", "seconds": 20.321622}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.541405+05:30", "timestamp": 1755760189.541405}}}
{"text": "2025-08-21 12:39:49.541 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.322133", "seconds": 20.322133}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.541916+05:30", "timestamp": 1755760189.541916}}}
{"text": "2025-08-21 12:39:49.542 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.322929", "seconds": 20.322929}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.542712+05:30", "timestamp": 1755760189.542712}}}
{"text": "2025-08-21 12:39:49.543 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.323547", "seconds": 20.323547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.543330+05:30", "timestamp": 1755760189.54333}}}
{"text": "2025-08-21 12:39:49.543 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.323904", "seconds": 20.323904}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.543687+05:30", "timestamp": 1755760189.543687}}}
{"text": "2025-08-21 12:39:49.544 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.324322", "seconds": 20.324322}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.544105+05:30", "timestamp": 1755760189.544105}}}
{"text": "2025-08-21 12:39:49.544 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.324804", "seconds": 20.324804}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.544587+05:30", "timestamp": 1755760189.544587}}}
{"text": "2025-08-21 12:39:49.545 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.325256", "seconds": 20.325256}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.545039+05:30", "timestamp": 1755760189.545039}}}
{"text": "2025-08-21 12:39:49.545 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.325812", "seconds": 20.325812}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:49.545595+05:30", "timestamp": 1755760189.545595}}}
{"text": "2025-08-21 12:39:50.725 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:21.505277", "seconds": 21.505277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.725060+05:30", "timestamp": 1755760190.72506}}}
{"text": "2025-08-21 12:39:50.725 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:21.506216", "seconds": 21.506216}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.725999+05:30", "timestamp": 1755760190.725999}}}
{"text": "2025-08-21 12:39:50.726 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1418281.39, today=1418281.39\n", "record": {"elapsed": {"repr": "0:00:21.506792", "seconds": 21.506792}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1418281.39, today=1418281.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.726575+05:30", "timestamp": 1755760190.726575}}}
{"text": "2025-08-21 12:39:50.727 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=481305.13, today=481305.13\n", "record": {"elapsed": {"repr": "0:00:21.507257", "seconds": 21.507257}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=481305.13, today=481305.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.727040+05:30", "timestamp": 1755760190.72704}}}
{"text": "2025-08-21 12:39:50.727 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=612834.95, today=612834.95\n", "record": {"elapsed": {"repr": "0:00:21.507665", "seconds": 21.507665}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=612834.95, today=612834.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.727448+05:30", "timestamp": 1755760190.727448}}}
{"text": "2025-08-21 12:39:50.727 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-3119197.37, today=-3119197.37\n", "record": {"elapsed": {"repr": "0:00:21.508153", "seconds": 21.508153}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-3119197.37, today=-3119197.37", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.727936+05:30", "timestamp": 1755760190.727936}}}
{"text": "2025-08-21 12:39:50.728 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=15244.95, today=15244.95\n", "record": {"elapsed": {"repr": "0:00:21.508646", "seconds": 21.508646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=15244.95, today=15244.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.728429+05:30", "timestamp": 1755760190.728429}}}
{"text": "2025-08-21 12:39:50.729 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -591530.95, day: -591530.95\n", "record": {"elapsed": {"repr": "0:00:21.509287", "seconds": 21.509287}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -591530.95, day: -591530.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.729070+05:30", "timestamp": 1755760190.72907}}}
{"text": "2025-08-21 12:39:50.729 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:21.510034", "seconds": 21.510034}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.729817+05:30", "timestamp": 1755760190.729817}}}
{"text": "2025-08-21 12:39:50.730 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:21.510599", "seconds": 21.510599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.730382+05:30", "timestamp": 1755760190.730382}}}
{"text": "2025-08-21 12:39:50.730 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:21.510955", "seconds": 21.510955}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.730738+05:30", "timestamp": 1755760190.730738}}}
{"text": "2025-08-21 12:39:50.731 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:21.511449", "seconds": 21.511449}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.731232+05:30", "timestamp": 1755760190.731232}}}
{"text": "2025-08-21 12:39:50.731 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:50.726517+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:21.512031", "seconds": 21.512031}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:39:50.726517+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.731814+05:30", "timestamp": 1755760190.731814}}}
{"text": "2025-08-21 12:39:50.732 | ERROR    | app.services.dhan_client:get_pnl:590 - Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "record": {"elapsed": {"repr": "0:00:21.512799", "seconds": 21.512799}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 590, "message": "Failed to create PnL model: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.732582+05:30", "timestamp": 1755760190.732582}}}
{"text": "2025-08-21 12:39:50.734 | ERROR    | app.services.dhan_client:get_pnl:592 - PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n\n", "record": {"elapsed": {"repr": "0:00:21.514608", "seconds": 21.514608}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 592, "message": "PnL model traceback: Traceback (most recent call last):\n  File \"C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py\", line 577, in get_pnl\n    pnl = PnL(\n        totals=totals,\n    ...<2 lines>...\n        trading_day=trading_day\n    )\n  File \"C:\\Users\\hp\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pydantic\\main.py\", line 253, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 2 validation errors for PnL\nupdatedAt\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\ntradingDay\n  Field required [type=missing, input_value={'totals': PnLTotals(real...ding_day': '2025-08-21'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\n", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:50.734391+05:30", "timestamp": 1755760190.734391}}}
{"text": "2025-08-21 12:39:51.547 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.327344", "seconds": 22.327344}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.547127+05:30", "timestamp": 1755760191.547127}}}
{"text": "2025-08-21 12:39:51.547 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.328215", "seconds": 22.328215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.547998+05:30", "timestamp": 1755760191.547998}}}
{"text": "2025-08-21 12:39:51.548 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.328785", "seconds": 22.328785}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.548568+05:30", "timestamp": 1755760191.548568}}}
{"text": "2025-08-21 12:39:51.549 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.329377", "seconds": 22.329377}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.549160+05:30", "timestamp": 1755760191.54916}}}
{"text": "2025-08-21 12:39:51.550 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.330397", "seconds": 22.330397}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.550180+05:30", "timestamp": 1755760191.55018}}}
{"text": "2025-08-21 12:39:51.550 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.331018", "seconds": 22.331018}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.550801+05:30", "timestamp": 1755760191.550801}}}
{"text": "2025-08-21 12:39:51.551 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.331532", "seconds": 22.331532}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.551315+05:30", "timestamp": 1755760191.551315}}}
{"text": "2025-08-21 12:39:51.551 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.332091", "seconds": 22.332091}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.551874+05:30", "timestamp": 1755760191.551874}}}
{"text": "2025-08-21 12:39:51.552 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.332647", "seconds": 22.332647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.552430+05:30", "timestamp": 1755760191.55243}}}
{"text": "2025-08-21 12:39:51.553 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.333421", "seconds": 22.333421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 20352, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:39:51.553204+05:30", "timestamp": 1755760191.553204}}}
{"text": "2025-08-21 12:39:52.132 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:22.913179", "seconds": 22.913179}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:52.132962+05:30", "timestamp": 1755760192.132962}}}
{"text": "2025-08-21 12:39:52.133 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:22.914062", "seconds": 22.914062}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:52.133845+05:30", "timestamp": 1755760192.133845}}}
{"text": "2025-08-21 12:39:52.134 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:22.914577", "seconds": 22.914577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 19048, "name": "MainProcess"}, "thread": {"id": 15340, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:39:52.134360+05:30", "timestamp": 1755760192.13436}}}
{"text": "2025-08-21 12:41:07.705 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.055370", "seconds": 0.05537}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.705340+05:30", "timestamp": 1755760267.70534}}}
{"text": "2025-08-21 12:41:07.706 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=4737, avg_price=1542.0736465912, ltp=1436.7600743005783\n", "record": {"elapsed": {"repr": "0:00:00.056776", "seconds": 0.056776}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=4737, avg_price=1542.0736465912, ltp=1436.7600743005783", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.706746+05:30", "timestamp": 1755760267.706746}}}
{"text": "2025-08-21 12:41:07.707 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=1228, avg_price=1306.4368563847925, ltp=1070.0823212765465\n", "record": {"elapsed": {"repr": "0:00:00.057538", "seconds": 0.057538}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=1228, avg_price=1306.4368563847925, ltp=1070.0823212765465", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.707508+05:30", "timestamp": 1755760267.707508}}}
{"text": "2025-08-21 12:41:07.708 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=2032, avg_price=1429.6418101871357, ltp=1627.4662294323107\n", "record": {"elapsed": {"repr": "0:00:00.058400", "seconds": 0.0584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=2032, avg_price=1429.6418101871357, ltp=1627.4662294323107", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.708370+05:30", "timestamp": 1755760267.70837}}}
{"text": "2025-08-21 12:41:07.709 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=4397, avg_price=1500.7642980340195, ltp=1412.1941289048025\n", "record": {"elapsed": {"repr": "0:00:00.059111", "seconds": 0.059111}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=4397, avg_price=1500.7642980340195, ltp=1412.1941289048025", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.709081+05:30", "timestamp": 1755760267.709081}}}
{"text": "2025-08-21 12:41:07.709 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=4998, avg_price=462.3373405274647, ltp=435.05160225768327\n", "record": {"elapsed": {"repr": "0:00:00.059947", "seconds": 0.059947}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=4998, avg_price=462.3373405274647, ltp=435.05160225768327", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.709917+05:30", "timestamp": 1755760267.709917}}}
{"text": "2025-08-21 12:41:07.710 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=1891, avg_price=1705.7792734320924, ltp=1965.2614909026536\n", "record": {"elapsed": {"repr": "0:00:00.060755", "seconds": 0.060755}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=1891, avg_price=1705.7792734320924, ltp=1965.2614909026536", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.710725+05:30", "timestamp": 1755760267.710725}}}
{"text": "2025-08-21 12:41:07.711 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=1966, avg_price=1553.863565582806, ltp=1526.628048798397\n", "record": {"elapsed": {"repr": "0:00:00.061444", "seconds": 0.061444}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=1966, avg_price=1553.863565582806, ltp=1526.628048798397", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.711414+05:30", "timestamp": 1755760267.711414}}}
{"text": "2025-08-21 12:41:07.712 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=4353, avg_price=1494.8170057518505, ltp=1447.9344737075276\n", "record": {"elapsed": {"repr": "0:00:00.062076", "seconds": 0.062076}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=4353, avg_price=1494.8170057518505, ltp=1447.9344737075276", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.712046+05:30", "timestamp": 1755760267.712046}}}
{"text": "2025-08-21 12:41:07.712 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=2601, avg_price=1017.4440236623083, ltp=967.7121792451844\n", "record": {"elapsed": {"repr": "0:00:00.062832", "seconds": 0.062832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=2601, avg_price=1017.4440236623083, ltp=967.7121792451844", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.712802+05:30", "timestamp": 1755760267.712802}}}
{"text": "2025-08-21 12:41:07.713 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=1343, avg_price=1883.925628465259, ltp=1571.230300975821\n", "record": {"elapsed": {"repr": "0:00:00.063578", "seconds": 0.063578}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=1343, avg_price=1883.925628465259, ltp=1571.230300975821", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.713548+05:30", "timestamp": 1755760267.713548}}}
{"text": "2025-08-21 12:41:07.714 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.064225", "seconds": 0.064225}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.714195+05:30", "timestamp": 1755760267.714195}}}
{"text": "2025-08-21 12:41:07.715 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1754, avg_price=412.11\n", "record": {"elapsed": {"repr": "0:00:00.065285", "seconds": 0.065285}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1754, avg_price=412.11", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.715255+05:30", "timestamp": 1755760267.715255}}}
{"text": "2025-08-21 12:41:07.715 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1435, avg_price=1297.14\n", "record": {"elapsed": {"repr": "0:00:00.065956", "seconds": 0.065956}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1435, avg_price=1297.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.715926+05:30", "timestamp": 1755760267.715926}}}
{"text": "2025-08-21 12:41:07.716 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1124, avg_price=734.19\n", "record": {"elapsed": {"repr": "0:00:00.066718", "seconds": 0.066718}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1124, avg_price=734.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.716688+05:30", "timestamp": 1755760267.716688}}}
{"text": "2025-08-21 12:41:07.717 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1431, avg_price=394.69\n", "record": {"elapsed": {"repr": "0:00:00.067520", "seconds": 0.06752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1431, avg_price=394.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.717490+05:30", "timestamp": 1755760267.71749}}}
{"text": "2025-08-21 12:41:07.718 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=106, avg_price=526.79\n", "record": {"elapsed": {"repr": "0:00:00.068701", "seconds": 0.068701}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=106, avg_price=526.79", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.718671+05:30", "timestamp": 1755760267.718671}}}
{"text": "2025-08-21 12:41:07.719 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.069528", "seconds": 0.069528}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.719498+05:30", "timestamp": 1755760267.719498}}}
{"text": "2025-08-21 12:41:07.720 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.070267", "seconds": 0.070267}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.720237+05:30", "timestamp": 1755760267.720237}}}
{"text": "2025-08-21 12:41:07.721 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.071300", "seconds": 0.0713}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.721270+05:30", "timestamp": 1755760267.72127}}}
{"text": "2025-08-21 12:41:07.721 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.071882", "seconds": 0.071882}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.721852+05:30", "timestamp": 1755760267.721852}}}
{"text": "2025-08-21 12:41:07.746 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.096203", "seconds": 0.096203}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.746173+05:30", "timestamp": 1755760267.746173}}}
{"text": "2025-08-21 12:41:07.750 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.100033", "seconds": 0.100033}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.750003+05:30", "timestamp": 1755760267.750003}}}
{"text": "2025-08-21 12:41:07.750 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.100994", "seconds": 0.100994}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.750964+05:30", "timestamp": 1755760267.750964}}}
{"text": "2025-08-21 12:41:07.751 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.102001", "seconds": 0.102001}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.751971+05:30", "timestamp": 1755760267.751971}}}
{"text": "2025-08-21 12:41:07.752 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.102712", "seconds": 0.102712}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:07.752682+05:30", "timestamp": 1755760267.752682}}}
{"text": "2025-08-21 12:41:09.539 | DEBUG    | app.ws.live:emit_delta:375 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:01.889907", "seconds": 1.889907}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.539877+05:30", "timestamp": 1755760269.539877}}}
{"text": "2025-08-21 12:41:09.540 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:01.890732", "seconds": 1.890732}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.540702+05:30", "timestamp": 1755760269.540702}}}
{"text": "2025-08-21 12:41:09.541 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:01.891512", "seconds": 1.891512}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.541482+05:30", "timestamp": 1755760269.541482}}}
{"text": "2025-08-21 12:41:09.542 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1797236.23, today=1797236.23\n", "record": {"elapsed": {"repr": "0:00:01.892296", "seconds": 1.892296}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1797236.23, today=1797236.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.542266+05:30", "timestamp": 1755760269.542266}}}
{"text": "2025-08-21 12:41:09.542 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=325827.77, today=325827.77\n", "record": {"elapsed": {"repr": "0:00:01.892842", "seconds": 1.892842}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=325827.77, today=325827.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.542812+05:30", "timestamp": 1755760269.542812}}}
{"text": "2025-08-21 12:41:09.543 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=1004042.48, today=1004042.48\n", "record": {"elapsed": {"repr": "0:00:01.893289", "seconds": 1.893289}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=1004042.48, today=1004042.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.543259+05:30", "timestamp": 1755760269.543259}}}
{"text": "2025-08-21 12:41:09.543 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1456048.41, today=-1456048.41\n", "record": {"elapsed": {"repr": "0:00:01.893694", "seconds": 1.893694}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1456048.41, today=-1456048.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.543664+05:30", "timestamp": 1755760269.543664}}}
{"text": "2025-08-21 12:41:09.544 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-9724.27, today=-9724.27\n", "record": {"elapsed": {"repr": "0:00:01.894104", "seconds": 1.894104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-9724.27, today=-9724.27", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.544074+05:30", "timestamp": 1755760269.544074}}}
{"text": "2025-08-21 12:41:09.544 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1661333.8, day: 1661333.8\n", "record": {"elapsed": {"repr": "0:00:01.894533", "seconds": 1.894533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1661333.8, day: 1661333.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.544503+05:30", "timestamp": 1755760269.544503}}}
{"text": "2025-08-21 12:41:09.544 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:01.894926", "seconds": 1.894926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.544896+05:30", "timestamp": 1755760269.544896}}}
{"text": "2025-08-21 12:41:09.545 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:01.895405", "seconds": 1.895405}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.545375+05:30", "timestamp": 1755760269.545375}}}
{"text": "2025-08-21 12:41:09.545 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:01.895998", "seconds": 1.895998}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.545968+05:30", "timestamp": 1755760269.545968}}}
{"text": "2025-08-21 12:41:09.546 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:01.896567", "seconds": 1.896567}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.546537+05:30", "timestamp": 1755760269.546537}}}
{"text": "2025-08-21 12:41:09.547 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:41:09.542171+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:01.897495", "seconds": 1.897495}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:41:09.542171+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.547465+05:30", "timestamp": 1755760269.547465}}}
{"text": "2025-08-21 12:41:09.548 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1661333.8, day=1661333.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1436.76, unrealized=1797236.23, today_pnl=1797236.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1070.08, unrealized=325827.77, today_pnl=325827.77), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1627.47, unrealized=1004042.48, today_pnl=1004042.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1412.19, unrealized=-1456048.41, today_pnl=-1456048.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=435.05, unrealized=-9724.27, today_pnl=-9724.27)] updated_at=datetime.datetime(2025, 8, 21, 12, 41, 9, 542171, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:01.898281", "seconds": 1.898281}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1661333.8, day=1661333.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1436.76, unrealized=1797236.23, today_pnl=1797236.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1070.08, unrealized=325827.77, today_pnl=325827.77), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1627.47, unrealized=1004042.48, today_pnl=1004042.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1412.19, unrealized=-1456048.41, today_pnl=-1456048.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=435.05, unrealized=-9724.27, today_pnl=-9724.27)] updated_at=datetime.datetime(2025, 8, 21, 12, 41, 9, 542171, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.548251+05:30", "timestamp": 1755760269.548251}}}
{"text": "2025-08-21 12:41:09.549 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1661333.8, day=1661333.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1436.76, unrealized=1797236.23, today_pnl=1797236.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1070.08, unrealized=325827.77, today_pnl=325827.77), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1627.47, unrealized=1004042.48, today_pnl=1004042.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1412.19, unrealized=-1456048.41, today_pnl=-1456048.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=435.05, unrealized=-9724.27, today_pnl=-9724.27)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 41, 9, 542171, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:01.899179", "seconds": 1.899179}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1661333.8, day=1661333.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1436.76, unrealized=1797236.23, today_pnl=1797236.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1070.08, unrealized=325827.77, today_pnl=325827.77), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1627.47, unrealized=1004042.48, today_pnl=1004042.48), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1412.19, unrealized=-1456048.41, today_pnl=-1456048.41), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=435.05, unrealized=-9724.27, today_pnl=-9724.27)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 41, 9, 542171, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.549149+05:30", "timestamp": 1755760269.549149}}}
{"text": "2025-08-21 12:41:09.550 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1661333.80\n", "record": {"elapsed": {"repr": "0:00:01.900125", "seconds": 1.900125}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1661333.80", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.550095+05:30", "timestamp": 1755760269.550095}}}
{"text": "2025-08-21 12:41:09.551 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType\n", "record": {"elapsed": {"repr": "0:00:01.901290", "seconds": 1.90129}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:09.551260+05:30", "timestamp": 1755760269.55126}}}
{"text": "2025-08-21 12:41:09.724 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.074454", "seconds": 2.074454}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.724424+05:30", "timestamp": 1755760269.724424}}}
{"text": "2025-08-21 12:41:09.725 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.075769", "seconds": 2.075769}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.725739+05:30", "timestamp": 1755760269.725739}}}
{"text": "2025-08-21 12:41:09.726 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.076393", "seconds": 2.076393}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.726363+05:30", "timestamp": 1755760269.726363}}}
{"text": "2025-08-21 12:41:09.726 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.076839", "seconds": 2.076839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.726809+05:30", "timestamp": 1755760269.726809}}}
{"text": "2025-08-21 12:41:09.727 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.077240", "seconds": 2.07724}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.727210+05:30", "timestamp": 1755760269.72721}}}
{"text": "2025-08-21 12:41:09.727 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.077677", "seconds": 2.077677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.727647+05:30", "timestamp": 1755760269.727647}}}
{"text": "2025-08-21 12:41:09.728 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.078366", "seconds": 2.078366}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.728336+05:30", "timestamp": 1755760269.728336}}}
{"text": "2025-08-21 12:41:09.728 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.078975", "seconds": 2.078975}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.728945+05:30", "timestamp": 1755760269.728945}}}
{"text": "2025-08-21 12:41:09.729 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.079617", "seconds": 2.079617}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.729587+05:30", "timestamp": 1755760269.729587}}}
{"text": "2025-08-21 12:41:09.730 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.080587", "seconds": 2.080587}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:09.730557+05:30", "timestamp": 1755760269.730557}}}
{"text": "2025-08-21 12:41:10.542 | DEBUG    | app.ws.live:emit_delta:375 - Emitted orders delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:02.892825", "seconds": 2.892825}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted orders delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:10.542795+05:30", "timestamp": 1755760270.542795}}}
{"text": "2025-08-21 12:41:11.217 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:03.567537", "seconds": 3.567537}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:11.217507+05:30", "timestamp": 1755760271.217507}}}
{"text": "2025-08-21 12:41:11.731 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.081506", "seconds": 4.081506}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.731476+05:30", "timestamp": 1755760271.731476}}}
{"text": "2025-08-21 12:41:11.732 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.082376", "seconds": 4.082376}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.732346+05:30", "timestamp": 1755760271.732346}}}
{"text": "2025-08-21 12:41:11.733 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.083186", "seconds": 4.083186}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.733156+05:30", "timestamp": 1755760271.733156}}}
{"text": "2025-08-21 12:41:11.733 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.083700", "seconds": 4.0837}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.733670+05:30", "timestamp": 1755760271.73367}}}
{"text": "2025-08-21 12:41:11.734 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.084371", "seconds": 4.084371}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.734341+05:30", "timestamp": 1755760271.734341}}}
{"text": "2025-08-21 12:41:11.734 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.084871", "seconds": 4.084871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.734841+05:30", "timestamp": 1755760271.734841}}}
{"text": "2025-08-21 12:41:11.735 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.085288", "seconds": 4.085288}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.735258+05:30", "timestamp": 1755760271.735258}}}
{"text": "2025-08-21 12:41:11.735 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.085733", "seconds": 4.085733}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.735703+05:30", "timestamp": 1755760271.735703}}}
{"text": "2025-08-21 12:41:11.736 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.086282", "seconds": 4.086282}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.736252+05:30", "timestamp": 1755760271.736252}}}
{"text": "2025-08-21 12:41:11.737 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.087262", "seconds": 4.087262}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:11.737232+05:30", "timestamp": 1755760271.737232}}}
{"text": "2025-08-21 12:41:13.738 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.088363", "seconds": 6.088363}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.738333+05:30", "timestamp": 1755760273.738333}}}
{"text": "2025-08-21 12:41:13.739 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.089239", "seconds": 6.089239}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.739209+05:30", "timestamp": 1755760273.739209}}}
{"text": "2025-08-21 12:41:13.739 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.090019", "seconds": 6.090019}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.739989+05:30", "timestamp": 1755760273.739989}}}
{"text": "2025-08-21 12:41:13.740 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.090531", "seconds": 6.090531}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.740501+05:30", "timestamp": 1755760273.740501}}}
{"text": "2025-08-21 12:41:13.740 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.090963", "seconds": 6.090963}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.740933+05:30", "timestamp": 1755760273.740933}}}
{"text": "2025-08-21 12:41:13.741 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.091410", "seconds": 6.09141}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.741380+05:30", "timestamp": 1755760273.74138}}}
{"text": "2025-08-21 12:41:13.741 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.091798", "seconds": 6.091798}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.741768+05:30", "timestamp": 1755760273.741768}}}
{"text": "2025-08-21 12:41:13.742 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.092181", "seconds": 6.092181}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.742151+05:30", "timestamp": 1755760273.742151}}}
{"text": "2025-08-21 12:41:13.742 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.092598", "seconds": 6.092598}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.742568+05:30", "timestamp": 1755760273.742568}}}
{"text": "2025-08-21 12:41:13.742 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.093014", "seconds": 6.093014}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:13.742984+05:30", "timestamp": 1755760273.742984}}}
{"text": "2025-08-21 12:41:15.744 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.094069", "seconds": 8.094069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.744039+05:30", "timestamp": 1755760275.744039}}}
{"text": "2025-08-21 12:41:15.744 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.094728", "seconds": 8.094728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.744698+05:30", "timestamp": 1755760275.744698}}}
{"text": "2025-08-21 12:41:15.745 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.095253", "seconds": 8.095253}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.745223+05:30", "timestamp": 1755760275.745223}}}
{"text": "2025-08-21 12:41:15.745 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.095881", "seconds": 8.095881}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.745851+05:30", "timestamp": 1755760275.745851}}}
{"text": "2025-08-21 12:41:15.746 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.096645", "seconds": 8.096645}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.746615+05:30", "timestamp": 1755760275.746615}}}
{"text": "2025-08-21 12:41:15.747 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.097354", "seconds": 8.097354}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.747324+05:30", "timestamp": 1755760275.747324}}}
{"text": "2025-08-21 12:41:15.747 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.097832", "seconds": 8.097832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.747802+05:30", "timestamp": 1755760275.747802}}}
{"text": "2025-08-21 12:41:15.748 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.098215", "seconds": 8.098215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.748185+05:30", "timestamp": 1755760275.748185}}}
{"text": "2025-08-21 12:41:15.748 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.098727", "seconds": 8.098727}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.748697+05:30", "timestamp": 1755760275.748697}}}
{"text": "2025-08-21 12:41:15.749 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.099121", "seconds": 8.099121}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:15.749091+05:30", "timestamp": 1755760275.749091}}}
{"text": "2025-08-21 12:41:16.242 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.592073", "seconds": 8.592073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.242043+05:30", "timestamp": 1755760276.242043}}}
{"text": "2025-08-21 12:41:16.242 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.592720", "seconds": 8.59272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.242690+05:30", "timestamp": 1755760276.24269}}}
{"text": "2025-08-21 12:41:16.243 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1764736.05, today=1764736.05\n", "record": {"elapsed": {"repr": "0:00:08.593774", "seconds": 8.593774}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1764736.05, today=1764736.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.243744+05:30", "timestamp": 1755760276.243744}}}
{"text": "2025-08-21 12:41:16.244 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=360935.78, today=360935.78\n", "record": {"elapsed": {"repr": "0:00:08.594308", "seconds": 8.594308}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=360935.78, today=360935.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.244278+05:30", "timestamp": 1755760276.244278}}}
{"text": "2025-08-21 12:41:16.244 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=985697.71, today=985697.71\n", "record": {"elapsed": {"repr": "0:00:08.594718", "seconds": 8.594718}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=985697.71, today=985697.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.244688+05:30", "timestamp": 1755760276.244688}}}
{"text": "2025-08-21 12:41:16.245 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1433121.26, today=-1433121.26\n", "record": {"elapsed": {"repr": "0:00:08.595254", "seconds": 8.595254}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1433121.26, today=-1433121.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.245224+05:30", "timestamp": 1755760276.245224}}}
{"text": "2025-08-21 12:41:16.245 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-10000.48, today=-10000.48\n", "record": {"elapsed": {"repr": "0:00:08.595781", "seconds": 8.595781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-10000.48, today=-10000.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.245751+05:30", "timestamp": 1755760276.245751}}}
{"text": "2025-08-21 12:41:16.246 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1668247.8, day: 1668247.8\n", "record": {"elapsed": {"repr": "0:00:08.596459", "seconds": 8.596459}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1668247.8, day: 1668247.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.246429+05:30", "timestamp": 1755760276.246429}}}
{"text": "2025-08-21 12:41:16.247 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.597162", "seconds": 8.597162}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.247132+05:30", "timestamp": 1755760276.247132}}}
{"text": "2025-08-21 12:41:16.247 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.597866", "seconds": 8.597866}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.247836+05:30", "timestamp": 1755760276.247836}}}
{"text": "2025-08-21 12:41:16.248 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.598364", "seconds": 8.598364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.248334+05:30", "timestamp": 1755760276.248334}}}
{"text": "2025-08-21 12:41:16.248 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.598802", "seconds": 8.598802}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.248772+05:30", "timestamp": 1755760276.248772}}}
{"text": "2025-08-21 12:41:16.249 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:41:16.243664+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.599175", "seconds": 8.599175}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:41:16.243664+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.249145+05:30", "timestamp": 1755760276.249145}}}
{"text": "2025-08-21 12:41:16.249 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1668247.8, day=1668247.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1418.23, unrealized=1764736.05, today_pnl=1764736.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1045.62, unrealized=360935.78, today_pnl=360935.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1611.15, unrealized=985697.71, today_pnl=985697.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1396.17, unrealized=-1433121.26, today_pnl=-1433121.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=432.45, unrealized=-10000.48, today_pnl=-10000.48)] updated_at=datetime.datetime(2025, 8, 21, 12, 41, 16, 243664, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:08.599744", "seconds": 8.599744}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1668247.8, day=1668247.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1418.23, unrealized=1764736.05, today_pnl=1764736.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1045.62, unrealized=360935.78, today_pnl=360935.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1611.15, unrealized=985697.71, today_pnl=985697.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1396.17, unrealized=-1433121.26, today_pnl=-1433121.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=432.45, unrealized=-10000.48, today_pnl=-10000.48)] updated_at=datetime.datetime(2025, 8, 21, 12, 41, 16, 243664, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.249714+05:30", "timestamp": 1755760276.249714}}}
{"text": "2025-08-21 12:41:16.250 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1668247.8, day=1668247.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1418.23, unrealized=1764736.05, today_pnl=1764736.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1045.62, unrealized=360935.78, today_pnl=360935.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1611.15, unrealized=985697.71, today_pnl=985697.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1396.17, unrealized=-1433121.26, today_pnl=-1433121.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=432.45, unrealized=-10000.48, today_pnl=-10000.48)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 41, 16, 243664, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:08.600520", "seconds": 8.60052}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1668247.8, day=1668247.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1754, avg=412.11, ltp=1418.23, unrealized=1764736.05, today_pnl=1764736.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1435, avg=1297.14, ltp=1045.62, unrealized=360935.78, today_pnl=360935.78), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1124, avg=734.19, ltp=1611.15, unrealized=985697.71, today_pnl=985697.71), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1431, avg=394.69, ltp=1396.17, unrealized=-1433121.26, today_pnl=-1433121.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=106, avg=526.79, ltp=432.45, unrealized=-10000.48, today_pnl=-10000.48)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 41, 16, 243664, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.250490+05:30", "timestamp": 1755760276.25049}}}
{"text": "2025-08-21 12:41:16.251 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1668247.80\n", "record": {"elapsed": {"repr": "0:00:08.601342", "seconds": 8.601342}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1668247.80", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.251312+05:30", "timestamp": 1755760276.251312}}}
{"text": "2025-08-21 12:41:16.252 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:08.602390", "seconds": 8.60239}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:16.252360+05:30", "timestamp": 1755760276.25236}}}
{"text": "2025-08-21 12:41:17.749 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.100013", "seconds": 10.100013}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.749983+05:30", "timestamp": 1755760277.749983}}}
{"text": "2025-08-21 12:41:17.751 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.101123", "seconds": 10.101123}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.751093+05:30", "timestamp": 1755760277.751093}}}
{"text": "2025-08-21 12:41:17.751 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.101586", "seconds": 10.101586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.751556+05:30", "timestamp": 1755760277.751556}}}
{"text": "2025-08-21 12:41:17.752 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.102102", "seconds": 10.102102}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.752072+05:30", "timestamp": 1755760277.752072}}}
{"text": "2025-08-21 12:41:17.752 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.102709", "seconds": 10.102709}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.752679+05:30", "timestamp": 1755760277.752679}}}
{"text": "2025-08-21 12:41:17.753 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.103443", "seconds": 10.103443}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.753413+05:30", "timestamp": 1755760277.753413}}}
{"text": "2025-08-21 12:41:17.754 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.104160", "seconds": 10.10416}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.754130+05:30", "timestamp": 1755760277.75413}}}
{"text": "2025-08-21 12:41:17.754 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.104688", "seconds": 10.104688}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.754658+05:30", "timestamp": 1755760277.754658}}}
{"text": "2025-08-21 12:41:17.755 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.105096", "seconds": 10.105096}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.755066+05:30", "timestamp": 1755760277.755066}}}
{"text": "2025-08-21 12:41:17.755 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.105565", "seconds": 10.105565}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:17.755535+05:30", "timestamp": 1755760277.755535}}}
{"text": "2025-08-21 12:41:17.758 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:10.108771", "seconds": 10.108771}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:17.758741+05:30", "timestamp": 1755760277.758741}}}
{"text": "2025-08-21 12:41:19.756 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.106164", "seconds": 12.106164}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.756134+05:30", "timestamp": 1755760279.756134}}}
{"text": "2025-08-21 12:41:19.756 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.106856", "seconds": 12.106856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.756826+05:30", "timestamp": 1755760279.756826}}}
{"text": "2025-08-21 12:41:19.757 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.107327", "seconds": 12.107327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.757297+05:30", "timestamp": 1755760279.757297}}}
{"text": "2025-08-21 12:41:19.758 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.108342", "seconds": 12.108342}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.758312+05:30", "timestamp": 1755760279.758312}}}
{"text": "2025-08-21 12:41:19.758 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.108871", "seconds": 12.108871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.758841+05:30", "timestamp": 1755760279.758841}}}
{"text": "2025-08-21 12:41:19.759 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.109388", "seconds": 12.109388}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.759358+05:30", "timestamp": 1755760279.759358}}}
{"text": "2025-08-21 12:41:19.759 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.109793", "seconds": 12.109793}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.759763+05:30", "timestamp": 1755760279.759763}}}
{"text": "2025-08-21 12:41:19.760 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.110312", "seconds": 12.110312}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.760282+05:30", "timestamp": 1755760279.760282}}}
{"text": "2025-08-21 12:41:19.760 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.110844", "seconds": 12.110844}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.760814+05:30", "timestamp": 1755760279.760814}}}
{"text": "2025-08-21 12:41:19.761 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.111518", "seconds": 12.111518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 6156, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:41:19.761488+05:30", "timestamp": 1755760279.761488}}}
{"text": "2025-08-21 12:41:20.890 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:13.240871", "seconds": 13.240871}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:20.890841+05:30", "timestamp": 1755760280.890841}}}
{"text": "2025-08-21 12:41:20.891 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:13.241685", "seconds": 13.241685}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:20.891655+05:30", "timestamp": 1755760280.891655}}}
{"text": "2025-08-21 12:41:20.892 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:13.242302", "seconds": 13.242302}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 21276, "name": "MainProcess"}, "thread": {"id": 14032, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:41:20.892272+05:30", "timestamp": 1755760280.892272}}}
{"text": "2025-08-21 12:49:48.435 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.054307", "seconds": 0.054307}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.435932+05:30", "timestamp": 1755760788.435932}}}
{"text": "2025-08-21 12:49:48.437 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=4793, avg_price=530.3239609640594, ltp=549.7185927285017\n", "record": {"elapsed": {"repr": "0:00:00.055622", "seconds": 0.055622}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=4793, avg_price=530.3239609640594, ltp=549.7185927285017", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.437247+05:30", "timestamp": 1755760788.437247}}}
{"text": "2025-08-21 12:49:48.437 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=3813, avg_price=1770.0644131398626, ltp=1543.078459572555\n", "record": {"elapsed": {"repr": "0:00:00.056322", "seconds": 0.056322}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=3813, avg_price=1770.0644131398626, ltp=1543.078459572555", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.437947+05:30", "timestamp": 1755760788.437947}}}
{"text": "2025-08-21 12:49:48.438 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=979, avg_price=119.69914983531365, ltp=98.3621779110553\n", "record": {"elapsed": {"repr": "0:00:00.056942", "seconds": 0.056942}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=979, avg_price=119.69914983531365, ltp=98.3621779110553", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.438567+05:30", "timestamp": 1755760788.438567}}}
{"text": "2025-08-21 12:49:48.439 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=2727, avg_price=1750.5044786758583, ltp=1903.622868394343\n", "record": {"elapsed": {"repr": "0:00:00.057439", "seconds": 0.057439}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=2727, avg_price=1750.5044786758583, ltp=1903.622868394343", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.439064+05:30", "timestamp": 1755760788.439064}}}
{"text": "2025-08-21 12:49:48.439 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=269, avg_price=660.3699011875657, ltp=630.6562745916516\n", "record": {"elapsed": {"repr": "0:00:00.058018", "seconds": 0.058018}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=269, avg_price=660.3699011875657, ltp=630.6562745916516", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.439643+05:30", "timestamp": 1755760788.439643}}}
{"text": "2025-08-21 12:49:48.440 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=3061, avg_price=1664.6361024847588, ltp=1515.8336107547277\n", "record": {"elapsed": {"repr": "0:00:00.058571", "seconds": 0.058571}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=3061, avg_price=1664.6361024847588, ltp=1515.8336107547277", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.440196+05:30", "timestamp": 1755760788.440196}}}
{"text": "2025-08-21 12:49:48.440 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=4915, avg_price=136.30748575075899, ltp=152.8690430537116\n", "record": {"elapsed": {"repr": "0:00:00.059229", "seconds": 0.059229}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=4915, avg_price=136.30748575075899, ltp=152.8690430537116", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.440854+05:30", "timestamp": 1755760788.440854}}}
{"text": "2025-08-21 12:49:48.441 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=1986, avg_price=1378.6165618102743, ltp=1537.623264577693\n", "record": {"elapsed": {"repr": "0:00:00.059898", "seconds": 0.059898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=1986, avg_price=1378.6165618102743, ltp=1537.623264577693", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.441523+05:30", "timestamp": 1755760788.441523}}}
{"text": "2025-08-21 12:49:48.442 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=746, avg_price=816.552069771113, ltp=943.8417327335195\n", "record": {"elapsed": {"repr": "0:00:00.060797", "seconds": 0.060797}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=746, avg_price=816.552069771113, ltp=943.8417327335195", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.442422+05:30", "timestamp": 1755760788.442422}}}
{"text": "2025-08-21 12:49:48.443 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=3943, avg_price=1593.2219223079132, ltp=1527.2577316076238\n", "record": {"elapsed": {"repr": "0:00:00.061586", "seconds": 0.061586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=3943, avg_price=1593.2219223079132, ltp=1527.2577316076238", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.443211+05:30", "timestamp": 1755760788.443211}}}
{"text": "2025-08-21 12:49:48.443 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.062085", "seconds": 0.062085}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.443710+05:30", "timestamp": 1755760788.44371}}}
{"text": "2025-08-21 12:49:48.444 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=399, avg_price=391.01\n", "record": {"elapsed": {"repr": "0:00:00.062881", "seconds": 0.062881}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=399, avg_price=391.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.444506+05:30", "timestamp": 1755760788.444506}}}
{"text": "2025-08-21 12:49:48.445 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=525, avg_price=1620.83\n", "record": {"elapsed": {"repr": "0:00:00.063871", "seconds": 0.063871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=525, avg_price=1620.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.445496+05:30", "timestamp": 1755760788.445496}}}
{"text": "2025-08-21 12:49:48.446 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1977, avg_price=712.99\n", "record": {"elapsed": {"repr": "0:00:00.064704", "seconds": 0.064704}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1977, avg_price=712.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.446329+05:30", "timestamp": 1755760788.446329}}}
{"text": "2025-08-21 12:49:48.446 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1642, avg_price=1840.21\n", "record": {"elapsed": {"repr": "0:00:00.065260", "seconds": 0.06526}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1642, avg_price=1840.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.446885+05:30", "timestamp": 1755760788.446885}}}
{"text": "2025-08-21 12:49:48.447 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=1355, avg_price=621.19\n", "record": {"elapsed": {"repr": "0:00:00.065737", "seconds": 0.065737}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=1355, avg_price=621.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.447362+05:30", "timestamp": 1755760788.447362}}}
{"text": "2025-08-21 12:49:48.447 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.066118", "seconds": 0.066118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.447743+05:30", "timestamp": 1755760788.447743}}}
{"text": "2025-08-21 12:49:48.448 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.067106", "seconds": 0.067106}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.448731+05:30", "timestamp": 1755760788.448731}}}
{"text": "2025-08-21 12:49:48.449 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.068214", "seconds": 0.068214}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.449839+05:30", "timestamp": 1755760788.449839}}}
{"text": "2025-08-21 12:49:48.450 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.069190", "seconds": 0.06919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.450815+05:30", "timestamp": 1755760788.450815}}}
{"text": "2025-08-21 12:49:48.478 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.096691", "seconds": 0.096691}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.478316+05:30", "timestamp": 1755760788.478316}}}
{"text": "2025-08-21 12:49:48.481 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.100040", "seconds": 0.10004}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.481665+05:30", "timestamp": 1755760788.481665}}}
{"text": "2025-08-21 12:49:48.482 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.100630", "seconds": 0.10063}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.482255+05:30", "timestamp": 1755760788.482255}}}
{"text": "2025-08-21 12:49:48.482 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.101204", "seconds": 0.101204}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.482829+05:30", "timestamp": 1755760788.482829}}}
{"text": "2025-08-21 12:49:48.484 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.102400", "seconds": 0.1024}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:48.484025+05:30", "timestamp": 1755760788.484025}}}
{"text": "2025-08-21 12:49:50.132 | DEBUG    | app.ws.live:emit_delta:375 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:01.750458", "seconds": 1.750458}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.132083+05:30", "timestamp": 1755760790.132083}}}
{"text": "2025-08-21 12:49:50.133 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:01.751461", "seconds": 1.751461}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.133086+05:30", "timestamp": 1755760790.133086}}}
{"text": "2025-08-21 12:49:50.133 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:01.751924", "seconds": 1.751924}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.133549+05:30", "timestamp": 1755760790.133549}}}
{"text": "2025-08-21 12:49:50.134 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=63324.73, today=63324.73\n", "record": {"elapsed": {"repr": "0:00:01.752492", "seconds": 1.752492}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=63324.73, today=63324.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.134117+05:30", "timestamp": 1755760790.134117}}}
{"text": "2025-08-21 12:49:50.134 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=40819.56, today=40819.56\n", "record": {"elapsed": {"repr": "0:00:01.753065", "seconds": 1.753065}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=40819.56, today=40819.56", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.134690+05:30", "timestamp": 1755760790.13469}}}
{"text": "2025-08-21 12:49:50.135 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1215119.2, today=-1215119.2\n", "record": {"elapsed": {"repr": "0:00:01.753835", "seconds": 1.753835}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1215119.2, today=-1215119.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.135460+05:30", "timestamp": 1755760790.13546}}}
{"text": "2025-08-21 12:49:50.136 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-104123.93, today=-104123.93\n", "record": {"elapsed": {"repr": "0:00:01.754725", "seconds": 1.754725}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-104123.93, today=-104123.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.136350+05:30", "timestamp": 1755760790.13635}}}
{"text": "2025-08-21 12:49:50.136 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=12826.8, today=12826.8\n", "record": {"elapsed": {"repr": "0:00:01.755366", "seconds": 1.755366}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=12826.8, today=12826.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.136991+05:30", "timestamp": 1755760790.136991}}}
{"text": "2025-08-21 12:49:50.137 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -1202272.04, day: -1202272.04\n", "record": {"elapsed": {"repr": "0:00:01.755835", "seconds": 1.755835}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -1202272.04, day: -1202272.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.137460+05:30", "timestamp": 1755760790.13746}}}
{"text": "2025-08-21 12:49:50.137 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:01.756246", "seconds": 1.756246}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.137871+05:30", "timestamp": 1755760790.137871}}}
{"text": "2025-08-21 12:49:50.138 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:01.756684", "seconds": 1.756684}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.138309+05:30", "timestamp": 1755760790.138309}}}
{"text": "2025-08-21 12:49:50.138 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:01.757086", "seconds": 1.757086}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.138711+05:30", "timestamp": 1755760790.138711}}}
{"text": "2025-08-21 12:49:50.139 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:01.757479", "seconds": 1.757479}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.139104+05:30", "timestamp": 1755760790.139104}}}
{"text": "2025-08-21 12:49:50.139 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:49:50.134021+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:01.757964", "seconds": 1.757964}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:49:50.134021+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.139589+05:30", "timestamp": 1755760790.139589}}}
{"text": "2025-08-21 12:49:50.140 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1202272.04, day=-1202272.04, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=399, avg=391.01, ltp=549.72, unrealized=63324.73, today_pnl=63324.73), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=525, avg=1620.83, ltp=1543.08, unrealized=40819.56, today_pnl=40819.56), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1977, avg=712.99, ltp=98.36, unrealized=-1215119.2, today_pnl=-1215119.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1642, avg=1840.21, ltp=1903.62, unrealized=-104123.93, today_pnl=-104123.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1355, avg=621.19, ltp=630.66, unrealized=12826.8, today_pnl=12826.8)] updated_at=datetime.datetime(2025, 8, 21, 12, 49, 50, 134021, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:01.758726", "seconds": 1.758726}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-1202272.04, day=-1202272.04, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=399, avg=391.01, ltp=549.72, unrealized=63324.73, today_pnl=63324.73), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=525, avg=1620.83, ltp=1543.08, unrealized=40819.56, today_pnl=40819.56), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1977, avg=712.99, ltp=98.36, unrealized=-1215119.2, today_pnl=-1215119.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1642, avg=1840.21, ltp=1903.62, unrealized=-104123.93, today_pnl=-104123.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1355, avg=621.19, ltp=630.66, unrealized=12826.8, today_pnl=12826.8)] updated_at=datetime.datetime(2025, 8, 21, 12, 49, 50, 134021, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.140351+05:30", "timestamp": 1755760790.140351}}}
{"text": "2025-08-21 12:49:50.141 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1202272.04, day=-1202272.04, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=399, avg=391.01, ltp=549.72, unrealized=63324.73, today_pnl=63324.73), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=525, avg=1620.83, ltp=1543.08, unrealized=40819.56, today_pnl=40819.56), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1977, avg=712.99, ltp=98.36, unrealized=-1215119.2, today_pnl=-1215119.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1642, avg=1840.21, ltp=1903.62, unrealized=-104123.93, today_pnl=-104123.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1355, avg=621.19, ltp=630.66, unrealized=12826.8, today_pnl=12826.8)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 49, 50, 134021, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:01.759944", "seconds": 1.759944}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-1202272.04, day=-1202272.04, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=399, avg=391.01, ltp=549.72, unrealized=63324.73, today_pnl=63324.73), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=525, avg=1620.83, ltp=1543.08, unrealized=40819.56, today_pnl=40819.56), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1977, avg=712.99, ltp=98.36, unrealized=-1215119.2, today_pnl=-1215119.2), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1642, avg=1840.21, ltp=1903.62, unrealized=-104123.93, today_pnl=-104123.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1355, avg=621.19, ltp=630.66, unrealized=12826.8, today_pnl=12826.8)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 49, 50, 134021, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.141569+05:30", "timestamp": 1755760790.141569}}}
{"text": "2025-08-21 12:49:50.142 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1202272.04\n", "record": {"elapsed": {"repr": "0:00:01.760661", "seconds": 1.760661}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-1202272.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.142286+05:30", "timestamp": 1755760790.142286}}}
{"text": "2025-08-21 12:49:50.143 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType\n", "record": {"elapsed": {"repr": "0:00:01.761429", "seconds": 1.761429}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType", "module": "live", "name": "app.ws.live", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:50.143054+05:30", "timestamp": 1755760790.143054}}}
{"text": "2025-08-21 12:49:50.452 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.071145", "seconds": 2.071145}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:50.452770+05:30", "timestamp": 1755760790.45277}}}
{"text": "2025-08-21 12:49:50.453 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.071871", "seconds": 2.071871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:50.453496+05:30", "timestamp": 1755760790.453496}}}
{"text": "2025-08-21 12:49:50.453 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.072373", "seconds": 2.072373}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:50.453998+05:30", "timestamp": 1755760790.453998}}}
{"text": "2025-08-21 12:49:50.454 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.072780", "seconds": 2.07278}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:50.454405+05:30", "timestamp": 1755760790.454405}}}
{"text": "2025-08-21 12:49:50.454 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.073248", "seconds": 2.073248}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:50.454873+05:30", "timestamp": 1755760790.454873}}}
{"text": "2025-08-21 12:49:50.455 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.073695", "seconds": 2.073695}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:50.455320+05:30", "timestamp": 1755760790.45532}}}
{"text": "2025-08-21 12:49:50.455 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.074205", "seconds": 2.074205}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:50.455830+05:30", "timestamp": 1755760790.45583}}}
{"text": "2025-08-21 12:49:50.456 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.074965", "seconds": 2.074965}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:50.456590+05:30", "timestamp": 1755760790.45659}}}
{"text": "2025-08-21 12:49:50.457 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.075849", "seconds": 2.075849}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:50.457474+05:30", "timestamp": 1755760790.457474}}}
{"text": "2025-08-21 12:49:50.458 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.076781", "seconds": 2.076781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:50.458406+05:30", "timestamp": 1755760790.458406}}}
{"text": "2025-08-21 12:49:51.145 | DEBUG    | app.ws.live:emit_delta:375 - Emitted orders delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:02.763487", "seconds": 2.763487}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted orders delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:51.145112+05:30", "timestamp": 1755760791.145112}}}
{"text": "2025-08-21 12:49:52.109 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:03.728256", "seconds": 3.728256}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:52.109881+05:30", "timestamp": 1755760792.109881}}}
{"text": "2025-08-21 12:49:52.459 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.077829", "seconds": 4.077829}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:52.459454+05:30", "timestamp": 1755760792.459454}}}
{"text": "2025-08-21 12:49:52.460 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.078508", "seconds": 4.078508}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:52.460133+05:30", "timestamp": 1755760792.460133}}}
{"text": "2025-08-21 12:49:52.460 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.078927", "seconds": 4.078927}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:52.460552+05:30", "timestamp": 1755760792.460552}}}
{"text": "2025-08-21 12:49:52.461 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.079376", "seconds": 4.079376}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:52.461001+05:30", "timestamp": 1755760792.461001}}}
{"text": "2025-08-21 12:49:52.461 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.079784", "seconds": 4.079784}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:52.461409+05:30", "timestamp": 1755760792.461409}}}
{"text": "2025-08-21 12:49:52.461 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.080119", "seconds": 4.080119}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:52.461744+05:30", "timestamp": 1755760792.461744}}}
{"text": "2025-08-21 12:49:52.462 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.080564", "seconds": 4.080564}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:52.462189+05:30", "timestamp": 1755760792.462189}}}
{"text": "2025-08-21 12:49:52.462 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.081020", "seconds": 4.08102}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:52.462645+05:30", "timestamp": 1755760792.462645}}}
{"text": "2025-08-21 12:49:52.463 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.081453", "seconds": 4.081453}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:52.463078+05:30", "timestamp": 1755760792.463078}}}
{"text": "2025-08-21 12:49:52.463 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.081879", "seconds": 4.081879}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:52.463504+05:30", "timestamp": 1755760792.463504}}}
{"text": "2025-08-21 12:49:54.464 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.082712", "seconds": 6.082712}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:54.464337+05:30", "timestamp": 1755760794.464337}}}
{"text": "2025-08-21 12:49:54.464 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.083352", "seconds": 6.083352}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:54.464977+05:30", "timestamp": 1755760794.464977}}}
{"text": "2025-08-21 12:49:54.465 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.083856", "seconds": 6.083856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:54.465481+05:30", "timestamp": 1755760794.465481}}}
{"text": "2025-08-21 12:49:54.466 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.084455", "seconds": 6.084455}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:54.466080+05:30", "timestamp": 1755760794.46608}}}
{"text": "2025-08-21 12:49:54.466 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.085234", "seconds": 6.085234}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:54.466859+05:30", "timestamp": 1755760794.466859}}}
{"text": "2025-08-21 12:49:54.467 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.085800", "seconds": 6.0858}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:54.467425+05:30", "timestamp": 1755760794.467425}}}
{"text": "2025-08-21 12:49:54.467 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.086197", "seconds": 6.086197}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:54.467822+05:30", "timestamp": 1755760794.467822}}}
{"text": "2025-08-21 12:49:54.468 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.086557", "seconds": 6.086557}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:54.468182+05:30", "timestamp": 1755760794.468182}}}
{"text": "2025-08-21 12:49:54.468 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.086943", "seconds": 6.086943}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:54.468568+05:30", "timestamp": 1755760794.468568}}}
{"text": "2025-08-21 12:49:54.468 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.087239", "seconds": 6.087239}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:54.468864+05:30", "timestamp": 1755760794.468864}}}
{"text": "2025-08-21 12:49:56.469 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.088079", "seconds": 8.088079}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:56.469704+05:30", "timestamp": 1755760796.469704}}}
{"text": "2025-08-21 12:49:56.479 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.097918", "seconds": 8.097918}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:56.479543+05:30", "timestamp": 1755760796.479543}}}
{"text": "2025-08-21 12:49:56.482 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.100556", "seconds": 8.100556}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:56.482181+05:30", "timestamp": 1755760796.482181}}}
{"text": "2025-08-21 12:49:56.483 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.102005", "seconds": 8.102005}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:56.483630+05:30", "timestamp": 1755760796.48363}}}
{"text": "2025-08-21 12:49:56.484 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.102767", "seconds": 8.102767}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:56.484392+05:30", "timestamp": 1755760796.484392}}}
{"text": "2025-08-21 12:49:56.484 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.103319", "seconds": 8.103319}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:56.484944+05:30", "timestamp": 1755760796.484944}}}
{"text": "2025-08-21 12:49:56.485 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.103839", "seconds": 8.103839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:56.485464+05:30", "timestamp": 1755760796.485464}}}
{"text": "2025-08-21 12:49:56.485 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.104303", "seconds": 8.104303}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:56.485928+05:30", "timestamp": 1755760796.485928}}}
{"text": "2025-08-21 12:49:56.486 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.104896", "seconds": 8.104896}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:56.486521+05:30", "timestamp": 1755760796.486521}}}
{"text": "2025-08-21 12:49:56.487 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.105897", "seconds": 8.105897}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 22208, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:49:56.487522+05:30", "timestamp": 1755760796.487522}}}
{"text": "2025-08-21 12:49:57.044 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:08.663231", "seconds": 8.663231}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:57.044856+05:30", "timestamp": 1755760797.044856}}}
{"text": "2025-08-21 12:49:57.046 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:08.664549", "seconds": 8.664549}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:57.046174+05:30", "timestamp": 1755760797.046174}}}
{"text": "2025-08-21 12:49:57.046 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:08.665025", "seconds": 8.665025}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 22156, "name": "MainProcess"}, "thread": {"id": 21888, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:49:57.046650+05:30", "timestamp": 1755760797.04665}}}
{"text": "2025-08-21 12:51:41.753 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.038067", "seconds": 0.038067}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.753465+05:30", "timestamp": 1755760901.753465}}}
{"text": "2025-08-21 12:51:41.754 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=2808, avg_price=1924.9508761257614, ltp=1910.9067622358646\n", "record": {"elapsed": {"repr": "0:00:00.038898", "seconds": 0.038898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=2808, avg_price=1924.9508761257614, ltp=1910.9067622358646", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.754296+05:30", "timestamp": 1755760901.754296}}}
{"text": "2025-08-21 12:51:41.755 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=1529, avg_price=282.4678245535123, ltp=230.49211470550932\n", "record": {"elapsed": {"repr": "0:00:00.039658", "seconds": 0.039658}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=1529, avg_price=282.4678245535123, ltp=230.49211470550932", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.755056+05:30", "timestamp": 1755760901.755056}}}
{"text": "2025-08-21 12:51:41.756 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=671, avg_price=1777.7203110467183, ltp=1483.6225065876317\n", "record": {"elapsed": {"repr": "0:00:00.040705", "seconds": 0.040705}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=671, avg_price=1777.7203110467183, ltp=1483.6225065876317", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.756103+05:30", "timestamp": 1755760901.756103}}}
{"text": "2025-08-21 12:51:41.756 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=1572, avg_price=1364.3338869493925, ltp=1559.453030999121\n", "record": {"elapsed": {"repr": "0:00:00.041573", "seconds": 0.041573}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=1572, avg_price=1364.3338869493925, ltp=1559.453030999121", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.756971+05:30", "timestamp": 1755760901.756971}}}
{"text": "2025-08-21 12:51:41.757 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=4724, avg_price=537.9454427162402, ltp=528.4812451688592\n", "record": {"elapsed": {"repr": "0:00:00.042171", "seconds": 0.042171}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=4724, avg_price=537.9454427162402, ltp=528.4812451688592", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.757569+05:30", "timestamp": 1755760901.757569}}}
{"text": "2025-08-21 12:51:41.758 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=2106, avg_price=1504.4450028327365, ltp=1675.6876944076726\n", "record": {"elapsed": {"repr": "0:00:00.042678", "seconds": 0.042678}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=2106, avg_price=1504.4450028327365, ltp=1675.6876944076726", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.758076+05:30", "timestamp": 1755760901.758076}}}
{"text": "2025-08-21 12:51:41.758 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=3510, avg_price=113.84101489568445, ltp=125.9405433566013\n", "record": {"elapsed": {"repr": "0:00:00.043077", "seconds": 0.043077}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=3510, avg_price=113.84101489568445, ltp=125.9405433566013", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.758475+05:30", "timestamp": 1755760901.758475}}}
{"text": "2025-08-21 12:51:41.759 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=2135, avg_price=1488.6777183203426, ltp=1516.8376527376033\n", "record": {"elapsed": {"repr": "0:00:00.043729", "seconds": 0.043729}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=2135, avg_price=1488.6777183203426, ltp=1516.8376527376033", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.759127+05:30", "timestamp": 1755760901.759127}}}
{"text": "2025-08-21 12:51:41.759 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=4337, avg_price=824.8018656296234, ltp=793.4377910723038\n", "record": {"elapsed": {"repr": "0:00:00.044507", "seconds": 0.044507}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=4337, avg_price=824.8018656296234, ltp=793.4377910723038", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.759905+05:30", "timestamp": 1755760901.759905}}}
{"text": "2025-08-21 12:51:41.761 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=3995, avg_price=587.7631959840929, ltp=546.6973490397135\n", "record": {"elapsed": {"repr": "0:00:00.045757", "seconds": 0.045757}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=3995, avg_price=587.7631959840929, ltp=546.6973490397135", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.761155+05:30", "timestamp": 1755760901.761155}}}
{"text": "2025-08-21 12:51:41.761 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.046401", "seconds": 0.046401}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.761799+05:30", "timestamp": 1755760901.761799}}}
{"text": "2025-08-21 12:51:41.762 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1194, avg_price=917.29\n", "record": {"elapsed": {"repr": "0:00:00.047118", "seconds": 0.047118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1194, avg_price=917.29", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.762516+05:30", "timestamp": 1755760901.762516}}}
{"text": "2025-08-21 12:51:41.763 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1603, avg_price=770.82\n", "record": {"elapsed": {"repr": "0:00:00.047837", "seconds": 0.047837}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1603, avg_price=770.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.763235+05:30", "timestamp": 1755760901.763235}}}
{"text": "2025-08-21 12:51:41.764 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1844, avg_price=284.21\n", "record": {"elapsed": {"repr": "0:00:00.048763", "seconds": 0.048763}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1844, avg_price=284.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.764161+05:30", "timestamp": 1755760901.764161}}}
{"text": "2025-08-21 12:51:41.765 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=808, avg_price=1236.45\n", "record": {"elapsed": {"repr": "0:00:00.049945", "seconds": 0.049945}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=808, avg_price=1236.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.765343+05:30", "timestamp": 1755760901.765343}}}
{"text": "2025-08-21 12:51:41.765 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=147, avg_price=1816.51\n", "record": {"elapsed": {"repr": "0:00:00.050597", "seconds": 0.050597}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=147, avg_price=1816.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.765995+05:30", "timestamp": 1755760901.765995}}}
{"text": "2025-08-21 12:51:41.766 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.051060", "seconds": 0.05106}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.766458+05:30", "timestamp": 1755760901.766458}}}
{"text": "2025-08-21 12:51:41.767 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.052219", "seconds": 0.052219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.767617+05:30", "timestamp": 1755760901.767617}}}
{"text": "2025-08-21 12:51:41.768 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.053437", "seconds": 0.053437}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.768835+05:30", "timestamp": 1755760901.768835}}}
{"text": "2025-08-21 12:51:41.769 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.054323", "seconds": 0.054323}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.769721+05:30", "timestamp": 1755760901.769721}}}
{"text": "2025-08-21 12:51:41.793 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.078334", "seconds": 0.078334}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.793732+05:30", "timestamp": 1755760901.793732}}}
{"text": "2025-08-21 12:51:41.797 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.081772", "seconds": 0.081772}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.797170+05:30", "timestamp": 1755760901.79717}}}
{"text": "2025-08-21 12:51:41.798 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.082836", "seconds": 0.082836}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.798234+05:30", "timestamp": 1755760901.798234}}}
{"text": "2025-08-21 12:51:41.798 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.083415", "seconds": 0.083415}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.798813+05:30", "timestamp": 1755760901.798813}}}
{"text": "2025-08-21 12:51:41.799 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.083869", "seconds": 0.083869}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:41.799267+05:30", "timestamp": 1755760901.799267}}}
{"text": "2025-08-21 12:51:43.606 | DEBUG    | app.ws.live:emit_delta:375 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:01.890816", "seconds": 1.890816}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.606214+05:30", "timestamp": 1755760903.606214}}}
{"text": "2025-08-21 12:51:43.606 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:01.891418", "seconds": 1.891418}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.606816+05:30", "timestamp": 1755760903.606816}}}
{"text": "2025-08-21 12:51:43.607 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:01.891873", "seconds": 1.891873}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.607271+05:30", "timestamp": 1755760903.607271}}}
{"text": "2025-08-21 12:51:43.607 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1186378.41, today=1186378.41\n", "record": {"elapsed": {"repr": "0:00:01.892471", "seconds": 1.892471}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1186378.41, today=1186378.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.607869+05:30", "timestamp": 1755760903.607869}}}
{"text": "2025-08-21 12:51:43.608 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=866145.6, today=866145.6\n", "record": {"elapsed": {"repr": "0:00:01.892939", "seconds": 1.892939}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=866145.6, today=866145.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.608337+05:30", "timestamp": 1755760903.608337}}}
{"text": "2025-08-21 12:51:43.608 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=2211716.66, today=2211716.66\n", "record": {"elapsed": {"repr": "0:00:01.893359", "seconds": 1.893359}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=2211716.66, today=2211716.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.608757+05:30", "timestamp": 1755760903.608757}}}
{"text": "2025-08-21 12:51:43.609 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-260986.45, today=-260986.45\n", "record": {"elapsed": {"repr": "0:00:01.893917", "seconds": 1.893917}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-260986.45, today=-260986.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.609315+05:30", "timestamp": 1755760903.609315}}}
{"text": "2025-08-21 12:51:43.610 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-189340.23, today=-189340.23\n", "record": {"elapsed": {"repr": "0:00:01.894672", "seconds": 1.894672}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-189340.23, today=-189340.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.610070+05:30", "timestamp": 1755760903.61007}}}
{"text": "2025-08-21 12:51:43.610 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3813913.99, day: 3813913.99\n", "record": {"elapsed": {"repr": "0:00:01.895074", "seconds": 1.895074}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3813913.99, day: 3813913.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.610472+05:30", "timestamp": 1755760903.610472}}}
{"text": "2025-08-21 12:51:43.611 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:01.895609", "seconds": 1.895609}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.611007+05:30", "timestamp": 1755760903.611007}}}
{"text": "2025-08-21 12:51:43.611 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:01.896131", "seconds": 1.896131}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.611529+05:30", "timestamp": 1755760903.611529}}}
{"text": "2025-08-21 12:51:43.612 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:01.896721", "seconds": 1.896721}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.612119+05:30", "timestamp": 1755760903.612119}}}
{"text": "2025-08-21 12:51:43.613 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:01.897654", "seconds": 1.897654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.613052+05:30", "timestamp": 1755760903.613052}}}
{"text": "2025-08-21 12:51:43.613 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:51:43.607791+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:01.898390", "seconds": 1.89839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 12:51:43.607791+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.613788+05:30", "timestamp": 1755760903.613788}}}
{"text": "2025-08-21 12:51:43.614 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3813913.99, day=3813913.99, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1194, avg=917.29, ltp=1910.91, unrealized=1186378.41, today_pnl=1186378.41), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1603, avg=770.82, ltp=230.49, unrealized=866145.6, today_pnl=866145.6), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1844, avg=284.21, ltp=1483.62, unrealized=2211716.66, today_pnl=2211716.66), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=808, avg=1236.45, ltp=1559.45, unrealized=-260986.45, today_pnl=-260986.45), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=147, avg=1816.51, ltp=528.48, unrealized=-189340.23, today_pnl=-189340.23)] updated_at=datetime.datetime(2025, 8, 21, 12, 51, 43, 607791, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:01.899083", "seconds": 1.899083}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3813913.99, day=3813913.99, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1194, avg=917.29, ltp=1910.91, unrealized=1186378.41, today_pnl=1186378.41), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1603, avg=770.82, ltp=230.49, unrealized=866145.6, today_pnl=866145.6), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1844, avg=284.21, ltp=1483.62, unrealized=2211716.66, today_pnl=2211716.66), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=808, avg=1236.45, ltp=1559.45, unrealized=-260986.45, today_pnl=-260986.45), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=147, avg=1816.51, ltp=528.48, unrealized=-189340.23, today_pnl=-189340.23)] updated_at=datetime.datetime(2025, 8, 21, 12, 51, 43, 607791, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.614481+05:30", "timestamp": 1755760903.614481}}}
{"text": "2025-08-21 12:51:43.615 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3813913.99, day=3813913.99, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1194, avg=917.29, ltp=1910.91, unrealized=1186378.41, today_pnl=1186378.41), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1603, avg=770.82, ltp=230.49, unrealized=866145.6, today_pnl=866145.6), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1844, avg=284.21, ltp=1483.62, unrealized=2211716.66, today_pnl=2211716.66), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=808, avg=1236.45, ltp=1559.45, unrealized=-260986.45, today_pnl=-260986.45), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=147, avg=1816.51, ltp=528.48, unrealized=-189340.23, today_pnl=-189340.23)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 51, 43, 607791, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:01.899781", "seconds": 1.899781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3813913.99, day=3813913.99, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1194, avg=917.29, ltp=1910.91, unrealized=1186378.41, today_pnl=1186378.41), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1603, avg=770.82, ltp=230.49, unrealized=866145.6, today_pnl=866145.6), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1844, avg=284.21, ltp=1483.62, unrealized=2211716.66, today_pnl=2211716.66), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=808, avg=1236.45, ltp=1559.45, unrealized=-260986.45, today_pnl=-260986.45), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=147, avg=1816.51, ltp=528.48, unrealized=-189340.23, today_pnl=-189340.23)], 'updated_at': datetime.datetime(2025, 8, 21, 12, 51, 43, 607791, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.615179+05:30", "timestamp": 1755760903.615179}}}
{"text": "2025-08-21 12:51:43.615 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3813913.99\n", "record": {"elapsed": {"repr": "0:00:01.900335", "seconds": 1.900335}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3813913.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.615733+05:30", "timestamp": 1755760903.615733}}}
{"text": "2025-08-21 12:51:43.616 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType\n", "record": {"elapsed": {"repr": "0:00:01.900905", "seconds": 1.900905}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType", "module": "live", "name": "app.ws.live", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:43.616303+05:30", "timestamp": 1755760903.616303}}}
{"text": "2025-08-21 12:51:43.772 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.056676", "seconds": 2.056676}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:43.772074+05:30", "timestamp": 1755760903.772074}}}
{"text": "2025-08-21 12:51:43.772 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.057301", "seconds": 2.057301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:43.772699+05:30", "timestamp": 1755760903.772699}}}
{"text": "2025-08-21 12:51:43.773 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.057775", "seconds": 2.057775}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:43.773173+05:30", "timestamp": 1755760903.773173}}}
{"text": "2025-08-21 12:51:43.773 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.058101", "seconds": 2.058101}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:43.773499+05:30", "timestamp": 1755760903.773499}}}
{"text": "2025-08-21 12:51:43.773 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.058448", "seconds": 2.058448}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:43.773846+05:30", "timestamp": 1755760903.773846}}}
{"text": "2025-08-21 12:51:43.774 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.058841", "seconds": 2.058841}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:43.774239+05:30", "timestamp": 1755760903.774239}}}
{"text": "2025-08-21 12:51:43.774 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.059258", "seconds": 2.059258}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:43.774656+05:30", "timestamp": 1755760903.774656}}}
{"text": "2025-08-21 12:51:43.775 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.059746", "seconds": 2.059746}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:43.775144+05:30", "timestamp": 1755760903.775144}}}
{"text": "2025-08-21 12:51:43.775 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.060416", "seconds": 2.060416}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:43.775814+05:30", "timestamp": 1755760903.775814}}}
{"text": "2025-08-21 12:51:43.776 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.061311", "seconds": 2.061311}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:43.776709+05:30", "timestamp": 1755760903.776709}}}
{"text": "2025-08-21 12:51:44.608 | DEBUG    | app.ws.live:emit_delta:375 - Emitted orders delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:02.893094", "seconds": 2.893094}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted orders delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:44.608492+05:30", "timestamp": 1755760904.608492}}}
{"text": "2025-08-21 12:51:45.324 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:03.609040", "seconds": 3.60904}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:45.324438+05:30", "timestamp": 1755760905.324438}}}
{"text": "2025-08-21 12:51:45.777 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.062573", "seconds": 4.062573}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:45.777971+05:30", "timestamp": 1755760905.777971}}}
{"text": "2025-08-21 12:51:45.778 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.063383", "seconds": 4.063383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:45.778781+05:30", "timestamp": 1755760905.778781}}}
{"text": "2025-08-21 12:51:45.779 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.063840", "seconds": 4.06384}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:45.779238+05:30", "timestamp": 1755760905.779238}}}
{"text": "2025-08-21 12:51:45.779 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.064216", "seconds": 4.064216}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:45.779614+05:30", "timestamp": 1755760905.779614}}}
{"text": "2025-08-21 12:51:45.779 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.064589", "seconds": 4.064589}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:45.779987+05:30", "timestamp": 1755760905.779987}}}
{"text": "2025-08-21 12:51:45.780 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.065052", "seconds": 4.065052}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:45.780450+05:30", "timestamp": 1755760905.78045}}}
{"text": "2025-08-21 12:51:45.780 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.065451", "seconds": 4.065451}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:45.780849+05:30", "timestamp": 1755760905.780849}}}
{"text": "2025-08-21 12:51:45.781 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.065802", "seconds": 4.065802}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:45.781200+05:30", "timestamp": 1755760905.7812}}}
{"text": "2025-08-21 12:51:45.781 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.066184", "seconds": 4.066184}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:45.781582+05:30", "timestamp": 1755760905.781582}}}
{"text": "2025-08-21 12:51:45.782 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.066617", "seconds": 4.066617}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:45.782015+05:30", "timestamp": 1755760905.782015}}}
{"text": "2025-08-21 12:51:47.783 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.067621", "seconds": 6.067621}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:47.783019+05:30", "timestamp": 1755760907.783019}}}
{"text": "2025-08-21 12:51:47.783 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.068283", "seconds": 6.068283}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:47.783681+05:30", "timestamp": 1755760907.783681}}}
{"text": "2025-08-21 12:51:47.784 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.069004", "seconds": 6.069004}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:47.784402+05:30", "timestamp": 1755760907.784402}}}
{"text": "2025-08-21 12:51:47.785 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.069848", "seconds": 6.069848}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:47.785246+05:30", "timestamp": 1755760907.785246}}}
{"text": "2025-08-21 12:51:47.785 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.070485", "seconds": 6.070485}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:47.785883+05:30", "timestamp": 1755760907.785883}}}
{"text": "2025-08-21 12:51:47.786 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.070910", "seconds": 6.07091}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:47.786308+05:30", "timestamp": 1755760907.786308}}}
{"text": "2025-08-21 12:51:47.786 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.071362", "seconds": 6.071362}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:47.786760+05:30", "timestamp": 1755760907.78676}}}
{"text": "2025-08-21 12:51:47.787 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.071839", "seconds": 6.071839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:47.787237+05:30", "timestamp": 1755760907.787237}}}
{"text": "2025-08-21 12:51:47.787 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.072222", "seconds": 6.072222}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:47.787620+05:30", "timestamp": 1755760907.78762}}}
{"text": "2025-08-21 12:51:47.788 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.072751", "seconds": 6.072751}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 3452, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 12:51:47.788149+05:30", "timestamp": 1755760907.788149}}}
{"text": "2025-08-21 12:51:48.736 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:07.020827", "seconds": 7.020827}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:48.736225+05:30", "timestamp": 1755760908.736225}}}
{"text": "2025-08-21 12:51:48.736 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:07.021431", "seconds": 7.021431}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:48.736829+05:30", "timestamp": 1755760908.736829}}}
{"text": "2025-08-21 12:51:48.737 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:07.021821", "seconds": 7.021821}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 7836, "name": "MainProcess"}, "thread": {"id": 15532, "name": "MainThread"}, "time": {"repr": "2025-08-21 12:51:48.737219+05:30", "timestamp": 1755760908.737219}}}
{"text": "2025-08-21 16:39:25.833 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.090112", "seconds": 0.090112}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.833390+05:30", "timestamp": 1755774565.83339}}}
{"text": "2025-08-21 16:39:25.837 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=4857, avg_price=198.23470061190272, ltp=208.2674815238136\n", "record": {"elapsed": {"repr": "0:00:00.093730", "seconds": 0.09373}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=4857, avg_price=198.23470061190272, ltp=208.2674815238136", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.837008+05:30", "timestamp": 1755774565.837008}}}
{"text": "2025-08-21 16:39:25.838 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=2756, avg_price=1700.1344663764844, ltp=1696.5970876056015\n", "record": {"elapsed": {"repr": "0:00:00.095038", "seconds": 0.095038}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=2756, avg_price=1700.1344663764844, ltp=1696.5970876056015", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.838316+05:30", "timestamp": 1755774565.838316}}}
{"text": "2025-08-21 16:39:25.839 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=365, avg_price=294.5911138559072, ltp=295.6280680029192\n", "record": {"elapsed": {"repr": "0:00:00.095926", "seconds": 0.095926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=365, avg_price=294.5911138559072, ltp=295.6280680029192", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.839204+05:30", "timestamp": 1755774565.839204}}}
{"text": "2025-08-21 16:39:25.840 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=2762, avg_price=739.0851071197811, ltp=693.4179141051728\n", "record": {"elapsed": {"repr": "0:00:00.097139", "seconds": 0.097139}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=2762, avg_price=739.0851071197811, ltp=693.4179141051728", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.840417+05:30", "timestamp": 1755774565.840417}}}
{"text": "2025-08-21 16:39:25.841 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=3475, avg_price=1922.921863734899, ltp=1656.4891578269803\n", "record": {"elapsed": {"repr": "0:00:00.098655", "seconds": 0.098655}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=3475, avg_price=1922.921863734899, ltp=1656.4891578269803", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.841933+05:30", "timestamp": 1755774565.841933}}}
{"text": "2025-08-21 16:39:25.843 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=2777, avg_price=1519.5845644783772, ltp=1281.9168897016505\n", "record": {"elapsed": {"repr": "0:00:00.099794", "seconds": 0.099794}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=2777, avg_price=1519.5845644783772, ltp=1281.9168897016505", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.843072+05:30", "timestamp": 1755774565.843072}}}
{"text": "2025-08-21 16:39:25.844 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=1348, avg_price=1245.0503913047455, ltp=1176.5543385737167\n", "record": {"elapsed": {"repr": "0:00:00.101483", "seconds": 0.101483}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=1348, avg_price=1245.0503913047455, ltp=1176.5543385737167", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.844761+05:30", "timestamp": 1755774565.844761}}}
{"text": "2025-08-21 16:39:25.845 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=3368, avg_price=331.9409448279796, ltp=316.7286019945958\n", "record": {"elapsed": {"repr": "0:00:00.102631", "seconds": 0.102631}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=3368, avg_price=331.9409448279796, ltp=316.7286019945958", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.845909+05:30", "timestamp": 1755774565.845909}}}
{"text": "2025-08-21 16:39:25.846 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=3622, avg_price=1731.8351015076519, ltp=1929.6729946378193\n", "record": {"elapsed": {"repr": "0:00:00.103410", "seconds": 0.10341}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=3622, avg_price=1731.8351015076519, ltp=1929.6729946378193", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.846688+05:30", "timestamp": 1755774565.846688}}}
{"text": "2025-08-21 16:39:25.847 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=4223, avg_price=1935.820730905298, ltp=2104.4375912763094\n", "record": {"elapsed": {"repr": "0:00:00.104151", "seconds": 0.104151}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=4223, avg_price=1935.820730905298, ltp=2104.4375912763094", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.847429+05:30", "timestamp": 1755774565.847429}}}
{"text": "2025-08-21 16:39:25.848 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.105074", "seconds": 0.105074}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.848352+05:30", "timestamp": 1755774565.848352}}}
{"text": "2025-08-21 16:39:25.849 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1876, avg_price=1350.02\n", "record": {"elapsed": {"repr": "0:00:00.106285", "seconds": 0.106285}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1876, avg_price=1350.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.849563+05:30", "timestamp": 1755774565.849563}}}
{"text": "2025-08-21 16:39:25.851 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=673, avg_price=1525.06\n", "record": {"elapsed": {"repr": "0:00:00.108140", "seconds": 0.10814}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=673, avg_price=1525.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.851418+05:30", "timestamp": 1755774565.851418}}}
{"text": "2025-08-21 16:39:25.853 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=481, avg_price=1675.14\n", "record": {"elapsed": {"repr": "0:00:00.109922", "seconds": 0.109922}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=481, avg_price=1675.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.853200+05:30", "timestamp": 1755774565.8532}}}
{"text": "2025-08-21 16:39:25.854 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1053, avg_price=1759.97\n", "record": {"elapsed": {"repr": "0:00:00.111120", "seconds": 0.11112}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1053, avg_price=1759.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.854398+05:30", "timestamp": 1755774565.854398}}}
{"text": "2025-08-21 16:39:25.855 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=1433, avg_price=939.52\n", "record": {"elapsed": {"repr": "0:00:00.112087", "seconds": 0.112087}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=1433, avg_price=939.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.855365+05:30", "timestamp": 1755774565.855365}}}
{"text": "2025-08-21 16:39:25.856 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.112962", "seconds": 0.112962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.856240+05:30", "timestamp": 1755774565.85624}}}
{"text": "2025-08-21 16:39:25.857 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.114271", "seconds": 0.114271}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.857549+05:30", "timestamp": 1755774565.857549}}}
{"text": "2025-08-21 16:39:25.860 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.117185", "seconds": 0.117185}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.860463+05:30", "timestamp": 1755774565.860463}}}
{"text": "2025-08-21 16:39:25.861 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.118433", "seconds": 0.118433}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.861711+05:30", "timestamp": 1755774565.861711}}}
{"text": "2025-08-21 16:39:25.911 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.168288", "seconds": 0.168288}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.911566+05:30", "timestamp": 1755774565.911566}}}
{"text": "2025-08-21 16:39:25.919 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.175806", "seconds": 0.175806}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.919084+05:30", "timestamp": 1755774565.919084}}}
{"text": "2025-08-21 16:39:25.920 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.176945", "seconds": 0.176945}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.920223+05:30", "timestamp": 1755774565.920223}}}
{"text": "2025-08-21 16:39:25.921 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.177998", "seconds": 0.177998}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.921276+05:30", "timestamp": 1755774565.921276}}}
{"text": "2025-08-21 16:39:25.922 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.178887", "seconds": 0.178887}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.922165+05:30", "timestamp": 1755774565.922165}}}
{"text": "2025-08-21 16:39:25.927 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.183901", "seconds": 0.183901}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.927179+05:30", "timestamp": 1755774565.927179}}}
{"text": "2025-08-21 16:39:25.929 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.185922", "seconds": 0.185922}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.929200+05:30", "timestamp": 1755774565.9292}}}
{"text": "2025-08-21 16:39:25.930 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:00.187066", "seconds": 0.187066}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 25928, "name": "MainProcess"}, "thread": {"id": 18464, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:39:25.930344+05:30", "timestamp": 1755774565.930344}}}
{"text": "2025-08-21 16:40:12.227 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.079110", "seconds": 0.07911}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.227080+05:30", "timestamp": 1755774612.22708}}}
{"text": "2025-08-21 16:40:12.228 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=126, avg_price=1189.8855659555861, ltp=1347.4013856926406\n", "record": {"elapsed": {"repr": "0:00:00.080179", "seconds": 0.080179}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=126, avg_price=1189.8855659555861, ltp=1347.4013856926406", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.228149+05:30", "timestamp": 1755774612.228149}}}
{"text": "2025-08-21 16:40:12.228 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=3592, avg_price=480.21991021103076, ltp=417.441644464815\n", "record": {"elapsed": {"repr": "0:00:00.080889", "seconds": 0.080889}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=3592, avg_price=480.21991021103076, ltp=417.441644464815", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.228859+05:30", "timestamp": 1755774612.228859}}}
{"text": "2025-08-21 16:40:12.229 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=3080, avg_price=753.9135991429321, ltp=726.8927433901911\n", "record": {"elapsed": {"repr": "0:00:00.082028", "seconds": 0.082028}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=3080, avg_price=753.9135991429321, ltp=726.8927433901911", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.229998+05:30", "timestamp": 1755774612.229998}}}
{"text": "2025-08-21 16:40:12.231 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=1815, avg_price=981.4362954382249, ltp=1060.3890231353002\n", "record": {"elapsed": {"repr": "0:00:00.083574", "seconds": 0.083574}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=1815, avg_price=981.4362954382249, ltp=1060.3890231353002", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.231544+05:30", "timestamp": 1755774612.231544}}}
{"text": "2025-08-21 16:40:12.233 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=4230, avg_price=494.2281712686473, ltp=592.9541082084153\n", "record": {"elapsed": {"repr": "0:00:00.085304", "seconds": 0.085304}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=4230, avg_price=494.2281712686473, ltp=592.9541082084153", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.233274+05:30", "timestamp": 1755774612.233274}}}
{"text": "2025-08-21 16:40:12.234 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=330, avg_price=395.950681593184, ltp=424.61820455765974\n", "record": {"elapsed": {"repr": "0:00:00.086532", "seconds": 0.086532}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=330, avg_price=395.950681593184, ltp=424.61820455765974", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.234502+05:30", "timestamp": 1755774612.234502}}}
{"text": "2025-08-21 16:40:12.235 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=3979, avg_price=552.0430303757612, ltp=582.5474271564893\n", "record": {"elapsed": {"repr": "0:00:00.087523", "seconds": 0.087523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=3979, avg_price=552.0430303757612, ltp=582.5474271564893", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.235493+05:30", "timestamp": 1755774612.235493}}}
{"text": "2025-08-21 16:40:12.236 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=4386, avg_price=1283.2456649622015, ltp=1089.0154663226865\n", "record": {"elapsed": {"repr": "0:00:00.088900", "seconds": 0.0889}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=4386, avg_price=1283.2456649622015, ltp=1089.0154663226865", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.236870+05:30", "timestamp": 1755774612.23687}}}
{"text": "2025-08-21 16:40:12.237 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=4137, avg_price=187.37980125725448, ltp=218.14832554749557\n", "record": {"elapsed": {"repr": "0:00:00.089967", "seconds": 0.089967}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=4137, avg_price=187.37980125725448, ltp=218.14832554749557", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.237937+05:30", "timestamp": 1755774612.237937}}}
{"text": "2025-08-21 16:40:12.238 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=747, avg_price=1648.4741035559528, ltp=1753.8519788290168\n", "record": {"elapsed": {"repr": "0:00:00.091004", "seconds": 0.091004}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=747, avg_price=1648.4741035559528, ltp=1753.8519788290168", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.238974+05:30", "timestamp": 1755774612.238974}}}
{"text": "2025-08-21 16:40:12.240 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.092108", "seconds": 0.092108}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.240078+05:30", "timestamp": 1755774612.240078}}}
{"text": "2025-08-21 16:40:12.242 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1899, avg_price=1157.81\n", "record": {"elapsed": {"repr": "0:00:00.094417", "seconds": 0.094417}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1899, avg_price=1157.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.242387+05:30", "timestamp": 1755774612.242387}}}
{"text": "2025-08-21 16:40:12.244 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=116, avg_price=695.46\n", "record": {"elapsed": {"repr": "0:00:00.096289", "seconds": 0.096289}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=116, avg_price=695.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.244259+05:30", "timestamp": 1755774612.244259}}}
{"text": "2025-08-21 16:40:12.245 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1046, avg_price=308.92\n", "record": {"elapsed": {"repr": "0:00:00.097963", "seconds": 0.097963}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1046, avg_price=308.92", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.245933+05:30", "timestamp": 1755774612.245933}}}
{"text": "2025-08-21 16:40:12.247 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1500, avg_price=1040.02\n", "record": {"elapsed": {"repr": "0:00:00.099084", "seconds": 0.099084}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1500, avg_price=1040.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.247054+05:30", "timestamp": 1755774612.247054}}}
{"text": "2025-08-21 16:40:12.248 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=1789, avg_price=722.8\n", "record": {"elapsed": {"repr": "0:00:00.100285", "seconds": 0.100285}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=1789, avg_price=722.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.248255+05:30", "timestamp": 1755774612.248255}}}
{"text": "2025-08-21 16:40:12.249 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.101201", "seconds": 0.101201}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.249171+05:30", "timestamp": 1755774612.249171}}}
{"text": "2025-08-21 16:40:12.251 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.103639", "seconds": 0.103639}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.251609+05:30", "timestamp": 1755774612.251609}}}
{"text": "2025-08-21 16:40:12.254 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.106400", "seconds": 0.1064}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.254370+05:30", "timestamp": 1755774612.25437}}}
{"text": "2025-08-21 16:40:12.255 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.107504", "seconds": 0.107504}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.255474+05:30", "timestamp": 1755774612.255474}}}
{"text": "2025-08-21 16:40:12.300 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.152600", "seconds": 0.1526}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 22876, "name": "MainProcess"}, "thread": {"id": 22692, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:12.300570+05:30", "timestamp": 1755774612.30057}}}
{"text": "2025-08-21 16:40:40.890 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.067052", "seconds": 0.067052}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.890600+05:30", "timestamp": 1755774640.8906}}}
{"text": "2025-08-21 16:40:40.892 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=588, avg_price=125.06051730660948, ltp=128.6361530315701\n", "record": {"elapsed": {"repr": "0:00:00.068713", "seconds": 0.068713}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=588, avg_price=125.06051730660948, ltp=128.6361530315701", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.892261+05:30", "timestamp": 1755774640.892261}}}
{"text": "2025-08-21 16:40:40.893 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=881, avg_price=813.5841894132328, ltp=704.7756962839758\n", "record": {"elapsed": {"repr": "0:00:00.070145", "seconds": 0.070145}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=881, avg_price=813.5841894132328, ltp=704.7756962839758", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.893693+05:30", "timestamp": 1755774640.893693}}}
{"text": "2025-08-21 16:40:40.895 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=2794, avg_price=1555.5350892577167, ltp=1538.3901514346235\n", "record": {"elapsed": {"repr": "0:00:00.071544", "seconds": 0.071544}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=2794, avg_price=1555.5350892577167, ltp=1538.3901514346235", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.895092+05:30", "timestamp": 1755774640.895092}}}
{"text": "2025-08-21 16:40:40.896 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=2105, avg_price=540.6864449618799, ltp=584.8267262279902\n", "record": {"elapsed": {"repr": "0:00:00.072633", "seconds": 0.072633}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=2105, avg_price=540.6864449618799, ltp=584.8267262279902", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.896181+05:30", "timestamp": 1755774640.896181}}}
{"text": "2025-08-21 16:40:40.897 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=2389, avg_price=1591.314679002474, ltp=1833.4985399485277\n", "record": {"elapsed": {"repr": "0:00:00.074320", "seconds": 0.07432}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=2389, avg_price=1591.314679002474, ltp=1833.4985399485277", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.897868+05:30", "timestamp": 1755774640.897868}}}
{"text": "2025-08-21 16:40:40.899 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=3525, avg_price=1330.1147657443353, ltp=1150.5174522069858\n", "record": {"elapsed": {"repr": "0:00:00.075978", "seconds": 0.075978}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=3525, avg_price=1330.1147657443353, ltp=1150.5174522069858", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.899526+05:30", "timestamp": 1755774640.899526}}}
{"text": "2025-08-21 16:40:40.901 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=2525, avg_price=1873.4039066516725, ltp=2207.9197845386343\n", "record": {"elapsed": {"repr": "0:00:00.077534", "seconds": 0.077534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=2525, avg_price=1873.4039066516725, ltp=2207.9197845386343", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.901082+05:30", "timestamp": 1755774640.901082}}}
{"text": "2025-08-21 16:40:40.902 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=4798, avg_price=659.5506958054592, ltp=678.0524922792957\n", "record": {"elapsed": {"repr": "0:00:00.078584", "seconds": 0.078584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=4798, avg_price=659.5506958054592, ltp=678.0524922792957", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.902132+05:30", "timestamp": 1755774640.902132}}}
{"text": "2025-08-21 16:40:40.903 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=3108, avg_price=1809.7938720587413, ltp=1563.9675712329183\n", "record": {"elapsed": {"repr": "0:00:00.079508", "seconds": 0.079508}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=3108, avg_price=1809.7938720587413, ltp=1563.9675712329183", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.903056+05:30", "timestamp": 1755774640.903056}}}
{"text": "2025-08-21 16:40:40.904 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=3251, avg_price=1076.3950715083406, ltp=1176.821721792077\n", "record": {"elapsed": {"repr": "0:00:00.080943", "seconds": 0.080943}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=3251, avg_price=1076.3950715083406, ltp=1176.821721792077", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.904491+05:30", "timestamp": 1755774640.904491}}}
{"text": "2025-08-21 16:40:40.905 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.082014", "seconds": 0.082014}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.905562+05:30", "timestamp": 1755774640.905562}}}
{"text": "2025-08-21 16:40:40.906 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=692, avg_price=689.76\n", "record": {"elapsed": {"repr": "0:00:00.083337", "seconds": 0.083337}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=692, avg_price=689.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.906885+05:30", "timestamp": 1755774640.906885}}}
{"text": "2025-08-21 16:40:40.908 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=225, avg_price=361.76\n", "record": {"elapsed": {"repr": "0:00:00.085023", "seconds": 0.085023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=225, avg_price=361.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.908571+05:30", "timestamp": 1755774640.908571}}}
{"text": "2025-08-21 16:40:40.909 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=164, avg_price=857.3\n", "record": {"elapsed": {"repr": "0:00:00.086174", "seconds": 0.086174}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=164, avg_price=857.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.909722+05:30", "timestamp": 1755774640.909722}}}
{"text": "2025-08-21 16:40:40.911 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1027, avg_price=1152.38\n", "record": {"elapsed": {"repr": "0:00:00.087627", "seconds": 0.087627}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1027, avg_price=1152.38", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.911175+05:30", "timestamp": 1755774640.911175}}}
{"text": "2025-08-21 16:40:40.912 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=1067, avg_price=1447.54\n", "record": {"elapsed": {"repr": "0:00:00.088928", "seconds": 0.088928}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=1067, avg_price=1447.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.912476+05:30", "timestamp": 1755774640.912476}}}
{"text": "2025-08-21 16:40:40.913 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.089853", "seconds": 0.089853}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.913401+05:30", "timestamp": 1755774640.913401}}}
{"text": "2025-08-21 16:40:40.914 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.091226", "seconds": 0.091226}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.914774+05:30", "timestamp": 1755774640.914774}}}
{"text": "2025-08-21 16:40:40.917 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.094162", "seconds": 0.094162}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.917710+05:30", "timestamp": 1755774640.91771}}}
{"text": "2025-08-21 16:40:40.918 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.095073", "seconds": 0.095073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.918621+05:30", "timestamp": 1755774640.918621}}}
{"text": "2025-08-21 16:40:40.962 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.138740", "seconds": 0.13874}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.962288+05:30", "timestamp": 1755774640.962288}}}
{"text": "2025-08-21 16:40:40.967 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.144379", "seconds": 0.144379}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.967927+05:30", "timestamp": 1755774640.967927}}}
{"text": "2025-08-21 16:40:40.969 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.145689", "seconds": 0.145689}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.969237+05:30", "timestamp": 1755774640.969237}}}
{"text": "2025-08-21 16:40:40.970 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.146581", "seconds": 0.146581}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.970129+05:30", "timestamp": 1755774640.970129}}}
{"text": "2025-08-21 16:40:40.971 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.147708", "seconds": 0.147708}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:40.971256+05:30", "timestamp": 1755774640.971256}}}
{"text": "2025-08-21 16:40:42.793 | DEBUG    | app.ws.live:emit_delta:375 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:01.969746", "seconds": 1.969746}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.793294+05:30", "timestamp": 1755774642.793294}}}
{"text": "2025-08-21 16:40:42.794 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:01.970802", "seconds": 1.970802}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.794350+05:30", "timestamp": 1755774642.79435}}}
{"text": "2025-08-21 16:40:42.795 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:01.971586", "seconds": 1.971586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.795134+05:30", "timestamp": 1755774642.795134}}}
{"text": "2025-08-21 16:40:42.796 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-388297.7, today=-388297.7\n", "record": {"elapsed": {"repr": "0:00:01.972735", "seconds": 1.972735}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-388297.7, today=-388297.7", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.796283+05:30", "timestamp": 1755774642.796283}}}
{"text": "2025-08-21 16:40:42.797 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-77178.53, today=-77178.53\n", "record": {"elapsed": {"repr": "0:00:01.973670", "seconds": 1.97367}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-77178.53, today=-77178.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.797218+05:30", "timestamp": 1755774642.797218}}}
{"text": "2025-08-21 16:40:42.798 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=111698.78, today=111698.78\n", "record": {"elapsed": {"repr": "0:00:01.974623", "seconds": 1.974623}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=111698.78, today=111698.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.798171+05:30", "timestamp": 1755774642.798171}}}
{"text": "2025-08-21 16:40:42.799 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=582877.21, today=582877.21\n", "record": {"elapsed": {"repr": "0:00:01.975746", "seconds": 1.975746}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=582877.21, today=582877.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.799294+05:30", "timestamp": 1755774642.799294}}}
{"text": "2025-08-21 16:40:42.800 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=411817.76, today=411817.76\n", "record": {"elapsed": {"repr": "0:00:01.977212", "seconds": 1.977212}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=411817.76, today=411817.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.800760+05:30", "timestamp": 1755774642.80076}}}
{"text": "2025-08-21 16:40:42.801 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 640917.52, day: 640917.52\n", "record": {"elapsed": {"repr": "0:00:01.978269", "seconds": 1.978269}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 640917.52, day: 640917.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.801817+05:30", "timestamp": 1755774642.801817}}}
{"text": "2025-08-21 16:40:42.802 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:01.979143", "seconds": 1.979143}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.802691+05:30", "timestamp": 1755774642.802691}}}
{"text": "2025-08-21 16:40:42.803 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:01.980015", "seconds": 1.980015}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.803563+05:30", "timestamp": 1755774642.803563}}}
{"text": "2025-08-21 16:40:42.804 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:01.980823", "seconds": 1.980823}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.804371+05:30", "timestamp": 1755774642.804371}}}
{"text": "2025-08-21 16:40:42.805 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:01.981931", "seconds": 1.981931}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.805479+05:30", "timestamp": 1755774642.805479}}}
{"text": "2025-08-21 16:40:42.807 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:40:42.796118+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:01.983454", "seconds": 1.983454}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:40:42.796118+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.807002+05:30", "timestamp": 1755774642.807002}}}
{"text": "2025-08-21 16:40:42.808 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=640917.52, day=640917.52, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.64, unrealized=-388297.7, today_pnl=-388297.7), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=704.78, unrealized=-77178.53, today_pnl=-77178.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1538.39, unrealized=111698.78, today_pnl=111698.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=584.83, unrealized=582877.21, today_pnl=582877.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1833.5, unrealized=411817.76, today_pnl=411817.76)] updated_at=datetime.datetime(2025, 8, 21, 16, 40, 42, 796118, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:01.985135", "seconds": 1.985135}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=640917.52, day=640917.52, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.64, unrealized=-388297.7, today_pnl=-388297.7), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=704.78, unrealized=-77178.53, today_pnl=-77178.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1538.39, unrealized=111698.78, today_pnl=111698.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=584.83, unrealized=582877.21, today_pnl=582877.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1833.5, unrealized=411817.76, today_pnl=411817.76)] updated_at=datetime.datetime(2025, 8, 21, 16, 40, 42, 796118, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.808683+05:30", "timestamp": 1755774642.808683}}}
{"text": "2025-08-21 16:40:42.810 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=640917.52, day=640917.52, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.64, unrealized=-388297.7, today_pnl=-388297.7), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=704.78, unrealized=-77178.53, today_pnl=-77178.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1538.39, unrealized=111698.78, today_pnl=111698.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=584.83, unrealized=582877.21, today_pnl=582877.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1833.5, unrealized=411817.76, today_pnl=411817.76)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 40, 42, 796118, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:01.987157", "seconds": 1.987157}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=640917.52, day=640917.52, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.64, unrealized=-388297.7, today_pnl=-388297.7), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=704.78, unrealized=-77178.53, today_pnl=-77178.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1538.39, unrealized=111698.78, today_pnl=111698.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=584.83, unrealized=582877.21, today_pnl=582877.21), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1833.5, unrealized=411817.76, today_pnl=411817.76)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 40, 42, 796118, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.810705+05:30", "timestamp": 1755774642.810705}}}
{"text": "2025-08-21 16:40:42.811 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ640917.52\n", "record": {"elapsed": {"repr": "0:00:01.988450", "seconds": 1.98845}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ640917.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.811998+05:30", "timestamp": 1755774642.811998}}}
{"text": "2025-08-21 16:40:42.813 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType\n", "record": {"elapsed": {"repr": "0:00:01.989991", "seconds": 1.989991}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:42.813539+05:30", "timestamp": 1755774642.813539}}}
{"text": "2025-08-21 16:40:42.922 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.099415", "seconds": 2.099415}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:42.922963+05:30", "timestamp": 1755774642.922963}}}
{"text": "2025-08-21 16:40:42.924 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.100704", "seconds": 2.100704}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:42.924252+05:30", "timestamp": 1755774642.924252}}}
{"text": "2025-08-21 16:40:42.925 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.102277", "seconds": 2.102277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:42.925825+05:30", "timestamp": 1755774642.925825}}}
{"text": "2025-08-21 16:40:42.926 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.103282", "seconds": 2.103282}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:42.926830+05:30", "timestamp": 1755774642.92683}}}
{"text": "2025-08-21 16:40:42.927 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.103999", "seconds": 2.103999}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:42.927547+05:30", "timestamp": 1755774642.927547}}}
{"text": "2025-08-21 16:40:42.928 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.104885", "seconds": 2.104885}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:42.928433+05:30", "timestamp": 1755774642.928433}}}
{"text": "2025-08-21 16:40:42.929 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.105920", "seconds": 2.10592}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:42.929468+05:30", "timestamp": 1755774642.929468}}}
{"text": "2025-08-21 16:40:42.931 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.107498", "seconds": 2.107498}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:42.931046+05:30", "timestamp": 1755774642.931046}}}
{"text": "2025-08-21 16:40:42.932 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.108697", "seconds": 2.108697}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:42.932245+05:30", "timestamp": 1755774642.932245}}}
{"text": "2025-08-21 16:40:42.933 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.109652", "seconds": 2.109652}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:42.933200+05:30", "timestamp": 1755774642.9332}}}
{"text": "2025-08-21 16:40:43.795 | DEBUG    | app.ws.live:emit_delta:375 - Emitted orders delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:02.971689", "seconds": 2.971689}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted orders delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:43.795237+05:30", "timestamp": 1755774643.795237}}}
{"text": "2025-08-21 16:40:44.519 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:03.696263", "seconds": 3.696263}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:44.519811+05:30", "timestamp": 1755774644.519811}}}
{"text": "2025-08-21 16:40:44.935 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.111614", "seconds": 4.111614}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:44.935162+05:30", "timestamp": 1755774644.935162}}}
{"text": "2025-08-21 16:40:44.937 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.114082", "seconds": 4.114082}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:44.937630+05:30", "timestamp": 1755774644.93763}}}
{"text": "2025-08-21 16:40:44.939 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.116416", "seconds": 4.116416}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:44.939964+05:30", "timestamp": 1755774644.939964}}}
{"text": "2025-08-21 16:40:44.941 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.118156", "seconds": 4.118156}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:44.941704+05:30", "timestamp": 1755774644.941704}}}
{"text": "2025-08-21 16:40:44.944 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.120775", "seconds": 4.120775}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:44.944323+05:30", "timestamp": 1755774644.944323}}}
{"text": "2025-08-21 16:40:44.946 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.122573", "seconds": 4.122573}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:44.946121+05:30", "timestamp": 1755774644.946121}}}
{"text": "2025-08-21 16:40:44.948 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.125177", "seconds": 4.125177}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:44.948725+05:30", "timestamp": 1755774644.948725}}}
{"text": "2025-08-21 16:40:44.950 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.127315", "seconds": 4.127315}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:44.950863+05:30", "timestamp": 1755774644.950863}}}
{"text": "2025-08-21 16:40:44.953 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.129544", "seconds": 4.129544}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:44.953092+05:30", "timestamp": 1755774644.953092}}}
{"text": "2025-08-21 16:40:44.954 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.131225", "seconds": 4.131225}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:44.954773+05:30", "timestamp": 1755774644.954773}}}
{"text": "2025-08-21 16:40:46.956 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.133347", "seconds": 6.133347}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:46.956895+05:30", "timestamp": 1755774646.956895}}}
{"text": "2025-08-21 16:40:46.959 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.135678", "seconds": 6.135678}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:46.959226+05:30", "timestamp": 1755774646.959226}}}
{"text": "2025-08-21 16:40:46.961 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.137789", "seconds": 6.137789}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:46.961337+05:30", "timestamp": 1755774646.961337}}}
{"text": "2025-08-21 16:40:46.963 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.140310", "seconds": 6.14031}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:46.963858+05:30", "timestamp": 1755774646.963858}}}
{"text": "2025-08-21 16:40:46.965 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.141975", "seconds": 6.141975}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:46.965523+05:30", "timestamp": 1755774646.965523}}}
{"text": "2025-08-21 16:40:46.967 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.144231", "seconds": 6.144231}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:46.967779+05:30", "timestamp": 1755774646.967779}}}
{"text": "2025-08-21 16:40:46.969 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.145908", "seconds": 6.145908}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:46.969456+05:30", "timestamp": 1755774646.969456}}}
{"text": "2025-08-21 16:40:46.971 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.148429", "seconds": 6.148429}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:46.971977+05:30", "timestamp": 1755774646.971977}}}
{"text": "2025-08-21 16:40:46.973 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.150421", "seconds": 6.150421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:46.973969+05:30", "timestamp": 1755774646.973969}}}
{"text": "2025-08-21 16:40:46.977 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.154219", "seconds": 6.154219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:46.977767+05:30", "timestamp": 1755774646.977767}}}
{"text": "2025-08-21 16:40:48.980 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.156548", "seconds": 8.156548}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:48.980096+05:30", "timestamp": 1755774648.980096}}}
{"text": "2025-08-21 16:40:48.981 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.157621", "seconds": 8.157621}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:48.981169+05:30", "timestamp": 1755774648.981169}}}
{"text": "2025-08-21 16:40:48.982 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.158690", "seconds": 8.15869}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:48.982238+05:30", "timestamp": 1755774648.982238}}}
{"text": "2025-08-21 16:40:48.983 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.159946", "seconds": 8.159946}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:48.983494+05:30", "timestamp": 1755774648.983494}}}
{"text": "2025-08-21 16:40:48.984 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.161013", "seconds": 8.161013}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:48.984561+05:30", "timestamp": 1755774648.984561}}}
{"text": "2025-08-21 16:40:48.986 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.162840", "seconds": 8.16284}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:48.986388+05:30", "timestamp": 1755774648.986388}}}
{"text": "2025-08-21 16:40:48.987 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.164068", "seconds": 8.164068}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:48.987616+05:30", "timestamp": 1755774648.987616}}}
{"text": "2025-08-21 16:40:48.989 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.165839", "seconds": 8.165839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:48.989387+05:30", "timestamp": 1755774648.989387}}}
{"text": "2025-08-21 16:40:48.990 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.167024", "seconds": 8.167024}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:48.990572+05:30", "timestamp": 1755774648.990572}}}
{"text": "2025-08-21 16:40:48.991 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.167844", "seconds": 8.167844}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:48.991392+05:30", "timestamp": 1755774648.991392}}}
{"text": "2025-08-21 16:40:49.570 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.747160", "seconds": 8.74716}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.570708+05:30", "timestamp": 1755774649.570708}}}
{"text": "2025-08-21 16:40:49.571 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.748426", "seconds": 8.748426}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.571974+05:30", "timestamp": 1755774649.571974}}}
{"text": "2025-08-21 16:40:49.572 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-388674.9, today=-388674.9\n", "record": {"elapsed": {"repr": "0:00:08.749201", "seconds": 8.749201}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-388674.9, today=-388674.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.572749+05:30", "timestamp": 1755774649.572749}}}
{"text": "2025-08-21 16:40:49.573 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-81915.91, today=-81915.91\n", "record": {"elapsed": {"repr": "0:00:08.750122", "seconds": 8.750122}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-81915.91, today=-81915.91", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.573670+05:30", "timestamp": 1755774649.57367}}}
{"text": "2025-08-21 16:40:49.574 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=119775.69, today=119775.69\n", "record": {"elapsed": {"repr": "0:00:08.751087", "seconds": 8.751087}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=119775.69, today=119775.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.574635+05:30", "timestamp": 1755774649.574635}}}
{"text": "2025-08-21 16:40:49.575 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=593987.59, today=593987.59\n", "record": {"elapsed": {"repr": "0:00:08.752277", "seconds": 8.752277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=593987.59, today=593987.59", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.575825+05:30", "timestamp": 1755774649.575825}}}
{"text": "2025-08-21 16:40:49.577 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=446563.85, today=446563.85\n", "record": {"elapsed": {"repr": "0:00:08.754290", "seconds": 8.75429}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=446563.85, today=446563.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.577838+05:30", "timestamp": 1755774649.577838}}}
{"text": "2025-08-21 16:40:49.579 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 689736.32, day: 689736.32\n", "record": {"elapsed": {"repr": "0:00:08.755983", "seconds": 8.755983}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 689736.32, day: 689736.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.579531+05:30", "timestamp": 1755774649.579531}}}
{"text": "2025-08-21 16:40:49.580 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.756916", "seconds": 8.756916}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.580464+05:30", "timestamp": 1755774649.580464}}}
{"text": "2025-08-21 16:40:49.581 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.758270", "seconds": 8.75827}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.581818+05:30", "timestamp": 1755774649.581818}}}
{"text": "2025-08-21 16:40:49.582 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.759388", "seconds": 8.759388}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.582936+05:30", "timestamp": 1755774649.582936}}}
{"text": "2025-08-21 16:40:49.584 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.760608", "seconds": 8.760608}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.584156+05:30", "timestamp": 1755774649.584156}}}
{"text": "2025-08-21 16:40:49.585 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:40:49.572670+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.762169", "seconds": 8.762169}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:40:49.572670+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.585717+05:30", "timestamp": 1755774649.585717}}}
{"text": "2025-08-21 16:40:49.587 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=689736.32, day=689736.32, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.09, unrealized=-388674.9, today_pnl=-388674.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=725.83, unrealized=-81915.91, today_pnl=-81915.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1587.64, unrealized=119775.69, today_pnl=119775.69), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=574.01, unrealized=593987.59, today_pnl=593987.59), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1866.06, unrealized=446563.85, today_pnl=446563.85)] updated_at=datetime.datetime(2025, 8, 21, 16, 40, 49, 572670, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:08.764434", "seconds": 8.764434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=689736.32, day=689736.32, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.09, unrealized=-388674.9, today_pnl=-388674.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=725.83, unrealized=-81915.91, today_pnl=-81915.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1587.64, unrealized=119775.69, today_pnl=119775.69), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=574.01, unrealized=593987.59, today_pnl=593987.59), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1866.06, unrealized=446563.85, today_pnl=446563.85)] updated_at=datetime.datetime(2025, 8, 21, 16, 40, 49, 572670, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.587982+05:30", "timestamp": 1755774649.587982}}}
{"text": "2025-08-21 16:40:49.589 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=689736.32, day=689736.32, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.09, unrealized=-388674.9, today_pnl=-388674.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=725.83, unrealized=-81915.91, today_pnl=-81915.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1587.64, unrealized=119775.69, today_pnl=119775.69), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=574.01, unrealized=593987.59, today_pnl=593987.59), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1866.06, unrealized=446563.85, today_pnl=446563.85)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 40, 49, 572670, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:08.766371", "seconds": 8.766371}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=689736.32, day=689736.32, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.09, unrealized=-388674.9, today_pnl=-388674.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=725.83, unrealized=-81915.91, today_pnl=-81915.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1587.64, unrealized=119775.69, today_pnl=119775.69), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=574.01, unrealized=593987.59, today_pnl=593987.59), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1866.06, unrealized=446563.85, today_pnl=446563.85)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 40, 49, 572670, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.589919+05:30", "timestamp": 1755774649.589919}}}
{"text": "2025-08-21 16:40:49.591 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ689736.32\n", "record": {"elapsed": {"repr": "0:00:08.767944", "seconds": 8.767944}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ689736.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.591492+05:30", "timestamp": 1755774649.591492}}}
{"text": "2025-08-21 16:40:49.593 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:08.769747", "seconds": 8.769747}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:49.593295+05:30", "timestamp": 1755774649.593295}}}
{"text": "2025-08-21 16:40:50.992 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.169044", "seconds": 10.169044}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:50.992592+05:30", "timestamp": 1755774650.992592}}}
{"text": "2025-08-21 16:40:50.993 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.170249", "seconds": 10.170249}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:50.993797+05:30", "timestamp": 1755774650.993797}}}
{"text": "2025-08-21 16:40:50.994 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.171284", "seconds": 10.171284}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:50.994832+05:30", "timestamp": 1755774650.994832}}}
{"text": "2025-08-21 16:40:50.996 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.172793", "seconds": 10.172793}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:50.996341+05:30", "timestamp": 1755774650.996341}}}
{"text": "2025-08-21 16:40:50.997 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.173779", "seconds": 10.173779}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:50.997327+05:30", "timestamp": 1755774650.997327}}}
{"text": "2025-08-21 16:40:50.998 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.174751", "seconds": 10.174751}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:50.998299+05:30", "timestamp": 1755774650.998299}}}
{"text": "2025-08-21 16:40:50.999 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.175790", "seconds": 10.17579}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:50.999338+05:30", "timestamp": 1755774650.999338}}}
{"text": "2025-08-21 16:40:51.000 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.176957", "seconds": 10.176957}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:51.000505+05:30", "timestamp": 1755774651.000505}}}
{"text": "2025-08-21 16:40:51.001 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.178085", "seconds": 10.178085}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:51.001633+05:30", "timestamp": 1755774651.001633}}}
{"text": "2025-08-21 16:40:51.003 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.179605", "seconds": 10.179605}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:51.003153+05:30", "timestamp": 1755774651.003153}}}
{"text": "2025-08-21 16:40:51.128 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:10.304570", "seconds": 10.30457}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:51.128118+05:30", "timestamp": 1755774651.128118}}}
{"text": "2025-08-21 16:40:53.005 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.181545", "seconds": 12.181545}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:53.005093+05:30", "timestamp": 1755774653.005093}}}
{"text": "2025-08-21 16:40:53.006 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.182784", "seconds": 12.182784}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:53.006332+05:30", "timestamp": 1755774653.006332}}}
{"text": "2025-08-21 16:40:53.007 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.183782", "seconds": 12.183782}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:53.007330+05:30", "timestamp": 1755774653.00733}}}
{"text": "2025-08-21 16:40:53.008 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.185115", "seconds": 12.185115}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:53.008663+05:30", "timestamp": 1755774653.008663}}}
{"text": "2025-08-21 16:40:53.009 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.186174", "seconds": 12.186174}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:53.009722+05:30", "timestamp": 1755774653.009722}}}
{"text": "2025-08-21 16:40:53.010 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.187022", "seconds": 12.187022}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:53.010570+05:30", "timestamp": 1755774653.01057}}}
{"text": "2025-08-21 16:40:53.011 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.188035", "seconds": 12.188035}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:53.011583+05:30", "timestamp": 1755774653.011583}}}
{"text": "2025-08-21 16:40:53.012 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.189364", "seconds": 12.189364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:53.012912+05:30", "timestamp": 1755774653.012912}}}
{"text": "2025-08-21 16:40:53.014 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.190677", "seconds": 12.190677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:53.014225+05:30", "timestamp": 1755774653.014225}}}
{"text": "2025-08-21 16:40:53.015 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.191674", "seconds": 12.191674}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:53.015222+05:30", "timestamp": 1755774653.015222}}}
{"text": "2025-08-21 16:40:55.016 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.193233", "seconds": 14.193233}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:55.016781+05:30", "timestamp": 1755774655.016781}}}
{"text": "2025-08-21 16:40:55.017 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.194358", "seconds": 14.194358}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:55.017906+05:30", "timestamp": 1755774655.017906}}}
{"text": "2025-08-21 16:40:55.019 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.195866", "seconds": 14.195866}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:55.019414+05:30", "timestamp": 1755774655.019414}}}
{"text": "2025-08-21 16:40:55.020 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.196687", "seconds": 14.196687}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:55.020235+05:30", "timestamp": 1755774655.020235}}}
{"text": "2025-08-21 16:40:55.021 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.197481", "seconds": 14.197481}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:55.021029+05:30", "timestamp": 1755774655.021029}}}
{"text": "2025-08-21 16:40:55.022 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.198455", "seconds": 14.198455}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:55.022003+05:30", "timestamp": 1755774655.022003}}}
{"text": "2025-08-21 16:40:55.023 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.200223", "seconds": 14.200223}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:55.023771+05:30", "timestamp": 1755774655.023771}}}
{"text": "2025-08-21 16:40:55.025 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.201576", "seconds": 14.201576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:55.025124+05:30", "timestamp": 1755774655.025124}}}
{"text": "2025-08-21 16:40:55.026 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.202655", "seconds": 14.202655}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:55.026203+05:30", "timestamp": 1755774655.026203}}}
{"text": "2025-08-21 16:40:55.027 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.203510", "seconds": 14.20351}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:55.027058+05:30", "timestamp": 1755774655.027058}}}
{"text": "2025-08-21 16:40:56.233 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:15.410071", "seconds": 15.410071}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.233619+05:30", "timestamp": 1755774656.233619}}}
{"text": "2025-08-21 16:40:56.234 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:15.411411", "seconds": 15.411411}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.234959+05:30", "timestamp": 1755774656.234959}}}
{"text": "2025-08-21 16:40:56.235 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-388231.71, today=-388231.71\n", "record": {"elapsed": {"repr": "0:00:15.412179", "seconds": 15.412179}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-388231.71, today=-388231.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.235727+05:30", "timestamp": 1755774656.235727}}}
{"text": "2025-08-21 16:40:56.236 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-82855.43, today=-82855.43\n", "record": {"elapsed": {"repr": "0:00:15.412848", "seconds": 15.412848}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-82855.43, today=-82855.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.236396+05:30", "timestamp": 1755774656.236396}}}
{"text": "2025-08-21 16:40:56.237 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=132429.81, today=132429.81\n", "record": {"elapsed": {"repr": "0:00:15.413513", "seconds": 15.413513}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=132429.81, today=132429.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.237061+05:30", "timestamp": 1755774656.237061}}}
{"text": "2025-08-21 16:40:56.238 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=593656.62, today=593656.62\n", "record": {"elapsed": {"repr": "0:00:15.414521", "seconds": 15.414521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=593656.62, today=593656.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.238069+05:30", "timestamp": 1755774656.238069}}}
{"text": "2025-08-21 16:40:56.239 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=490687.77, today=490687.77\n", "record": {"elapsed": {"repr": "0:00:15.415610", "seconds": 15.41561}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=490687.77, today=490687.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.239158+05:30", "timestamp": 1755774656.239158}}}
{"text": "2025-08-21 16:40:56.241 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 745687.06, day: 745687.06\n", "record": {"elapsed": {"repr": "0:00:15.417819", "seconds": 15.417819}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 745687.06, day: 745687.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.241367+05:30", "timestamp": 1755774656.241367}}}
{"text": "2025-08-21 16:40:56.242 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:15.419190", "seconds": 15.41919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.242738+05:30", "timestamp": 1755774656.242738}}}
{"text": "2025-08-21 16:40:56.244 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:15.420613", "seconds": 15.420613}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.244161+05:30", "timestamp": 1755774656.244161}}}
{"text": "2025-08-21 16:40:56.245 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:15.421969", "seconds": 15.421969}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.245517+05:30", "timestamp": 1755774656.245517}}}
{"text": "2025-08-21 16:40:56.246 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:15.422964", "seconds": 15.422964}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.246512+05:30", "timestamp": 1755774656.246512}}}
{"text": "2025-08-21 16:40:56.247 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:40:56.235631+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:15.423810", "seconds": 15.42381}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:40:56.235631+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.247358+05:30", "timestamp": 1755774656.247358}}}
{"text": "2025-08-21 16:40:56.249 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=745687.06, day=745687.06, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.73, unrealized=-388231.71, today_pnl=-388231.71), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=730.01, unrealized=-82855.43, today_pnl=-82855.43), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1664.8, unrealized=132429.81, today_pnl=132429.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=574.33, unrealized=593656.62, today_pnl=593656.62), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1907.42, unrealized=490687.77, today_pnl=490687.77)] updated_at=datetime.datetime(2025, 8, 21, 16, 40, 56, 235631, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:15.426043", "seconds": 15.426043}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=745687.06, day=745687.06, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.73, unrealized=-388231.71, today_pnl=-388231.71), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=730.01, unrealized=-82855.43, today_pnl=-82855.43), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1664.8, unrealized=132429.81, today_pnl=132429.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=574.33, unrealized=593656.62, today_pnl=593656.62), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1907.42, unrealized=490687.77, today_pnl=490687.77)] updated_at=datetime.datetime(2025, 8, 21, 16, 40, 56, 235631, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.249591+05:30", "timestamp": 1755774656.249591}}}
{"text": "2025-08-21 16:40:56.251 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=745687.06, day=745687.06, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.73, unrealized=-388231.71, today_pnl=-388231.71), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=730.01, unrealized=-82855.43, today_pnl=-82855.43), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1664.8, unrealized=132429.81, today_pnl=132429.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=574.33, unrealized=593656.62, today_pnl=593656.62), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1907.42, unrealized=490687.77, today_pnl=490687.77)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 40, 56, 235631, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:15.427794", "seconds": 15.427794}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=745687.06, day=745687.06, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=128.73, unrealized=-388231.71, today_pnl=-388231.71), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=730.01, unrealized=-82855.43, today_pnl=-82855.43), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1664.8, unrealized=132429.81, today_pnl=132429.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=574.33, unrealized=593656.62, today_pnl=593656.62), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1907.42, unrealized=490687.77, today_pnl=490687.77)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 40, 56, 235631, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.251342+05:30", "timestamp": 1755774656.251342}}}
{"text": "2025-08-21 16:40:56.252 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ745687.06\n", "record": {"elapsed": {"repr": "0:00:15.428787", "seconds": 15.428787}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ745687.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.252335+05:30", "timestamp": 1755774656.252335}}}
{"text": "2025-08-21 16:40:56.254 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:15.430475", "seconds": 15.430475}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:56.254023+05:30", "timestamp": 1755774656.254023}}}
{"text": "2025-08-21 16:40:57.029 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.205464", "seconds": 16.205464}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:57.029012+05:30", "timestamp": 1755774657.029012}}}
{"text": "2025-08-21 16:40:57.030 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.206964", "seconds": 16.206964}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:57.030512+05:30", "timestamp": 1755774657.030512}}}
{"text": "2025-08-21 16:40:57.031 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.208120", "seconds": 16.20812}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:57.031668+05:30", "timestamp": 1755774657.031668}}}
{"text": "2025-08-21 16:40:57.032 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.209182", "seconds": 16.209182}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:57.032730+05:30", "timestamp": 1755774657.03273}}}
{"text": "2025-08-21 16:40:57.034 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.210576", "seconds": 16.210576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:57.034124+05:30", "timestamp": 1755774657.034124}}}
{"text": "2025-08-21 16:40:57.034 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.211422", "seconds": 16.211422}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:57.034970+05:30", "timestamp": 1755774657.03497}}}
{"text": "2025-08-21 16:40:57.035 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.212312", "seconds": 16.212312}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:57.035860+05:30", "timestamp": 1755774657.03586}}}
{"text": "2025-08-21 16:40:57.037 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.213511", "seconds": 16.213511}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:57.037059+05:30", "timestamp": 1755774657.037059}}}
{"text": "2025-08-21 16:40:57.038 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.214571", "seconds": 16.214571}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:57.038119+05:30", "timestamp": 1755774657.038119}}}
{"text": "2025-08-21 16:40:57.039 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.215857", "seconds": 16.215857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:57.039405+05:30", "timestamp": 1755774657.039405}}}
{"text": "2025-08-21 16:40:58.033 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:17.209945", "seconds": 17.209945}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:40:58.033493+05:30", "timestamp": 1755774658.033493}}}
{"text": "2025-08-21 16:40:59.040 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.217445", "seconds": 18.217445}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:59.040993+05:30", "timestamp": 1755774659.040993}}}
{"text": "2025-08-21 16:40:59.042 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.218721", "seconds": 18.218721}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:59.042269+05:30", "timestamp": 1755774659.042269}}}
{"text": "2025-08-21 16:40:59.043 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.219877", "seconds": 18.219877}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:59.043425+05:30", "timestamp": 1755774659.043425}}}
{"text": "2025-08-21 16:40:59.044 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.221093", "seconds": 18.221093}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:59.044641+05:30", "timestamp": 1755774659.044641}}}
{"text": "2025-08-21 16:40:59.045 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.222360", "seconds": 18.22236}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:59.045908+05:30", "timestamp": 1755774659.045908}}}
{"text": "2025-08-21 16:40:59.046 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.223251", "seconds": 18.223251}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:59.046799+05:30", "timestamp": 1755774659.046799}}}
{"text": "2025-08-21 16:40:59.047 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.224316", "seconds": 18.224316}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:59.047864+05:30", "timestamp": 1755774659.047864}}}
{"text": "2025-08-21 16:40:59.049 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.225930", "seconds": 18.22593}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:59.049478+05:30", "timestamp": 1755774659.049478}}}
{"text": "2025-08-21 16:40:59.050 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.226867", "seconds": 18.226867}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:59.050415+05:30", "timestamp": 1755774659.050415}}}
{"text": "2025-08-21 16:40:59.051 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.227586", "seconds": 18.227586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:40:59.051134+05:30", "timestamp": 1755774659.051134}}}
{"text": "2025-08-21 16:41:01.052 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.228663", "seconds": 20.228663}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:01.052211+05:30", "timestamp": 1755774661.052211}}}
{"text": "2025-08-21 16:41:01.053 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.230050", "seconds": 20.23005}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:01.053598+05:30", "timestamp": 1755774661.053598}}}
{"text": "2025-08-21 16:41:01.054 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.231190", "seconds": 20.23119}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:01.054738+05:30", "timestamp": 1755774661.054738}}}
{"text": "2025-08-21 16:41:01.055 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.232258", "seconds": 20.232258}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:01.055806+05:30", "timestamp": 1755774661.055806}}}
{"text": "2025-08-21 16:41:01.057 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.233534", "seconds": 20.233534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:01.057082+05:30", "timestamp": 1755774661.057082}}}
{"text": "2025-08-21 16:41:01.058 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.234626", "seconds": 20.234626}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:01.058174+05:30", "timestamp": 1755774661.058174}}}
{"text": "2025-08-21 16:41:01.059 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.235731", "seconds": 20.235731}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:01.059279+05:30", "timestamp": 1755774661.059279}}}
{"text": "2025-08-21 16:41:01.060 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.237044", "seconds": 20.237044}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:01.060592+05:30", "timestamp": 1755774661.060592}}}
{"text": "2025-08-21 16:41:01.062 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.238758", "seconds": 20.238758}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:01.062306+05:30", "timestamp": 1755774661.062306}}}
{"text": "2025-08-21 16:41:01.063 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.240423", "seconds": 20.240423}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:01.063971+05:30", "timestamp": 1755774661.063971}}}
{"text": "2025-08-21 16:41:03.066 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.242490", "seconds": 22.24249}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:03.066038+05:30", "timestamp": 1755774663.066038}}}
{"text": "2025-08-21 16:41:03.067 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.243653", "seconds": 22.243653}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:03.067201+05:30", "timestamp": 1755774663.067201}}}
{"text": "2025-08-21 16:41:03.068 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.245049", "seconds": 22.245049}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:03.068597+05:30", "timestamp": 1755774663.068597}}}
{"text": "2025-08-21 16:41:03.069 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.246229", "seconds": 22.246229}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:03.069777+05:30", "timestamp": 1755774663.069777}}}
{"text": "2025-08-21 16:41:03.070 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.247297", "seconds": 22.247297}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:03.070845+05:30", "timestamp": 1755774663.070845}}}
{"text": "2025-08-21 16:41:03.071 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.248413", "seconds": 22.248413}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:03.071961+05:30", "timestamp": 1755774663.071961}}}
{"text": "2025-08-21 16:41:03.073 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.250222", "seconds": 22.250222}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:03.073770+05:30", "timestamp": 1755774663.07377}}}
{"text": "2025-08-21 16:41:03.074 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.251077", "seconds": 22.251077}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:03.074625+05:30", "timestamp": 1755774663.074625}}}
{"text": "2025-08-21 16:41:03.075 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.251980", "seconds": 22.25198}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:03.075528+05:30", "timestamp": 1755774663.075528}}}
{"text": "2025-08-21 16:41:03.076 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.253033", "seconds": 22.253033}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:03.076581+05:30", "timestamp": 1755774663.076581}}}
{"text": "2025-08-21 16:41:03.235 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:22.411478", "seconds": 22.411478}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.235026+05:30", "timestamp": 1755774663.235026}}}
{"text": "2025-08-21 16:41:03.236 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:22.412510", "seconds": 22.41251}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.236058+05:30", "timestamp": 1755774663.236058}}}
{"text": "2025-08-21 16:41:03.237 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-388952.52, today=-388952.52\n", "record": {"elapsed": {"repr": "0:00:22.413493", "seconds": 22.413493}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-388952.52, today=-388952.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.237041+05:30", "timestamp": 1755774663.237041}}}
{"text": "2025-08-21 16:41:03.238 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-82704.79, today=-82704.79\n", "record": {"elapsed": {"repr": "0:00:22.414872", "seconds": 22.414872}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-82704.79, today=-82704.79", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.238420+05:30", "timestamp": 1755774663.23842}}}
{"text": "2025-08-21 16:41:03.239 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=130626.4, today=130626.4\n", "record": {"elapsed": {"repr": "0:00:22.415843", "seconds": 22.415843}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=130626.4, today=130626.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.239391+05:30", "timestamp": 1755774663.239391}}}
{"text": "2025-08-21 16:41:03.240 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=590256.73, today=590256.73\n", "record": {"elapsed": {"repr": "0:00:22.416797", "seconds": 22.416797}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=590256.73, today=590256.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.240345+05:30", "timestamp": 1755774663.240345}}}
{"text": "2025-08-21 16:41:03.241 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=476512.8, today=476512.8\n", "record": {"elapsed": {"repr": "0:00:22.417964", "seconds": 22.417964}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=476512.8, today=476512.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.241512+05:30", "timestamp": 1755774663.241512}}}
{"text": "2025-08-21 16:41:03.242 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 725738.62, day: 725738.62\n", "record": {"elapsed": {"repr": "0:00:22.419062", "seconds": 22.419062}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 725738.62, day: 725738.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.242610+05:30", "timestamp": 1755774663.24261}}}
{"text": "2025-08-21 16:41:03.243 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:22.420406", "seconds": 22.420406}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.243954+05:30", "timestamp": 1755774663.243954}}}
{"text": "2025-08-21 16:41:03.245 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:22.421963", "seconds": 22.421963}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.245511+05:30", "timestamp": 1755774663.245511}}}
{"text": "2025-08-21 16:41:03.247 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:22.423681", "seconds": 22.423681}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.247229+05:30", "timestamp": 1755774663.247229}}}
{"text": "2025-08-21 16:41:03.248 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:22.425412", "seconds": 22.425412}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.248960+05:30", "timestamp": 1755774663.24896}}}
{"text": "2025-08-21 16:41:03.249 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:41:03.236879+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:22.426385", "seconds": 22.426385}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:41:03.236879+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.249933+05:30", "timestamp": 1755774663.249933}}}
{"text": "2025-08-21 16:41:03.251 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=725738.62, day=725738.62, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=127.69, unrealized=-388952.52, today_pnl=-388952.52), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=729.34, unrealized=-82704.79, today_pnl=-82704.79), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1653.8, unrealized=130626.4, today_pnl=130626.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=577.64, unrealized=590256.73, today_pnl=590256.73), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1894.13, unrealized=476512.8, today_pnl=476512.8)] updated_at=datetime.datetime(2025, 8, 21, 16, 41, 3, 236879, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:22.428089", "seconds": 22.428089}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=725738.62, day=725738.62, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=127.69, unrealized=-388952.52, today_pnl=-388952.52), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=729.34, unrealized=-82704.79, today_pnl=-82704.79), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1653.8, unrealized=130626.4, today_pnl=130626.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=577.64, unrealized=590256.73, today_pnl=590256.73), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1894.13, unrealized=476512.8, today_pnl=476512.8)] updated_at=datetime.datetime(2025, 8, 21, 16, 41, 3, 236879, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.251637+05:30", "timestamp": 1755774663.251637}}}
{"text": "2025-08-21 16:41:03.254 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=725738.62, day=725738.62, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=127.69, unrealized=-388952.52, today_pnl=-388952.52), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=729.34, unrealized=-82704.79, today_pnl=-82704.79), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1653.8, unrealized=130626.4, today_pnl=130626.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=577.64, unrealized=590256.73, today_pnl=590256.73), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1894.13, unrealized=476512.8, today_pnl=476512.8)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 41, 3, 236879, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:22.430649", "seconds": 22.430649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=725738.62, day=725738.62, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=127.69, unrealized=-388952.52, today_pnl=-388952.52), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=729.34, unrealized=-82704.79, today_pnl=-82704.79), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1653.8, unrealized=130626.4, today_pnl=130626.4), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=577.64, unrealized=590256.73, today_pnl=590256.73), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1894.13, unrealized=476512.8, today_pnl=476512.8)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 41, 3, 236879, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.254197+05:30", "timestamp": 1755774663.254197}}}
{"text": "2025-08-21 16:41:03.256 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ725738.62\n", "record": {"elapsed": {"repr": "0:00:22.432484", "seconds": 22.432484}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ725738.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.256032+05:30", "timestamp": 1755774663.256032}}}
{"text": "2025-08-21 16:41:03.257 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:22.434261", "seconds": 22.434261}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:03.257809+05:30", "timestamp": 1755774663.257809}}}
{"text": "2025-08-21 16:41:04.903 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:24.079780", "seconds": 24.07978}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:04.903328+05:30", "timestamp": 1755774664.903328}}}
{"text": "2025-08-21 16:41:05.078 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.255281", "seconds": 24.255281}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:05.078829+05:30", "timestamp": 1755774665.078829}}}
{"text": "2025-08-21 16:41:05.080 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.256641", "seconds": 24.256641}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:05.080189+05:30", "timestamp": 1755774665.080189}}}
{"text": "2025-08-21 16:41:05.081 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.257539", "seconds": 24.257539}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:05.081087+05:30", "timestamp": 1755774665.081087}}}
{"text": "2025-08-21 16:41:05.082 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.258556", "seconds": 24.258556}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:05.082104+05:30", "timestamp": 1755774665.082104}}}
{"text": "2025-08-21 16:41:05.083 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.259885", "seconds": 24.259885}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:05.083433+05:30", "timestamp": 1755774665.083433}}}
{"text": "2025-08-21 16:41:05.084 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.261186", "seconds": 24.261186}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:05.084734+05:30", "timestamp": 1755774665.084734}}}
{"text": "2025-08-21 16:41:05.086 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.262571", "seconds": 24.262571}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:05.086119+05:30", "timestamp": 1755774665.086119}}}
{"text": "2025-08-21 16:41:05.087 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.263690", "seconds": 24.26369}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:05.087238+05:30", "timestamp": 1755774665.087238}}}
{"text": "2025-08-21 16:41:05.088 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.264533", "seconds": 24.264533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:05.088081+05:30", "timestamp": 1755774665.088081}}}
{"text": "2025-08-21 16:41:05.089 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.266028", "seconds": 24.266028}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:05.089576+05:30", "timestamp": 1755774665.089576}}}
{"text": "2025-08-21 16:41:06.290 | DEBUG    | app.ws.live:emit_delta:375 - Emitted holdings delta: seq=3\n", "record": {"elapsed": {"repr": "0:00:25.466882", "seconds": 25.466882}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted holdings delta: seq=3", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:06.290430+05:30", "timestamp": 1755774666.29043}}}
{"text": "2025-08-21 16:41:07.091 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.267531", "seconds": 26.267531}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:07.091079+05:30", "timestamp": 1755774667.091079}}}
{"text": "2025-08-21 16:41:07.092 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.268768", "seconds": 26.268768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:07.092316+05:30", "timestamp": 1755774667.092316}}}
{"text": "2025-08-21 16:41:07.094 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.271377", "seconds": 26.271377}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:07.094925+05:30", "timestamp": 1755774667.094925}}}
{"text": "2025-08-21 16:41:07.096 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.272469", "seconds": 26.272469}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:07.096017+05:30", "timestamp": 1755774667.096017}}}
{"text": "2025-08-21 16:41:07.096 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.273435", "seconds": 26.273435}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:07.096983+05:30", "timestamp": 1755774667.096983}}}
{"text": "2025-08-21 16:41:07.098 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.274552", "seconds": 26.274552}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:07.098100+05:30", "timestamp": 1755774667.0981}}}
{"text": "2025-08-21 16:41:07.099 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.275613", "seconds": 26.275613}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:07.099161+05:30", "timestamp": 1755774667.099161}}}
{"text": "2025-08-21 16:41:07.100 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.277147", "seconds": 26.277147}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:07.100695+05:30", "timestamp": 1755774667.100695}}}
{"text": "2025-08-21 16:41:07.102 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.278545", "seconds": 26.278545}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:07.102093+05:30", "timestamp": 1755774667.102093}}}
{"text": "2025-08-21 16:41:07.103 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.279943", "seconds": 26.279943}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:07.103491+05:30", "timestamp": 1755774667.103491}}}
{"text": "2025-08-21 16:41:09.105 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.281989", "seconds": 28.281989}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:09.105537+05:30", "timestamp": 1755774669.105537}}}
{"text": "2025-08-21 16:41:09.107 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.283634", "seconds": 28.283634}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:09.107182+05:30", "timestamp": 1755774669.107182}}}
{"text": "2025-08-21 16:41:09.108 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.284755", "seconds": 28.284755}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:09.108303+05:30", "timestamp": 1755774669.108303}}}
{"text": "2025-08-21 16:41:09.109 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.285795", "seconds": 28.285795}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:09.109343+05:30", "timestamp": 1755774669.109343}}}
{"text": "2025-08-21 16:41:09.110 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.287120", "seconds": 28.28712}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:09.110668+05:30", "timestamp": 1755774669.110668}}}
{"text": "2025-08-21 16:41:09.112 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.288512", "seconds": 28.288512}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:09.112060+05:30", "timestamp": 1755774669.11206}}}
{"text": "2025-08-21 16:41:09.113 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.289584", "seconds": 28.289584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:09.113132+05:30", "timestamp": 1755774669.113132}}}
{"text": "2025-08-21 16:41:09.114 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.290584", "seconds": 28.290584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:09.114132+05:30", "timestamp": 1755774669.114132}}}
{"text": "2025-08-21 16:41:09.115 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.291739", "seconds": 28.291739}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:09.115287+05:30", "timestamp": 1755774669.115287}}}
{"text": "2025-08-21 16:41:09.116 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.293158", "seconds": 28.293158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:09.116706+05:30", "timestamp": 1755774669.116706}}}
{"text": "2025-08-21 16:41:10.215 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:29.392021", "seconds": 29.392021}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.215569+05:30", "timestamp": 1755774670.215569}}}
{"text": "2025-08-21 16:41:10.217 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:29.393716", "seconds": 29.393716}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.217264+05:30", "timestamp": 1755774670.217264}}}
{"text": "2025-08-21 16:41:10.218 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-390094.07, today=-390094.07\n", "record": {"elapsed": {"repr": "0:00:29.394915", "seconds": 29.394915}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-390094.07, today=-390094.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.218463+05:30", "timestamp": 1755774670.218463}}}
{"text": "2025-08-21 16:41:10.219 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-83717.63, today=-83717.63\n", "record": {"elapsed": {"repr": "0:00:29.395837", "seconds": 29.395837}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-83717.63, today=-83717.63", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.219385+05:30", "timestamp": 1755774670.219385}}}
{"text": "2025-08-21 16:41:10.220 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=134973.76, today=134973.76\n", "record": {"elapsed": {"repr": "0:00:29.396846", "seconds": 29.396846}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=134973.76, today=134973.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.220394+05:30", "timestamp": 1755774670.220394}}}
{"text": "2025-08-21 16:41:10.221 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=591839.23, today=591839.23\n", "record": {"elapsed": {"repr": "0:00:29.398057", "seconds": 29.398057}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=591839.23, today=591839.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.221605+05:30", "timestamp": 1755774670.221605}}}
{"text": "2025-08-21 16:41:10.222 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=425651.87, today=425651.87\n", "record": {"elapsed": {"repr": "0:00:29.399195", "seconds": 29.399195}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=425651.87, today=425651.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.222743+05:30", "timestamp": 1755774670.222743}}}
{"text": "2025-08-21 16:41:10.224 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 678653.16, day: 678653.16\n", "record": {"elapsed": {"repr": "0:00:29.400522", "seconds": 29.400522}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 678653.16, day: 678653.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.224070+05:30", "timestamp": 1755774670.22407}}}
{"text": "2025-08-21 16:41:10.225 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:29.402068", "seconds": 29.402068}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.225616+05:30", "timestamp": 1755774670.225616}}}
{"text": "2025-08-21 16:41:10.226 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:29.403064", "seconds": 29.403064}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.226612+05:30", "timestamp": 1755774670.226612}}}
{"text": "2025-08-21 16:41:10.227 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:29.403951", "seconds": 29.403951}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.227499+05:30", "timestamp": 1755774670.227499}}}
{"text": "2025-08-21 16:41:10.228 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:29.405317", "seconds": 29.405317}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.228865+05:30", "timestamp": 1755774670.228865}}}
{"text": "2025-08-21 16:41:10.230 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:41:10.218296+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:29.406590", "seconds": 29.40659}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:41:10.218296+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.230138+05:30", "timestamp": 1755774670.230138}}}
{"text": "2025-08-21 16:41:10.231 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=678653.16, day=678653.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=126.04, unrealized=-390094.07, today_pnl=-390094.07), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=733.84, unrealized=-83717.63, today_pnl=-83717.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1680.31, unrealized=134973.76, today_pnl=134973.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=576.1, unrealized=591839.23, today_pnl=591839.23), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1846.46, unrealized=425651.87, today_pnl=425651.87)] updated_at=datetime.datetime(2025, 8, 21, 16, 41, 10, 218296, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:29.407988", "seconds": 29.407988}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=678653.16, day=678653.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=126.04, unrealized=-390094.07, today_pnl=-390094.07), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=733.84, unrealized=-83717.63, today_pnl=-83717.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1680.31, unrealized=134973.76, today_pnl=134973.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=576.1, unrealized=591839.23, today_pnl=591839.23), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1846.46, unrealized=425651.87, today_pnl=425651.87)] updated_at=datetime.datetime(2025, 8, 21, 16, 41, 10, 218296, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.231536+05:30", "timestamp": 1755774670.231536}}}
{"text": "2025-08-21 16:41:10.234 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=678653.16, day=678653.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=126.04, unrealized=-390094.07, today_pnl=-390094.07), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=733.84, unrealized=-83717.63, today_pnl=-83717.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1680.31, unrealized=134973.76, today_pnl=134973.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=576.1, unrealized=591839.23, today_pnl=591839.23), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1846.46, unrealized=425651.87, today_pnl=425651.87)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 41, 10, 218296, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:29.410501", "seconds": 29.410501}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=678653.16, day=678653.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=126.04, unrealized=-390094.07, today_pnl=-390094.07), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=733.84, unrealized=-83717.63, today_pnl=-83717.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1680.31, unrealized=134973.76, today_pnl=134973.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=576.1, unrealized=591839.23, today_pnl=591839.23), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1846.46, unrealized=425651.87, today_pnl=425651.87)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 41, 10, 218296, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.234049+05:30", "timestamp": 1755774670.234049}}}
{"text": "2025-08-21 16:41:10.235 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ678653.16\n", "record": {"elapsed": {"repr": "0:00:29.412437", "seconds": 29.412437}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ678653.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.235985+05:30", "timestamp": 1755774670.235985}}}
{"text": "2025-08-21 16:41:10.237 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:29.414173", "seconds": 29.414173}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:10.237721+05:30", "timestamp": 1755774670.237721}}}
{"text": "2025-08-21 16:41:11.118 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.294587", "seconds": 30.294587}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:11.118135+05:30", "timestamp": 1755774671.118135}}}
{"text": "2025-08-21 16:41:11.119 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.295547", "seconds": 30.295547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:11.119095+05:30", "timestamp": 1755774671.119095}}}
{"text": "2025-08-21 16:41:11.120 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.296492", "seconds": 30.296492}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:11.120040+05:30", "timestamp": 1755774671.12004}}}
{"text": "2025-08-21 16:41:11.121 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.297686", "seconds": 30.297686}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:11.121234+05:30", "timestamp": 1755774671.121234}}}
{"text": "2025-08-21 16:41:11.122 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.299192", "seconds": 30.299192}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:11.122740+05:30", "timestamp": 1755774671.12274}}}
{"text": "2025-08-21 16:41:11.124 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.300610", "seconds": 30.30061}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:11.124158+05:30", "timestamp": 1755774671.124158}}}
{"text": "2025-08-21 16:41:11.125 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.301984", "seconds": 30.301984}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:11.125532+05:30", "timestamp": 1755774671.125532}}}
{"text": "2025-08-21 16:41:11.126 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.302877", "seconds": 30.302877}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:11.126425+05:30", "timestamp": 1755774671.126425}}}
{"text": "2025-08-21 16:41:11.127 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.304104", "seconds": 30.304104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:11.127652+05:30", "timestamp": 1755774671.127652}}}
{"text": "2025-08-21 16:41:11.128 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.305055", "seconds": 30.305055}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:11.128603+05:30", "timestamp": 1755774671.128603}}}
{"text": "2025-08-21 16:41:11.692 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:30.868532", "seconds": 30.868532}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:11.692080+05:30", "timestamp": 1755774671.69208}}}
{"text": "2025-08-21 16:41:13.129 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.306383", "seconds": 32.306383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:13.129931+05:30", "timestamp": 1755774673.129931}}}
{"text": "2025-08-21 16:41:13.131 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.307507", "seconds": 32.307507}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:13.131055+05:30", "timestamp": 1755774673.131055}}}
{"text": "2025-08-21 16:41:13.132 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.308493", "seconds": 32.308493}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:13.132041+05:30", "timestamp": 1755774673.132041}}}
{"text": "2025-08-21 16:41:13.133 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.309533", "seconds": 32.309533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:13.133081+05:30", "timestamp": 1755774673.133081}}}
{"text": "2025-08-21 16:41:13.134 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.310826", "seconds": 32.310826}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:13.134374+05:30", "timestamp": 1755774673.134374}}}
{"text": "2025-08-21 16:41:13.135 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.311630", "seconds": 32.31163}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:13.135178+05:30", "timestamp": 1755774673.135178}}}
{"text": "2025-08-21 16:41:13.136 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.312502", "seconds": 32.312502}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:13.136050+05:30", "timestamp": 1755774673.13605}}}
{"text": "2025-08-21 16:41:13.137 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.313744", "seconds": 32.313744}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:13.137292+05:30", "timestamp": 1755774673.137292}}}
{"text": "2025-08-21 16:41:13.138 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.315324", "seconds": 32.315324}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:13.138872+05:30", "timestamp": 1755774673.138872}}}
{"text": "2025-08-21 16:41:13.139 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.316235", "seconds": 32.316235}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:13.139783+05:30", "timestamp": 1755774673.139783}}}
{"text": "2025-08-21 16:41:15.141 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.317869", "seconds": 34.317869}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:15.141417+05:30", "timestamp": 1755774675.141417}}}
{"text": "2025-08-21 16:41:15.142 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.319042", "seconds": 34.319042}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:15.142590+05:30", "timestamp": 1755774675.14259}}}
{"text": "2025-08-21 16:41:15.143 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.320266", "seconds": 34.320266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:15.143814+05:30", "timestamp": 1755774675.143814}}}
{"text": "2025-08-21 16:41:15.145 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.321878", "seconds": 34.321878}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:15.145426+05:30", "timestamp": 1755774675.145426}}}
{"text": "2025-08-21 16:41:15.146 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.323025", "seconds": 34.323025}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:15.146573+05:30", "timestamp": 1755774675.146573}}}
{"text": "2025-08-21 16:41:15.147 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.323962", "seconds": 34.323962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:15.147510+05:30", "timestamp": 1755774675.14751}}}
{"text": "2025-08-21 16:41:15.148 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.324975", "seconds": 34.324975}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:15.148523+05:30", "timestamp": 1755774675.148523}}}
{"text": "2025-08-21 16:41:15.149 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.326301", "seconds": 34.326301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:15.149849+05:30", "timestamp": 1755774675.149849}}}
{"text": "2025-08-21 16:41:15.150 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.327332", "seconds": 34.327332}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:15.150880+05:30", "timestamp": 1755774675.15088}}}
{"text": "2025-08-21 16:41:15.151 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.328444", "seconds": 34.328444}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:15.151992+05:30", "timestamp": 1755774675.151992}}}
{"text": "2025-08-21 16:41:17.153 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.330116", "seconds": 36.330116}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:17.153664+05:30", "timestamp": 1755774677.153664}}}
{"text": "2025-08-21 16:41:17.154 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.331324", "seconds": 36.331324}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:17.154872+05:30", "timestamp": 1755774677.154872}}}
{"text": "2025-08-21 16:41:17.156 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.332749", "seconds": 36.332749}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:17.156297+05:30", "timestamp": 1755774677.156297}}}
{"text": "2025-08-21 16:41:17.157 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.333775", "seconds": 36.333775}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:17.157323+05:30", "timestamp": 1755774677.157323}}}
{"text": "2025-08-21 16:41:17.158 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.334645", "seconds": 36.334645}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:17.158193+05:30", "timestamp": 1755774677.158193}}}
{"text": "2025-08-21 16:41:17.158 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.335420", "seconds": 36.33542}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:17.158968+05:30", "timestamp": 1755774677.158968}}}
{"text": "2025-08-21 16:41:17.159 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.336380", "seconds": 36.33638}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:17.159928+05:30", "timestamp": 1755774677.159928}}}
{"text": "2025-08-21 16:41:17.161 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.337796", "seconds": 36.337796}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:17.161344+05:30", "timestamp": 1755774677.161344}}}
{"text": "2025-08-21 16:41:17.162 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.339216", "seconds": 36.339216}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:17.162764+05:30", "timestamp": 1755774677.162764}}}
{"text": "2025-08-21 16:41:17.163 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.340301", "seconds": 36.340301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:17.163849+05:30", "timestamp": 1755774677.163849}}}
{"text": "2025-08-21 16:41:17.195 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:36.372335", "seconds": 36.372335}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.195883+05:30", "timestamp": 1755774677.195883}}}
{"text": "2025-08-21 16:41:17.197 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:36.373479", "seconds": 36.373479}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.197027+05:30", "timestamp": 1755774677.197027}}}
{"text": "2025-08-21 16:41:17.198 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-390884.17, today=-390884.17\n", "record": {"elapsed": {"repr": "0:00:36.374662", "seconds": 36.374662}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-390884.17, today=-390884.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.198210+05:30", "timestamp": 1755774677.19821}}}
{"text": "2025-08-21 16:41:17.199 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-85957.84, today=-85957.84\n", "record": {"elapsed": {"repr": "0:00:36.375935", "seconds": 36.375935}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-85957.84, today=-85957.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.199483+05:30", "timestamp": 1755774677.199483}}}
{"text": "2025-08-21 16:41:17.200 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=143620.45, today=143620.45\n", "record": {"elapsed": {"repr": "0:00:36.376921", "seconds": 36.376921}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=143620.45, today=143620.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.200469+05:30", "timestamp": 1755774677.200469}}}
{"text": "2025-08-21 16:41:17.201 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=602491.62, today=602491.62\n", "record": {"elapsed": {"repr": "0:00:36.377850", "seconds": 36.37785}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=602491.62, today=602491.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.201398+05:30", "timestamp": 1755774677.201398}}}
{"text": "2025-08-21 16:41:17.202 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=419830.35, today=419830.35\n", "record": {"elapsed": {"repr": "0:00:36.379181", "seconds": 36.379181}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=419830.35, today=419830.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.202729+05:30", "timestamp": 1755774677.202729}}}
{"text": "2025-08-21 16:41:17.204 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 689100.41, day: 689100.41\n", "record": {"elapsed": {"repr": "0:00:36.380458", "seconds": 36.380458}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 689100.41, day: 689100.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.204006+05:30", "timestamp": 1755774677.204006}}}
{"text": "2025-08-21 16:41:17.205 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:36.381455", "seconds": 36.381455}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.205003+05:30", "timestamp": 1755774677.205003}}}
{"text": "2025-08-21 16:41:17.206 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:36.382497", "seconds": 36.382497}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.206045+05:30", "timestamp": 1755774677.206045}}}
{"text": "2025-08-21 16:41:17.207 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:36.383548", "seconds": 36.383548}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.207096+05:30", "timestamp": 1755774677.207096}}}
{"text": "2025-08-21 16:41:17.208 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:36.384551", "seconds": 36.384551}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.208099+05:30", "timestamp": 1755774677.208099}}}
{"text": "2025-08-21 16:41:17.209 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:41:17.198053+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:36.385600", "seconds": 36.3856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:41:17.198053+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.209148+05:30", "timestamp": 1755774677.209148}}}
{"text": "2025-08-21 16:41:17.210 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=689100.41, day=689100.41, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=124.9, unrealized=-390884.17, today_pnl=-390884.17), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=743.79, unrealized=-85957.84, today_pnl=-85957.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1733.03, unrealized=143620.45, today_pnl=143620.45), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=565.73, unrealized=602491.62, today_pnl=602491.62), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1841.01, unrealized=419830.35, today_pnl=419830.35)] updated_at=datetime.datetime(2025, 8, 21, 16, 41, 17, 198053, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:36.387442", "seconds": 36.387442}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=689100.41, day=689100.41, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=124.9, unrealized=-390884.17, today_pnl=-390884.17), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=743.79, unrealized=-85957.84, today_pnl=-85957.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1733.03, unrealized=143620.45, today_pnl=143620.45), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=565.73, unrealized=602491.62, today_pnl=602491.62), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1841.01, unrealized=419830.35, today_pnl=419830.35)] updated_at=datetime.datetime(2025, 8, 21, 16, 41, 17, 198053, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.210990+05:30", "timestamp": 1755774677.21099}}}
{"text": "2025-08-21 16:41:17.212 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=689100.41, day=689100.41, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=124.9, unrealized=-390884.17, today_pnl=-390884.17), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=743.79, unrealized=-85957.84, today_pnl=-85957.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1733.03, unrealized=143620.45, today_pnl=143620.45), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=565.73, unrealized=602491.62, today_pnl=602491.62), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1841.01, unrealized=419830.35, today_pnl=419830.35)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 41, 17, 198053, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:36.389097", "seconds": 36.389097}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=689100.41, day=689100.41, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=124.9, unrealized=-390884.17, today_pnl=-390884.17), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=743.79, unrealized=-85957.84, today_pnl=-85957.84), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1733.03, unrealized=143620.45, today_pnl=143620.45), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=565.73, unrealized=602491.62, today_pnl=602491.62), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1841.01, unrealized=419830.35, today_pnl=419830.35)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 41, 17, 198053, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.212645+05:30", "timestamp": 1755774677.212645}}}
{"text": "2025-08-21 16:41:17.214 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ689100.41\n", "record": {"elapsed": {"repr": "0:00:36.391002", "seconds": 36.391002}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ689100.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.214550+05:30", "timestamp": 1755774677.21455}}}
{"text": "2025-08-21 16:41:17.216 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:36.392575", "seconds": 36.392575}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:17.216123+05:30", "timestamp": 1755774677.216123}}}
{"text": "2025-08-21 16:41:18.378 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:37.555269", "seconds": 37.555269}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:18.378817+05:30", "timestamp": 1755774678.378817}}}
{"text": "2025-08-21 16:41:19.165 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.341822", "seconds": 38.341822}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:19.165370+05:30", "timestamp": 1755774679.16537}}}
{"text": "2025-08-21 16:41:19.166 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.342920", "seconds": 38.34292}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:19.166468+05:30", "timestamp": 1755774679.166468}}}
{"text": "2025-08-21 16:41:19.167 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.344245", "seconds": 38.344245}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:19.167793+05:30", "timestamp": 1755774679.167793}}}
{"text": "2025-08-21 16:41:19.169 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.345913", "seconds": 38.345913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:19.169461+05:30", "timestamp": 1755774679.169461}}}
{"text": "2025-08-21 16:41:19.170 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.347118", "seconds": 38.347118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:19.170666+05:30", "timestamp": 1755774679.170666}}}
{"text": "2025-08-21 16:41:19.171 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.348210", "seconds": 38.34821}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:19.171758+05:30", "timestamp": 1755774679.171758}}}
{"text": "2025-08-21 16:41:19.173 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.349990", "seconds": 38.34999}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:19.173538+05:30", "timestamp": 1755774679.173538}}}
{"text": "2025-08-21 16:41:19.174 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.351156", "seconds": 38.351156}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:19.174704+05:30", "timestamp": 1755774679.174704}}}
{"text": "2025-08-21 16:41:19.175 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.352209", "seconds": 38.352209}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:19.175757+05:30", "timestamp": 1755774679.175757}}}
{"text": "2025-08-21 16:41:19.176 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.353379", "seconds": 38.353379}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:19.176927+05:30", "timestamp": 1755774679.176927}}}
{"text": "2025-08-21 16:41:21.180 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.356749", "seconds": 40.356749}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:21.180297+05:30", "timestamp": 1755774681.180297}}}
{"text": "2025-08-21 16:41:21.181 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.358199", "seconds": 40.358199}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:21.181747+05:30", "timestamp": 1755774681.181747}}}
{"text": "2025-08-21 16:41:21.182 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.359426", "seconds": 40.359426}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:21.182974+05:30", "timestamp": 1755774681.182974}}}
{"text": "2025-08-21 16:41:21.184 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.360548", "seconds": 40.360548}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:21.184096+05:30", "timestamp": 1755774681.184096}}}
{"text": "2025-08-21 16:41:21.185 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.361569", "seconds": 40.361569}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:21.185117+05:30", "timestamp": 1755774681.185117}}}
{"text": "2025-08-21 16:41:21.186 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.363205", "seconds": 40.363205}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:21.186753+05:30", "timestamp": 1755774681.186753}}}
{"text": "2025-08-21 16:41:21.187 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.364333", "seconds": 40.364333}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:21.187881+05:30", "timestamp": 1755774681.187881}}}
{"text": "2025-08-21 16:41:21.188 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.365107", "seconds": 40.365107}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:21.188655+05:30", "timestamp": 1755774681.188655}}}
{"text": "2025-08-21 16:41:21.189 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.365937", "seconds": 40.365937}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:21.189485+05:30", "timestamp": 1755774681.189485}}}
{"text": "2025-08-21 16:41:21.190 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.366989", "seconds": 40.366989}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:21.190537+05:30", "timestamp": 1755774681.190537}}}
{"text": "2025-08-21 16:41:23.193 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.369518", "seconds": 42.369518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:23.193066+05:30", "timestamp": 1755774683.193066}}}
{"text": "2025-08-21 16:41:23.194 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.370809", "seconds": 42.370809}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:23.194357+05:30", "timestamp": 1755774683.194357}}}
{"text": "2025-08-21 16:41:23.195 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.371745", "seconds": 42.371745}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:23.195293+05:30", "timestamp": 1755774683.195293}}}
{"text": "2025-08-21 16:41:23.196 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.372618", "seconds": 42.372618}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:23.196166+05:30", "timestamp": 1755774683.196166}}}
{"text": "2025-08-21 16:41:23.196 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.373390", "seconds": 42.37339}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:23.196938+05:30", "timestamp": 1755774683.196938}}}
{"text": "2025-08-21 16:41:23.198 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.374628", "seconds": 42.374628}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:23.198176+05:30", "timestamp": 1755774683.198176}}}
{"text": "2025-08-21 16:41:23.199 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.375766", "seconds": 42.375766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:23.199314+05:30", "timestamp": 1755774683.199314}}}
{"text": "2025-08-21 16:41:23.200 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.377189", "seconds": 42.377189}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:23.200737+05:30", "timestamp": 1755774683.200737}}}
{"text": "2025-08-21 16:41:23.202 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.378521", "seconds": 42.378521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:23.202069+05:30", "timestamp": 1755774683.202069}}}
{"text": "2025-08-21 16:41:23.203 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.379457", "seconds": 42.379457}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:23.203005+05:30", "timestamp": 1755774683.203005}}}
{"text": "2025-08-21 16:41:24.158 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:43.334985", "seconds": 43.334985}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.158533+05:30", "timestamp": 1755774684.158533}}}
{"text": "2025-08-21 16:41:24.159 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:43.336044", "seconds": 43.336044}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.159592+05:30", "timestamp": 1755774684.159592}}}
{"text": "2025-08-21 16:41:24.160 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-387760.37, today=-387760.37\n", "record": {"elapsed": {"repr": "0:00:43.337046", "seconds": 43.337046}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-387760.37, today=-387760.37", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.160594+05:30", "timestamp": 1755774684.160594}}}
{"text": "2025-08-21 16:41:24.161 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-89943.82, today=-89943.82\n", "record": {"elapsed": {"repr": "0:00:43.338117", "seconds": 43.338117}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-89943.82, today=-89943.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.161665+05:30", "timestamp": 1755774684.161665}}}
{"text": "2025-08-21 16:41:24.162 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=141167.75, today=141167.75\n", "record": {"elapsed": {"repr": "0:00:43.339245", "seconds": 43.339245}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=141167.75, today=141167.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.162793+05:30", "timestamp": 1755774684.162793}}}
{"text": "2025-08-21 16:41:24.163 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=594615.38, today=594615.38\n", "record": {"elapsed": {"repr": "0:00:43.340421", "seconds": 43.340421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=594615.38, today=594615.38", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.163969+05:30", "timestamp": 1755774684.163969}}}
{"text": "2025-08-21 16:41:24.164 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=496610.06, today=496610.06\n", "record": {"elapsed": {"repr": "0:00:43.341418", "seconds": 43.341418}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=496610.06, today=496610.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.164966+05:30", "timestamp": 1755774684.164966}}}
{"text": "2025-08-21 16:41:24.166 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 754689.0, day: 754689.0\n", "record": {"elapsed": {"repr": "0:00:43.343009", "seconds": 43.343009}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 754689.0, day: 754689.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.166557+05:30", "timestamp": 1755774684.166557}}}
{"text": "2025-08-21 16:41:24.167 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:43.344283", "seconds": 43.344283}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.167831+05:30", "timestamp": 1755774684.167831}}}
{"text": "2025-08-21 16:41:24.169 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:43.345544", "seconds": 43.345544}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.169092+05:30", "timestamp": 1755774684.169092}}}
{"text": "2025-08-21 16:41:24.170 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:43.346678", "seconds": 43.346678}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.170226+05:30", "timestamp": 1755774684.170226}}}
{"text": "2025-08-21 16:41:24.171 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:43.347768", "seconds": 43.347768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.171316+05:30", "timestamp": 1755774684.171316}}}
{"text": "2025-08-21 16:41:24.172 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:41:24.160467+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:43.348747", "seconds": 43.348747}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:41:24.160467+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.172295+05:30", "timestamp": 1755774684.172295}}}
{"text": "2025-08-21 16:41:24.173 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=754689.0, day=754689.0, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=129.41, unrealized=-387760.37, today_pnl=-387760.37), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=761.51, unrealized=-89943.82, today_pnl=-89943.82), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1718.08, unrealized=141167.75, today_pnl=141167.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=573.4, unrealized=594615.38, today_pnl=594615.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1912.97, unrealized=496610.06, today_pnl=496610.06)] updated_at=datetime.datetime(2025, 8, 21, 16, 41, 24, 160467, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:43.350213", "seconds": 43.350213}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=754689.0, day=754689.0, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=129.41, unrealized=-387760.37, today_pnl=-387760.37), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=761.51, unrealized=-89943.82, today_pnl=-89943.82), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1718.08, unrealized=141167.75, today_pnl=141167.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=573.4, unrealized=594615.38, today_pnl=594615.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1912.97, unrealized=496610.06, today_pnl=496610.06)] updated_at=datetime.datetime(2025, 8, 21, 16, 41, 24, 160467, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.173761+05:30", "timestamp": 1755774684.173761}}}
{"text": "2025-08-21 16:41:24.175 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=754689.0, day=754689.0, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=129.41, unrealized=-387760.37, today_pnl=-387760.37), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=761.51, unrealized=-89943.82, today_pnl=-89943.82), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1718.08, unrealized=141167.75, today_pnl=141167.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=573.4, unrealized=594615.38, today_pnl=594615.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1912.97, unrealized=496610.06, today_pnl=496610.06)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 41, 24, 160467, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:43.352277", "seconds": 43.352277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=754689.0, day=754689.0, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=692, avg=689.76, ltp=129.41, unrealized=-387760.37, today_pnl=-387760.37), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=225, avg=361.76, ltp=761.51, unrealized=-89943.82, today_pnl=-89943.82), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=164, avg=857.3, ltp=1718.08, unrealized=141167.75, today_pnl=141167.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1027, avg=1152.38, ltp=573.4, unrealized=594615.38, today_pnl=594615.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1067, avg=1447.54, ltp=1912.97, unrealized=496610.06, today_pnl=496610.06)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 41, 24, 160467, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.175825+05:30", "timestamp": 1755774684.175825}}}
{"text": "2025-08-21 16:41:24.177 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ754689.00\n", "record": {"elapsed": {"repr": "0:00:43.353754", "seconds": 43.353754}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ754689.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.177302+05:30", "timestamp": 1755774684.177302}}}
{"text": "2025-08-21 16:41:24.179 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:43.355690", "seconds": 43.35569}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.179238+05:30", "timestamp": 1755774684.179238}}}
{"text": "2025-08-21 16:41:24.907 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:44.083603", "seconds": 44.083603}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:24.907151+05:30", "timestamp": 1755774684.907151}}}
{"text": "2025-08-21 16:41:25.204 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.381234", "seconds": 44.381234}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:25.204782+05:30", "timestamp": 1755774685.204782}}}
{"text": "2025-08-21 16:41:25.206 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.382996", "seconds": 44.382996}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:25.206544+05:30", "timestamp": 1755774685.206544}}}
{"text": "2025-08-21 16:41:25.207 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.384338", "seconds": 44.384338}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:25.207886+05:30", "timestamp": 1755774685.207886}}}
{"text": "2025-08-21 16:41:25.209 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.385640", "seconds": 44.38564}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:25.209188+05:30", "timestamp": 1755774685.209188}}}
{"text": "2025-08-21 16:41:25.210 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.386681", "seconds": 44.386681}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:25.210229+05:30", "timestamp": 1755774685.210229}}}
{"text": "2025-08-21 16:41:25.211 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.388124", "seconds": 44.388124}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:25.211672+05:30", "timestamp": 1755774685.211672}}}
{"text": "2025-08-21 16:41:25.212 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.389260", "seconds": 44.38926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:25.212808+05:30", "timestamp": 1755774685.212808}}}
{"text": "2025-08-21 16:41:25.214 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.390518", "seconds": 44.390518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:25.214066+05:30", "timestamp": 1755774685.214066}}}
{"text": "2025-08-21 16:41:25.216 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.392559", "seconds": 44.392559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:25.216107+05:30", "timestamp": 1755774685.216107}}}
{"text": "2025-08-21 16:41:25.217 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.393777", "seconds": 44.393777}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:25.217325+05:30", "timestamp": 1755774685.217325}}}
{"text": "2025-08-21 16:41:26.292 | DEBUG    | app.ws.live:emit_delta:375 - Emitted trades delta: seq=4\n", "record": {"elapsed": {"repr": "0:00:45.469292", "seconds": 45.469292}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted trades delta: seq=4", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:26.292840+05:30", "timestamp": 1755774686.29284}}}
{"text": "2025-08-21 16:41:27.219 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.395480", "seconds": 46.39548}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:27.219028+05:30", "timestamp": 1755774687.219028}}}
{"text": "2025-08-21 16:41:27.220 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.396596", "seconds": 46.396596}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:27.220144+05:30", "timestamp": 1755774687.220144}}}
{"text": "2025-08-21 16:41:27.221 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.397501", "seconds": 46.397501}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:27.221049+05:30", "timestamp": 1755774687.221049}}}
{"text": "2025-08-21 16:41:27.222 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.398582", "seconds": 46.398582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:27.222130+05:30", "timestamp": 1755774687.22213}}}
{"text": "2025-08-21 16:41:27.223 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.400210", "seconds": 46.40021}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:27.223758+05:30", "timestamp": 1755774687.223758}}}
{"text": "2025-08-21 16:41:27.224 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.401217", "seconds": 46.401217}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:27.224765+05:30", "timestamp": 1755774687.224765}}}
{"text": "2025-08-21 16:41:27.225 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.402220", "seconds": 46.40222}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:27.225768+05:30", "timestamp": 1755774687.225768}}}
{"text": "2025-08-21 16:41:27.226 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.403217", "seconds": 46.403217}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:27.226765+05:30", "timestamp": 1755774687.226765}}}
{"text": "2025-08-21 16:41:27.227 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.404365", "seconds": 46.404365}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:27.227913+05:30", "timestamp": 1755774687.227913}}}
{"text": "2025-08-21 16:41:27.228 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.405356", "seconds": 46.405356}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:27.228904+05:30", "timestamp": 1755774687.228904}}}
{"text": "2025-08-21 16:41:29.230 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.406682", "seconds": 48.406682}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:29.230230+05:30", "timestamp": 1755774689.23023}}}
{"text": "2025-08-21 16:41:29.231 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.408003", "seconds": 48.408003}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:29.231551+05:30", "timestamp": 1755774689.231551}}}
{"text": "2025-08-21 16:41:29.233 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.409680", "seconds": 48.40968}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:29.233228+05:30", "timestamp": 1755774689.233228}}}
{"text": "2025-08-21 16:41:29.234 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.410613", "seconds": 48.410613}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:29.234161+05:30", "timestamp": 1755774689.234161}}}
{"text": "2025-08-21 16:41:29.235 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.411493", "seconds": 48.411493}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:29.235041+05:30", "timestamp": 1755774689.235041}}}
{"text": "2025-08-21 16:41:29.236 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.412466", "seconds": 48.412466}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:29.236014+05:30", "timestamp": 1755774689.236014}}}
{"text": "2025-08-21 16:41:29.237 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.413483", "seconds": 48.413483}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:29.237031+05:30", "timestamp": 1755774689.237031}}}
{"text": "2025-08-21 16:41:29.238 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.415127", "seconds": 48.415127}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:29.238675+05:30", "timestamp": 1755774689.238675}}}
{"text": "2025-08-21 16:41:29.239 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.416393", "seconds": 48.416393}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:29.239941+05:30", "timestamp": 1755774689.239941}}}
{"text": "2025-08-21 16:41:29.240 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.417366", "seconds": 48.417366}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22028, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:41:29.240914+05:30", "timestamp": 1755774689.240914}}}
{"text": "2025-08-21 16:41:29.506 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:48.682717", "seconds": 48.682717}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:29.506265+05:30", "timestamp": 1755774689.506265}}}
{"text": "2025-08-21 16:41:29.508 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:48.684635", "seconds": 48.684635}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:29.508183+05:30", "timestamp": 1755774689.508183}}}
{"text": "2025-08-21 16:41:29.508 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:48.685389", "seconds": 48.685389}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 7700, "name": "MainProcess"}, "thread": {"id": 22284, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:41:29.508937+05:30", "timestamp": 1755774689.508937}}}
{"text": "2025-08-21 16:47:07.280 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.084333", "seconds": 0.084333}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.280323+05:30", "timestamp": 1755775027.280323}}}
{"text": "2025-08-21 16:47:07.282 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=2731, avg_price=1359.1838166177013, ltp=1200.3666725887952\n", "record": {"elapsed": {"repr": "0:00:00.086138", "seconds": 0.086138}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=2731, avg_price=1359.1838166177013, ltp=1200.3666725887952", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.282128+05:30", "timestamp": 1755775027.282128}}}
{"text": "2025-08-21 16:47:07.283 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=659, avg_price=583.2559786357217, ltp=673.3331127681924\n", "record": {"elapsed": {"repr": "0:00:00.087266", "seconds": 0.087266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=659, avg_price=583.2559786357217, ltp=673.3331127681924", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.283256+05:30", "timestamp": 1755775027.283256}}}
{"text": "2025-08-21 16:47:07.284 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=1762, avg_price=413.1939156246747, ltp=339.5789660177439\n", "record": {"elapsed": {"repr": "0:00:00.088720", "seconds": 0.08872}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=1762, avg_price=413.1939156246747, ltp=339.5789660177439", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.284710+05:30", "timestamp": 1755775027.28471}}}
{"text": "2025-08-21 16:47:07.285 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=4314, avg_price=677.2935288703815, ltp=800.2050274862388\n", "record": {"elapsed": {"repr": "0:00:00.089833", "seconds": 0.089833}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=4314, avg_price=677.2935288703815, ltp=800.2050274862388", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.285823+05:30", "timestamp": 1755775027.285823}}}
{"text": "2025-08-21 16:47:07.287 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=2149, avg_price=1623.37737438607, ltp=1917.9137270534823\n", "record": {"elapsed": {"repr": "0:00:00.091316", "seconds": 0.091316}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=2149, avg_price=1623.37737438607, ltp=1917.9137270534823", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.287306+05:30", "timestamp": 1755775027.287306}}}
{"text": "2025-08-21 16:47:07.289 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=4192, avg_price=1021.264954376089, ltp=841.8055000830534\n", "record": {"elapsed": {"repr": "0:00:00.093199", "seconds": 0.093199}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=4192, avg_price=1021.264954376089, ltp=841.8055000830534", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.289189+05:30", "timestamp": 1755775027.289189}}}
{"text": "2025-08-21 16:47:07.290 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=3495, avg_price=1018.5084828831568, ltp=1136.486445013896\n", "record": {"elapsed": {"repr": "0:00:00.094425", "seconds": 0.094425}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=3495, avg_price=1018.5084828831568, ltp=1136.486445013896", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.290415+05:30", "timestamp": 1755775027.290415}}}
{"text": "2025-08-21 16:47:07.291 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=1978, avg_price=728.2410786098926, ltp=724.2049004272508\n", "record": {"elapsed": {"repr": "0:00:00.095450", "seconds": 0.09545}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=1978, avg_price=728.2410786098926, ltp=724.2049004272508", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.291440+05:30", "timestamp": 1755775027.29144}}}
{"text": "2025-08-21 16:47:07.292 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=4665, avg_price=224.10848918397153, ltp=224.49586545661612\n", "record": {"elapsed": {"repr": "0:00:00.096581", "seconds": 0.096581}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=4665, avg_price=224.10848918397153, ltp=224.49586545661612", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.292571+05:30", "timestamp": 1755775027.292571}}}
{"text": "2025-08-21 16:47:07.294 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=1307, avg_price=1266.6516679754075, ltp=1203.5538063144145\n", "record": {"elapsed": {"repr": "0:00:00.098044", "seconds": 0.098044}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=1307, avg_price=1266.6516679754075, ltp=1203.5538063144145", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.294034+05:30", "timestamp": 1755775027.294034}}}
{"text": "2025-08-21 16:47:07.295 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.099203", "seconds": 0.099203}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.295193+05:30", "timestamp": 1755775027.295193}}}
{"text": "2025-08-21 16:47:07.297 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=528, avg_price=1495.21\n", "record": {"elapsed": {"repr": "0:00:00.101058", "seconds": 0.101058}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=528, avg_price=1495.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.297048+05:30", "timestamp": 1755775027.297048}}}
{"text": "2025-08-21 16:47:07.298 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1427, avg_price=1405.14\n", "record": {"elapsed": {"repr": "0:00:00.102637", "seconds": 0.102637}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1427, avg_price=1405.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.298627+05:30", "timestamp": 1755775027.298627}}}
{"text": "2025-08-21 16:47:07.301 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1563, avg_price=1947.93\n", "record": {"elapsed": {"repr": "0:00:00.105230", "seconds": 0.10523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1563, avg_price=1947.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.301220+05:30", "timestamp": 1755775027.30122}}}
{"text": "2025-08-21 16:47:07.302 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1263, avg_price=1378.36\n", "record": {"elapsed": {"repr": "0:00:00.106463", "seconds": 0.106463}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1263, avg_price=1378.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.302453+05:30", "timestamp": 1755775027.302453}}}
{"text": "2025-08-21 16:47:07.303 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=635, avg_price=1210.45\n", "record": {"elapsed": {"repr": "0:00:00.107679", "seconds": 0.107679}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=635, avg_price=1210.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.303669+05:30", "timestamp": 1755775027.303669}}}
{"text": "2025-08-21 16:47:07.304 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.108882", "seconds": 0.108882}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.304872+05:30", "timestamp": 1755775027.304872}}}
{"text": "2025-08-21 16:47:07.307 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.111374", "seconds": 0.111374}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.307364+05:30", "timestamp": 1755775027.307364}}}
{"text": "2025-08-21 16:47:07.309 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.113361", "seconds": 0.113361}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.309351+05:30", "timestamp": 1755775027.309351}}}
{"text": "2025-08-21 16:47:07.310 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.114952", "seconds": 0.114952}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.310942+05:30", "timestamp": 1755775027.310942}}}
{"text": "2025-08-21 16:47:07.362 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.166971", "seconds": 0.166971}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.362961+05:30", "timestamp": 1755775027.362961}}}
{"text": "2025-08-21 16:47:07.370 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.174893", "seconds": 0.174893}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.370883+05:30", "timestamp": 1755775027.370883}}}
{"text": "2025-08-21 16:47:07.372 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.176753", "seconds": 0.176753}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.372743+05:30", "timestamp": 1755775027.372743}}}
{"text": "2025-08-21 16:47:07.374 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.178738", "seconds": 0.178738}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.374728+05:30", "timestamp": 1755775027.374728}}}
{"text": "2025-08-21 16:47:07.375 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.179748", "seconds": 0.179748}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.375738+05:30", "timestamp": 1755775027.375738}}}
{"text": "2025-08-21 16:47:07.381 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.185325", "seconds": 0.185325}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.381315+05:30", "timestamp": 1755775027.381315}}}
{"text": "2025-08-21 16:47:07.383 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.187322", "seconds": 0.187322}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.383312+05:30", "timestamp": 1755775027.383312}}}
{"text": "2025-08-21 16:47:07.384 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:00.188392", "seconds": 0.188392}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 22680, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:07.384382+05:30", "timestamp": 1755775027.384382}}}
{"text": "2025-08-21 16:47:52.669 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.079175", "seconds": 0.079175}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.669540+05:30", "timestamp": 1755775072.66954}}}
{"text": "2025-08-21 16:47:52.671 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=3337, avg_price=1562.6198759637903, ltp=1325.1842472561227\n", "record": {"elapsed": {"repr": "0:00:00.080776", "seconds": 0.080776}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=3337, avg_price=1562.6198759637903, ltp=1325.1842472561227", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.671141+05:30", "timestamp": 1755775072.671141}}}
{"text": "2025-08-21 16:47:52.673 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=3504, avg_price=1463.0132491581974, ltp=1685.3446958810168\n", "record": {"elapsed": {"repr": "0:00:00.082653", "seconds": 0.082653}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=3504, avg_price=1463.0132491581974, ltp=1685.3446958810168", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.673018+05:30", "timestamp": 1755775072.673018}}}
{"text": "2025-08-21 16:47:52.674 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=2403, avg_price=682.705815976408, ltp=572.5107527865276\n", "record": {"elapsed": {"repr": "0:00:00.083667", "seconds": 0.083667}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=2403, avg_price=682.705815976408, ltp=572.5107527865276", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.674032+05:30", "timestamp": 1755775072.674032}}}
{"text": "2025-08-21 16:47:52.675 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=3284, avg_price=1428.4265695495217, ltp=1376.226676884767\n", "record": {"elapsed": {"repr": "0:00:00.084698", "seconds": 0.084698}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=3284, avg_price=1428.4265695495217, ltp=1376.226676884767", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.675063+05:30", "timestamp": 1755775072.675063}}}
{"text": "2025-08-21 16:47:52.676 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=1245, avg_price=1761.1280661867584, ltp=1882.518884948829\n", "record": {"elapsed": {"repr": "0:00:00.086204", "seconds": 0.086204}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=1245, avg_price=1761.1280661867584, ltp=1882.518884948829", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.676569+05:30", "timestamp": 1755775072.676569}}}
{"text": "2025-08-21 16:47:52.678 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=3078, avg_price=983.7594257183231, ltp=1045.3187145036825\n", "record": {"elapsed": {"repr": "0:00:00.087931", "seconds": 0.087931}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=3078, avg_price=983.7594257183231, ltp=1045.3187145036825", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.678296+05:30", "timestamp": 1755775072.678296}}}
{"text": "2025-08-21 16:47:52.679 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=4478, avg_price=212.20033923410946, ltp=232.4251796079923\n", "record": {"elapsed": {"repr": "0:00:00.089348", "seconds": 0.089348}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=4478, avg_price=212.20033923410946, ltp=232.4251796079923", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.679713+05:30", "timestamp": 1755775072.679713}}}
{"text": "2025-08-21 16:47:52.681 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=3497, avg_price=1116.3197814742498, ltp=923.2462115211255\n", "record": {"elapsed": {"repr": "0:00:00.090824", "seconds": 0.090824}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=3497, avg_price=1116.3197814742498, ltp=923.2462115211255", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.681189+05:30", "timestamp": 1755775072.681189}}}
{"text": "2025-08-21 16:47:52.682 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=3577, avg_price=1853.7963347742327, ltp=1885.5667316186377\n", "record": {"elapsed": {"repr": "0:00:00.091748", "seconds": 0.091748}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=3577, avg_price=1853.7963347742327, ltp=1885.5667316186377", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.682113+05:30", "timestamp": 1755775072.682113}}}
{"text": "2025-08-21 16:47:52.683 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=1391, avg_price=1625.269530717667, ltp=1665.8908699756503\n", "record": {"elapsed": {"repr": "0:00:00.092648", "seconds": 0.092648}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=1391, avg_price=1625.269530717667, ltp=1665.8908699756503", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.683013+05:30", "timestamp": 1755775072.683013}}}
{"text": "2025-08-21 16:47:52.683 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.093549", "seconds": 0.093549}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.683914+05:30", "timestamp": 1755775072.683914}}}
{"text": "2025-08-21 16:47:52.684 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1987, avg_price=686.9\n", "record": {"elapsed": {"repr": "0:00:00.094536", "seconds": 0.094536}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1987, avg_price=686.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.684901+05:30", "timestamp": 1755775072.684901}}}
{"text": "2025-08-21 16:47:52.686 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1069, avg_price=293.33\n", "record": {"elapsed": {"repr": "0:00:00.095947", "seconds": 0.095947}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1069, avg_price=293.33", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.686312+05:30", "timestamp": 1755775072.686312}}}
{"text": "2025-08-21 16:47:52.688 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1047, avg_price=1698.33\n", "record": {"elapsed": {"repr": "0:00:00.097831", "seconds": 0.097831}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1047, avg_price=1698.33", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.688196+05:30", "timestamp": 1755775072.688196}}}
{"text": "2025-08-21 16:47:52.689 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1450, avg_price=1683.97\n", "record": {"elapsed": {"repr": "0:00:00.099037", "seconds": 0.099037}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1450, avg_price=1683.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.689402+05:30", "timestamp": 1755775072.689402}}}
{"text": "2025-08-21 16:47:52.690 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=766, avg_price=1338.82\n", "record": {"elapsed": {"repr": "0:00:00.100206", "seconds": 0.100206}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=766, avg_price=1338.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.690571+05:30", "timestamp": 1755775072.690571}}}
{"text": "2025-08-21 16:47:52.691 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.101423", "seconds": 0.101423}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.691788+05:30", "timestamp": 1755775072.691788}}}
{"text": "2025-08-21 16:47:52.693 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.103611", "seconds": 0.103611}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.693976+05:30", "timestamp": 1755775072.693976}}}
{"text": "2025-08-21 16:47:52.696 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.106112", "seconds": 0.106112}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.696477+05:30", "timestamp": 1755775072.696477}}}
{"text": "2025-08-21 16:47:52.697 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.107235", "seconds": 0.107235}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.697600+05:30", "timestamp": 1755775072.6976}}}
{"text": "2025-08-21 16:47:52.740 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.150082", "seconds": 0.150082}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.740447+05:30", "timestamp": 1755775072.740447}}}
{"text": "2025-08-21 16:47:52.745 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.155422", "seconds": 0.155422}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.745787+05:30", "timestamp": 1755775072.745787}}}
{"text": "2025-08-21 16:47:52.746 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.156414", "seconds": 0.156414}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.746779+05:30", "timestamp": 1755775072.746779}}}
{"text": "2025-08-21 16:47:52.747 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.157267", "seconds": 0.157267}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.747632+05:30", "timestamp": 1755775072.747632}}}
{"text": "2025-08-21 16:47:52.748 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.158227", "seconds": 0.158227}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:52.748592+05:30", "timestamp": 1755775072.748592}}}
{"text": "2025-08-21 16:47:54.453 | DEBUG    | app.ws.live:emit_delta:375 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:01.863560", "seconds": 1.86356}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.453925+05:30", "timestamp": 1755775074.453925}}}
{"text": "2025-08-21 16:47:54.455 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:01.864687", "seconds": 1.864687}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.455052+05:30", "timestamp": 1755775074.455052}}}
{"text": "2025-08-21 16:47:54.455 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:01.865592", "seconds": 1.865592}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.455957+05:30", "timestamp": 1755775074.455957}}}
{"text": "2025-08-21 16:47:54.457 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1268270.8, today=1268270.8\n", "record": {"elapsed": {"repr": "0:00:01.866856", "seconds": 1.866856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1268270.8, today=1268270.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.457221+05:30", "timestamp": 1755775074.457221}}}
{"text": "2025-08-21 16:47:54.458 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-1488063.71, today=-1488063.71\n", "record": {"elapsed": {"repr": "0:00:01.868467", "seconds": 1.868467}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-1488063.71, today=-1488063.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.458832+05:30", "timestamp": 1755775074.458832}}}
{"text": "2025-08-21 16:47:54.460 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1178732.75, today=-1178732.75\n", "record": {"elapsed": {"repr": "0:00:01.869774", "seconds": 1.869774}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1178732.75, today=-1178732.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.460139+05:30", "timestamp": 1755775074.460139}}}
{"text": "2025-08-21 16:47:54.461 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=446227.82, today=446227.82\n", "record": {"elapsed": {"repr": "0:00:01.870934", "seconds": 1.870934}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=446227.82, today=446227.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.461299+05:30", "timestamp": 1755775074.461299}}}
{"text": "2025-08-21 16:47:54.462 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=416473.35, today=416473.35\n", "record": {"elapsed": {"repr": "0:00:01.872212", "seconds": 1.872212}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=416473.35, today=416473.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.462577+05:30", "timestamp": 1755775074.462577}}}
{"text": "2025-08-21 16:47:54.463 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -535824.49, day: -535824.49\n", "record": {"elapsed": {"repr": "0:00:01.873061", "seconds": 1.873061}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -535824.49, day: -535824.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.463426+05:30", "timestamp": 1755775074.463426}}}
{"text": "2025-08-21 16:47:54.464 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:01.873977", "seconds": 1.873977}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.464342+05:30", "timestamp": 1755775074.464342}}}
{"text": "2025-08-21 16:47:54.465 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:01.874907", "seconds": 1.874907}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.465272+05:30", "timestamp": 1755775074.465272}}}
{"text": "2025-08-21 16:47:54.466 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:01.876284", "seconds": 1.876284}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.466649+05:30", "timestamp": 1755775074.466649}}}
{"text": "2025-08-21 16:47:54.467 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:01.877410", "seconds": 1.87741}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.467775+05:30", "timestamp": 1755775074.467775}}}
{"text": "2025-08-21 16:47:54.468 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:47:54.457015+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:01.878572", "seconds": 1.878572}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:47:54.457015+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.468937+05:30", "timestamp": 1755775074.468937}}}
{"text": "2025-08-21 16:47:54.470 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-535824.49, day=-535824.49, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1325.18, unrealized=1268270.8, today_pnl=1268270.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1685.34, unrealized=-1488063.71, today_pnl=-1488063.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=572.51, unrealized=-1178732.75, today_pnl=-1178732.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1376.23, unrealized=446227.82, today_pnl=446227.82), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1882.52, unrealized=416473.35, today_pnl=416473.35)] updated_at=datetime.datetime(2025, 8, 21, 16, 47, 54, 457015, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:01.880263", "seconds": 1.880263}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-535824.49, day=-535824.49, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1325.18, unrealized=1268270.8, today_pnl=1268270.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1685.34, unrealized=-1488063.71, today_pnl=-1488063.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=572.51, unrealized=-1178732.75, today_pnl=-1178732.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1376.23, unrealized=446227.82, today_pnl=446227.82), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1882.52, unrealized=416473.35, today_pnl=416473.35)] updated_at=datetime.datetime(2025, 8, 21, 16, 47, 54, 457015, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.470628+05:30", "timestamp": 1755775074.470628}}}
{"text": "2025-08-21 16:47:54.472 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-535824.49, day=-535824.49, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1325.18, unrealized=1268270.8, today_pnl=1268270.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1685.34, unrealized=-1488063.71, today_pnl=-1488063.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=572.51, unrealized=-1178732.75, today_pnl=-1178732.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1376.23, unrealized=446227.82, today_pnl=446227.82), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1882.52, unrealized=416473.35, today_pnl=416473.35)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 47, 54, 457015, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:01.881971", "seconds": 1.881971}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-535824.49, day=-535824.49, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1325.18, unrealized=1268270.8, today_pnl=1268270.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1685.34, unrealized=-1488063.71, today_pnl=-1488063.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=572.51, unrealized=-1178732.75, today_pnl=-1178732.75), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1376.23, unrealized=446227.82, today_pnl=446227.82), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1882.52, unrealized=416473.35, today_pnl=416473.35)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 47, 54, 457015, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.472336+05:30", "timestamp": 1755775074.472336}}}
{"text": "2025-08-21 16:47:54.473 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-535824.49\n", "record": {"elapsed": {"repr": "0:00:01.883422", "seconds": 1.883422}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-535824.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.473787+05:30", "timestamp": 1755775074.473787}}}
{"text": "2025-08-21 16:47:54.475 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType\n", "record": {"elapsed": {"repr": "0:00:01.885195", "seconds": 1.885195}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:54.475560+05:30", "timestamp": 1755775074.47556}}}
{"text": "2025-08-21 16:47:54.701 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.110940", "seconds": 2.11094}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:54.701305+05:30", "timestamp": 1755775074.701305}}}
{"text": "2025-08-21 16:47:54.702 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.112172", "seconds": 2.112172}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:54.702537+05:30", "timestamp": 1755775074.702537}}}
{"text": "2025-08-21 16:47:54.704 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.113776", "seconds": 2.113776}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:54.704141+05:30", "timestamp": 1755775074.704141}}}
{"text": "2025-08-21 16:47:54.705 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.114833", "seconds": 2.114833}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:54.705198+05:30", "timestamp": 1755775074.705198}}}
{"text": "2025-08-21 16:47:54.706 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.115861", "seconds": 2.115861}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:54.706226+05:30", "timestamp": 1755775074.706226}}}
{"text": "2025-08-21 16:47:54.707 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.116845", "seconds": 2.116845}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:54.707210+05:30", "timestamp": 1755775074.70721}}}
{"text": "2025-08-21 16:47:54.708 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.118063", "seconds": 2.118063}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:54.708428+05:30", "timestamp": 1755775074.708428}}}
{"text": "2025-08-21 16:47:54.710 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.119764", "seconds": 2.119764}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:54.710129+05:30", "timestamp": 1755775074.710129}}}
{"text": "2025-08-21 16:47:54.711 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.120894", "seconds": 2.120894}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:54.711259+05:30", "timestamp": 1755775074.711259}}}
{"text": "2025-08-21 16:47:54.712 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.121925", "seconds": 2.121925}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:54.712290+05:30", "timestamp": 1755775074.71229}}}
{"text": "2025-08-21 16:47:55.459 | DEBUG    | app.ws.live:emit_delta:375 - Emitted orders delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:02.868934", "seconds": 2.868934}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted orders delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:55.459299+05:30", "timestamp": 1755775075.459299}}}
{"text": "2025-08-21 16:47:56.010 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:03.420133", "seconds": 3.420133}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:47:56.010498+05:30", "timestamp": 1755775076.010498}}}
{"text": "2025-08-21 16:47:56.714 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.123773", "seconds": 4.123773}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:56.714138+05:30", "timestamp": 1755775076.714138}}}
{"text": "2025-08-21 16:47:56.715 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.125214", "seconds": 4.125214}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:56.715579+05:30", "timestamp": 1755775076.715579}}}
{"text": "2025-08-21 16:47:56.716 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.126212", "seconds": 4.126212}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:56.716577+05:30", "timestamp": 1755775076.716577}}}
{"text": "2025-08-21 16:47:56.717 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.127154", "seconds": 4.127154}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:56.717519+05:30", "timestamp": 1755775076.717519}}}
{"text": "2025-08-21 16:47:56.718 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.128175", "seconds": 4.128175}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:56.718540+05:30", "timestamp": 1755775076.71854}}}
{"text": "2025-08-21 16:47:56.720 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.129652", "seconds": 4.129652}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:56.720017+05:30", "timestamp": 1755775076.720017}}}
{"text": "2025-08-21 16:47:56.720 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.130491", "seconds": 4.130491}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:56.720856+05:30", "timestamp": 1755775076.720856}}}
{"text": "2025-08-21 16:47:56.721 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.131483", "seconds": 4.131483}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:56.721848+05:30", "timestamp": 1755775076.721848}}}
{"text": "2025-08-21 16:47:56.722 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.132626", "seconds": 4.132626}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:56.722991+05:30", "timestamp": 1755775076.722991}}}
{"text": "2025-08-21 16:47:56.724 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.133973", "seconds": 4.133973}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:56.724338+05:30", "timestamp": 1755775076.724338}}}
{"text": "2025-08-21 16:47:58.726 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.136118", "seconds": 6.136118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:58.726483+05:30", "timestamp": 1755775078.726483}}}
{"text": "2025-08-21 16:47:58.728 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.138424", "seconds": 6.138424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:58.728789+05:30", "timestamp": 1755775078.728789}}}
{"text": "2025-08-21 16:47:58.731 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.140652", "seconds": 6.140652}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:58.731017+05:30", "timestamp": 1755775078.731017}}}
{"text": "2025-08-21 16:47:58.732 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.142258", "seconds": 6.142258}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:58.732623+05:30", "timestamp": 1755775078.732623}}}
{"text": "2025-08-21 16:47:58.735 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.144762", "seconds": 6.144762}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:58.735127+05:30", "timestamp": 1755775078.735127}}}
{"text": "2025-08-21 16:47:58.736 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.146514", "seconds": 6.146514}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:58.736879+05:30", "timestamp": 1755775078.736879}}}
{"text": "2025-08-21 16:47:58.739 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.149072", "seconds": 6.149072}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:58.739437+05:30", "timestamp": 1755775078.739437}}}
{"text": "2025-08-21 16:47:58.741 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.151486", "seconds": 6.151486}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:58.741851+05:30", "timestamp": 1755775078.741851}}}
{"text": "2025-08-21 16:47:58.744 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.154460", "seconds": 6.15446}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:58.744825+05:30", "timestamp": 1755775078.744825}}}
{"text": "2025-08-21 16:47:58.746 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.155881", "seconds": 6.155881}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:47:58.746246+05:30", "timestamp": 1755775078.746246}}}
{"text": "2025-08-21 16:48:00.747 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.157510", "seconds": 8.15751}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:00.747875+05:30", "timestamp": 1755775080.747875}}}
{"text": "2025-08-21 16:48:00.749 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.159518", "seconds": 8.159518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:00.749883+05:30", "timestamp": 1755775080.749883}}}
{"text": "2025-08-21 16:48:00.751 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.160977", "seconds": 8.160977}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:00.751342+05:30", "timestamp": 1755775080.751342}}}
{"text": "2025-08-21 16:48:00.752 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.162426", "seconds": 8.162426}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:00.752791+05:30", "timestamp": 1755775080.752791}}}
{"text": "2025-08-21 16:48:00.754 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.164506", "seconds": 8.164506}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:00.754871+05:30", "timestamp": 1755775080.754871}}}
{"text": "2025-08-21 16:48:00.756 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.166155", "seconds": 8.166155}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:00.756520+05:30", "timestamp": 1755775080.75652}}}
{"text": "2025-08-21 16:48:00.758 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.168077", "seconds": 8.168077}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:00.758442+05:30", "timestamp": 1755775080.758442}}}
{"text": "2025-08-21 16:48:00.760 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.169674", "seconds": 8.169674}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:00.760039+05:30", "timestamp": 1755775080.760039}}}
{"text": "2025-08-21 16:48:00.761 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.171597", "seconds": 8.171597}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:00.761962+05:30", "timestamp": 1755775080.761962}}}
{"text": "2025-08-21 16:48:00.763 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.173333", "seconds": 8.173333}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:00.763698+05:30", "timestamp": 1755775080.763698}}}
{"text": "2025-08-21 16:48:01.050 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.460330", "seconds": 8.46033}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.050695+05:30", "timestamp": 1755775081.050695}}}
{"text": "2025-08-21 16:48:01.053 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.462742", "seconds": 8.462742}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.053107+05:30", "timestamp": 1755775081.053107}}}
{"text": "2025-08-21 16:48:01.055 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1220318.64, today=1220318.64\n", "record": {"elapsed": {"repr": "0:00:08.464836", "seconds": 8.464836}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1220318.64, today=1220318.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.055201+05:30", "timestamp": 1755775081.055201}}}
{"text": "2025-08-21 16:48:01.057 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-1471846.73, today=-1471846.73\n", "record": {"elapsed": {"repr": "0:00:08.466936", "seconds": 8.466936}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-1471846.73, today=-1471846.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.057301+05:30", "timestamp": 1755775081.057301}}}
{"text": "2025-08-21 16:48:01.059 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1198755.25, today=-1198755.25\n", "record": {"elapsed": {"repr": "0:00:08.469098", "seconds": 8.469098}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1198755.25, today=-1198755.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.059463+05:30", "timestamp": 1755775081.059463}}}
{"text": "2025-08-21 16:48:01.061 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=405874.23, today=405874.23\n", "record": {"elapsed": {"repr": "0:00:08.471479", "seconds": 8.471479}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=405874.23, today=405874.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.061844+05:30", "timestamp": 1755775081.061844}}}
{"text": "2025-08-21 16:48:01.063 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=410175.36, today=410175.36\n", "record": {"elapsed": {"repr": "0:00:08.472723", "seconds": 8.472723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=410175.36, today=410175.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.063088+05:30", "timestamp": 1755775081.063088}}}
{"text": "2025-08-21 16:48:01.064 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -634233.75, day: -634233.75\n", "record": {"elapsed": {"repr": "0:00:08.474029", "seconds": 8.474029}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -634233.75, day: -634233.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.064394+05:30", "timestamp": 1755775081.064394}}}
{"text": "2025-08-21 16:48:01.066 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.475985", "seconds": 8.475985}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.066350+05:30", "timestamp": 1755775081.06635}}}
{"text": "2025-08-21 16:48:01.068 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.477913", "seconds": 8.477913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.068278+05:30", "timestamp": 1755775081.068278}}}
{"text": "2025-08-21 16:48:01.069 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.479276", "seconds": 8.479276}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.069641+05:30", "timestamp": 1755775081.069641}}}
{"text": "2025-08-21 16:48:01.071 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.481061", "seconds": 8.481061}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.071426+05:30", "timestamp": 1755775081.071426}}}
{"text": "2025-08-21 16:48:01.072 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:01.054960+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.482533", "seconds": 8.482533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:01.054960+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.072898+05:30", "timestamp": 1755775081.072898}}}
{"text": "2025-08-21 16:48:01.075 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-634233.75, day=-634233.75, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1301.05, unrealized=1220318.64, today_pnl=1220318.64), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1670.17, unrealized=-1471846.73, today_pnl=-1471846.73), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=553.39, unrealized=-1198755.25, today_pnl=-1198755.25), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1404.06, unrealized=405874.23, today_pnl=405874.23), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1874.3, unrealized=410175.36, today_pnl=410175.36)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 1, 54960, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:08.485066", "seconds": 8.485066}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-634233.75, day=-634233.75, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1301.05, unrealized=1220318.64, today_pnl=1220318.64), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1670.17, unrealized=-1471846.73, today_pnl=-1471846.73), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=553.39, unrealized=-1198755.25, today_pnl=-1198755.25), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1404.06, unrealized=405874.23, today_pnl=405874.23), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1874.3, unrealized=410175.36, today_pnl=410175.36)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 1, 54960, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.075431+05:30", "timestamp": 1755775081.075431}}}
{"text": "2025-08-21 16:48:01.079 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-634233.75, day=-634233.75, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1301.05, unrealized=1220318.64, today_pnl=1220318.64), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1670.17, unrealized=-1471846.73, today_pnl=-1471846.73), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=553.39, unrealized=-1198755.25, today_pnl=-1198755.25), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1404.06, unrealized=405874.23, today_pnl=405874.23), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1874.3, unrealized=410175.36, today_pnl=410175.36)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 1, 54960, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:08.488691", "seconds": 8.488691}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-634233.75, day=-634233.75, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1301.05, unrealized=1220318.64, today_pnl=1220318.64), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1670.17, unrealized=-1471846.73, today_pnl=-1471846.73), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=553.39, unrealized=-1198755.25, today_pnl=-1198755.25), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1404.06, unrealized=405874.23, today_pnl=405874.23), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1874.3, unrealized=410175.36, today_pnl=410175.36)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 1, 54960, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.079056+05:30", "timestamp": 1755775081.079056}}}
{"text": "2025-08-21 16:48:01.081 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-634233.75\n", "record": {"elapsed": {"repr": "0:00:08.491055", "seconds": 8.491055}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-634233.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.081420+05:30", "timestamp": 1755775081.08142}}}
{"text": "2025-08-21 16:48:01.083 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:08.493458", "seconds": 8.493458}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:01.083823+05:30", "timestamp": 1755775081.083823}}}
{"text": "2025-08-21 16:48:02.766 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.176352", "seconds": 10.176352}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:02.766717+05:30", "timestamp": 1755775082.766717}}}
{"text": "2025-08-21 16:48:02.769 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.178661", "seconds": 10.178661}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:02.769026+05:30", "timestamp": 1755775082.769026}}}
{"text": "2025-08-21 16:48:02.770 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.180217", "seconds": 10.180217}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:02.770582+05:30", "timestamp": 1755775082.770582}}}
{"text": "2025-08-21 16:48:02.772 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.182066", "seconds": 10.182066}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:02.772431+05:30", "timestamp": 1755775082.772431}}}
{"text": "2025-08-21 16:48:02.774 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.184080", "seconds": 10.18408}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:02.774445+05:30", "timestamp": 1755775082.774445}}}
{"text": "2025-08-21 16:48:02.775 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.185595", "seconds": 10.185595}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:02.775960+05:30", "timestamp": 1755775082.77596}}}
{"text": "2025-08-21 16:48:02.778 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.188114", "seconds": 10.188114}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:02.778479+05:30", "timestamp": 1755775082.778479}}}
{"text": "2025-08-21 16:48:02.780 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.190126", "seconds": 10.190126}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:02.780491+05:30", "timestamp": 1755775082.780491}}}
{"text": "2025-08-21 16:48:02.782 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.192598", "seconds": 10.192598}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:02.782963+05:30", "timestamp": 1755775082.782963}}}
{"text": "2025-08-21 16:48:02.784 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.194306", "seconds": 10.194306}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:02.784671+05:30", "timestamp": 1755775082.784671}}}
{"text": "2025-08-21 16:48:02.863 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:10.273545", "seconds": 10.273545}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:02.863910+05:30", "timestamp": 1755775082.86391}}}
{"text": "2025-08-21 16:48:04.787 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.196754", "seconds": 12.196754}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:04.787119+05:30", "timestamp": 1755775084.787119}}}
{"text": "2025-08-21 16:48:04.788 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.198300", "seconds": 12.1983}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:04.788665+05:30", "timestamp": 1755775084.788665}}}
{"text": "2025-08-21 16:48:04.790 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.199876", "seconds": 12.199876}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:04.790241+05:30", "timestamp": 1755775084.790241}}}
{"text": "2025-08-21 16:48:04.791 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.200944", "seconds": 12.200944}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:04.791309+05:30", "timestamp": 1755775084.791309}}}
{"text": "2025-08-21 16:48:04.792 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.202019", "seconds": 12.202019}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:04.792384+05:30", "timestamp": 1755775084.792384}}}
{"text": "2025-08-21 16:48:04.793 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.203436", "seconds": 12.203436}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:04.793801+05:30", "timestamp": 1755775084.793801}}}
{"text": "2025-08-21 16:48:04.795 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.205145", "seconds": 12.205145}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:04.795510+05:30", "timestamp": 1755775084.79551}}}
{"text": "2025-08-21 16:48:04.796 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.206332", "seconds": 12.206332}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:04.796697+05:30", "timestamp": 1755775084.796697}}}
{"text": "2025-08-21 16:48:04.797 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.207598", "seconds": 12.207598}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:04.797963+05:30", "timestamp": 1755775084.797963}}}
{"text": "2025-08-21 16:48:04.799 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.209248", "seconds": 12.209248}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:04.799613+05:30", "timestamp": 1755775084.799613}}}
{"text": "2025-08-21 16:48:06.801 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.210891", "seconds": 14.210891}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:06.801256+05:30", "timestamp": 1755775086.801256}}}
{"text": "2025-08-21 16:48:06.802 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.211946", "seconds": 14.211946}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:06.802311+05:30", "timestamp": 1755775086.802311}}}
{"text": "2025-08-21 16:48:06.803 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.212986", "seconds": 14.212986}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:06.803351+05:30", "timestamp": 1755775086.803351}}}
{"text": "2025-08-21 16:48:06.804 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.214392", "seconds": 14.214392}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:06.804757+05:30", "timestamp": 1755775086.804757}}}
{"text": "2025-08-21 16:48:06.805 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.215362", "seconds": 14.215362}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:06.805727+05:30", "timestamp": 1755775086.805727}}}
{"text": "2025-08-21 16:48:06.806 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.216208", "seconds": 14.216208}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:06.806573+05:30", "timestamp": 1755775086.806573}}}
{"text": "2025-08-21 16:48:06.807 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.217169", "seconds": 14.217169}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:06.807534+05:30", "timestamp": 1755775086.807534}}}
{"text": "2025-08-21 16:48:06.808 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.218533", "seconds": 14.218533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:06.808898+05:30", "timestamp": 1755775086.808898}}}
{"text": "2025-08-21 16:48:06.810 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.219685", "seconds": 14.219685}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:06.810050+05:30", "timestamp": 1755775086.81005}}}
{"text": "2025-08-21 16:48:06.810 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.220610", "seconds": 14.22061}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:06.810975+05:30", "timestamp": 1755775086.810975}}}
{"text": "2025-08-21 16:48:07.960 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:15.370057", "seconds": 15.370057}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.960422+05:30", "timestamp": 1755775087.960422}}}
{"text": "2025-08-21 16:48:07.961 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:15.371427", "seconds": 15.371427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.961792+05:30", "timestamp": 1755775087.961792}}}
{"text": "2025-08-21 16:48:07.962 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1208762.67, today=1208762.67\n", "record": {"elapsed": {"repr": "0:00:15.372590", "seconds": 15.37259}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1208762.67, today=1208762.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.962955+05:30", "timestamp": 1755775087.962955}}}
{"text": "2025-08-21 16:48:07.964 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-1488262.52, today=-1488262.52\n", "record": {"elapsed": {"repr": "0:00:15.373791", "seconds": 15.373791}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-1488262.52, today=-1488262.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.964156+05:30", "timestamp": 1755775087.964156}}}
{"text": "2025-08-21 16:48:07.965 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1205437.01, today=-1205437.01\n", "record": {"elapsed": {"repr": "0:00:15.374741", "seconds": 15.374741}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1205437.01, today=-1205437.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.965106+05:30", "timestamp": 1755775087.965106}}}
{"text": "2025-08-21 16:48:07.965 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=423172.71, today=423172.71\n", "record": {"elapsed": {"repr": "0:00:15.375473", "seconds": 15.375473}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=423172.71, today=423172.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.965838+05:30", "timestamp": 1755775087.965838}}}
{"text": "2025-08-21 16:48:07.966 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=421572.55, today=421572.55\n", "record": {"elapsed": {"repr": "0:00:15.376455", "seconds": 15.376455}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=421572.55, today=421572.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.966820+05:30", "timestamp": 1755775087.96682}}}
{"text": "2025-08-21 16:48:07.967 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -640191.6, day: -640191.6\n", "record": {"elapsed": {"repr": "0:00:15.377456", "seconds": 15.377456}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -640191.6, day: -640191.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.967821+05:30", "timestamp": 1755775087.967821}}}
{"text": "2025-08-21 16:48:07.969 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:15.379186", "seconds": 15.379186}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.969551+05:30", "timestamp": 1755775087.969551}}}
{"text": "2025-08-21 16:48:07.970 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:15.380580", "seconds": 15.38058}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.970945+05:30", "timestamp": 1755775087.970945}}}
{"text": "2025-08-21 16:48:07.972 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:15.382007", "seconds": 15.382007}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.972372+05:30", "timestamp": 1755775087.972372}}}
{"text": "2025-08-21 16:48:07.973 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:15.382883", "seconds": 15.382883}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.973248+05:30", "timestamp": 1755775087.973248}}}
{"text": "2025-08-21 16:48:07.974 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:07.962855+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:15.383874", "seconds": 15.383874}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:07.962855+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.974239+05:30", "timestamp": 1755775087.974239}}}
{"text": "2025-08-21 16:48:07.975 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-640191.6, day=-640191.6, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1295.24, unrealized=1208762.67, today_pnl=1208762.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1685.53, unrealized=-1488262.52, today_pnl=-1488262.52), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=547.01, unrealized=-1205437.01, today_pnl=-1205437.01), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1392.13, unrealized=423172.71, today_pnl=423172.71), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1889.18, unrealized=421572.55, today_pnl=421572.55)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 7, 962855, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:15.385163", "seconds": 15.385163}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-640191.6, day=-640191.6, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1295.24, unrealized=1208762.67, today_pnl=1208762.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1685.53, unrealized=-1488262.52, today_pnl=-1488262.52), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=547.01, unrealized=-1205437.01, today_pnl=-1205437.01), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1392.13, unrealized=423172.71, today_pnl=423172.71), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1889.18, unrealized=421572.55, today_pnl=421572.55)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 7, 962855, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.975528+05:30", "timestamp": 1755775087.975528}}}
{"text": "2025-08-21 16:48:07.978 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-640191.6, day=-640191.6, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1295.24, unrealized=1208762.67, today_pnl=1208762.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1685.53, unrealized=-1488262.52, today_pnl=-1488262.52), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=547.01, unrealized=-1205437.01, today_pnl=-1205437.01), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1392.13, unrealized=423172.71, today_pnl=423172.71), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1889.18, unrealized=421572.55, today_pnl=421572.55)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 7, 962855, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:15.387796", "seconds": 15.387796}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-640191.6, day=-640191.6, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1295.24, unrealized=1208762.67, today_pnl=1208762.67), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1685.53, unrealized=-1488262.52, today_pnl=-1488262.52), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=547.01, unrealized=-1205437.01, today_pnl=-1205437.01), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1392.13, unrealized=423172.71, today_pnl=423172.71), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1889.18, unrealized=421572.55, today_pnl=421572.55)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 7, 962855, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.978161+05:30", "timestamp": 1755775087.978161}}}
{"text": "2025-08-21 16:48:07.980 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-640191.60\n", "record": {"elapsed": {"repr": "0:00:15.390073", "seconds": 15.390073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-640191.60", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.980438+05:30", "timestamp": 1755775087.980438}}}
{"text": "2025-08-21 16:48:07.981 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:15.391533", "seconds": 15.391533}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:07.981898+05:30", "timestamp": 1755775087.981898}}}
{"text": "2025-08-21 16:48:08.812 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.221846", "seconds": 16.221846}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:08.812211+05:30", "timestamp": 1755775088.812211}}}
