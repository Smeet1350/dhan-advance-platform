{"text": "2025-08-21 16:48:08.813 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.222770", "seconds": 16.22277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:08.813135+05:30", "timestamp": 1755775088.813135}}}
{"text": "2025-08-21 16:48:08.832 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.242561", "seconds": 16.242561}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:08.832926+05:30", "timestamp": 1755775088.832926}}}
{"text": "2025-08-21 16:48:08.834 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.243779", "seconds": 16.243779}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:08.834144+05:30", "timestamp": 1755775088.834144}}}
{"text": "2025-08-21 16:48:08.835 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.244797", "seconds": 16.244797}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:08.835162+05:30", "timestamp": 1755775088.835162}}}
{"text": "2025-08-21 16:48:08.836 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.245773", "seconds": 16.245773}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:08.836138+05:30", "timestamp": 1755775088.836138}}}
{"text": "2025-08-21 16:48:08.837 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.247381", "seconds": 16.247381}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:08.837746+05:30", "timestamp": 1755775088.837746}}}
{"text": "2025-08-21 16:48:08.838 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.248189", "seconds": 16.248189}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:08.838554+05:30", "timestamp": 1755775088.838554}}}
{"text": "2025-08-21 16:48:08.839 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.249139", "seconds": 16.249139}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:08.839504+05:30", "timestamp": 1755775088.839504}}}
{"text": "2025-08-21 16:48:08.840 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.250012", "seconds": 16.250012}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:08.840377+05:30", "timestamp": 1755775088.840377}}}
{"text": "2025-08-21 16:48:09.634 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:17.044592", "seconds": 17.044592}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:09.634957+05:30", "timestamp": 1755775089.634957}}}
{"text": "2025-08-21 16:48:10.842 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.251847", "seconds": 18.251847}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:10.842212+05:30", "timestamp": 1755775090.842212}}}
{"text": "2025-08-21 16:48:10.844 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.253669", "seconds": 18.253669}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:10.844034+05:30", "timestamp": 1755775090.844034}}}
{"text": "2025-08-21 16:48:10.845 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.254771", "seconds": 18.254771}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:10.845136+05:30", "timestamp": 1755775090.845136}}}
{"text": "2025-08-21 16:48:10.845 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.255550", "seconds": 18.25555}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:10.845915+05:30", "timestamp": 1755775090.845915}}}
{"text": "2025-08-21 16:48:10.846 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.256309", "seconds": 18.256309}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:10.846674+05:30", "timestamp": 1755775090.846674}}}
{"text": "2025-08-21 16:48:10.847 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.257070", "seconds": 18.25707}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:10.847435+05:30", "timestamp": 1755775090.847435}}}
{"text": "2025-08-21 16:48:10.848 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.257895", "seconds": 18.257895}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:10.848260+05:30", "timestamp": 1755775090.84826}}}
{"text": "2025-08-21 16:48:10.849 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.258856", "seconds": 18.258856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:10.849221+05:30", "timestamp": 1755775090.849221}}}
{"text": "2025-08-21 16:48:10.851 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.260961", "seconds": 18.260961}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:10.851326+05:30", "timestamp": 1755775090.851326}}}
{"text": "2025-08-21 16:48:10.852 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.262025", "seconds": 18.262025}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:10.852390+05:30", "timestamp": 1755775090.85239}}}
{"text": "2025-08-21 16:48:12.854 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.263908", "seconds": 20.263908}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:12.854273+05:30", "timestamp": 1755775092.854273}}}
{"text": "2025-08-21 16:48:12.855 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.265233", "seconds": 20.265233}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:12.855598+05:30", "timestamp": 1755775092.855598}}}
{"text": "2025-08-21 16:48:12.856 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.266430", "seconds": 20.26643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:12.856795+05:30", "timestamp": 1755775092.856795}}}
{"text": "2025-08-21 16:48:12.857 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.267489", "seconds": 20.267489}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:12.857854+05:30", "timestamp": 1755775092.857854}}}
{"text": "2025-08-21 16:48:12.858 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.268295", "seconds": 20.268295}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:12.858660+05:30", "timestamp": 1755775092.85866}}}
{"text": "2025-08-21 16:48:12.859 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.269265", "seconds": 20.269265}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:12.859630+05:30", "timestamp": 1755775092.85963}}}
{"text": "2025-08-21 16:48:12.860 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.270240", "seconds": 20.27024}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:12.860605+05:30", "timestamp": 1755775092.860605}}}
{"text": "2025-08-21 16:48:12.861 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.271281", "seconds": 20.271281}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:12.861646+05:30", "timestamp": 1755775092.861646}}}
{"text": "2025-08-21 16:48:12.862 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.272306", "seconds": 20.272306}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:12.862671+05:30", "timestamp": 1755775092.862671}}}
{"text": "2025-08-21 16:48:12.864 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.273704", "seconds": 20.273704}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:12.864069+05:30", "timestamp": 1755775092.864069}}}
{"text": "2025-08-21 16:48:14.807 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:22.216725", "seconds": 22.216725}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.807090+05:30", "timestamp": 1755775094.80709}}}
{"text": "2025-08-21 16:48:14.808 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:22.218415", "seconds": 22.218415}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.808780+05:30", "timestamp": 1755775094.80878}}}
{"text": "2025-08-21 16:48:14.809 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1205834.34, today=1205834.34\n", "record": {"elapsed": {"repr": "0:00:22.219428", "seconds": 22.219428}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1205834.34, today=1205834.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.809793+05:30", "timestamp": 1755775094.809793}}}
{"text": "2025-08-21 16:48:14.810 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-1472205.66, today=-1472205.66\n", "record": {"elapsed": {"repr": "0:00:22.220360", "seconds": 22.22036}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-1472205.66, today=-1472205.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.810725+05:30", "timestamp": 1755775094.810725}}}
{"text": "2025-08-21 16:48:14.811 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1197620.04, today=-1197620.04\n", "record": {"elapsed": {"repr": "0:00:22.221239", "seconds": 22.221239}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1197620.04, today=-1197620.04", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.811604+05:30", "timestamp": 1755775094.811604}}}
{"text": "2025-08-21 16:48:14.812 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=466404.58, today=466404.58\n", "record": {"elapsed": {"repr": "0:00:22.222053", "seconds": 22.222053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=466404.58, today=466404.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.812418+05:30", "timestamp": 1755775094.812418}}}
{"text": "2025-08-21 16:48:14.813 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=380279.62, today=380279.62\n", "record": {"elapsed": {"repr": "0:00:22.222913", "seconds": 22.222913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=380279.62, today=380279.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.813278+05:30", "timestamp": 1755775094.813278}}}
{"text": "2025-08-21 16:48:14.814 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -617307.16, day: -617307.16\n", "record": {"elapsed": {"repr": "0:00:22.224155", "seconds": 22.224155}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -617307.16, day: -617307.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.814520+05:30", "timestamp": 1755775094.81452}}}
{"text": "2025-08-21 16:48:14.816 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:22.225729", "seconds": 22.225729}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.816094+05:30", "timestamp": 1755775094.816094}}}
{"text": "2025-08-21 16:48:14.817 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:22.226844", "seconds": 22.226844}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.817209+05:30", "timestamp": 1755775094.817209}}}
{"text": "2025-08-21 16:48:14.818 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:22.227767", "seconds": 22.227767}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.818132+05:30", "timestamp": 1755775094.818132}}}
{"text": "2025-08-21 16:48:14.819 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:22.228752", "seconds": 22.228752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.819117+05:30", "timestamp": 1755775094.819117}}}
{"text": "2025-08-21 16:48:14.820 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:14.809635+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:22.230065", "seconds": 22.230065}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:14.809635+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.820430+05:30", "timestamp": 1755775094.82043}}}
{"text": "2025-08-21 16:48:14.821 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-617307.16, day=-617307.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1293.76, unrealized=1205834.34, today_pnl=1205834.34), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1670.51, unrealized=-1472205.66, today_pnl=-1472205.66), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=554.47, unrealized=-1197620.04, today_pnl=-1197620.04), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1362.31, unrealized=466404.58, today_pnl=466404.58), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1835.27, unrealized=380279.62, today_pnl=380279.62)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 14, 809635, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:22.231591", "seconds": 22.231591}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-617307.16, day=-617307.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1293.76, unrealized=1205834.34, today_pnl=1205834.34), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1670.51, unrealized=-1472205.66, today_pnl=-1472205.66), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=554.47, unrealized=-1197620.04, today_pnl=-1197620.04), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1362.31, unrealized=466404.58, today_pnl=466404.58), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1835.27, unrealized=380279.62, today_pnl=380279.62)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 14, 809635, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.821956+05:30", "timestamp": 1755775094.821956}}}
{"text": "2025-08-21 16:48:14.823 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-617307.16, day=-617307.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1293.76, unrealized=1205834.34, today_pnl=1205834.34), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1670.51, unrealized=-1472205.66, today_pnl=-1472205.66), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=554.47, unrealized=-1197620.04, today_pnl=-1197620.04), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1362.31, unrealized=466404.58, today_pnl=466404.58), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1835.27, unrealized=380279.62, today_pnl=380279.62)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 14, 809635, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:22.233508", "seconds": 22.233508}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-617307.16, day=-617307.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1293.76, unrealized=1205834.34, today_pnl=1205834.34), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1670.51, unrealized=-1472205.66, today_pnl=-1472205.66), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=554.47, unrealized=-1197620.04, today_pnl=-1197620.04), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1362.31, unrealized=466404.58, today_pnl=466404.58), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1835.27, unrealized=380279.62, today_pnl=380279.62)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 14, 809635, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.823873+05:30", "timestamp": 1755775094.823873}}}
{"text": "2025-08-21 16:48:14.825 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-617307.16\n", "record": {"elapsed": {"repr": "0:00:22.235223", "seconds": 22.235223}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-617307.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.825588+05:30", "timestamp": 1755775094.825588}}}
{"text": "2025-08-21 16:48:14.826 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:22.236268", "seconds": 22.236268}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:14.826633+05:30", "timestamp": 1755775094.826633}}}
{"text": "2025-08-21 16:48:14.865 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.275400", "seconds": 22.2754}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:14.865765+05:30", "timestamp": 1755775094.865765}}}
{"text": "2025-08-21 16:48:14.866 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.276550", "seconds": 22.27655}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:14.866915+05:30", "timestamp": 1755775094.866915}}}
{"text": "2025-08-21 16:48:14.868 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.277700", "seconds": 22.2777}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:14.868065+05:30", "timestamp": 1755775094.868065}}}
{"text": "2025-08-21 16:48:14.869 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.278937", "seconds": 22.278937}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:14.869302+05:30", "timestamp": 1755775094.869302}}}
{"text": "2025-08-21 16:48:14.870 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.280159", "seconds": 22.280159}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:14.870524+05:30", "timestamp": 1755775094.870524}}}
{"text": "2025-08-21 16:48:14.872 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.281672", "seconds": 22.281672}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:14.872037+05:30", "timestamp": 1755775094.872037}}}
{"text": "2025-08-21 16:48:14.873 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.282976", "seconds": 22.282976}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:14.873341+05:30", "timestamp": 1755775094.873341}}}
{"text": "2025-08-21 16:48:14.874 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.284022", "seconds": 22.284022}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:14.874387+05:30", "timestamp": 1755775094.874387}}}
{"text": "2025-08-21 16:48:14.875 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.285515", "seconds": 22.285515}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:14.875880+05:30", "timestamp": 1755775094.87588}}}
{"text": "2025-08-21 16:48:14.876 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.286432", "seconds": 22.286432}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:14.876797+05:30", "timestamp": 1755775094.876797}}}
{"text": "2025-08-21 16:48:16.296 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:23.706091", "seconds": 23.706091}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:16.296456+05:30", "timestamp": 1755775096.296456}}}
{"text": "2025-08-21 16:48:16.878 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.287947", "seconds": 24.287947}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:16.878312+05:30", "timestamp": 1755775096.878312}}}
{"text": "2025-08-21 16:48:16.879 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.289109", "seconds": 24.289109}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:16.879474+05:30", "timestamp": 1755775096.879474}}}
{"text": "2025-08-21 16:48:16.880 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.290074", "seconds": 24.290074}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:16.880439+05:30", "timestamp": 1755775096.880439}}}
{"text": "2025-08-21 16:48:16.881 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.291012", "seconds": 24.291012}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:16.881377+05:30", "timestamp": 1755775096.881377}}}
{"text": "2025-08-21 16:48:16.882 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.292087", "seconds": 24.292087}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:16.882452+05:30", "timestamp": 1755775096.882452}}}
{"text": "2025-08-21 16:48:16.883 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.293394", "seconds": 24.293394}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:16.883759+05:30", "timestamp": 1755775096.883759}}}
{"text": "2025-08-21 16:48:16.884 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.294143", "seconds": 24.294143}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:16.884508+05:30", "timestamp": 1755775096.884508}}}
{"text": "2025-08-21 16:48:16.885 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.294995", "seconds": 24.294995}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:16.885360+05:30", "timestamp": 1755775096.88536}}}
{"text": "2025-08-21 16:48:16.886 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.295948", "seconds": 24.295948}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:16.886313+05:30", "timestamp": 1755775096.886313}}}
{"text": "2025-08-21 16:48:16.887 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.296963", "seconds": 24.296963}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:16.887328+05:30", "timestamp": 1755775096.887328}}}
{"text": "2025-08-21 16:48:17.961 | DEBUG    | app.ws.live:emit_delta:375 - Emitted holdings delta: seq=3\n", "record": {"elapsed": {"repr": "0:00:25.371507", "seconds": 25.371507}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted holdings delta: seq=3", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:17.961872+05:30", "timestamp": 1755775097.961872}}}
{"text": "2025-08-21 16:48:18.889 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.299199", "seconds": 26.299199}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:18.889564+05:30", "timestamp": 1755775098.889564}}}
{"text": "2025-08-21 16:48:18.890 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.300427", "seconds": 26.300427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:18.890792+05:30", "timestamp": 1755775098.890792}}}
{"text": "2025-08-21 16:48:18.891 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.301266", "seconds": 26.301266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:18.891631+05:30", "timestamp": 1755775098.891631}}}
{"text": "2025-08-21 16:48:18.892 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.302170", "seconds": 26.30217}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:18.892535+05:30", "timestamp": 1755775098.892535}}}
{"text": "2025-08-21 16:48:18.893 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.303119", "seconds": 26.303119}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:18.893484+05:30", "timestamp": 1755775098.893484}}}
{"text": "2025-08-21 16:48:18.894 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.304256", "seconds": 26.304256}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:18.894621+05:30", "timestamp": 1755775098.894621}}}
{"text": "2025-08-21 16:48:18.895 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.305582", "seconds": 26.305582}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:18.895947+05:30", "timestamp": 1755775098.895947}}}
{"text": "2025-08-21 16:48:18.897 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.307091", "seconds": 26.307091}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:18.897456+05:30", "timestamp": 1755775098.897456}}}
{"text": "2025-08-21 16:48:18.898 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.308041", "seconds": 26.308041}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:18.898406+05:30", "timestamp": 1755775098.898406}}}
{"text": "2025-08-21 16:48:18.899 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.309356", "seconds": 26.309356}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:18.899721+05:30", "timestamp": 1755775098.899721}}}
{"text": "2025-08-21 16:48:20.901 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.310740", "seconds": 28.31074}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:20.901105+05:30", "timestamp": 1755775100.901105}}}
{"text": "2025-08-21 16:48:20.902 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.311874", "seconds": 28.311874}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:20.902239+05:30", "timestamp": 1755775100.902239}}}
{"text": "2025-08-21 16:48:20.903 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.312792", "seconds": 28.312792}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:20.903157+05:30", "timestamp": 1755775100.903157}}}
{"text": "2025-08-21 16:48:20.904 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.313671", "seconds": 28.313671}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:20.904036+05:30", "timestamp": 1755775100.904036}}}
{"text": "2025-08-21 16:48:20.905 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.315121", "seconds": 28.315121}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:20.905486+05:30", "timestamp": 1755775100.905486}}}
{"text": "2025-08-21 16:48:20.906 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.316163", "seconds": 28.316163}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:20.906528+05:30", "timestamp": 1755775100.906528}}}
{"text": "2025-08-21 16:48:20.907 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.316949", "seconds": 28.316949}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:20.907314+05:30", "timestamp": 1755775100.907314}}}
{"text": "2025-08-21 16:48:20.908 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.317737", "seconds": 28.317737}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:20.908102+05:30", "timestamp": 1755775100.908102}}}
{"text": "2025-08-21 16:48:20.908 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.318498", "seconds": 28.318498}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:20.908863+05:30", "timestamp": 1755775100.908863}}}
{"text": "2025-08-21 16:48:20.909 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.319341", "seconds": 28.319341}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:20.909706+05:30", "timestamp": 1755775100.909706}}}
{"text": "2025-08-21 16:48:21.569 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:28.978808", "seconds": 28.978808}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.569173+05:30", "timestamp": 1755775101.569173}}}
{"text": "2025-08-21 16:48:21.570 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:28.980005", "seconds": 28.980005}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.570370+05:30", "timestamp": 1755775101.57037}}}
{"text": "2025-08-21 16:48:21.571 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1290542.61, today=1290542.61\n", "record": {"elapsed": {"repr": "0:00:28.980977", "seconds": 28.980977}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1290542.61, today=1290542.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.571342+05:30", "timestamp": 1755775101.571342}}}
{"text": "2025-08-21 16:48:21.572 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-1491907.47, today=-1491907.47\n", "record": {"elapsed": {"repr": "0:00:28.982011", "seconds": 28.982011}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-1491907.47, today=-1491907.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.572376+05:30", "timestamp": 1755775101.572376}}}
{"text": "2025-08-21 16:48:21.573 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1182351.99, today=-1182351.99\n", "record": {"elapsed": {"repr": "0:00:28.983024", "seconds": 28.983024}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1182351.99, today=-1182351.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.573389+05:30", "timestamp": 1755775101.573389}}}
{"text": "2025-08-21 16:48:21.574 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=470129.35, today=470129.35\n", "record": {"elapsed": {"repr": "0:00:28.983926", "seconds": 28.983926}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=470129.35, today=470129.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.574291+05:30", "timestamp": 1755775101.574291}}}
{"text": "2025-08-21 16:48:21.575 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=300568.62, today=300568.62\n", "record": {"elapsed": {"repr": "0:00:28.984953", "seconds": 28.984953}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=300568.62, today=300568.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.575318+05:30", "timestamp": 1755775101.575318}}}
{"text": "2025-08-21 16:48:21.576 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -613018.88, day: -613018.88\n", "record": {"elapsed": {"repr": "0:00:28.985887", "seconds": 28.985887}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -613018.88, day: -613018.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.576252+05:30", "timestamp": 1755775101.576252}}}
{"text": "2025-08-21 16:48:21.577 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:28.986993", "seconds": 28.986993}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.577358+05:30", "timestamp": 1755775101.577358}}}
{"text": "2025-08-21 16:48:21.578 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:28.988304", "seconds": 28.988304}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.578669+05:30", "timestamp": 1755775101.578669}}}
{"text": "2025-08-21 16:48:21.579 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:28.989443", "seconds": 28.989443}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.579808+05:30", "timestamp": 1755775101.579808}}}
{"text": "2025-08-21 16:48:21.580 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:28.990531", "seconds": 28.990531}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.580896+05:30", "timestamp": 1755775101.580896}}}
{"text": "2025-08-21 16:48:21.581 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:21.571226+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:28.991421", "seconds": 28.991421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:21.571226+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.581786+05:30", "timestamp": 1755775101.581786}}}
{"text": "2025-08-21 16:48:21.583 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-613018.88, day=-613018.88, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1336.39, unrealized=1290542.61, today_pnl=1290542.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1688.94, unrealized=-1491907.47, today_pnl=-1491907.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=569.05, unrealized=-1182351.99, today_pnl=-1182351.99), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1359.74, unrealized=470129.35, today_pnl=470129.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1731.21, unrealized=300568.62, today_pnl=300568.62)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 21, 571226, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:28.993269", "seconds": 28.993269}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-613018.88, day=-613018.88, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1336.39, unrealized=1290542.61, today_pnl=1290542.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1688.94, unrealized=-1491907.47, today_pnl=-1491907.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=569.05, unrealized=-1182351.99, today_pnl=-1182351.99), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1359.74, unrealized=470129.35, today_pnl=470129.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1731.21, unrealized=300568.62, today_pnl=300568.62)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 21, 571226, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.583634+05:30", "timestamp": 1755775101.583634}}}
{"text": "2025-08-21 16:48:21.585 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-613018.88, day=-613018.88, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1336.39, unrealized=1290542.61, today_pnl=1290542.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1688.94, unrealized=-1491907.47, today_pnl=-1491907.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=569.05, unrealized=-1182351.99, today_pnl=-1182351.99), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1359.74, unrealized=470129.35, today_pnl=470129.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1731.21, unrealized=300568.62, today_pnl=300568.62)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 21, 571226, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:28.995030", "seconds": 28.99503}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-613018.88, day=-613018.88, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1336.39, unrealized=1290542.61, today_pnl=1290542.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1688.94, unrealized=-1491907.47, today_pnl=-1491907.47), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=569.05, unrealized=-1182351.99, today_pnl=-1182351.99), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1359.74, unrealized=470129.35, today_pnl=470129.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1731.21, unrealized=300568.62, today_pnl=300568.62)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 21, 571226, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.585395+05:30", "timestamp": 1755775101.585395}}}
{"text": "2025-08-21 16:48:21.587 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-613018.88\n", "record": {"elapsed": {"repr": "0:00:28.997106", "seconds": 28.997106}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-613018.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.587471+05:30", "timestamp": 1755775101.587471}}}
{"text": "2025-08-21 16:48:21.588 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:28.998622", "seconds": 28.998622}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:21.588987+05:30", "timestamp": 1755775101.588987}}}
{"text": "2025-08-21 16:48:22.911 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.320678", "seconds": 30.320678}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:22.911043+05:30", "timestamp": 1755775102.911043}}}
{"text": "2025-08-21 16:48:22.912 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.322037", "seconds": 30.322037}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:22.912402+05:30", "timestamp": 1755775102.912402}}}
{"text": "2025-08-21 16:48:22.913 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.323308", "seconds": 30.323308}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:22.913673+05:30", "timestamp": 1755775102.913673}}}
{"text": "2025-08-21 16:48:22.914 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.323995", "seconds": 30.323995}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:22.914360+05:30", "timestamp": 1755775102.91436}}}
{"text": "2025-08-21 16:48:22.915 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.324883", "seconds": 30.324883}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:22.915248+05:30", "timestamp": 1755775102.915248}}}
{"text": "2025-08-21 16:48:22.916 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.326007", "seconds": 30.326007}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:22.916372+05:30", "timestamp": 1755775102.916372}}}
{"text": "2025-08-21 16:48:22.917 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.327011", "seconds": 30.327011}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:22.917376+05:30", "timestamp": 1755775102.917376}}}
{"text": "2025-08-21 16:48:22.919 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.328842", "seconds": 30.328842}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:22.919207+05:30", "timestamp": 1755775102.919207}}}
{"text": "2025-08-21 16:48:22.920 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.329859", "seconds": 30.329859}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:22.920224+05:30", "timestamp": 1755775102.920224}}}
{"text": "2025-08-21 16:48:22.921 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.330734", "seconds": 30.330734}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:22.921099+05:30", "timestamp": 1755775102.921099}}}
{"text": "2025-08-21 16:48:23.286 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:30.695873", "seconds": 30.695873}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:23.286238+05:30", "timestamp": 1755775103.286238}}}
{"text": "2025-08-21 16:48:24.922 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.332044", "seconds": 32.332044}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:24.922409+05:30", "timestamp": 1755775104.922409}}}
{"text": "2025-08-21 16:48:24.923 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.333267", "seconds": 32.333267}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:24.923632+05:30", "timestamp": 1755775104.923632}}}
{"text": "2025-08-21 16:48:24.924 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.334498", "seconds": 32.334498}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:24.924863+05:30", "timestamp": 1755775104.924863}}}
{"text": "2025-08-21 16:48:24.925 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.335574", "seconds": 32.335574}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:24.925939+05:30", "timestamp": 1755775104.925939}}}
{"text": "2025-08-21 16:48:24.926 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.336616", "seconds": 32.336616}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:24.926981+05:30", "timestamp": 1755775104.926981}}}
{"text": "2025-08-21 16:48:24.927 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.337572", "seconds": 32.337572}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:24.927937+05:30", "timestamp": 1755775104.927937}}}
{"text": "2025-08-21 16:48:24.929 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.338839", "seconds": 32.338839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:24.929204+05:30", "timestamp": 1755775104.929204}}}
{"text": "2025-08-21 16:48:24.930 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.339835", "seconds": 32.339835}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:24.930200+05:30", "timestamp": 1755775104.9302}}}
{"text": "2025-08-21 16:48:24.931 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.340935", "seconds": 32.340935}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:24.931300+05:30", "timestamp": 1755775104.9313}}}
{"text": "2025-08-21 16:48:24.932 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.342103", "seconds": 32.342103}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:24.932468+05:30", "timestamp": 1755775104.932468}}}
{"text": "2025-08-21 16:48:26.934 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.344103", "seconds": 34.344103}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:26.934468+05:30", "timestamp": 1755775106.934468}}}
{"text": "2025-08-21 16:48:26.936 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.346418", "seconds": 34.346418}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:26.936783+05:30", "timestamp": 1755775106.936783}}}
{"text": "2025-08-21 16:48:26.937 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.347542", "seconds": 34.347542}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:26.937907+05:30", "timestamp": 1755775106.937907}}}
{"text": "2025-08-21 16:48:26.938 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.348548", "seconds": 34.348548}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:26.938913+05:30", "timestamp": 1755775106.938913}}}
{"text": "2025-08-21 16:48:26.939 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.349547", "seconds": 34.349547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:26.939912+05:30", "timestamp": 1755775106.939912}}}
{"text": "2025-08-21 16:48:26.941 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.351051", "seconds": 34.351051}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:26.941416+05:30", "timestamp": 1755775106.941416}}}
{"text": "2025-08-21 16:48:26.943 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.353521", "seconds": 34.353521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:26.943886+05:30", "timestamp": 1755775106.943886}}}
{"text": "2025-08-21 16:48:26.945 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.355127", "seconds": 34.355127}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:26.945492+05:30", "timestamp": 1755775106.945492}}}
{"text": "2025-08-21 16:48:26.946 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.356187", "seconds": 34.356187}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:26.946552+05:30", "timestamp": 1755775106.946552}}}
{"text": "2025-08-21 16:48:26.947 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.357306", "seconds": 34.357306}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:26.947671+05:30", "timestamp": 1755775106.947671}}}
{"text": "2025-08-21 16:48:28.226 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:35.636033", "seconds": 35.636033}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.226398+05:30", "timestamp": 1755775108.226398}}}
{"text": "2025-08-21 16:48:28.228 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:35.637857", "seconds": 35.637857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.228222+05:30", "timestamp": 1755775108.228222}}}
{"text": "2025-08-21 16:48:28.231 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1384048.6, today=1384048.6\n", "record": {"elapsed": {"repr": "0:00:35.640773", "seconds": 35.640773}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1384048.6, today=1384048.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.231138+05:30", "timestamp": 1755775108.231138}}}
{"text": "2025-08-21 16:48:28.234 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-1527600.86, today=-1527600.86\n", "record": {"elapsed": {"repr": "0:00:35.643918", "seconds": 35.643918}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-1527600.86, today=-1527600.86", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.234283+05:30", "timestamp": 1755775108.234283}}}
{"text": "2025-08-21 16:48:28.236 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1161774.0, today=-1161774.0\n", "record": {"elapsed": {"repr": "0:00:35.646075", "seconds": 35.646075}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1161774.0, today=-1161774.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.236440+05:30", "timestamp": 1755775108.23644}}}
{"text": "2025-08-21 16:48:28.238 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=416542.77, today=416542.77\n", "record": {"elapsed": {"repr": "0:00:35.647958", "seconds": 35.647958}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=416542.77, today=416542.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.238323+05:30", "timestamp": 1755775108.238323}}}
{"text": "2025-08-21 16:48:28.240 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=326757.5, today=326757.5\n", "record": {"elapsed": {"repr": "0:00:35.650069", "seconds": 35.650069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=326757.5, today=326757.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.240434+05:30", "timestamp": 1755775108.240434}}}
{"text": "2025-08-21 16:48:28.242 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -562025.99, day: -562025.99\n", "record": {"elapsed": {"repr": "0:00:35.652210", "seconds": 35.65221}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -562025.99, day: -562025.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.242575+05:30", "timestamp": 1755775108.242575}}}
{"text": "2025-08-21 16:48:28.245 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:35.654896", "seconds": 35.654896}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.245261+05:30", "timestamp": 1755775108.245261}}}
{"text": "2025-08-21 16:48:28.248 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:35.657866", "seconds": 35.657866}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.248231+05:30", "timestamp": 1755775108.248231}}}
{"text": "2025-08-21 16:48:28.250 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:35.659652", "seconds": 35.659652}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.250017+05:30", "timestamp": 1755775108.250017}}}
{"text": "2025-08-21 16:48:28.252 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:35.662073", "seconds": 35.662073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.252438+05:30", "timestamp": 1755775108.252438}}}
{"text": "2025-08-21 16:48:28.254 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:28.230872+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:35.664044", "seconds": 35.664044}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:28.230872+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.254409+05:30", "timestamp": 1755775108.254409}}}
{"text": "2025-08-21 16:48:28.257 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-562025.99, day=-562025.99, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1383.45, unrealized=1384048.6, today_pnl=1384048.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1722.33, unrealized=-1527600.86, today_pnl=-1527600.86), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=588.71, unrealized=-1161774.0, today_pnl=-1161774.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1396.7, unrealized=416542.77, today_pnl=416542.77), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1765.4, unrealized=326757.5, today_pnl=326757.5)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 28, 230872, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:35.667609", "seconds": 35.667609}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-562025.99, day=-562025.99, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1383.45, unrealized=1384048.6, today_pnl=1384048.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1722.33, unrealized=-1527600.86, today_pnl=-1527600.86), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=588.71, unrealized=-1161774.0, today_pnl=-1161774.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1396.7, unrealized=416542.77, today_pnl=416542.77), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1765.4, unrealized=326757.5, today_pnl=326757.5)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 28, 230872, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.257974+05:30", "timestamp": 1755775108.257974}}}
{"text": "2025-08-21 16:48:28.261 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-562025.99, day=-562025.99, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1383.45, unrealized=1384048.6, today_pnl=1384048.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1722.33, unrealized=-1527600.86, today_pnl=-1527600.86), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=588.71, unrealized=-1161774.0, today_pnl=-1161774.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1396.7, unrealized=416542.77, today_pnl=416542.77), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1765.4, unrealized=326757.5, today_pnl=326757.5)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 28, 230872, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:35.671324", "seconds": 35.671324}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-562025.99, day=-562025.99, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1383.45, unrealized=1384048.6, today_pnl=1384048.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1722.33, unrealized=-1527600.86, today_pnl=-1527600.86), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=588.71, unrealized=-1161774.0, today_pnl=-1161774.0), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1396.7, unrealized=416542.77, today_pnl=416542.77), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1765.4, unrealized=326757.5, today_pnl=326757.5)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 28, 230872, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.261689+05:30", "timestamp": 1755775108.261689}}}
{"text": "2025-08-21 16:48:28.267 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-562025.99\n", "record": {"elapsed": {"repr": "0:00:35.677626", "seconds": 35.677626}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-562025.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.267991+05:30", "timestamp": 1755775108.267991}}}
{"text": "2025-08-21 16:48:28.270 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:35.680584", "seconds": 35.680584}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:28.270949+05:30", "timestamp": 1755775108.270949}}}
{"text": "2025-08-21 16:48:28.949 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.359155", "seconds": 36.359155}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:28.949520+05:30", "timestamp": 1755775108.94952}}}
{"text": "2025-08-21 16:48:28.951 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.361158", "seconds": 36.361158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:28.951523+05:30", "timestamp": 1755775108.951523}}}
{"text": "2025-08-21 16:48:28.952 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.362150", "seconds": 36.36215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:28.952515+05:30", "timestamp": 1755775108.952515}}}
{"text": "2025-08-21 16:48:28.954 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.363759", "seconds": 36.363759}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:28.954124+05:30", "timestamp": 1755775108.954124}}}
{"text": "2025-08-21 16:48:28.955 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.365366", "seconds": 36.365366}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:28.955731+05:30", "timestamp": 1755775108.955731}}}
{"text": "2025-08-21 16:48:28.958 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.368627", "seconds": 36.368627}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:28.958992+05:30", "timestamp": 1755775108.958992}}}
{"text": "2025-08-21 16:48:28.960 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.370071", "seconds": 36.370071}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:28.960436+05:30", "timestamp": 1755775108.960436}}}
{"text": "2025-08-21 16:48:28.961 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.371616", "seconds": 36.371616}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:28.961981+05:30", "timestamp": 1755775108.961981}}}
{"text": "2025-08-21 16:48:28.963 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.373177", "seconds": 36.373177}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:28.963542+05:30", "timestamp": 1755775108.963542}}}
{"text": "2025-08-21 16:48:28.965 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.374667", "seconds": 36.374667}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:28.965032+05:30", "timestamp": 1755775108.965032}}}
{"text": "2025-08-21 16:48:30.269 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:37.679293", "seconds": 37.679293}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:30.269658+05:30", "timestamp": 1755775110.269658}}}
{"text": "2025-08-21 16:48:30.967 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.377029", "seconds": 38.377029}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:30.967394+05:30", "timestamp": 1755775110.967394}}}
{"text": "2025-08-21 16:48:30.969 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.378889", "seconds": 38.378889}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:30.969254+05:30", "timestamp": 1755775110.969254}}}
{"text": "2025-08-21 16:48:30.970 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.379932", "seconds": 38.379932}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:30.970297+05:30", "timestamp": 1755775110.970297}}}
{"text": "2025-08-21 16:48:30.971 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.381361", "seconds": 38.381361}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:30.971726+05:30", "timestamp": 1755775110.971726}}}
{"text": "2025-08-21 16:48:30.973 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.382980", "seconds": 38.38298}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:30.973345+05:30", "timestamp": 1755775110.973345}}}
{"text": "2025-08-21 16:48:30.975 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.385012", "seconds": 38.385012}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:30.975377+05:30", "timestamp": 1755775110.975377}}}
{"text": "2025-08-21 16:48:30.977 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.386821", "seconds": 38.386821}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:30.977186+05:30", "timestamp": 1755775110.977186}}}
{"text": "2025-08-21 16:48:30.978 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.388588", "seconds": 38.388588}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:30.978953+05:30", "timestamp": 1755775110.978953}}}
{"text": "2025-08-21 16:48:30.981 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.390754", "seconds": 38.390754}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:30.981119+05:30", "timestamp": 1755775110.981119}}}
{"text": "2025-08-21 16:48:30.984 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.393733", "seconds": 38.393733}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:30.984098+05:30", "timestamp": 1755775110.984098}}}
{"text": "2025-08-21 16:48:32.985 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.395607", "seconds": 40.395607}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:32.985972+05:30", "timestamp": 1755775112.985972}}}
{"text": "2025-08-21 16:48:32.987 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.397378", "seconds": 40.397378}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:32.987743+05:30", "timestamp": 1755775112.987743}}}
{"text": "2025-08-21 16:48:32.989 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.398980", "seconds": 40.39898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:32.989345+05:30", "timestamp": 1755775112.989345}}}
{"text": "2025-08-21 16:48:32.990 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.400622", "seconds": 40.400622}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:32.990987+05:30", "timestamp": 1755775112.990987}}}
{"text": "2025-08-21 16:48:32.992 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.402089", "seconds": 40.402089}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:32.992454+05:30", "timestamp": 1755775112.992454}}}
{"text": "2025-08-21 16:48:32.994 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.404302", "seconds": 40.404302}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:32.994667+05:30", "timestamp": 1755775112.994667}}}
{"text": "2025-08-21 16:48:32.995 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.405387", "seconds": 40.405387}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:32.995752+05:30", "timestamp": 1755775112.995752}}}
{"text": "2025-08-21 16:48:32.996 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.406511", "seconds": 40.406511}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:32.996876+05:30", "timestamp": 1755775112.996876}}}
{"text": "2025-08-21 16:48:32.998 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.408025", "seconds": 40.408025}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:32.998390+05:30", "timestamp": 1755775112.99839}}}
{"text": "2025-08-21 16:48:32.999 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.409247", "seconds": 40.409247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:32.999612+05:30", "timestamp": 1755775112.999612}}}
{"text": "2025-08-21 16:48:35.001 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.411294", "seconds": 42.411294}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:35.001659+05:30", "timestamp": 1755775115.001659}}}
{"text": "2025-08-21 16:48:35.003 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.413057", "seconds": 42.413057}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:35.003422+05:30", "timestamp": 1755775115.003422}}}
{"text": "2025-08-21 16:48:35.004 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.414146", "seconds": 42.414146}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:35.004511+05:30", "timestamp": 1755775115.004511}}}
{"text": "2025-08-21 16:48:35.005 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.415287", "seconds": 42.415287}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:35.005652+05:30", "timestamp": 1755775115.005652}}}
{"text": "2025-08-21 16:48:35.007 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.416733", "seconds": 42.416733}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:35.007098+05:30", "timestamp": 1755775115.007098}}}
{"text": "2025-08-21 16:48:35.008 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.417988", "seconds": 42.417988}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:35.008353+05:30", "timestamp": 1755775115.008353}}}
{"text": "2025-08-21 16:48:35.009 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.418870", "seconds": 42.41887}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:35.009235+05:30", "timestamp": 1755775115.009235}}}
{"text": "2025-08-21 16:48:35.010 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.419978", "seconds": 42.419978}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:35.010343+05:30", "timestamp": 1755775115.010343}}}
{"text": "2025-08-21 16:48:35.012 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.421952", "seconds": 42.421952}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:35.012317+05:30", "timestamp": 1755775115.012317}}}
{"text": "2025-08-21 16:48:35.013 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.423634", "seconds": 42.423634}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:35.013999+05:30", "timestamp": 1755775115.013999}}}
{"text": "2025-08-21 16:48:35.245 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:42.654710", "seconds": 42.65471}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.245075+05:30", "timestamp": 1755775115.245075}}}
{"text": "2025-08-21 16:48:35.247 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:42.657365", "seconds": 42.657365}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.247730+05:30", "timestamp": 1755775115.24773}}}
{"text": "2025-08-21 16:48:35.249 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1311424.97, today=1311424.97\n", "record": {"elapsed": {"repr": "0:00:42.658721", "seconds": 42.658721}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1311424.97, today=1311424.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.249086+05:30", "timestamp": 1755775115.249086}}}
{"text": "2025-08-21 16:48:35.250 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-1540294.39, today=-1540294.39\n", "record": {"elapsed": {"repr": "0:00:42.659798", "seconds": 42.659798}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-1540294.39, today=-1540294.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.250163+05:30", "timestamp": 1755775115.250163}}}
{"text": "2025-08-21 16:48:35.251 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1160866.18, today=-1160866.18\n", "record": {"elapsed": {"repr": "0:00:42.660740", "seconds": 42.66074}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1160866.18, today=-1160866.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.251105+05:30", "timestamp": 1755775115.251105}}}
{"text": "2025-08-21 16:48:35.252 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=384604.24, today=384604.24\n", "record": {"elapsed": {"repr": "0:00:42.661737", "seconds": 42.661737}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=384604.24, today=384604.24", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.252102+05:30", "timestamp": 1755775115.252102}}}
{"text": "2025-08-21 16:48:35.253 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=347334.51, today=347334.51\n", "record": {"elapsed": {"repr": "0:00:42.663184", "seconds": 42.663184}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=347334.51, today=347334.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.253549+05:30", "timestamp": 1755775115.253549}}}
{"text": "2025-08-21 16:48:35.254 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -657796.85, day: -657796.85\n", "record": {"elapsed": {"repr": "0:00:42.664630", "seconds": 42.66463}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -657796.85, day: -657796.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.254995+05:30", "timestamp": 1755775115.254995}}}
{"text": "2025-08-21 16:48:35.256 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:42.666567", "seconds": 42.666567}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.256932+05:30", "timestamp": 1755775115.256932}}}
{"text": "2025-08-21 16:48:35.258 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:42.667729", "seconds": 42.667729}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.258094+05:30", "timestamp": 1755775115.258094}}}
{"text": "2025-08-21 16:48:35.259 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:42.668728", "seconds": 42.668728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.259093+05:30", "timestamp": 1755775115.259093}}}
{"text": "2025-08-21 16:48:35.259 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:42.669537", "seconds": 42.669537}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.259902+05:30", "timestamp": 1755775115.259902}}}
{"text": "2025-08-21 16:48:35.260 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:35.248912+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:42.670568", "seconds": 42.670568}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:35.248912+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.260933+05:30", "timestamp": 1755775115.260933}}}
{"text": "2025-08-21 16:48:35.263 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-657796.85, day=-657796.85, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1346.9, unrealized=1311424.97, today_pnl=1311424.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1734.2, unrealized=-1540294.39, today_pnl=-1540294.39), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=589.58, unrealized=-1160866.18, today_pnl=-1160866.18), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1418.73, unrealized=384604.24, today_pnl=384604.24), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1792.26, unrealized=347334.51, today_pnl=347334.51)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 35, 248912, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:42.673092", "seconds": 42.673092}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-657796.85, day=-657796.85, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1346.9, unrealized=1311424.97, today_pnl=1311424.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1734.2, unrealized=-1540294.39, today_pnl=-1540294.39), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=589.58, unrealized=-1160866.18, today_pnl=-1160866.18), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1418.73, unrealized=384604.24, today_pnl=384604.24), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1792.26, unrealized=347334.51, today_pnl=347334.51)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 35, 248912, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.263457+05:30", "timestamp": 1755775115.263457}}}
{"text": "2025-08-21 16:48:35.266 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-657796.85, day=-657796.85, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1346.9, unrealized=1311424.97, today_pnl=1311424.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1734.2, unrealized=-1540294.39, today_pnl=-1540294.39), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=589.58, unrealized=-1160866.18, today_pnl=-1160866.18), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1418.73, unrealized=384604.24, today_pnl=384604.24), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1792.26, unrealized=347334.51, today_pnl=347334.51)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 35, 248912, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:42.675639", "seconds": 42.675639}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-657796.85, day=-657796.85, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1346.9, unrealized=1311424.97, today_pnl=1311424.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1734.2, unrealized=-1540294.39, today_pnl=-1540294.39), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=589.58, unrealized=-1160866.18, today_pnl=-1160866.18), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1418.73, unrealized=384604.24, today_pnl=384604.24), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1792.26, unrealized=347334.51, today_pnl=347334.51)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 35, 248912, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.266004+05:30", "timestamp": 1755775115.266004}}}
{"text": "2025-08-21 16:48:35.267 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-657796.85\n", "record": {"elapsed": {"repr": "0:00:42.677073", "seconds": 42.677073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-657796.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.267438+05:30", "timestamp": 1755775115.267438}}}
{"text": "2025-08-21 16:48:35.268 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:42.678180", "seconds": 42.67818}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:35.268545+05:30", "timestamp": 1755775115.268545}}}
{"text": "2025-08-21 16:48:37.015 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.425357", "seconds": 44.425357}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:37.015722+05:30", "timestamp": 1755775117.015722}}}
{"text": "2025-08-21 16:48:37.018 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.428076", "seconds": 44.428076}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:37.018441+05:30", "timestamp": 1755775117.018441}}}
{"text": "2025-08-21 16:48:37.020 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.430034", "seconds": 44.430034}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:37.020399+05:30", "timestamp": 1755775117.020399}}}
{"text": "2025-08-21 16:48:37.021 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.431596", "seconds": 44.431596}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:37.021961+05:30", "timestamp": 1755775117.021961}}}
{"text": "2025-08-21 16:48:37.023 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.432881", "seconds": 44.432881}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:37.023246+05:30", "timestamp": 1755775117.023246}}}
{"text": "2025-08-21 16:48:37.024 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.434260", "seconds": 44.43426}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:37.024625+05:30", "timestamp": 1755775117.024625}}}
{"text": "2025-08-21 16:48:37.026 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.435948", "seconds": 44.435948}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:37.026313+05:30", "timestamp": 1755775117.026313}}}
{"text": "2025-08-21 16:48:37.028 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.437698", "seconds": 44.437698}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:37.028063+05:30", "timestamp": 1755775117.028063}}}
{"text": "2025-08-21 16:48:37.029 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.438974", "seconds": 44.438974}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:37.029339+05:30", "timestamp": 1755775117.029339}}}
{"text": "2025-08-21 16:48:37.030 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.440541", "seconds": 44.440541}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:37.030906+05:30", "timestamp": 1755775117.030906}}}
{"text": "2025-08-21 16:48:37.243 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:44.653457", "seconds": 44.653457}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:37.243822+05:30", "timestamp": 1755775117.243822}}}
{"text": "2025-08-21 16:48:37.954 | DEBUG    | app.ws.live:emit_delta:375 - Emitted trades delta: seq=4\n", "record": {"elapsed": {"repr": "0:00:45.364022", "seconds": 45.364022}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted trades delta: seq=4", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:37.954387+05:30", "timestamp": 1755775117.954387}}}
{"text": "2025-08-21 16:48:39.032 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.442453", "seconds": 46.442453}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:39.032818+05:30", "timestamp": 1755775119.032818}}}
{"text": "2025-08-21 16:48:39.034 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.444266", "seconds": 46.444266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:39.034631+05:30", "timestamp": 1755775119.034631}}}
{"text": "2025-08-21 16:48:39.035 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.445266", "seconds": 46.445266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:39.035631+05:30", "timestamp": 1755775119.035631}}}
{"text": "2025-08-21 16:48:39.037 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.446868", "seconds": 46.446868}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:39.037233+05:30", "timestamp": 1755775119.037233}}}
{"text": "2025-08-21 16:48:39.038 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.447965", "seconds": 46.447965}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:39.038330+05:30", "timestamp": 1755775119.03833}}}
{"text": "2025-08-21 16:48:39.039 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.449268", "seconds": 46.449268}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:39.039633+05:30", "timestamp": 1755775119.039633}}}
{"text": "2025-08-21 16:48:39.040 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.450549", "seconds": 46.450549}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:39.040914+05:30", "timestamp": 1755775119.040914}}}
{"text": "2025-08-21 16:48:39.041 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.451434", "seconds": 46.451434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:39.041799+05:30", "timestamp": 1755775119.041799}}}
{"text": "2025-08-21 16:48:39.043 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.452797", "seconds": 46.452797}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:39.043162+05:30", "timestamp": 1755775119.043162}}}
{"text": "2025-08-21 16:48:39.044 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.454040", "seconds": 46.45404}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:39.044405+05:30", "timestamp": 1755775119.044405}}}
{"text": "2025-08-21 16:48:41.046 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.455856", "seconds": 48.455856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:41.046221+05:30", "timestamp": 1755775121.046221}}}
{"text": "2025-08-21 16:48:41.047 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.457049", "seconds": 48.457049}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:41.047414+05:30", "timestamp": 1755775121.047414}}}
{"text": "2025-08-21 16:48:41.048 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.457890", "seconds": 48.45789}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:41.048255+05:30", "timestamp": 1755775121.048255}}}
{"text": "2025-08-21 16:48:41.049 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.459091", "seconds": 48.459091}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:41.049456+05:30", "timestamp": 1755775121.049456}}}
{"text": "2025-08-21 16:48:41.050 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.460632", "seconds": 48.460632}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:41.050997+05:30", "timestamp": 1755775121.050997}}}
{"text": "2025-08-21 16:48:41.052 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.461955", "seconds": 48.461955}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:41.052320+05:30", "timestamp": 1755775121.05232}}}
{"text": "2025-08-21 16:48:41.054 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.463930", "seconds": 48.46393}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:41.054295+05:30", "timestamp": 1755775121.054295}}}
{"text": "2025-08-21 16:48:41.055 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.465439", "seconds": 48.465439}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:41.055804+05:30", "timestamp": 1755775121.055804}}}
{"text": "2025-08-21 16:48:41.057 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.467242", "seconds": 48.467242}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:41.057607+05:30", "timestamp": 1755775121.057607}}}
{"text": "2025-08-21 16:48:41.058 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.468345", "seconds": 48.468345}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:41.058710+05:30", "timestamp": 1755775121.05871}}}
{"text": "2025-08-21 16:48:42.248 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:49.657852", "seconds": 49.657852}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.248217+05:30", "timestamp": 1755775122.248217}}}
{"text": "2025-08-21 16:48:42.249 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:49.659421", "seconds": 49.659421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.249786+05:30", "timestamp": 1755775122.249786}}}
{"text": "2025-08-21 16:48:42.251 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=1449831.54, today=1449831.54\n", "record": {"elapsed": {"repr": "0:00:49.660723", "seconds": 49.660723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=1449831.54, today=1449831.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.251088+05:30", "timestamp": 1755775122.251088}}}
{"text": "2025-08-21 16:48:42.252 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-1562320.98, today=-1562320.98\n", "record": {"elapsed": {"repr": "0:00:49.662315", "seconds": 49.662315}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-1562320.98, today=-1562320.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.252680+05:30", "timestamp": 1755775122.25268}}}
{"text": "2025-08-21 16:48:42.253 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1141926.68, today=-1141926.68\n", "record": {"elapsed": {"repr": "0:00:49.663550", "seconds": 49.66355}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1141926.68, today=-1141926.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.253915+05:30", "timestamp": 1755775122.253915}}}
{"text": "2025-08-21 16:48:42.254 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=398193.39, today=398193.39\n", "record": {"elapsed": {"repr": "0:00:49.664417", "seconds": 49.664417}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=398193.39, today=398193.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.254782+05:30", "timestamp": 1755775122.254782}}}
{"text": "2025-08-21 16:48:42.255 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=336202.8, today=336202.8\n", "record": {"elapsed": {"repr": "0:00:49.665470", "seconds": 49.66547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=336202.8, today=336202.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.255835+05:30", "timestamp": 1755775122.255835}}}
{"text": "2025-08-21 16:48:42.256 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -520019.93, day: -520019.93\n", "record": {"elapsed": {"repr": "0:00:49.666590", "seconds": 49.66659}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -520019.93, day: -520019.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.256955+05:30", "timestamp": 1755775122.256955}}}
{"text": "2025-08-21 16:48:42.258 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:49.668399", "seconds": 49.668399}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.258764+05:30", "timestamp": 1755775122.258764}}}
{"text": "2025-08-21 16:48:42.259 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:49.669497", "seconds": 49.669497}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.259862+05:30", "timestamp": 1755775122.259862}}}
{"text": "2025-08-21 16:48:42.260 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:49.670544", "seconds": 49.670544}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.260909+05:30", "timestamp": 1755775122.260909}}}
{"text": "2025-08-21 16:48:42.262 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:49.672031", "seconds": 49.672031}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.262396+05:30", "timestamp": 1755775122.262396}}}
{"text": "2025-08-21 16:48:42.263 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:42.250937+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:49.673016", "seconds": 49.673016}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 16:48:42.250937+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.263381+05:30", "timestamp": 1755775122.263381}}}
{"text": "2025-08-21 16:48:42.265 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-520019.93, day=-520019.93, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1416.56, unrealized=1449831.54, today_pnl=1449831.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1754.81, unrealized=-1562320.98, today_pnl=-1562320.98), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=607.66, unrealized=-1141926.68, today_pnl=-1141926.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1409.35, unrealized=398193.39, today_pnl=398193.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1777.73, unrealized=336202.8, today_pnl=336202.8)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 42, 250937, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:49.674756", "seconds": 49.674756}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-520019.93, day=-520019.93, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1416.56, unrealized=1449831.54, today_pnl=1449831.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1754.81, unrealized=-1562320.98, today_pnl=-1562320.98), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=607.66, unrealized=-1141926.68, today_pnl=-1141926.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1409.35, unrealized=398193.39, today_pnl=398193.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1777.73, unrealized=336202.8, today_pnl=336202.8)] updated_at=datetime.datetime(2025, 8, 21, 16, 48, 42, 250937, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.265121+05:30", "timestamp": 1755775122.265121}}}
{"text": "2025-08-21 16:48:42.267 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-520019.93, day=-520019.93, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1416.56, unrealized=1449831.54, today_pnl=1449831.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1754.81, unrealized=-1562320.98, today_pnl=-1562320.98), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=607.66, unrealized=-1141926.68, today_pnl=-1141926.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1409.35, unrealized=398193.39, today_pnl=398193.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1777.73, unrealized=336202.8, today_pnl=336202.8)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 42, 250937, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:49.677227", "seconds": 49.677227}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-520019.93, day=-520019.93, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1987, avg=686.9, ltp=1416.56, unrealized=1449831.54, today_pnl=1449831.54), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1069, avg=293.33, ltp=1754.81, unrealized=-1562320.98, today_pnl=-1562320.98), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1047, avg=1698.33, ltp=607.66, unrealized=-1141926.68, today_pnl=-1141926.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1450, avg=1683.97, ltp=1409.35, unrealized=398193.39, today_pnl=398193.39), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=766, avg=1338.82, ltp=1777.73, unrealized=336202.8, today_pnl=336202.8)], 'updated_at': datetime.datetime(2025, 8, 21, 16, 48, 42, 250937, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.267592+05:30", "timestamp": 1755775122.267592}}}
{"text": "2025-08-21 16:48:42.269 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-520019.93\n", "record": {"elapsed": {"repr": "0:00:49.679461", "seconds": 49.679461}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-520019.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.269826+05:30", "timestamp": 1755775122.269826}}}
{"text": "2025-08-21 16:48:42.271 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:49.681223", "seconds": 49.681223}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:42.271588+05:30", "timestamp": 1755775122.271588}}}
{"text": "2025-08-21 16:48:43.061 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.470862", "seconds": 50.470862}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:43.061227+05:30", "timestamp": 1755775123.061227}}}
{"text": "2025-08-21 16:48:43.062 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.472043", "seconds": 50.472043}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:43.062408+05:30", "timestamp": 1755775123.062408}}}
{"text": "2025-08-21 16:48:43.063 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.473019", "seconds": 50.473019}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:43.063384+05:30", "timestamp": 1755775123.063384}}}
{"text": "2025-08-21 16:48:43.065 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.474783", "seconds": 50.474783}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:43.065148+05:30", "timestamp": 1755775123.065148}}}
{"text": "2025-08-21 16:48:43.066 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.475847", "seconds": 50.475847}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:43.066212+05:30", "timestamp": 1755775123.066212}}}
{"text": "2025-08-21 16:48:43.067 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.477592", "seconds": 50.477592}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:43.067957+05:30", "timestamp": 1755775123.067957}}}
{"text": "2025-08-21 16:48:43.070 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.479646", "seconds": 50.479646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:43.070011+05:30", "timestamp": 1755775123.070011}}}
{"text": "2025-08-21 16:48:43.070 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.480568", "seconds": 50.480568}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:43.070933+05:30", "timestamp": 1755775123.070933}}}
{"text": "2025-08-21 16:48:43.071 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.481470", "seconds": 50.48147}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:43.071835+05:30", "timestamp": 1755775123.071835}}}
{"text": "2025-08-21 16:48:43.072 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.482328", "seconds": 50.482328}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 6580, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 16:48:43.072693+05:30", "timestamp": 1755775123.072693}}}
{"text": "2025-08-21 16:48:43.275 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.HOLDINGS: 'Holding' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:50.684958", "seconds": 50.684958}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.HOLDINGS: 'Holding' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:43.275323+05:30", "timestamp": 1755775123.275323}}}
{"text": "2025-08-21 16:48:43.556 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:50.966527", "seconds": 50.966527}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:43.556892+05:30", "timestamp": 1755775123.556892}}}
{"text": "2025-08-21 16:48:43.558 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:50.968431", "seconds": 50.968431}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:43.558796+05:30", "timestamp": 1755775123.558796}}}
{"text": "2025-08-21 16:48:43.559 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:50.969365", "seconds": 50.969365}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 6928, "name": "MainProcess"}, "thread": {"id": 25416, "name": "MainThread"}, "time": {"repr": "2025-08-21 16:48:43.559730+05:30", "timestamp": 1755775123.55973}}}
{"text": "2025-08-21 17:12:45.767 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.148867", "seconds": 0.148867}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.767888+05:30", "timestamp": 1755776565.767888}}}
{"text": "2025-08-21 17:12:45.770 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=3394, avg_price=1284.6139517654744, ltp=1228.6447280788134\n", "record": {"elapsed": {"repr": "0:00:00.151780", "seconds": 0.15178}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=3394, avg_price=1284.6139517654744, ltp=1228.6447280788134", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.770801+05:30", "timestamp": 1755776565.770801}}}
{"text": "2025-08-21 17:12:45.772 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=1595, avg_price=1442.2364931770765, ltp=1716.0584520885889\n", "record": {"elapsed": {"repr": "0:00:00.153909", "seconds": 0.153909}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=1595, avg_price=1442.2364931770765, ltp=1716.0584520885889", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.772930+05:30", "timestamp": 1755776565.77293}}}
{"text": "2025-08-21 17:12:45.774 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=206, avg_price=532.2465710112299, ltp=456.7525894520683\n", "record": {"elapsed": {"repr": "0:00:00.155824", "seconds": 0.155824}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=206, avg_price=532.2465710112299, ltp=456.7525894520683", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.774845+05:30", "timestamp": 1755776565.774845}}}
{"text": "2025-08-21 17:12:45.776 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=3082, avg_price=1062.982403160464, ltp=1081.7213283039675\n", "record": {"elapsed": {"repr": "0:00:00.157829", "seconds": 0.157829}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=3082, avg_price=1062.982403160464, ltp=1081.7213283039675", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.776850+05:30", "timestamp": 1755776565.77685}}}
{"text": "2025-08-21 17:12:45.779 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=1732, avg_price=1482.6508095534664, ltp=1234.9607242698016\n", "record": {"elapsed": {"repr": "0:00:00.160152", "seconds": 0.160152}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=1732, avg_price=1482.6508095534664, ltp=1234.9607242698016", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.779173+05:30", "timestamp": 1755776565.779173}}}
{"text": "2025-08-21 17:12:45.780 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=3750, avg_price=860.1999375715053, ltp=884.3682014904166\n", "record": {"elapsed": {"repr": "0:00:00.161695", "seconds": 0.161695}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=3750, avg_price=860.1999375715053, ltp=884.3682014904166", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.780716+05:30", "timestamp": 1755776565.780716}}}
{"text": "2025-08-21 17:12:45.782 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=1774, avg_price=1750.7271426057857, ltp=2094.9879520056934\n", "record": {"elapsed": {"repr": "0:00:00.163183", "seconds": 0.163183}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=1774, avg_price=1750.7271426057857, ltp=2094.9879520056934", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.782204+05:30", "timestamp": 1755776565.782204}}}
{"text": "2025-08-21 17:12:45.784 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=353, avg_price=1585.3118413014213, ltp=1545.4196415027616\n", "record": {"elapsed": {"repr": "0:00:00.165099", "seconds": 0.165099}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=353, avg_price=1585.3118413014213, ltp=1545.4196415027616", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.784120+05:30", "timestamp": 1755776565.78412}}}
{"text": "2025-08-21 17:12:45.786 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=3560, avg_price=892.3699155119043, ltp=830.1628401872977\n", "record": {"elapsed": {"repr": "0:00:00.167023", "seconds": 0.167023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=3560, avg_price=892.3699155119043, ltp=830.1628401872977", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.786044+05:30", "timestamp": 1755776565.786044}}}
{"text": "2025-08-21 17:12:45.787 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=4347, avg_price=1745.8555320094058, ltp=1729.522010459415\n", "record": {"elapsed": {"repr": "0:00:00.168607", "seconds": 0.168607}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=4347, avg_price=1745.8555320094058, ltp=1729.522010459415", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.787628+05:30", "timestamp": 1755776565.787628}}}
{"text": "2025-08-21 17:12:45.789 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.170888", "seconds": 0.170888}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.789909+05:30", "timestamp": 1755776565.789909}}}
{"text": "2025-08-21 17:12:45.792 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1223, avg_price=1435.33\n", "record": {"elapsed": {"repr": "0:00:00.173173", "seconds": 0.173173}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1223, avg_price=1435.33", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.792194+05:30", "timestamp": 1755776565.792194}}}
{"text": "2025-08-21 17:12:45.794 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1193, avg_price=1299.05\n", "record": {"elapsed": {"repr": "0:00:00.175873", "seconds": 0.175873}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1193, avg_price=1299.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.794894+05:30", "timestamp": 1755776565.794894}}}
{"text": "2025-08-21 17:12:45.796 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1730, avg_price=1289.85\n", "record": {"elapsed": {"repr": "0:00:00.177035", "seconds": 0.177035}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1730, avg_price=1289.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.796056+05:30", "timestamp": 1755776565.796056}}}
{"text": "2025-08-21 17:12:45.797 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=286, avg_price=1846.99\n", "record": {"elapsed": {"repr": "0:00:00.178472", "seconds": 0.178472}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=286, avg_price=1846.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.797493+05:30", "timestamp": 1755776565.797493}}}
{"text": "2025-08-21 17:12:45.799 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=1488, avg_price=1778.06\n", "record": {"elapsed": {"repr": "0:00:00.180414", "seconds": 0.180414}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=1488, avg_price=1778.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.799435+05:30", "timestamp": 1755776565.799435}}}
{"text": "2025-08-21 17:12:45.800 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.181716", "seconds": 0.181716}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.800737+05:30", "timestamp": 1755776565.800737}}}
{"text": "2025-08-21 17:12:45.805 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.186658", "seconds": 0.186658}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.805679+05:30", "timestamp": 1755776565.805679}}}
{"text": "2025-08-21 17:12:45.809 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.190115", "seconds": 0.190115}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.809136+05:30", "timestamp": 1755776565.809136}}}
{"text": "2025-08-21 17:12:45.810 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.191645", "seconds": 0.191645}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.810666+05:30", "timestamp": 1755776565.810666}}}
{"text": "2025-08-21 17:12:45.890 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.271295", "seconds": 0.271295}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.890316+05:30", "timestamp": 1755776565.890316}}}
{"text": "2025-08-21 17:12:45.897 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.278224", "seconds": 0.278224}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.897245+05:30", "timestamp": 1755776565.897245}}}
{"text": "2025-08-21 17:12:45.899 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.280632", "seconds": 0.280632}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.899653+05:30", "timestamp": 1755776565.899653}}}
{"text": "2025-08-21 17:12:45.901 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.282094", "seconds": 0.282094}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.901115+05:30", "timestamp": 1755776565.901115}}}
{"text": "2025-08-21 17:12:45.903 | INFO     | app.ws.live:startup_event:515 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.283995", "seconds": 0.283995}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 515, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:45.903016+05:30", "timestamp": 1755776565.903016}}}
{"text": "2025-08-21 17:12:47.684 | DEBUG    | app.ws.live:emit_delta:375 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:02.065738", "seconds": 2.065738}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.684759+05:30", "timestamp": 1755776567.684759}}}
{"text": "2025-08-21 17:12:47.686 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:02.067479", "seconds": 2.067479}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.686500+05:30", "timestamp": 1755776567.6865}}}
{"text": "2025-08-21 17:12:47.688 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:02.069183", "seconds": 2.069183}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.688204+05:30", "timestamp": 1755776567.688204}}}
{"text": "2025-08-21 17:12:47.689 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-252776.09, today=-252776.09\n", "record": {"elapsed": {"repr": "0:00:02.070829", "seconds": 2.070829}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-252776.09, today=-252776.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.689850+05:30", "timestamp": 1755776567.68985}}}
{"text": "2025-08-21 17:12:47.692 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-497491.08, today=-497491.08\n", "record": {"elapsed": {"repr": "0:00:02.073118", "seconds": 2.073118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-497491.08, today=-497491.08", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.692139+05:30", "timestamp": 1755776567.692139}}}
{"text": "2025-08-21 17:12:47.694 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1441258.52, today=-1441258.52\n", "record": {"elapsed": {"repr": "0:00:02.075204", "seconds": 2.075204}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1441258.52, today=-1441258.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.694225+05:30", "timestamp": 1755776567.694225}}}
{"text": "2025-08-21 17:12:47.696 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=218866.84, today=218866.84\n", "record": {"elapsed": {"repr": "0:00:02.077094", "seconds": 2.077094}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=218866.84, today=218866.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.696115+05:30", "timestamp": 1755776567.696115}}}
{"text": "2025-08-21 17:12:47.698 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-808131.72, today=-808131.72\n", "record": {"elapsed": {"repr": "0:00:02.079000", "seconds": 2.079}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-808131.72, today=-808131.72", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.698021+05:30", "timestamp": 1755776567.698021}}}
{"text": "2025-08-21 17:12:47.700 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2780790.57, day: -2780790.57\n", "record": {"elapsed": {"repr": "0:00:02.081444", "seconds": 2.081444}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2780790.57, day: -2780790.57", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.700465+05:30", "timestamp": 1755776567.700465}}}
{"text": "2025-08-21 17:12:47.702 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:02.083328", "seconds": 2.083328}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.702349+05:30", "timestamp": 1755776567.702349}}}
{"text": "2025-08-21 17:12:47.704 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:02.085815", "seconds": 2.085815}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.704836+05:30", "timestamp": 1755776567.704836}}}
{"text": "2025-08-21 17:12:47.707 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:02.088228", "seconds": 2.088228}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.707249+05:30", "timestamp": 1755776567.707249}}}
{"text": "2025-08-21 17:12:47.709 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:02.090209", "seconds": 2.090209}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.709230+05:30", "timestamp": 1755776567.70923}}}
{"text": "2025-08-21 17:12:47.711 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:12:47.689595+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:02.091984", "seconds": 2.091984}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:12:47.689595+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.711005+05:30", "timestamp": 1755776567.711005}}}
{"text": "2025-08-21 17:12:47.714 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2780790.57, day=-2780790.57, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1228.64, unrealized=-252776.09, today_pnl=-252776.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1716.06, unrealized=-497491.08, today_pnl=-497491.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=456.75, unrealized=-1441258.52, today_pnl=-1441258.52), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1081.72, unrealized=218866.84, today_pnl=218866.84), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1234.96, unrealized=-808131.72, today_pnl=-808131.72)] updated_at=datetime.datetime(2025, 8, 21, 17, 12, 47, 689595, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:02.095327", "seconds": 2.095327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2780790.57, day=-2780790.57, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1228.64, unrealized=-252776.09, today_pnl=-252776.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1716.06, unrealized=-497491.08, today_pnl=-497491.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=456.75, unrealized=-1441258.52, today_pnl=-1441258.52), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1081.72, unrealized=218866.84, today_pnl=218866.84), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1234.96, unrealized=-808131.72, today_pnl=-808131.72)] updated_at=datetime.datetime(2025, 8, 21, 17, 12, 47, 689595, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.714348+05:30", "timestamp": 1755776567.714348}}}
{"text": "2025-08-21 17:12:47.717 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2780790.57, day=-2780790.57, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1228.64, unrealized=-252776.09, today_pnl=-252776.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1716.06, unrealized=-497491.08, today_pnl=-497491.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=456.75, unrealized=-1441258.52, today_pnl=-1441258.52), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1081.72, unrealized=218866.84, today_pnl=218866.84), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1234.96, unrealized=-808131.72, today_pnl=-808131.72)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 12, 47, 689595, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:02.098368", "seconds": 2.098368}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2780790.57, day=-2780790.57, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1228.64, unrealized=-252776.09, today_pnl=-252776.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1716.06, unrealized=-497491.08, today_pnl=-497491.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=456.75, unrealized=-1441258.52, today_pnl=-1441258.52), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1081.72, unrealized=218866.84, today_pnl=218866.84), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1234.96, unrealized=-808131.72, today_pnl=-808131.72)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 12, 47, 689595, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.717389+05:30", "timestamp": 1755776567.717389}}}
{"text": "2025-08-21 17:12:47.720 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2780790.57\n", "record": {"elapsed": {"repr": "0:00:02.101746", "seconds": 2.101746}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2780790.57", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.720767+05:30", "timestamp": 1755776567.720767}}}
{"text": "2025-08-21 17:12:47.723 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType\n", "record": {"elapsed": {"repr": "0:00:02.104707", "seconds": 2.104707}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'pnl.delta' is not a valid MessageType", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:47.723728+05:30", "timestamp": 1755776567.723728}}}
{"text": "2025-08-21 17:12:47.816 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.197704", "seconds": 2.197704}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:47.816725+05:30", "timestamp": 1755776567.816725}}}
{"text": "2025-08-21 17:12:47.819 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.200084", "seconds": 2.200084}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:47.819105+05:30", "timestamp": 1755776567.819105}}}
{"text": "2025-08-21 17:12:47.821 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.202574", "seconds": 2.202574}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:47.821595+05:30", "timestamp": 1755776567.821595}}}
{"text": "2025-08-21 17:12:47.823 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.204148", "seconds": 2.204148}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:47.823169+05:30", "timestamp": 1755776567.823169}}}
{"text": "2025-08-21 17:12:47.825 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.206192", "seconds": 2.206192}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:47.825213+05:30", "timestamp": 1755776567.825213}}}
{"text": "2025-08-21 17:12:47.827 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.208254", "seconds": 2.208254}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:47.827275+05:30", "timestamp": 1755776567.827275}}}
{"text": "2025-08-21 17:12:47.828 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.209781", "seconds": 2.209781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:47.828802+05:30", "timestamp": 1755776567.828802}}}
{"text": "2025-08-21 17:12:47.830 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.211602", "seconds": 2.211602}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:47.830623+05:30", "timestamp": 1755776567.830623}}}
{"text": "2025-08-21 17:12:47.831 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.212893", "seconds": 2.212893}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:47.831914+05:30", "timestamp": 1755776567.831914}}}
{"text": "2025-08-21 17:12:47.833 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.214307", "seconds": 2.214307}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:47.833328+05:30", "timestamp": 1755776567.833328}}}
{"text": "2025-08-21 17:12:48.705 | DEBUG    | app.ws.live:emit_delta:375 - Emitted orders delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:03.086657", "seconds": 3.086657}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 375, "message": "Emitted orders delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:48.705678+05:30", "timestamp": 1755776568.705678}}}
{"text": "2025-08-21 17:12:49.355 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:03.736458", "seconds": 3.736458}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:49.355479+05:30", "timestamp": 1755776569.355479}}}
{"text": "2025-08-21 17:12:49.836 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.217575", "seconds": 4.217575}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:49.836596+05:30", "timestamp": 1755776569.836596}}}
{"text": "2025-08-21 17:12:49.838 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.219851", "seconds": 4.219851}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:49.838872+05:30", "timestamp": 1755776569.838872}}}
{"text": "2025-08-21 17:12:49.840 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.220979", "seconds": 4.220979}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:49.840000+05:30", "timestamp": 1755776569.84}}}
{"text": "2025-08-21 17:12:49.841 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.222073", "seconds": 4.222073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:49.841094+05:30", "timestamp": 1755776569.841094}}}
{"text": "2025-08-21 17:12:49.842 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.223669", "seconds": 4.223669}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:49.842690+05:30", "timestamp": 1755776569.84269}}}
{"text": "2025-08-21 17:12:49.844 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.225756", "seconds": 4.225756}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:49.844777+05:30", "timestamp": 1755776569.844777}}}
{"text": "2025-08-21 17:12:49.846 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.227583", "seconds": 4.227583}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:49.846604+05:30", "timestamp": 1755776569.846604}}}
{"text": "2025-08-21 17:12:49.848 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.229599", "seconds": 4.229599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:49.848620+05:30", "timestamp": 1755776569.84862}}}
{"text": "2025-08-21 17:12:49.850 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.231475", "seconds": 4.231475}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:49.850496+05:30", "timestamp": 1755776569.850496}}}
{"text": "2025-08-21 17:12:49.853 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.234010", "seconds": 4.23401}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:49.853031+05:30", "timestamp": 1755776569.853031}}}
{"text": "2025-08-21 17:12:51.855 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.236196", "seconds": 6.236196}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:51.855217+05:30", "timestamp": 1755776571.855217}}}
{"text": "2025-08-21 17:12:51.857 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.238637", "seconds": 6.238637}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:51.857658+05:30", "timestamp": 1755776571.857658}}}
{"text": "2025-08-21 17:12:51.859 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.240212", "seconds": 6.240212}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:51.859233+05:30", "timestamp": 1755776571.859233}}}
{"text": "2025-08-21 17:12:51.862 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.243052", "seconds": 6.243052}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:51.862073+05:30", "timestamp": 1755776571.862073}}}
{"text": "2025-08-21 17:12:51.863 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.244462", "seconds": 6.244462}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:51.863483+05:30", "timestamp": 1755776571.863483}}}
{"text": "2025-08-21 17:12:51.866 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.247149", "seconds": 6.247149}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:51.866170+05:30", "timestamp": 1755776571.86617}}}
{"text": "2025-08-21 17:12:51.868 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.249042", "seconds": 6.249042}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:51.868063+05:30", "timestamp": 1755776571.868063}}}
{"text": "2025-08-21 17:12:51.870 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.251309", "seconds": 6.251309}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:51.870330+05:30", "timestamp": 1755776571.87033}}}
{"text": "2025-08-21 17:12:51.872 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.253350", "seconds": 6.25335}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:51.872371+05:30", "timestamp": 1755776571.872371}}}
{"text": "2025-08-21 17:12:51.873 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.254829", "seconds": 6.254829}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:51.873850+05:30", "timestamp": 1755776571.87385}}}
{"text": "2025-08-21 17:12:53.876 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.257655", "seconds": 8.257655}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:53.876676+05:30", "timestamp": 1755776573.876676}}}
{"text": "2025-08-21 17:12:53.878 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.259728", "seconds": 8.259728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:53.878749+05:30", "timestamp": 1755776573.878749}}}
{"text": "2025-08-21 17:12:53.881 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.262169", "seconds": 8.262169}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:53.881190+05:30", "timestamp": 1755776573.88119}}}
{"text": "2025-08-21 17:12:53.883 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.264220", "seconds": 8.26422}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:53.883241+05:30", "timestamp": 1755776573.883241}}}
{"text": "2025-08-21 17:12:53.885 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.266373", "seconds": 8.266373}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:53.885394+05:30", "timestamp": 1755776573.885394}}}
{"text": "2025-08-21 17:12:53.887 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.268739", "seconds": 8.268739}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:53.887760+05:30", "timestamp": 1755776573.88776}}}
{"text": "2025-08-21 17:12:53.889 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.270566", "seconds": 8.270566}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:53.889587+05:30", "timestamp": 1755776573.889587}}}
{"text": "2025-08-21 17:12:53.892 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.273001", "seconds": 8.273001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:53.892022+05:30", "timestamp": 1755776573.892022}}}
{"text": "2025-08-21 17:12:53.894 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.275521", "seconds": 8.275521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:53.894542+05:30", "timestamp": 1755776573.894542}}}
{"text": "2025-08-21 17:12:53.896 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.277178", "seconds": 8.277178}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:53.896199+05:30", "timestamp": 1755776573.896199}}}
{"text": "2025-08-21 17:12:54.423 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.804968", "seconds": 8.804968}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.423989+05:30", "timestamp": 1755776574.423989}}}
{"text": "2025-08-21 17:12:54.426 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.807276", "seconds": 8.807276}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.426297+05:30", "timestamp": 1755776574.426297}}}
{"text": "2025-08-21 17:12:54.428 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-255789.61, today=-255789.61\n", "record": {"elapsed": {"repr": "0:00:08.809293", "seconds": 8.809293}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-255789.61, today=-255789.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.428314+05:30", "timestamp": 1755776574.428314}}}
{"text": "2025-08-21 17:12:54.429 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-502032.37, today=-502032.37\n", "record": {"elapsed": {"repr": "0:00:08.810936", "seconds": 8.810936}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-502032.37, today=-502032.37", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.429957+05:30", "timestamp": 1755776574.429957}}}
{"text": "2025-08-21 17:12:54.432 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1443042.41, today=-1443042.41\n", "record": {"elapsed": {"repr": "0:00:08.813118", "seconds": 8.813118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1443042.41, today=-1443042.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.432139+05:30", "timestamp": 1755776574.432139}}}
{"text": "2025-08-21 17:12:54.433 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=213095.11, today=213095.11\n", "record": {"elapsed": {"repr": "0:00:08.814674", "seconds": 8.814674}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=213095.11, today=213095.11", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.433695+05:30", "timestamp": 1755776574.433695}}}
{"text": "2025-08-21 17:12:54.435 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-746812.33, today=-746812.33\n", "record": {"elapsed": {"repr": "0:00:08.816411", "seconds": 8.816411}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-746812.33, today=-746812.33", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.435432+05:30", "timestamp": 1755776574.435432}}}
{"text": "2025-08-21 17:12:54.437 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2734581.61, day: -2734581.61\n", "record": {"elapsed": {"repr": "0:00:08.818270", "seconds": 8.81827}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2734581.61, day: -2734581.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.437291+05:30", "timestamp": 1755776574.437291}}}
{"text": "2025-08-21 17:12:54.439 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.820360", "seconds": 8.82036}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.439381+05:30", "timestamp": 1755776574.439381}}}
{"text": "2025-08-21 17:12:54.441 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.822497", "seconds": 8.822497}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.441518+05:30", "timestamp": 1755776574.441518}}}
{"text": "2025-08-21 17:12:54.443 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.824217", "seconds": 8.824217}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.443238+05:30", "timestamp": 1755776574.443238}}}
{"text": "2025-08-21 17:12:54.445 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.826474", "seconds": 8.826474}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.445495+05:30", "timestamp": 1755776574.445495}}}
{"text": "2025-08-21 17:12:54.447 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:12:54.427973+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.828165", "seconds": 8.828165}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:12:54.427973+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.447186+05:30", "timestamp": 1755776574.447186}}}
{"text": "2025-08-21 17:12:54.449 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2734581.61, day=-2734581.61, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1226.18, unrealized=-255789.61, today_pnl=-255789.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1719.87, unrealized=-502032.37, today_pnl=-502032.37), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=455.72, unrealized=-1443042.41, today_pnl=-1443042.41), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1101.9, unrealized=213095.11, today_pnl=213095.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1276.17, unrealized=-746812.33, today_pnl=-746812.33)] updated_at=datetime.datetime(2025, 8, 21, 17, 12, 54, 427973, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:08.830838", "seconds": 8.830838}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2734581.61, day=-2734581.61, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1226.18, unrealized=-255789.61, today_pnl=-255789.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1719.87, unrealized=-502032.37, today_pnl=-502032.37), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=455.72, unrealized=-1443042.41, today_pnl=-1443042.41), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1101.9, unrealized=213095.11, today_pnl=213095.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1276.17, unrealized=-746812.33, today_pnl=-746812.33)] updated_at=datetime.datetime(2025, 8, 21, 17, 12, 54, 427973, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.449859+05:30", "timestamp": 1755776574.449859}}}
{"text": "2025-08-21 17:12:54.453 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2734581.61, day=-2734581.61, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1226.18, unrealized=-255789.61, today_pnl=-255789.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1719.87, unrealized=-502032.37, today_pnl=-502032.37), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=455.72, unrealized=-1443042.41, today_pnl=-1443042.41), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1101.9, unrealized=213095.11, today_pnl=213095.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1276.17, unrealized=-746812.33, today_pnl=-746812.33)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 12, 54, 427973, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:08.834166", "seconds": 8.834166}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2734581.61, day=-2734581.61, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1226.18, unrealized=-255789.61, today_pnl=-255789.61), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1719.87, unrealized=-502032.37, today_pnl=-502032.37), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=455.72, unrealized=-1443042.41, today_pnl=-1443042.41), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1101.9, unrealized=213095.11, today_pnl=213095.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1276.17, unrealized=-746812.33, today_pnl=-746812.33)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 12, 54, 427973, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.453187+05:30", "timestamp": 1755776574.453187}}}
{"text": "2025-08-21 17:12:54.456 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2734581.61\n", "record": {"elapsed": {"repr": "0:00:08.837159", "seconds": 8.837159}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2734581.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.456180+05:30", "timestamp": 1755776574.45618}}}
{"text": "2025-08-21 17:12:54.458 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:08.839801", "seconds": 8.839801}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:54.458822+05:30", "timestamp": 1755776574.458822}}}
{"text": "2025-08-21 17:12:55.877 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:10.258824", "seconds": 10.258824}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:12:55.877845+05:30", "timestamp": 1755776575.877845}}}
{"text": "2025-08-21 17:12:55.898 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.279550", "seconds": 10.27955}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:55.898571+05:30", "timestamp": 1755776575.898571}}}
{"text": "2025-08-21 17:12:55.899 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.280925", "seconds": 10.280925}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:55.899946+05:30", "timestamp": 1755776575.899946}}}
{"text": "2025-08-21 17:12:55.901 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.282873", "seconds": 10.282873}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:55.901894+05:30", "timestamp": 1755776575.901894}}}
{"text": "2025-08-21 17:12:55.903 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.284075", "seconds": 10.284075}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:55.903096+05:30", "timestamp": 1755776575.903096}}}
{"text": "2025-08-21 17:12:55.904 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.285233", "seconds": 10.285233}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:55.904254+05:30", "timestamp": 1755776575.904254}}}
{"text": "2025-08-21 17:12:55.906 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.287092", "seconds": 10.287092}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:55.906113+05:30", "timestamp": 1755776575.906113}}}
{"text": "2025-08-21 17:12:55.907 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.288196", "seconds": 10.288196}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:55.907217+05:30", "timestamp": 1755776575.907217}}}
{"text": "2025-08-21 17:12:55.908 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.289199", "seconds": 10.289199}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:55.908220+05:30", "timestamp": 1755776575.90822}}}
{"text": "2025-08-21 17:12:55.909 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.290443", "seconds": 10.290443}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:55.909464+05:30", "timestamp": 1755776575.909464}}}
{"text": "2025-08-21 17:12:55.911 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.292033", "seconds": 10.292033}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:55.911054+05:30", "timestamp": 1755776575.911054}}}
{"text": "2025-08-21 17:12:57.913 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.294108", "seconds": 12.294108}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:57.913129+05:30", "timestamp": 1755776577.913129}}}
{"text": "2025-08-21 17:12:57.914 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.295383", "seconds": 12.295383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:57.914404+05:30", "timestamp": 1755776577.914404}}}
{"text": "2025-08-21 17:12:57.915 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.296693", "seconds": 12.296693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:57.915714+05:30", "timestamp": 1755776577.915714}}}
{"text": "2025-08-21 17:12:57.917 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.297981", "seconds": 12.297981}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:57.917002+05:30", "timestamp": 1755776577.917002}}}
{"text": "2025-08-21 17:12:57.918 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.299130", "seconds": 12.29913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:57.918151+05:30", "timestamp": 1755776577.918151}}}
{"text": "2025-08-21 17:12:57.919 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.300014", "seconds": 12.300014}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:57.919035+05:30", "timestamp": 1755776577.919035}}}
{"text": "2025-08-21 17:12:57.920 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.301292", "seconds": 12.301292}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:57.920313+05:30", "timestamp": 1755776577.920313}}}
{"text": "2025-08-21 17:12:57.921 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.302470", "seconds": 12.30247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:57.921491+05:30", "timestamp": 1755776577.921491}}}
{"text": "2025-08-21 17:12:57.922 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.303291", "seconds": 12.303291}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:57.922312+05:30", "timestamp": 1755776577.922312}}}
{"text": "2025-08-21 17:12:57.923 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.304223", "seconds": 12.304223}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:57.923244+05:30", "timestamp": 1755776577.923244}}}
{"text": "2025-08-21 17:12:59.924 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.305686", "seconds": 14.305686}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:59.924707+05:30", "timestamp": 1755776579.924707}}}
{"text": "2025-08-21 17:12:59.926 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.307234", "seconds": 14.307234}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:59.926255+05:30", "timestamp": 1755776579.926255}}}
{"text": "2025-08-21 17:12:59.927 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.308199", "seconds": 14.308199}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:59.927220+05:30", "timestamp": 1755776579.92722}}}
{"text": "2025-08-21 17:12:59.928 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.309001", "seconds": 14.309001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:59.928022+05:30", "timestamp": 1755776579.928022}}}
{"text": "2025-08-21 17:12:59.928 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.309972", "seconds": 14.309972}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:59.928993+05:30", "timestamp": 1755776579.928993}}}
{"text": "2025-08-21 17:12:59.930 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.311438", "seconds": 14.311438}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:59.930459+05:30", "timestamp": 1755776579.930459}}}
{"text": "2025-08-21 17:12:59.931 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.312576", "seconds": 14.312576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:59.931597+05:30", "timestamp": 1755776579.931597}}}
{"text": "2025-08-21 17:12:59.932 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.313634", "seconds": 14.313634}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:59.932655+05:30", "timestamp": 1755776579.932655}}}
{"text": "2025-08-21 17:12:59.934 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.314998", "seconds": 14.314998}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:59.934019+05:30", "timestamp": 1755776579.934019}}}
{"text": "2025-08-21 17:12:59.935 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.316109", "seconds": 14.316109}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:12:59.935130+05:30", "timestamp": 1755776579.93513}}}
{"text": "2025-08-21 17:13:01.025 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:15.406320", "seconds": 15.40632}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.025341+05:30", "timestamp": 1755776581.025341}}}
{"text": "2025-08-21 17:13:01.026 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:15.407273", "seconds": 15.407273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.026294+05:30", "timestamp": 1755776581.026294}}}
{"text": "2025-08-21 17:13:01.027 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-207564.28, today=-207564.28\n", "record": {"elapsed": {"repr": "0:00:15.408196", "seconds": 15.408196}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-207564.28, today=-207564.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.027217+05:30", "timestamp": 1755776581.027217}}}
{"text": "2025-08-21 17:13:01.028 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-469275.88, today=-469275.88\n", "record": {"elapsed": {"repr": "0:00:15.409512", "seconds": 15.409512}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-469275.88, today=-469275.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.028533+05:30", "timestamp": 1755776581.028533}}}
{"text": "2025-08-21 17:13:01.029 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1442149.37, today=-1442149.37\n", "record": {"elapsed": {"repr": "0:00:15.410661", "seconds": 15.410661}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1442149.37, today=-1442149.37", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.029682+05:30", "timestamp": 1755776581.029682}}}
{"text": "2025-08-21 17:13:01.031 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=216363.93, today=216363.93\n", "record": {"elapsed": {"repr": "0:00:15.412368", "seconds": 15.412368}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=216363.93, today=216363.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.031389+05:30", "timestamp": 1755776581.031389}}}
{"text": "2025-08-21 17:13:01.032 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-744679.4, today=-744679.4\n", "record": {"elapsed": {"repr": "0:00:15.413853", "seconds": 15.413853}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-744679.4, today=-744679.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.032874+05:30", "timestamp": 1755776581.032874}}}
{"text": "2025-08-21 17:13:01.034 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2647305.0, day: -2647305.0\n", "record": {"elapsed": {"repr": "0:00:15.415023", "seconds": 15.415023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2647305.0, day: -2647305.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.034044+05:30", "timestamp": 1755776581.034044}}}
{"text": "2025-08-21 17:13:01.035 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:15.416034", "seconds": 15.416034}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.035055+05:30", "timestamp": 1755776581.035055}}}
{"text": "2025-08-21 17:13:01.036 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:15.417335", "seconds": 15.417335}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.036356+05:30", "timestamp": 1755776581.036356}}}
{"text": "2025-08-21 17:13:01.037 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:15.418215", "seconds": 15.418215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.037236+05:30", "timestamp": 1755776581.037236}}}
{"text": "2025-08-21 17:13:01.038 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:15.419149", "seconds": 15.419149}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.038170+05:30", "timestamp": 1755776581.03817}}}
{"text": "2025-08-21 17:13:01.039 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:13:01.027045+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:15.420266", "seconds": 15.420266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:13:01.027045+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.039287+05:30", "timestamp": 1755776581.039287}}}
{"text": "2025-08-21 17:13:01.041 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2647305.0, day=-2647305.0, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1265.61, unrealized=-207564.28, today_pnl=-207564.28), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1692.41, unrealized=-469275.88, today_pnl=-469275.88), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=456.24, unrealized=-1442149.37, today_pnl=-1442149.37), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1090.47, unrealized=216363.93, today_pnl=216363.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1277.6, unrealized=-744679.4, today_pnl=-744679.4)] updated_at=datetime.datetime(2025, 8, 21, 17, 13, 1, 27045, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:15.421979", "seconds": 15.421979}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2647305.0, day=-2647305.0, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1265.61, unrealized=-207564.28, today_pnl=-207564.28), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1692.41, unrealized=-469275.88, today_pnl=-469275.88), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=456.24, unrealized=-1442149.37, today_pnl=-1442149.37), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1090.47, unrealized=216363.93, today_pnl=216363.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1277.6, unrealized=-744679.4, today_pnl=-744679.4)] updated_at=datetime.datetime(2025, 8, 21, 17, 13, 1, 27045, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.041000+05:30", "timestamp": 1755776581.041}}}
{"text": "2025-08-21 17:13:01.044 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2647305.0, day=-2647305.0, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1265.61, unrealized=-207564.28, today_pnl=-207564.28), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1692.41, unrealized=-469275.88, today_pnl=-469275.88), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=456.24, unrealized=-1442149.37, today_pnl=-1442149.37), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1090.47, unrealized=216363.93, today_pnl=216363.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1277.6, unrealized=-744679.4, today_pnl=-744679.4)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 13, 1, 27045, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:15.424979", "seconds": 15.424979}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2647305.0, day=-2647305.0, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1265.61, unrealized=-207564.28, today_pnl=-207564.28), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1692.41, unrealized=-469275.88, today_pnl=-469275.88), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=456.24, unrealized=-1442149.37, today_pnl=-1442149.37), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1090.47, unrealized=216363.93, today_pnl=216363.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1277.6, unrealized=-744679.4, today_pnl=-744679.4)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 13, 1, 27045, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.044000+05:30", "timestamp": 1755776581.044}}}
{"text": "2025-08-21 17:13:01.045 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2647305.00\n", "record": {"elapsed": {"repr": "0:00:15.426826", "seconds": 15.426826}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2647305.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.045847+05:30", "timestamp": 1755776581.045847}}}
{"text": "2025-08-21 17:13:01.047 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:15.428295", "seconds": 15.428295}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:01.047316+05:30", "timestamp": 1755776581.047316}}}
{"text": "2025-08-21 17:13:01.936 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.317170", "seconds": 16.31717}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:01.936191+05:30", "timestamp": 1755776581.936191}}}
{"text": "2025-08-21 17:13:01.937 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.318437", "seconds": 16.318437}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:01.937458+05:30", "timestamp": 1755776581.937458}}}
{"text": "2025-08-21 17:13:01.938 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.319758", "seconds": 16.319758}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:01.938779+05:30", "timestamp": 1755776581.938779}}}
{"text": "2025-08-21 17:13:01.939 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.320766", "seconds": 16.320766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:01.939787+05:30", "timestamp": 1755776581.939787}}}
{"text": "2025-08-21 17:13:01.940 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.321835", "seconds": 16.321835}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:01.940856+05:30", "timestamp": 1755776581.940856}}}
{"text": "2025-08-21 17:13:01.941 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.322884", "seconds": 16.322884}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:01.941905+05:30", "timestamp": 1755776581.941905}}}
{"text": "2025-08-21 17:13:01.943 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.324237", "seconds": 16.324237}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:01.943258+05:30", "timestamp": 1755776581.943258}}}
{"text": "2025-08-21 17:13:01.944 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.325193", "seconds": 16.325193}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:01.944214+05:30", "timestamp": 1755776581.944214}}}
{"text": "2025-08-21 17:13:01.945 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.326109", "seconds": 16.326109}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:01.945130+05:30", "timestamp": 1755776581.94513}}}
{"text": "2025-08-21 17:13:01.946 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:16.327075", "seconds": 16.327075}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:01.946096+05:30", "timestamp": 1755776581.946096}}}
{"text": "2025-08-21 17:13:02.655 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:17.036523", "seconds": 17.036523}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:02.655544+05:30", "timestamp": 1755776582.655544}}}
{"text": "2025-08-21 17:13:03.947 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.328724", "seconds": 18.328724}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:03.947745+05:30", "timestamp": 1755776583.947745}}}
{"text": "2025-08-21 17:13:03.949 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.329996", "seconds": 18.329996}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:03.949017+05:30", "timestamp": 1755776583.949017}}}
{"text": "2025-08-21 17:13:03.949 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.330822", "seconds": 18.330822}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:03.949843+05:30", "timestamp": 1755776583.949843}}}
{"text": "2025-08-21 17:13:03.950 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.331697", "seconds": 18.331697}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:03.950718+05:30", "timestamp": 1755776583.950718}}}
{"text": "2025-08-21 17:13:03.952 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.333103", "seconds": 18.333103}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:03.952124+05:30", "timestamp": 1755776583.952124}}}
{"text": "2025-08-21 17:13:03.953 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.334193", "seconds": 18.334193}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:03.953214+05:30", "timestamp": 1755776583.953214}}}
{"text": "2025-08-21 17:13:03.954 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.335108", "seconds": 18.335108}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:03.954129+05:30", "timestamp": 1755776583.954129}}}
{"text": "2025-08-21 17:13:03.955 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.336078", "seconds": 18.336078}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:03.955099+05:30", "timestamp": 1755776583.955099}}}
{"text": "2025-08-21 17:13:03.956 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.337405", "seconds": 18.337405}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:03.956426+05:30", "timestamp": 1755776583.956426}}}
{"text": "2025-08-21 17:13:03.957 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:18.338465", "seconds": 18.338465}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:03.957486+05:30", "timestamp": 1755776583.957486}}}
{"text": "2025-08-21 17:13:05.959 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.339993", "seconds": 20.339993}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:05.959014+05:30", "timestamp": 1755776585.959014}}}
{"text": "2025-08-21 17:13:05.960 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.341125", "seconds": 20.341125}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:05.960146+05:30", "timestamp": 1755776585.960146}}}
{"text": "2025-08-21 17:13:05.961 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.342273", "seconds": 20.342273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:05.961294+05:30", "timestamp": 1755776585.961294}}}
{"text": "2025-08-21 17:13:05.962 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.343776", "seconds": 20.343776}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:05.962797+05:30", "timestamp": 1755776585.962797}}}
{"text": "2025-08-21 17:13:05.964 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.345119", "seconds": 20.345119}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:05.964140+05:30", "timestamp": 1755776585.96414}}}
{"text": "2025-08-21 17:13:05.966 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.347235", "seconds": 20.347235}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:05.966256+05:30", "timestamp": 1755776585.966256}}}
{"text": "2025-08-21 17:13:05.967 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.348215", "seconds": 20.348215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:05.967236+05:30", "timestamp": 1755776585.967236}}}
{"text": "2025-08-21 17:13:05.968 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.349434", "seconds": 20.349434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:05.968455+05:30", "timestamp": 1755776585.968455}}}
{"text": "2025-08-21 17:13:05.969 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.350397", "seconds": 20.350397}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:05.969418+05:30", "timestamp": 1755776585.969418}}}
{"text": "2025-08-21 17:13:05.971 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:20.352616", "seconds": 20.352616}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:05.971637+05:30", "timestamp": 1755776585.971637}}}
{"text": "2025-08-21 17:13:07.918 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:22.299976", "seconds": 22.299976}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.918997+05:30", "timestamp": 1755776587.918997}}}
{"text": "2025-08-21 17:13:07.920 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:22.301158", "seconds": 22.301158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.920179+05:30", "timestamp": 1755776587.920179}}}
{"text": "2025-08-21 17:13:07.921 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-205838.77, today=-205838.77\n", "record": {"elapsed": {"repr": "0:00:22.302436", "seconds": 22.302436}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-205838.77, today=-205838.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.921457+05:30", "timestamp": 1755776587.921457}}}
{"text": "2025-08-21 17:13:07.922 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-507682.32, today=-507682.32\n", "record": {"elapsed": {"repr": "0:00:22.303634", "seconds": 22.303634}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-507682.32, today=-507682.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.922655+05:30", "timestamp": 1755776587.922655}}}
{"text": "2025-08-21 17:13:07.923 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-1421229.81, today=-1421229.81\n", "record": {"elapsed": {"repr": "0:00:22.304589", "seconds": 22.304589}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-1421229.81, today=-1421229.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.923610+05:30", "timestamp": 1755776587.92361}}}
{"text": "2025-08-21 17:13:07.924 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=206425.84, today=206425.84\n", "record": {"elapsed": {"repr": "0:00:22.305521", "seconds": 22.305521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=206425.84, today=206425.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.924542+05:30", "timestamp": 1755776587.924542}}}
{"text": "2025-08-21 17:13:07.926 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-699702.4, today=-699702.4\n", "record": {"elapsed": {"repr": "0:00:22.307006", "seconds": 22.307006}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-699702.4, today=-699702.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.926027+05:30", "timestamp": 1755776587.926027}}}
{"text": "2025-08-21 17:13:07.927 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2628027.46, day: -2628027.46\n", "record": {"elapsed": {"repr": "0:00:22.308196", "seconds": 22.308196}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2628027.46, day: -2628027.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.927217+05:30", "timestamp": 1755776587.927217}}}
{"text": "2025-08-21 17:13:07.928 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:22.309081", "seconds": 22.309081}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.928102+05:30", "timestamp": 1755776587.928102}}}
{"text": "2025-08-21 17:13:07.929 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:22.310136", "seconds": 22.310136}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.929157+05:30", "timestamp": 1755776587.929157}}}
{"text": "2025-08-21 17:13:07.930 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:22.311543", "seconds": 22.311543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.930564+05:30", "timestamp": 1755776587.930564}}}
{"text": "2025-08-21 17:13:07.931 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:22.312530", "seconds": 22.31253}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.931551+05:30", "timestamp": 1755776587.931551}}}
{"text": "2025-08-21 17:13:07.932 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:13:07.921256+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:22.313419", "seconds": 22.313419}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:13:07.921256+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.932440+05:30", "timestamp": 1755776587.93244}}}
{"text": "2025-08-21 17:13:07.933 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2628027.46, day=-2628027.46, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1267.02, unrealized=-205838.77, today_pnl=-205838.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1724.6, unrealized=-507682.32, today_pnl=-507682.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=468.33, unrealized=-1421229.81, today_pnl=-1421229.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1125.22, unrealized=206425.84, today_pnl=206425.84), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1307.83, unrealized=-699702.4, today_pnl=-699702.4)] updated_at=datetime.datetime(2025, 8, 21, 17, 13, 7, 921256, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:22.314455", "seconds": 22.314455}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2628027.46, day=-2628027.46, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1267.02, unrealized=-205838.77, today_pnl=-205838.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1724.6, unrealized=-507682.32, today_pnl=-507682.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=468.33, unrealized=-1421229.81, today_pnl=-1421229.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1125.22, unrealized=206425.84, today_pnl=206425.84), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1307.83, unrealized=-699702.4, today_pnl=-699702.4)] updated_at=datetime.datetime(2025, 8, 21, 17, 13, 7, 921256, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.933476+05:30", "timestamp": 1755776587.933476}}}
{"text": "2025-08-21 17:13:07.934 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2628027.46, day=-2628027.46, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1267.02, unrealized=-205838.77, today_pnl=-205838.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1724.6, unrealized=-507682.32, today_pnl=-507682.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=468.33, unrealized=-1421229.81, today_pnl=-1421229.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1125.22, unrealized=206425.84, today_pnl=206425.84), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1307.83, unrealized=-699702.4, today_pnl=-699702.4)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 13, 7, 921256, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:22.315871", "seconds": 22.315871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2628027.46, day=-2628027.46, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1223, avg=1435.33, ltp=1267.02, unrealized=-205838.77, today_pnl=-205838.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1193, avg=1299.05, ltp=1724.6, unrealized=-507682.32, today_pnl=-507682.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1730, avg=1289.85, ltp=468.33, unrealized=-1421229.81, today_pnl=-1421229.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=286, avg=1846.99, ltp=1125.22, unrealized=206425.84, today_pnl=206425.84), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1488, avg=1778.06, ltp=1307.83, unrealized=-699702.4, today_pnl=-699702.4)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 13, 7, 921256, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.934892+05:30", "timestamp": 1755776587.934892}}}
{"text": "2025-08-21 17:13:07.936 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2628027.46\n", "record": {"elapsed": {"repr": "0:00:22.317654", "seconds": 22.317654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2628027.46", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.936675+05:30", "timestamp": 1755776587.936675}}}
{"text": "2025-08-21 17:13:07.938 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.PNL: 'PnL' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:22.319221", "seconds": 22.319221}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.PNL: 'PnL' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:07.938242+05:30", "timestamp": 1755776587.938242}}}
{"text": "2025-08-21 17:13:07.974 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.355058", "seconds": 22.355058}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:07.974079+05:30", "timestamp": 1755776587.974079}}}
{"text": "2025-08-21 17:13:07.975 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.356285", "seconds": 22.356285}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:07.975306+05:30", "timestamp": 1755776587.975306}}}
{"text": "2025-08-21 17:13:07.976 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.357586", "seconds": 22.357586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:07.976607+05:30", "timestamp": 1755776587.976607}}}
{"text": "2025-08-21 17:13:07.977 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.358597", "seconds": 22.358597}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:07.977618+05:30", "timestamp": 1755776587.977618}}}
{"text": "2025-08-21 17:13:07.978 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.359372", "seconds": 22.359372}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:07.978393+05:30", "timestamp": 1755776587.978393}}}
{"text": "2025-08-21 17:13:07.979 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.360310", "seconds": 22.36031}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:07.979331+05:30", "timestamp": 1755776587.979331}}}
{"text": "2025-08-21 17:13:07.980 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.361949", "seconds": 22.361949}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:07.980970+05:30", "timestamp": 1755776587.98097}}}
{"text": "2025-08-21 17:13:07.981 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.362822", "seconds": 22.362822}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:07.981843+05:30", "timestamp": 1755776587.981843}}}
{"text": "2025-08-21 17:13:07.982 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.363570", "seconds": 22.36357}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:07.982591+05:30", "timestamp": 1755776587.982591}}}
{"text": "2025-08-21 17:13:07.983 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:22.364464", "seconds": 22.364464}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 21972, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:13:07.983485+05:30", "timestamp": 1755776587.983485}}}
{"text": "2025-08-21 17:13:09.320 | ERROR    | app.ws.live:_poll_channel:427 - Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'\n", "record": {"elapsed": {"repr": "0:00:23.701320", "seconds": 23.70132}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "_poll_channel", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 427, "message": "Error polling Channel.POSITIONS: 'Position' object has no attribute 'get'", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:09.320341+05:30", "timestamp": 1755776589.320341}}}
{"text": "2025-08-21 17:13:09.910 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:24.291219", "seconds": 24.291219}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:09.910240+05:30", "timestamp": 1755776589.91024}}}
{"text": "2025-08-21 17:13:09.911 | INFO     | app.ws.live:shutdown_event:521 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:24.292837", "seconds": 24.292837}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 521, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:09.911858+05:30", "timestamp": 1755776589.911858}}}
{"text": "2025-08-21 17:13:09.913 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:24.294302", "seconds": 24.294302}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 26204, "name": "MainProcess"}, "thread": {"id": 11704, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:13:09.913323+05:30", "timestamp": 1755776589.913323}}}
{"text": "2025-08-21 17:17:02.229 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.068283", "seconds": 0.068283}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.229253+05:30", "timestamp": 1755776822.229253}}}
{"text": "2025-08-21 17:17:02.231 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=4218, avg_price=449.76409785708597, ltp=482.3556113269957\n", "record": {"elapsed": {"repr": "0:00:00.070160", "seconds": 0.07016}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=4218, avg_price=449.76409785708597, ltp=482.3556113269957", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.231130+05:30", "timestamp": 1755776822.23113}}}
{"text": "2025-08-21 17:17:02.232 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=2907, avg_price=1156.1128438518867, ltp=931.6553633406224\n", "record": {"elapsed": {"repr": "0:00:00.071520", "seconds": 0.07152}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=2907, avg_price=1156.1128438518867, ltp=931.6553633406224", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.232490+05:30", "timestamp": 1755776822.23249}}}
{"text": "2025-08-21 17:17:02.233 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=1194, avg_price=855.355695875406, ltp=903.9571425204086\n", "record": {"elapsed": {"repr": "0:00:00.072559", "seconds": 0.072559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=1194, avg_price=855.355695875406, ltp=903.9571425204086", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.233529+05:30", "timestamp": 1755776822.233529}}}
{"text": "2025-08-21 17:17:02.234 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=723, avg_price=638.5907279168375, ltp=532.8172653815298\n", "record": {"elapsed": {"repr": "0:00:00.073909", "seconds": 0.073909}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=723, avg_price=638.5907279168375, ltp=532.8172653815298", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.234879+05:30", "timestamp": 1755776822.234879}}}
{"text": "2025-08-21 17:17:02.236 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=2928, avg_price=114.81321427093465, ltp=119.01904534701873\n", "record": {"elapsed": {"repr": "0:00:00.075350", "seconds": 0.07535}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=2928, avg_price=114.81321427093465, ltp=119.01904534701873", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.236320+05:30", "timestamp": 1755776822.23632}}}
{"text": "2025-08-21 17:17:02.237 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=1852, avg_price=1212.341572806506, ltp=1312.2199118437218\n", "record": {"elapsed": {"repr": "0:00:00.076579", "seconds": 0.076579}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=1852, avg_price=1212.341572806506, ltp=1312.2199118437218", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.237549+05:30", "timestamp": 1755776822.237549}}}
{"text": "2025-08-21 17:17:02.238 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=3725, avg_price=1282.5253113003569, ltp=1489.3489297126193\n", "record": {"elapsed": {"repr": "0:00:00.077910", "seconds": 0.07791}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=3725, avg_price=1282.5253113003569, ltp=1489.3489297126193", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.238880+05:30", "timestamp": 1755776822.23888}}}
{"text": "2025-08-21 17:17:02.239 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=1818, avg_price=625.5393890935586, ltp=671.1853382714532\n", "record": {"elapsed": {"repr": "0:00:00.078921", "seconds": 0.078921}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=1818, avg_price=625.5393890935586, ltp=671.1853382714532", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.239891+05:30", "timestamp": 1755776822.239891}}}
{"text": "2025-08-21 17:17:02.241 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=755, avg_price=198.10603608884398, ltp=207.50696698681801\n", "record": {"elapsed": {"repr": "0:00:00.080438", "seconds": 0.080438}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=755, avg_price=198.10603608884398, ltp=207.50696698681801", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.241408+05:30", "timestamp": 1755776822.241408}}}
{"text": "2025-08-21 17:17:02.242 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=3780, avg_price=963.9100954644056, ltp=988.1145030255647\n", "record": {"elapsed": {"repr": "0:00:00.081492", "seconds": 0.081492}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=3780, avg_price=963.9100954644056, ltp=988.1145030255647", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.242462+05:30", "timestamp": 1755776822.242462}}}
{"text": "2025-08-21 17:17:02.244 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.083044", "seconds": 0.083044}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.244014+05:30", "timestamp": 1755776822.244014}}}
{"text": "2025-08-21 17:17:02.245 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=1385, avg_price=1437.61\n", "record": {"elapsed": {"repr": "0:00:00.084694", "seconds": 0.084694}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=1385, avg_price=1437.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.245664+05:30", "timestamp": 1755776822.245664}}}
{"text": "2025-08-21 17:17:02.246 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1375, avg_price=718.65\n", "record": {"elapsed": {"repr": "0:00:00.085753", "seconds": 0.085753}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1375, avg_price=718.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.246723+05:30", "timestamp": 1755776822.246723}}}
{"text": "2025-08-21 17:17:02.247 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=134, avg_price=1004.26\n", "record": {"elapsed": {"repr": "0:00:00.086763", "seconds": 0.086763}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=134, avg_price=1004.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.247733+05:30", "timestamp": 1755776822.247733}}}
{"text": "2025-08-21 17:17:02.249 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1063, avg_price=1666.15\n", "record": {"elapsed": {"repr": "0:00:00.088099", "seconds": 0.088099}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1063, avg_price=1666.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.249069+05:30", "timestamp": 1755776822.249069}}}
{"text": "2025-08-21 17:17:02.250 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=1533, avg_price=1368.69\n", "record": {"elapsed": {"repr": "0:00:00.089689", "seconds": 0.089689}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=1533, avg_price=1368.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.250659+05:30", "timestamp": 1755776822.250659}}}
{"text": "2025-08-21 17:17:02.251 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.090870", "seconds": 0.09087}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.251840+05:30", "timestamp": 1755776822.25184}}}
{"text": "2025-08-21 17:17:02.254 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.093396", "seconds": 0.093396}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.254366+05:30", "timestamp": 1755776822.254366}}}
{"text": "2025-08-21 17:17:02.256 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.095517", "seconds": 0.095517}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.256487+05:30", "timestamp": 1755776822.256487}}}
{"text": "2025-08-21 17:17:02.257 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.096605", "seconds": 0.096605}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.257575+05:30", "timestamp": 1755776822.257575}}}
{"text": "2025-08-21 17:17:02.325 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.164134", "seconds": 0.164134}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.325104+05:30", "timestamp": 1755776822.325104}}}
{"text": "2025-08-21 17:17:02.330 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.169308", "seconds": 0.169308}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.330278+05:30", "timestamp": 1755776822.330278}}}
{"text": "2025-08-21 17:17:02.331 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.170180", "seconds": 0.17018}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.331150+05:30", "timestamp": 1755776822.33115}}}
{"text": "2025-08-21 17:17:02.331 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.170834", "seconds": 0.170834}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.331804+05:30", "timestamp": 1755776822.331804}}}
{"text": "2025-08-21 17:17:02.332 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.171499", "seconds": 0.171499}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:02.332469+05:30", "timestamp": 1755776822.332469}}}
{"text": "2025-08-21 17:17:04.262 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.102003", "seconds": 2.102003}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:04.262973+05:30", "timestamp": 1755776824.262973}}}
{"text": "2025-08-21 17:17:04.267 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.106595", "seconds": 2.106595}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:04.267565+05:30", "timestamp": 1755776824.267565}}}
{"text": "2025-08-21 17:17:04.274 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.113755", "seconds": 2.113755}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:04.274725+05:30", "timestamp": 1755776824.274725}}}
{"text": "2025-08-21 17:17:04.276 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.115175", "seconds": 2.115175}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:04.276145+05:30", "timestamp": 1755776824.276145}}}
{"text": "2025-08-21 17:17:04.286 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.125987", "seconds": 2.125987}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:04.286957+05:30", "timestamp": 1755776824.286957}}}
{"text": "2025-08-21 17:17:04.292 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.131382", "seconds": 2.131382}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:04.292352+05:30", "timestamp": 1755776824.292352}}}
{"text": "2025-08-21 17:17:04.294 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.133375", "seconds": 2.133375}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:04.294345+05:30", "timestamp": 1755776824.294345}}}
{"text": "2025-08-21 17:17:04.295 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.134422", "seconds": 2.134422}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:04.295392+05:30", "timestamp": 1755776824.295392}}}
{"text": "2025-08-21 17:17:04.296 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.135903", "seconds": 2.135903}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:04.296873+05:30", "timestamp": 1755776824.296873}}}
{"text": "2025-08-21 17:17:04.298 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.137297", "seconds": 2.137297}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:04.298267+05:30", "timestamp": 1755776824.298267}}}
{"text": "2025-08-21 17:17:04.332 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:02.171713", "seconds": 2.171713}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.332683+05:30", "timestamp": 1755776824.332683}}}
{"text": "2025-08-21 17:17:04.336 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:02.175823", "seconds": 2.175823}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.336793+05:30", "timestamp": 1755776824.336793}}}
{"text": "2025-08-21 17:17:04.338 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:02.177925", "seconds": 2.177925}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.338895+05:30", "timestamp": 1755776824.338895}}}
{"text": "2025-08-21 17:17:04.342 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1316129.3, today=-1316129.3\n", "record": {"elapsed": {"repr": "0:00:02.181157", "seconds": 2.181157}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1316129.3, today=-1316129.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.342127+05:30", "timestamp": 1755776824.342127}}}
{"text": "2025-08-21 17:17:04.347 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-291363.0, today=-291363.0\n", "record": {"elapsed": {"repr": "0:00:02.186980", "seconds": 2.18698}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-291363.0, today=-291363.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.347950+05:30", "timestamp": 1755776824.34795}}}
{"text": "2025-08-21 17:17:04.351 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-11192.03, today=-11192.03\n", "record": {"elapsed": {"repr": "0:00:02.190178", "seconds": 2.190178}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-11192.03, today=-11192.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.351148+05:30", "timestamp": 1755776824.351148}}}
{"text": "2025-08-21 17:17:04.355 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=1199300.85, today=1199300.85\n", "record": {"elapsed": {"repr": "0:00:02.194415", "seconds": 2.194415}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=1199300.85, today=1199300.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.355385+05:30", "timestamp": 1755776824.355385}}}
{"text": "2025-08-21 17:17:04.358 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-1917623.44, today=-1917623.44\n", "record": {"elapsed": {"repr": "0:00:02.197325", "seconds": 2.197325}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-1917623.44, today=-1917623.44", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.358295+05:30", "timestamp": 1755776824.358295}}}
{"text": "2025-08-21 17:17:04.364 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2337006.92, day: -2337006.92\n", "record": {"elapsed": {"repr": "0:00:02.203180", "seconds": 2.20318}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2337006.92, day: -2337006.92", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.364150+05:30", "timestamp": 1755776824.36415}}}
{"text": "2025-08-21 17:17:04.366 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:02.205119", "seconds": 2.205119}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.366089+05:30", "timestamp": 1755776824.366089}}}
{"text": "2025-08-21 17:17:04.370 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:02.209085", "seconds": 2.209085}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.370055+05:30", "timestamp": 1755776824.370055}}}
{"text": "2025-08-21 17:17:04.372 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:02.211088", "seconds": 2.211088}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.372058+05:30", "timestamp": 1755776824.372058}}}
{"text": "2025-08-21 17:17:04.374 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:02.213056", "seconds": 2.213056}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.374026+05:30", "timestamp": 1755776824.374026}}}
{"text": "2025-08-21 17:17:04.377 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:04.341642+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:02.216710", "seconds": 2.21671}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:04.341642+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.377680+05:30", "timestamp": 1755776824.37768}}}
{"text": "2025-08-21 17:17:04.384 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2337006.92, day=-2337006.92, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=487.34, unrealized=-1316129.3, today_pnl=-1316129.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=930.55, unrealized=-291363.0, today_pnl=-291363.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=920.74, unrealized=-11192.03, today_pnl=-11192.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=537.93, unrealized=1199300.85, today_pnl=1199300.85), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.79, unrealized=-1917623.44, today_pnl=-1917623.44)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 4, 341642, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:02.223141", "seconds": 2.223141}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2337006.92, day=-2337006.92, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=487.34, unrealized=-1316129.3, today_pnl=-1316129.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=930.55, unrealized=-291363.0, today_pnl=-291363.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=920.74, unrealized=-11192.03, today_pnl=-11192.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=537.93, unrealized=1199300.85, today_pnl=1199300.85), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.79, unrealized=-1917623.44, today_pnl=-1917623.44)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 4, 341642, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.384111+05:30", "timestamp": 1755776824.384111}}}
{"text": "2025-08-21 17:17:04.393 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2337006.92, day=-2337006.92, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=487.34, unrealized=-1316129.3, today_pnl=-1316129.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=930.55, unrealized=-291363.0, today_pnl=-291363.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=920.74, unrealized=-11192.03, today_pnl=-11192.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=537.93, unrealized=1199300.85, today_pnl=1199300.85), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.79, unrealized=-1917623.44, today_pnl=-1917623.44)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 4, 341642, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:02.232898", "seconds": 2.232898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2337006.92, day=-2337006.92, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=487.34, unrealized=-1316129.3, today_pnl=-1316129.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=930.55, unrealized=-291363.0, today_pnl=-291363.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=920.74, unrealized=-11192.03, today_pnl=-11192.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=537.93, unrealized=1199300.85, today_pnl=1199300.85), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.79, unrealized=-1917623.44, today_pnl=-1917623.44)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 4, 341642, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.393868+05:30", "timestamp": 1755776824.393868}}}
{"text": "2025-08-21 17:17:04.399 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2337006.92\n", "record": {"elapsed": {"repr": "0:00:02.238711", "seconds": 2.238711}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2337006.92", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.399681+05:30", "timestamp": 1755776824.399681}}}
{"text": "2025-08-21 17:17:04.411 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:02.250114", "seconds": 2.250114}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:04.411084+05:30", "timestamp": 1755776824.411084}}}
{"text": "2025-08-21 17:17:05.330 | DEBUG    | app.ws.live:emit_delta:408 - Emitted orders delta: seq=3\n", "record": {"elapsed": {"repr": "0:00:03.169816", "seconds": 3.169816}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted orders delta: seq=3", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.330786+05:30", "timestamp": 1755776825.330786}}}
{"text": "2025-08-21 17:17:05.956 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:03.795305", "seconds": 3.795305}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.956275+05:30", "timestamp": 1755776825.956275}}}
{"text": "2025-08-21 17:17:05.959 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:03.798719", "seconds": 3.798719}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.959689+05:30", "timestamp": 1755776825.959689}}}
{"text": "2025-08-21 17:17:05.960 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1316129.3, today=-1316129.3\n", "record": {"elapsed": {"repr": "0:00:03.799972", "seconds": 3.799972}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1316129.3, today=-1316129.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.960942+05:30", "timestamp": 1755776825.960942}}}
{"text": "2025-08-21 17:17:05.962 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-291363.0, today=-291363.0\n", "record": {"elapsed": {"repr": "0:00:03.801449", "seconds": 3.801449}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-291363.0, today=-291363.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.962419+05:30", "timestamp": 1755776825.962419}}}
{"text": "2025-08-21 17:17:05.964 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-11192.03, today=-11192.03\n", "record": {"elapsed": {"repr": "0:00:03.803398", "seconds": 3.803398}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-11192.03, today=-11192.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.964368+05:30", "timestamp": 1755776825.964368}}}
{"text": "2025-08-21 17:17:05.967 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=1199300.85, today=1199300.85\n", "record": {"elapsed": {"repr": "0:00:03.806445", "seconds": 3.806445}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=1199300.85, today=1199300.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.967415+05:30", "timestamp": 1755776825.967415}}}
{"text": "2025-08-21 17:17:05.968 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-1917623.44, today=-1917623.44\n", "record": {"elapsed": {"repr": "0:00:03.807881", "seconds": 3.807881}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-1917623.44, today=-1917623.44", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.968851+05:30", "timestamp": 1755776825.968851}}}
{"text": "2025-08-21 17:17:05.970 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2337006.92, day: -2337006.92\n", "record": {"elapsed": {"repr": "0:00:03.809574", "seconds": 3.809574}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2337006.92, day: -2337006.92", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.970544+05:30", "timestamp": 1755776825.970544}}}
{"text": "2025-08-21 17:17:05.972 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:03.811714", "seconds": 3.811714}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.972684+05:30", "timestamp": 1755776825.972684}}}
{"text": "2025-08-21 17:17:05.974 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:03.813277", "seconds": 3.813277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.974247+05:30", "timestamp": 1755776825.974247}}}
{"text": "2025-08-21 17:17:05.975 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:03.815003", "seconds": 3.815003}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.975973+05:30", "timestamp": 1755776825.975973}}}
{"text": "2025-08-21 17:17:05.977 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:03.816915", "seconds": 3.816915}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.977885+05:30", "timestamp": 1755776825.977885}}}
{"text": "2025-08-21 17:17:05.979 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:05.960782+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:03.818184", "seconds": 3.818184}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:05.960782+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.979154+05:30", "timestamp": 1755776825.979154}}}
{"text": "2025-08-21 17:17:05.981 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2337006.92, day=-2337006.92, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=487.34, unrealized=-1316129.3, today_pnl=-1316129.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=930.55, unrealized=-291363.0, today_pnl=-291363.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=920.74, unrealized=-11192.03, today_pnl=-11192.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=537.93, unrealized=1199300.85, today_pnl=1199300.85), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.79, unrealized=-1917623.44, today_pnl=-1917623.44)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 5, 960782, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:03.820572", "seconds": 3.820572}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2337006.92, day=-2337006.92, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=487.34, unrealized=-1316129.3, today_pnl=-1316129.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=930.55, unrealized=-291363.0, today_pnl=-291363.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=920.74, unrealized=-11192.03, today_pnl=-11192.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=537.93, unrealized=1199300.85, today_pnl=1199300.85), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.79, unrealized=-1917623.44, today_pnl=-1917623.44)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 5, 960782, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.981542+05:30", "timestamp": 1755776825.981542}}}
{"text": "2025-08-21 17:17:05.985 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2337006.92, day=-2337006.92, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=487.34, unrealized=-1316129.3, today_pnl=-1316129.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=930.55, unrealized=-291363.0, today_pnl=-291363.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=920.74, unrealized=-11192.03, today_pnl=-11192.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=537.93, unrealized=1199300.85, today_pnl=1199300.85), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.79, unrealized=-1917623.44, today_pnl=-1917623.44)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 5, 960782, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:03.824624", "seconds": 3.824624}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2337006.92, day=-2337006.92, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=487.34, unrealized=-1316129.3, today_pnl=-1316129.3), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=930.55, unrealized=-291363.0, today_pnl=-291363.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=920.74, unrealized=-11192.03, today_pnl=-11192.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=537.93, unrealized=1199300.85, today_pnl=1199300.85), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.79, unrealized=-1917623.44, today_pnl=-1917623.44)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 5, 960782, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.985594+05:30", "timestamp": 1755776825.985594}}}
{"text": "2025-08-21 17:17:05.987 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2337006.92\n", "record": {"elapsed": {"repr": "0:00:03.826526", "seconds": 3.826526}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2337006.92", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.987496+05:30", "timestamp": 1755776825.987496}}}
{"text": "2025-08-21 17:17:05.989 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=4\n", "record": {"elapsed": {"repr": "0:00:03.828652", "seconds": 3.828652}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=4", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:05.989622+05:30", "timestamp": 1755776825.989622}}}
{"text": "2025-08-21 17:17:06.304 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.143777", "seconds": 4.143777}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:06.304747+05:30", "timestamp": 1755776826.304747}}}
{"text": "2025-08-21 17:17:06.306 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.145744", "seconds": 4.145744}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:06.306714+05:30", "timestamp": 1755776826.306714}}}
{"text": "2025-08-21 17:17:06.308 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.147533", "seconds": 4.147533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:06.308503+05:30", "timestamp": 1755776826.308503}}}
{"text": "2025-08-21 17:17:06.310 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.149155", "seconds": 4.149155}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:06.310125+05:30", "timestamp": 1755776826.310125}}}
{"text": "2025-08-21 17:17:06.311 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.150434", "seconds": 4.150434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:06.311404+05:30", "timestamp": 1755776826.311404}}}
{"text": "2025-08-21 17:17:06.313 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.152244", "seconds": 4.152244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:06.313214+05:30", "timestamp": 1755776826.313214}}}
{"text": "2025-08-21 17:17:06.315 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.154078", "seconds": 4.154078}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:06.315048+05:30", "timestamp": 1755776826.315048}}}
{"text": "2025-08-21 17:17:06.316 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.155273", "seconds": 4.155273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:06.316243+05:30", "timestamp": 1755776826.316243}}}
{"text": "2025-08-21 17:17:06.318 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.157339", "seconds": 4.157339}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:06.318309+05:30", "timestamp": 1755776826.318309}}}
{"text": "2025-08-21 17:17:06.320 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.159190", "seconds": 4.15919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:06.320160+05:30", "timestamp": 1755776826.32016}}}
{"text": "2025-08-21 17:17:06.330 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=5\n", "record": {"elapsed": {"repr": "0:00:04.169698", "seconds": 4.169698}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=5", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:06.330668+05:30", "timestamp": 1755776826.330668}}}
{"text": "2025-08-21 17:17:07.811 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:05.650045", "seconds": 5.650045}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.811015+05:30", "timestamp": 1755776827.811015}}}
{"text": "2025-08-21 17:17:07.812 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:05.651493", "seconds": 5.651493}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.812463+05:30", "timestamp": 1755776827.812463}}}
{"text": "2025-08-21 17:17:07.814 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1321675.32, today=-1321675.32\n", "record": {"elapsed": {"repr": "0:00:05.653896", "seconds": 5.653896}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1321675.32, today=-1321675.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.814866+05:30", "timestamp": 1755776827.814866}}}
{"text": "2025-08-21 17:17:07.816 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-266037.36, today=-266037.36\n", "record": {"elapsed": {"repr": "0:00:05.655334", "seconds": 5.655334}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-266037.36, today=-266037.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.816304+05:30", "timestamp": 1755776827.816304}}}
{"text": "2025-08-21 17:17:07.817 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-9338.8, today=-9338.8\n", "record": {"elapsed": {"repr": "0:00:05.656893", "seconds": 5.656893}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-9338.8, today=-9338.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.817863+05:30", "timestamp": 1755776827.817863}}}
{"text": "2025-08-21 17:17:07.819 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=1188338.96, today=1188338.96\n", "record": {"elapsed": {"repr": "0:00:05.658324", "seconds": 5.658324}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=1188338.96, today=1188338.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.819294+05:30", "timestamp": 1755776827.819294}}}
{"text": "2025-08-21 17:17:07.821 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-1914678.6, today=-1914678.6\n", "record": {"elapsed": {"repr": "0:00:05.660296", "seconds": 5.660296}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-1914678.6, today=-1914678.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.821266+05:30", "timestamp": 1755776827.821266}}}
{"text": "2025-08-21 17:17:07.822 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2323391.12, day: -2323391.12\n", "record": {"elapsed": {"repr": "0:00:05.661752", "seconds": 5.661752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2323391.12, day: -2323391.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.822722+05:30", "timestamp": 1755776827.822722}}}
{"text": "2025-08-21 17:17:07.826 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:05.665813", "seconds": 5.665813}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.826783+05:30", "timestamp": 1755776827.826783}}}
{"text": "2025-08-21 17:17:07.828 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:05.667512", "seconds": 5.667512}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.828482+05:30", "timestamp": 1755776827.828482}}}
{"text": "2025-08-21 17:17:07.829 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:05.668874", "seconds": 5.668874}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.829844+05:30", "timestamp": 1755776827.829844}}}
{"text": "2025-08-21 17:17:07.830 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:05.669947", "seconds": 5.669947}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.830917+05:30", "timestamp": 1755776827.830917}}}
{"text": "2025-08-21 17:17:07.833 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:07.814231+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:05.672055", "seconds": 5.672055}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:07.814231+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.833025+05:30", "timestamp": 1755776827.833025}}}
{"text": "2025-08-21 17:17:07.835 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2323391.12, day=-2323391.12, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=483.33, unrealized=-1321675.32, today_pnl=-1321675.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=912.13, unrealized=-266037.36, today_pnl=-266037.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=934.57, unrealized=-9338.8, today_pnl=-9338.8), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=548.24, unrealized=1188338.96, today_pnl=1188338.96), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=119.72, unrealized=-1914678.6, today_pnl=-1914678.6)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 7, 814231, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:05.674225", "seconds": 5.674225}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2323391.12, day=-2323391.12, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=483.33, unrealized=-1321675.32, today_pnl=-1321675.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=912.13, unrealized=-266037.36, today_pnl=-266037.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=934.57, unrealized=-9338.8, today_pnl=-9338.8), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=548.24, unrealized=1188338.96, today_pnl=1188338.96), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=119.72, unrealized=-1914678.6, today_pnl=-1914678.6)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 7, 814231, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.835195+05:30", "timestamp": 1755776827.835195}}}
{"text": "2025-08-21 17:17:07.837 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2323391.12, day=-2323391.12, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=483.33, unrealized=-1321675.32, today_pnl=-1321675.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=912.13, unrealized=-266037.36, today_pnl=-266037.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=934.57, unrealized=-9338.8, today_pnl=-9338.8), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=548.24, unrealized=1188338.96, today_pnl=1188338.96), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=119.72, unrealized=-1914678.6, today_pnl=-1914678.6)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 7, 814231, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:05.677001", "seconds": 5.677001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2323391.12, day=-2323391.12, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=483.33, unrealized=-1321675.32, today_pnl=-1321675.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=912.13, unrealized=-266037.36, today_pnl=-266037.36), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=934.57, unrealized=-9338.8, today_pnl=-9338.8), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=548.24, unrealized=1188338.96, today_pnl=1188338.96), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=119.72, unrealized=-1914678.6, today_pnl=-1914678.6)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 7, 814231, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.837971+05:30", "timestamp": 1755776827.837971}}}
{"text": "2025-08-21 17:17:07.839 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2323391.12\n", "record": {"elapsed": {"repr": "0:00:05.678322", "seconds": 5.678322}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2323391.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.839292+05:30", "timestamp": 1755776827.839292}}}
{"text": "2025-08-21 17:17:07.841 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=6\n", "record": {"elapsed": {"repr": "0:00:05.680669", "seconds": 5.680669}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=6", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:07.841639+05:30", "timestamp": 1755776827.841639}}}
{"text": "2025-08-21 17:17:08.322 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.161838", "seconds": 6.161838}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:08.322808+05:30", "timestamp": 1755776828.322808}}}
{"text": "2025-08-21 17:17:08.324 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.163198", "seconds": 6.163198}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:08.324168+05:30", "timestamp": 1755776828.324168}}}
{"text": "2025-08-21 17:17:08.326 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.165174", "seconds": 6.165174}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:08.326144+05:30", "timestamp": 1755776828.326144}}}
{"text": "2025-08-21 17:17:08.327 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.166912", "seconds": 6.166912}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:08.327882+05:30", "timestamp": 1755776828.327882}}}
{"text": "2025-08-21 17:17:08.329 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.168693", "seconds": 6.168693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:08.329663+05:30", "timestamp": 1755776828.329663}}}
{"text": "2025-08-21 17:17:08.331 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.171022", "seconds": 6.171022}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:08.331992+05:30", "timestamp": 1755776828.331992}}}
{"text": "2025-08-21 17:17:08.334 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.173031", "seconds": 6.173031}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:08.334001+05:30", "timestamp": 1755776828.334001}}}
{"text": "2025-08-21 17:17:08.335 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.174065", "seconds": 6.174065}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:08.335035+05:30", "timestamp": 1755776828.335035}}}
{"text": "2025-08-21 17:17:08.336 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.175046", "seconds": 6.175046}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:08.336016+05:30", "timestamp": 1755776828.336016}}}
{"text": "2025-08-21 17:17:08.337 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.176451", "seconds": 6.176451}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:08.337421+05:30", "timestamp": 1755776828.337421}}}
{"text": "2025-08-21 17:17:08.339 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=7\n", "record": {"elapsed": {"repr": "0:00:06.178443", "seconds": 6.178443}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=7", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:08.339413+05:30", "timestamp": 1755776828.339413}}}
{"text": "2025-08-21 17:17:09.589 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:07.428976", "seconds": 7.428976}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.589946+05:30", "timestamp": 1755776829.589946}}}
{"text": "2025-08-21 17:17:09.592 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:07.431551", "seconds": 7.431551}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.592521+05:30", "timestamp": 1755776829.592521}}}
{"text": "2025-08-21 17:17:09.595 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1320997.15, today=-1320997.15\n", "record": {"elapsed": {"repr": "0:00:07.434242", "seconds": 7.434242}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1320997.15, today=-1320997.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.595212+05:30", "timestamp": 1755776829.595212}}}
{"text": "2025-08-21 17:17:09.596 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-262605.81, today=-262605.81\n", "record": {"elapsed": {"repr": "0:00:07.435670", "seconds": 7.43567}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-262605.81, today=-262605.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.596640+05:30", "timestamp": 1755776829.59664}}}
{"text": "2025-08-21 17:17:09.600 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-7436.55, today=-7436.55\n", "record": {"elapsed": {"repr": "0:00:07.439388", "seconds": 7.439388}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-7436.55, today=-7436.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.600358+05:30", "timestamp": 1755776829.600358}}}
{"text": "2025-08-21 17:17:09.603 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=1177511.98, today=1177511.98\n", "record": {"elapsed": {"repr": "0:00:07.442959", "seconds": 7.442959}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=1177511.98, today=1177511.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.603929+05:30", "timestamp": 1755776829.603929}}}
{"text": "2025-08-21 17:17:09.608 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-1917072.73, today=-1917072.73\n", "record": {"elapsed": {"repr": "0:00:07.447615", "seconds": 7.447615}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-1917072.73, today=-1917072.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.608585+05:30", "timestamp": 1755776829.608585}}}
{"text": "2025-08-21 17:17:09.609 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2330600.26, day: -2330600.26\n", "record": {"elapsed": {"repr": "0:00:07.448824", "seconds": 7.448824}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2330600.26, day: -2330600.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.609794+05:30", "timestamp": 1755776829.609794}}}
{"text": "2025-08-21 17:17:09.611 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:07.450277", "seconds": 7.450277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.611247+05:30", "timestamp": 1755776829.611247}}}
{"text": "2025-08-21 17:17:09.613 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:07.452227", "seconds": 7.452227}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.613197+05:30", "timestamp": 1755776829.613197}}}
{"text": "2025-08-21 17:17:09.614 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:07.453296", "seconds": 7.453296}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.614266+05:30", "timestamp": 1755776829.614266}}}
{"text": "2025-08-21 17:17:09.616 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:07.455455", "seconds": 7.455455}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.616425+05:30", "timestamp": 1755776829.616425}}}
{"text": "2025-08-21 17:17:09.617 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:09.595037+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:07.456825", "seconds": 7.456825}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:09.595037+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.617795+05:30", "timestamp": 1755776829.617795}}}
{"text": "2025-08-21 17:17:09.623 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2330600.26, day=-2330600.26, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=483.82, unrealized=-1320997.15, today_pnl=-1320997.15), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=909.64, unrealized=-262605.81, today_pnl=-262605.81), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=948.76, unrealized=-7436.55, today_pnl=-7436.55), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=558.42, unrealized=1177511.98, today_pnl=1177511.98), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=118.15, unrealized=-1917072.73, today_pnl=-1917072.73)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 9, 595037, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:07.462364", "seconds": 7.462364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2330600.26, day=-2330600.26, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=483.82, unrealized=-1320997.15, today_pnl=-1320997.15), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=909.64, unrealized=-262605.81, today_pnl=-262605.81), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=948.76, unrealized=-7436.55, today_pnl=-7436.55), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=558.42, unrealized=1177511.98, today_pnl=1177511.98), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=118.15, unrealized=-1917072.73, today_pnl=-1917072.73)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 9, 595037, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.623334+05:30", "timestamp": 1755776829.623334}}}
{"text": "2025-08-21 17:17:09.629 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2330600.26, day=-2330600.26, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=483.82, unrealized=-1320997.15, today_pnl=-1320997.15), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=909.64, unrealized=-262605.81, today_pnl=-262605.81), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=948.76, unrealized=-7436.55, today_pnl=-7436.55), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=558.42, unrealized=1177511.98, today_pnl=1177511.98), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=118.15, unrealized=-1917072.73, today_pnl=-1917072.73)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 9, 595037, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:07.468033", "seconds": 7.468033}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2330600.26, day=-2330600.26, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=483.82, unrealized=-1320997.15, today_pnl=-1320997.15), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=909.64, unrealized=-262605.81, today_pnl=-262605.81), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=948.76, unrealized=-7436.55, today_pnl=-7436.55), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=558.42, unrealized=1177511.98, today_pnl=1177511.98), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=118.15, unrealized=-1917072.73, today_pnl=-1917072.73)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 9, 595037, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.629003+05:30", "timestamp": 1755776829.629003}}}
{"text": "2025-08-21 17:17:09.636 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2330600.26\n", "record": {"elapsed": {"repr": "0:00:07.475510", "seconds": 7.47551}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2330600.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.636480+05:30", "timestamp": 1755776829.63648}}}
{"text": "2025-08-21 17:17:09.649 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=8\n", "record": {"elapsed": {"repr": "0:00:07.488188", "seconds": 7.488188}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=8", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:09.649158+05:30", "timestamp": 1755776829.649158}}}
{"text": "2025-08-21 17:17:10.339 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.178173", "seconds": 8.178173}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:10.339143+05:30", "timestamp": 1755776830.339143}}}
{"text": "2025-08-21 17:17:10.340 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.180007", "seconds": 8.180007}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:10.340977+05:30", "timestamp": 1755776830.340977}}}
{"text": "2025-08-21 17:17:10.342 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.181437", "seconds": 8.181437}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:10.342407+05:30", "timestamp": 1755776830.342407}}}
{"text": "2025-08-21 17:17:10.344 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.183053", "seconds": 8.183053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:10.344023+05:30", "timestamp": 1755776830.344023}}}
{"text": "2025-08-21 17:17:10.345 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.184148", "seconds": 8.184148}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:10.345118+05:30", "timestamp": 1755776830.345118}}}
{"text": "2025-08-21 17:17:10.346 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.185510", "seconds": 8.18551}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:10.346480+05:30", "timestamp": 1755776830.34648}}}
{"text": "2025-08-21 17:17:10.348 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.187999", "seconds": 8.187999}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:10.348969+05:30", "timestamp": 1755776830.348969}}}
{"text": "2025-08-21 17:17:10.350 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.189980", "seconds": 8.18998}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:10.350950+05:30", "timestamp": 1755776830.35095}}}
{"text": "2025-08-21 17:17:10.352 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.191607", "seconds": 8.191607}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:10.352577+05:30", "timestamp": 1755776830.352577}}}
{"text": "2025-08-21 17:17:10.354 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.193706", "seconds": 8.193706}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:10.354676+05:30", "timestamp": 1755776830.354676}}}
{"text": "2025-08-21 17:17:10.356 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=9\n", "record": {"elapsed": {"repr": "0:00:08.195572", "seconds": 8.195572}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=9", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:10.356542+05:30", "timestamp": 1755776830.356542}}}
{"text": "2025-08-21 17:17:11.325 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:09.164116", "seconds": 9.164116}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.325086+05:30", "timestamp": 1755776831.325086}}}
{"text": "2025-08-21 17:17:11.327 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:09.166052", "seconds": 9.166052}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.327022+05:30", "timestamp": 1755776831.327022}}}
{"text": "2025-08-21 17:17:11.328 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1323842.93, today=-1323842.93\n", "record": {"elapsed": {"repr": "0:00:09.167287", "seconds": 9.167287}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1323842.93, today=-1323842.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.328257+05:30", "timestamp": 1755776831.328257}}}
{"text": "2025-08-21 17:17:11.330 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-278728.69, today=-278728.69\n", "record": {"elapsed": {"repr": "0:00:09.169375", "seconds": 9.169375}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-278728.69, today=-278728.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.330345+05:30", "timestamp": 1755776831.330345}}}
{"text": "2025-08-21 17:17:11.332 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-7567.03, today=-7567.03\n", "record": {"elapsed": {"repr": "0:00:09.171906", "seconds": 9.171906}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-7567.03, today=-7567.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.332876+05:30", "timestamp": 1755776831.332876}}}
{"text": "2025-08-21 17:17:11.335 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=1185472.95, today=1185472.95\n", "record": {"elapsed": {"repr": "0:00:09.174520", "seconds": 9.17452}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=1185472.95, today=1185472.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.335490+05:30", "timestamp": 1755776831.33549}}}
{"text": "2025-08-21 17:17:11.336 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-1917547.55, today=-1917547.55\n", "record": {"elapsed": {"repr": "0:00:09.175498", "seconds": 9.175498}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-1917547.55, today=-1917547.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.336468+05:30", "timestamp": 1755776831.336468}}}
{"text": "2025-08-21 17:17:11.337 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2342213.25, day: -2342213.25\n", "record": {"elapsed": {"repr": "0:00:09.176683", "seconds": 9.176683}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2342213.25, day: -2342213.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.337653+05:30", "timestamp": 1755776831.337653}}}
{"text": "2025-08-21 17:17:11.339 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:09.178261", "seconds": 9.178261}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.339231+05:30", "timestamp": 1755776831.339231}}}
{"text": "2025-08-21 17:17:11.342 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:09.181067", "seconds": 9.181067}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.342037+05:30", "timestamp": 1755776831.342037}}}
{"text": "2025-08-21 17:17:11.343 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:09.182928", "seconds": 9.182928}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.343898+05:30", "timestamp": 1755776831.343898}}}
{"text": "2025-08-21 17:17:11.347 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:09.186985", "seconds": 9.186985}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.347955+05:30", "timestamp": 1755776831.347955}}}
{"text": "2025-08-21 17:17:11.349 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:11.328117+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:09.188115", "seconds": 9.188115}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:11.328117+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.349085+05:30", "timestamp": 1755776831.349085}}}
{"text": "2025-08-21 17:17:11.351 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2342213.25, day=-2342213.25, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=481.77, unrealized=-1323842.93, today_pnl=-1323842.93), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=921.36, unrealized=-278728.69, today_pnl=-278728.69), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=947.79, unrealized=-7567.03, today_pnl=-7567.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=550.94, unrealized=1185472.95, today_pnl=1185472.95), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.84, unrealized=-1917547.55, today_pnl=-1917547.55)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 11, 328117, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:09.190675", "seconds": 9.190675}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2342213.25, day=-2342213.25, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=481.77, unrealized=-1323842.93, today_pnl=-1323842.93), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=921.36, unrealized=-278728.69, today_pnl=-278728.69), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=947.79, unrealized=-7567.03, today_pnl=-7567.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=550.94, unrealized=1185472.95, today_pnl=1185472.95), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.84, unrealized=-1917547.55, today_pnl=-1917547.55)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 11, 328117, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.351645+05:30", "timestamp": 1755776831.351645}}}
{"text": "2025-08-21 17:17:11.355 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2342213.25, day=-2342213.25, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=481.77, unrealized=-1323842.93, today_pnl=-1323842.93), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=921.36, unrealized=-278728.69, today_pnl=-278728.69), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=947.79, unrealized=-7567.03, today_pnl=-7567.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=550.94, unrealized=1185472.95, today_pnl=1185472.95), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.84, unrealized=-1917547.55, today_pnl=-1917547.55)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 11, 328117, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:09.194757", "seconds": 9.194757}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2342213.25, day=-2342213.25, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=481.77, unrealized=-1323842.93, today_pnl=-1323842.93), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=921.36, unrealized=-278728.69, today_pnl=-278728.69), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=947.79, unrealized=-7567.03, today_pnl=-7567.03), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=550.94, unrealized=1185472.95, today_pnl=1185472.95), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=117.84, unrealized=-1917547.55, today_pnl=-1917547.55)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 11, 328117, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.355727+05:30", "timestamp": 1755776831.355727}}}
{"text": "2025-08-21 17:17:11.361 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2342213.25\n", "record": {"elapsed": {"repr": "0:00:09.200452", "seconds": 9.200452}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2342213.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.361422+05:30", "timestamp": 1755776831.361422}}}
{"text": "2025-08-21 17:17:11.364 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=10\n", "record": {"elapsed": {"repr": "0:00:09.203754", "seconds": 9.203754}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=10", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:11.364724+05:30", "timestamp": 1755776831.364724}}}
{"text": "2025-08-21 17:17:12.356 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.195273", "seconds": 10.195273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:12.356243+05:30", "timestamp": 1755776832.356243}}}
{"text": "2025-08-21 17:17:12.358 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.197432", "seconds": 10.197432}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:12.358402+05:30", "timestamp": 1755776832.358402}}}
{"text": "2025-08-21 17:17:12.360 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.199073", "seconds": 10.199073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:12.360043+05:30", "timestamp": 1755776832.360043}}}
{"text": "2025-08-21 17:17:12.361 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.200766", "seconds": 10.200766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:12.361736+05:30", "timestamp": 1755776832.361736}}}
{"text": "2025-08-21 17:17:12.363 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.202652", "seconds": 10.202652}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:12.363622+05:30", "timestamp": 1755776832.363622}}}
{"text": "2025-08-21 17:17:12.364 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.203934", "seconds": 10.203934}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:12.364904+05:30", "timestamp": 1755776832.364904}}}
{"text": "2025-08-21 17:17:12.366 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.205588", "seconds": 10.205588}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:12.366558+05:30", "timestamp": 1755776832.366558}}}
{"text": "2025-08-21 17:17:12.367 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.206924", "seconds": 10.206924}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:12.367894+05:30", "timestamp": 1755776832.367894}}}
{"text": "2025-08-21 17:17:12.369 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.208203", "seconds": 10.208203}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:12.369173+05:30", "timestamp": 1755776832.369173}}}
{"text": "2025-08-21 17:17:12.371 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.210275", "seconds": 10.210275}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 15148, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:17:12.371245+05:30", "timestamp": 1755776832.371245}}}
{"text": "2025-08-21 17:17:12.876 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:10.715960", "seconds": 10.71596}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.876930+05:30", "timestamp": 1755776832.87693}}}
{"text": "2025-08-21 17:17:12.880 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:10.719442", "seconds": 10.719442}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.880412+05:30", "timestamp": 1755776832.880412}}}
{"text": "2025-08-21 17:17:12.882 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1335032.02, today=-1335032.02\n", "record": {"elapsed": {"repr": "0:00:10.721055", "seconds": 10.721055}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1335032.02, today=-1335032.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.882025+05:30", "timestamp": 1755776832.882025}}}
{"text": "2025-08-21 17:17:12.883 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-282862.99, today=-282862.99\n", "record": {"elapsed": {"repr": "0:00:10.722301", "seconds": 10.722301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-282862.99, today=-282862.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.883271+05:30", "timestamp": 1755776832.883271}}}
{"text": "2025-08-21 17:17:12.884 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-7443.24, today=-7443.24\n", "record": {"elapsed": {"repr": "0:00:10.723518", "seconds": 10.723518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-7443.24, today=-7443.24", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.884488+05:30", "timestamp": 1755776832.884488}}}
{"text": "2025-08-21 17:17:12.886 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=1192630.09, today=1192630.09\n", "record": {"elapsed": {"repr": "0:00:10.725504", "seconds": 10.725504}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=1192630.09, today=1192630.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.886474+05:30", "timestamp": 1755776832.886474}}}
{"text": "2025-08-21 17:17:12.888 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-1920682.82, today=-1920682.82\n", "record": {"elapsed": {"repr": "0:00:10.727440", "seconds": 10.72744}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-1920682.82, today=-1920682.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.888410+05:30", "timestamp": 1755776832.88841}}}
{"text": "2025-08-21 17:17:12.890 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2353390.98, day: -2353390.98\n", "record": {"elapsed": {"repr": "0:00:10.729599", "seconds": 10.729599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2353390.98, day: -2353390.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.890569+05:30", "timestamp": 1755776832.890569}}}
{"text": "2025-08-21 17:17:12.891 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:10.730633", "seconds": 10.730633}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.891603+05:30", "timestamp": 1755776832.891603}}}
{"text": "2025-08-21 17:17:12.893 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:10.732130", "seconds": 10.73213}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.893100+05:30", "timestamp": 1755776832.8931}}}
{"text": "2025-08-21 17:17:12.894 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:10.733603", "seconds": 10.733603}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.894573+05:30", "timestamp": 1755776832.894573}}}
{"text": "2025-08-21 17:17:12.895 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:10.734766", "seconds": 10.734766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.895736+05:30", "timestamp": 1755776832.895736}}}
{"text": "2025-08-21 17:17:12.897 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:12.881751+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:10.736765", "seconds": 10.736765}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:17:12.881751+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.897735+05:30", "timestamp": 1755776832.897735}}}
{"text": "2025-08-21 17:17:12.899 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2353390.98, day=-2353390.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=473.69, unrealized=-1335032.02, today_pnl=-1335032.02), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=924.37, unrealized=-282862.99, today_pnl=-282862.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=948.71, unrealized=-7443.24, today_pnl=-7443.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=544.2, unrealized=1192630.09, today_pnl=1192630.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=115.8, unrealized=-1920682.82, today_pnl=-1920682.82)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 12, 881751, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:10.738754", "seconds": 10.738754}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2353390.98, day=-2353390.98, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=473.69, unrealized=-1335032.02, today_pnl=-1335032.02), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=924.37, unrealized=-282862.99, today_pnl=-282862.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=948.71, unrealized=-7443.24, today_pnl=-7443.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=544.2, unrealized=1192630.09, today_pnl=1192630.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=115.8, unrealized=-1920682.82, today_pnl=-1920682.82)] updated_at=datetime.datetime(2025, 8, 21, 17, 17, 12, 881751, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.899724+05:30", "timestamp": 1755776832.899724}}}
{"text": "2025-08-21 17:17:12.902 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2353390.98, day=-2353390.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=473.69, unrealized=-1335032.02, today_pnl=-1335032.02), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=924.37, unrealized=-282862.99, today_pnl=-282862.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=948.71, unrealized=-7443.24, today_pnl=-7443.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=544.2, unrealized=1192630.09, today_pnl=1192630.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=115.8, unrealized=-1920682.82, today_pnl=-1920682.82)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 12, 881751, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:10.741832", "seconds": 10.741832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2353390.98, day=-2353390.98, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=1385, avg=1437.61, ltp=473.69, unrealized=-1335032.02, today_pnl=-1335032.02), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1375, avg=718.65, ltp=924.37, unrealized=-282862.99, today_pnl=-282862.99), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=134, avg=1004.26, ltp=948.71, unrealized=-7443.24, today_pnl=-7443.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1063, avg=1666.15, ltp=544.2, unrealized=1192630.09, today_pnl=1192630.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1533, avg=1368.69, ltp=115.8, unrealized=-1920682.82, today_pnl=-1920682.82)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 17, 12, 881751, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.902802+05:30", "timestamp": 1755776832.902802}}}
{"text": "2025-08-21 17:17:12.904 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2353390.98\n", "record": {"elapsed": {"repr": "0:00:10.743587", "seconds": 10.743587}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2353390.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.904557+05:30", "timestamp": 1755776832.904557}}}
{"text": "2025-08-21 17:17:12.907 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=11\n", "record": {"elapsed": {"repr": "0:00:10.746534", "seconds": 10.746534}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=11", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:12.907504+05:30", "timestamp": 1755776832.907504}}}
{"text": "2025-08-21 17:17:13.630 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=12\n", "record": {"elapsed": {"repr": "0:00:11.469847", "seconds": 11.469847}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=12", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:13.630817+05:30", "timestamp": 1755776833.630817}}}
{"text": "2025-08-21 17:17:13.924 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:11.763330", "seconds": 11.76333}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:13.924300+05:30", "timestamp": 1755776833.9243}}}
{"text": "2025-08-21 17:17:13.925 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:11.764924", "seconds": 11.764924}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:13.925894+05:30", "timestamp": 1755776833.925894}}}
{"text": "2025-08-21 17:17:13.926 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:11.765900", "seconds": 11.7659}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 4516, "name": "MainProcess"}, "thread": {"id": 3516, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:17:13.926870+05:30", "timestamp": 1755776833.92687}}}
{"text": "2025-08-21 17:24:51.876 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.091986", "seconds": 0.091986}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.876214+05:30", "timestamp": 1755777291.876214}}}
{"text": "2025-08-21 17:24:51.878 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=222, avg_price=611.0793733326122, ltp=634.962787691358\n", "record": {"elapsed": {"repr": "0:00:00.094079", "seconds": 0.094079}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=222, avg_price=611.0793733326122, ltp=634.962787691358", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.878307+05:30", "timestamp": 1755777291.878307}}}
{"text": "2025-08-21 17:24:51.880 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=2923, avg_price=131.41041385184968, ltp=109.34930084787852\n", "record": {"elapsed": {"repr": "0:00:00.096038", "seconds": 0.096038}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=2923, avg_price=131.41041385184968, ltp=109.34930084787852", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.880266+05:30", "timestamp": 1755777291.880266}}}
{"text": "2025-08-21 17:24:51.881 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=3745, avg_price=799.3392521442581, ltp=660.2589396449958\n", "record": {"elapsed": {"repr": "0:00:00.097328", "seconds": 0.097328}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=3745, avg_price=799.3392521442581, ltp=660.2589396449958", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.881556+05:30", "timestamp": 1755777291.881556}}}
{"text": "2025-08-21 17:24:51.882 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=4079, avg_price=654.063557286428, ltp=684.8573857414358\n", "record": {"elapsed": {"repr": "0:00:00.098579", "seconds": 0.098579}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=4079, avg_price=654.063557286428, ltp=684.8573857414358", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.882807+05:30", "timestamp": 1755777291.882807}}}
{"text": "2025-08-21 17:24:51.884 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=1311, avg_price=724.328961936978, ltp=836.6382643733193\n", "record": {"elapsed": {"repr": "0:00:00.100228", "seconds": 0.100228}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=1311, avg_price=724.328961936978, ltp=836.6382643733193", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.884456+05:30", "timestamp": 1755777291.884456}}}
{"text": "2025-08-21 17:24:51.886 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=2910, avg_price=396.26881127850424, ltp=379.99696332716866\n", "record": {"elapsed": {"repr": "0:00:00.102030", "seconds": 0.10203}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=2910, avg_price=396.26881127850424, ltp=379.99696332716866", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.886258+05:30", "timestamp": 1755777291.886258}}}
{"text": "2025-08-21 17:24:51.887 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=4492, avg_price=455.5034116920725, ltp=517.142304070544\n", "record": {"elapsed": {"repr": "0:00:00.103485", "seconds": 0.103485}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=4492, avg_price=455.5034116920725, ltp=517.142304070544", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.887713+05:30", "timestamp": 1755777291.887713}}}
{"text": "2025-08-21 17:24:51.888 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=1504, avg_price=598.4767110048749, ltp=625.9371383552467\n", "record": {"elapsed": {"repr": "0:00:00.104642", "seconds": 0.104642}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=1504, avg_price=598.4767110048749, ltp=625.9371383552467", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.888870+05:30", "timestamp": 1755777291.88887}}}
{"text": "2025-08-21 17:24:51.890 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=1101, avg_price=1502.9938953238159, ltp=1576.3942553738143\n", "record": {"elapsed": {"repr": "0:00:00.106125", "seconds": 0.106125}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=1101, avg_price=1502.9938953238159, ltp=1576.3942553738143", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.890353+05:30", "timestamp": 1755777291.890353}}}
{"text": "2025-08-21 17:24:51.891 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=4017, avg_price=1809.2813076201628, ltp=1901.6739267084133\n", "record": {"elapsed": {"repr": "0:00:00.107193", "seconds": 0.107193}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=4017, avg_price=1809.2813076201628, ltp=1901.6739267084133", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.891421+05:30", "timestamp": 1755777291.891421}}}
{"text": "2025-08-21 17:24:51.892 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.108640", "seconds": 0.10864}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.892868+05:30", "timestamp": 1755777291.892868}}}
{"text": "2025-08-21 17:24:51.894 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=700, avg_price=431.43\n", "record": {"elapsed": {"repr": "0:00:00.110045", "seconds": 0.110045}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=700, avg_price=431.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.894273+05:30", "timestamp": 1755777291.894273}}}
{"text": "2025-08-21 17:24:51.895 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1801, avg_price=1026.15\n", "record": {"elapsed": {"repr": "0:00:00.111543", "seconds": 0.111543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1801, avg_price=1026.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.895771+05:30", "timestamp": 1755777291.895771}}}
{"text": "2025-08-21 17:24:51.897 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=748, avg_price=1640.82\n", "record": {"elapsed": {"repr": "0:00:00.112911", "seconds": 0.112911}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=748, avg_price=1640.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.897139+05:30", "timestamp": 1755777291.897139}}}
{"text": "2025-08-21 17:24:51.900 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=549, avg_price=1631.82\n", "record": {"elapsed": {"repr": "0:00:00.115780", "seconds": 0.11578}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=549, avg_price=1631.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.900008+05:30", "timestamp": 1755777291.900008}}}
{"text": "2025-08-21 17:24:51.901 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=567, avg_price=1591.75\n", "record": {"elapsed": {"repr": "0:00:00.117281", "seconds": 0.117281}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=567, avg_price=1591.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.901509+05:30", "timestamp": 1755777291.901509}}}
{"text": "2025-08-21 17:24:51.902 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.118447", "seconds": 0.118447}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.902675+05:30", "timestamp": 1755777291.902675}}}
{"text": "2025-08-21 17:24:51.905 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.120902", "seconds": 0.120902}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.905130+05:30", "timestamp": 1755777291.90513}}}
{"text": "2025-08-21 17:24:51.913 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.129130", "seconds": 0.12913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.913358+05:30", "timestamp": 1755777291.913358}}}
{"text": "2025-08-21 17:24:51.919 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.135132", "seconds": 0.135132}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:51.919360+05:30", "timestamp": 1755777291.91936}}}
{"text": "2025-08-21 17:24:52.005 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.221187", "seconds": 0.221187}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:52.005415+05:30", "timestamp": 1755777292.005415}}}
{"text": "2025-08-21 17:24:52.010 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.225922", "seconds": 0.225922}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:52.010150+05:30", "timestamp": 1755777292.01015}}}
{"text": "2025-08-21 17:24:52.011 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.227148", "seconds": 0.227148}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:52.011376+05:30", "timestamp": 1755777292.011376}}}
{"text": "2025-08-21 17:24:52.012 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.228355", "seconds": 0.228355}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:52.012583+05:30", "timestamp": 1755777292.012583}}}
{"text": "2025-08-21 17:24:52.013 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.229705", "seconds": 0.229705}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:52.013933+05:30", "timestamp": 1755777292.013933}}}
{"text": "2025-08-21 17:24:53.848 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:02.063772", "seconds": 2.063772}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.848000+05:30", "timestamp": 1755777293.848}}}
{"text": "2025-08-21 17:24:53.851 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:02.067522", "seconds": 2.067522}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.851750+05:30", "timestamp": 1755777293.85175}}}
{"text": "2025-08-21 17:24:53.853 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:02.068786", "seconds": 2.068786}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.853014+05:30", "timestamp": 1755777293.853014}}}
{"text": "2025-08-21 17:24:53.855 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=142472.95, today=142472.95\n", "record": {"elapsed": {"repr": "0:00:02.070960", "seconds": 2.07096}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=142472.95, today=142472.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.855188+05:30", "timestamp": 1755777293.855188}}}
{"text": "2025-08-21 17:24:53.857 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=1651158.06, today=1651158.06\n", "record": {"elapsed": {"repr": "0:00:02.073125", "seconds": 2.073125}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=1651158.06, today=1651158.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.857353+05:30", "timestamp": 1755777293.857353}}}
{"text": "2025-08-21 17:24:53.859 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-733459.67, today=-733459.67\n", "record": {"elapsed": {"repr": "0:00:02.075309", "seconds": 2.075309}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-733459.67, today=-733459.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.859537+05:30", "timestamp": 1755777293.859537}}}
{"text": "2025-08-21 17:24:53.861 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=519882.48, today=519882.48\n", "record": {"elapsed": {"repr": "0:00:02.077647", "seconds": 2.077647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=519882.48, today=519882.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.861875+05:30", "timestamp": 1755777293.861875}}}
{"text": "2025-08-21 17:24:53.864 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-428148.35, today=-428148.35\n", "record": {"elapsed": {"repr": "0:00:02.079971", "seconds": 2.079971}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-428148.35, today=-428148.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.864199+05:30", "timestamp": 1755777293.864199}}}
{"text": "2025-08-21 17:24:53.866 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1151905.47, day: 1151905.47\n", "record": {"elapsed": {"repr": "0:00:02.081776", "seconds": 2.081776}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1151905.47, day: 1151905.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.866004+05:30", "timestamp": 1755777293.866004}}}
{"text": "2025-08-21 17:24:53.867 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:02.083325", "seconds": 2.083325}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.867553+05:30", "timestamp": 1755777293.867553}}}
{"text": "2025-08-21 17:24:53.869 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:02.085144", "seconds": 2.085144}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.869372+05:30", "timestamp": 1755777293.869372}}}
{"text": "2025-08-21 17:24:53.870 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:02.086445", "seconds": 2.086445}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.870673+05:30", "timestamp": 1755777293.870673}}}
{"text": "2025-08-21 17:24:53.872 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:02.088631", "seconds": 2.088631}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.872859+05:30", "timestamp": 1755777293.872859}}}
{"text": "2025-08-21 17:24:53.874 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:24:53.854883+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:02.090322", "seconds": 2.090322}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:24:53.854883+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.874550+05:30", "timestamp": 1755777293.87455}}}
{"text": "2025-08-21 17:24:53.877 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1151905.47, day=1151905.47, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=634.96, unrealized=142472.95, today_pnl=142472.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=109.35, unrealized=1651158.06, today_pnl=1651158.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=660.26, unrealized=-733459.67, today_pnl=-733459.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=684.86, unrealized=519882.48, today_pnl=519882.48), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=836.64, unrealized=-428148.35, today_pnl=-428148.35)] updated_at=datetime.datetime(2025, 8, 21, 17, 24, 53, 854883, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:02.093012", "seconds": 2.093012}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1151905.47, day=1151905.47, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=634.96, unrealized=142472.95, today_pnl=142472.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=109.35, unrealized=1651158.06, today_pnl=1651158.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=660.26, unrealized=-733459.67, today_pnl=-733459.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=684.86, unrealized=519882.48, today_pnl=519882.48), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=836.64, unrealized=-428148.35, today_pnl=-428148.35)] updated_at=datetime.datetime(2025, 8, 21, 17, 24, 53, 854883, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.877240+05:30", "timestamp": 1755777293.87724}}}
{"text": "2025-08-21 17:24:53.879 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1151905.47, day=1151905.47, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=634.96, unrealized=142472.95, today_pnl=142472.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=109.35, unrealized=1651158.06, today_pnl=1651158.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=660.26, unrealized=-733459.67, today_pnl=-733459.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=684.86, unrealized=519882.48, today_pnl=519882.48), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=836.64, unrealized=-428148.35, today_pnl=-428148.35)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 24, 53, 854883, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:02.095760", "seconds": 2.09576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1151905.47, day=1151905.47, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=634.96, unrealized=142472.95, today_pnl=142472.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=109.35, unrealized=1651158.06, today_pnl=1651158.06), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=660.26, unrealized=-733459.67, today_pnl=-733459.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=684.86, unrealized=519882.48, today_pnl=519882.48), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=836.64, unrealized=-428148.35, today_pnl=-428148.35)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 24, 53, 854883, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.879988+05:30", "timestamp": 1755777293.879988}}}
{"text": "2025-08-21 17:24:53.882 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1151905.47\n", "record": {"elapsed": {"repr": "0:00:02.098351", "seconds": 2.098351}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1151905.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.882579+05:30", "timestamp": 1755777293.882579}}}
{"text": "2025-08-21 17:24:53.884 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:02.100068", "seconds": 2.100068}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:53.884296+05:30", "timestamp": 1755777293.884296}}}
{"text": "2025-08-21 17:24:53.928 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.144278", "seconds": 2.144278}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:53.928506+05:30", "timestamp": 1755777293.928506}}}
{"text": "2025-08-21 17:24:53.930 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.146628", "seconds": 2.146628}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:53.930856+05:30", "timestamp": 1755777293.930856}}}
{"text": "2025-08-21 17:24:53.932 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.148554", "seconds": 2.148554}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:53.932782+05:30", "timestamp": 1755777293.932782}}}
{"text": "2025-08-21 17:24:53.934 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.150664", "seconds": 2.150664}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:53.934892+05:30", "timestamp": 1755777293.934892}}}
{"text": "2025-08-21 17:24:53.936 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.152665", "seconds": 2.152665}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:53.936893+05:30", "timestamp": 1755777293.936893}}}
{"text": "2025-08-21 17:24:53.939 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.155011", "seconds": 2.155011}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:53.939239+05:30", "timestamp": 1755777293.939239}}}
{"text": "2025-08-21 17:24:53.942 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.158133", "seconds": 2.158133}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:53.942361+05:30", "timestamp": 1755777293.942361}}}
{"text": "2025-08-21 17:24:53.945 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.161163", "seconds": 2.161163}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:53.945391+05:30", "timestamp": 1755777293.945391}}}
{"text": "2025-08-21 17:24:53.946 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.162559", "seconds": 2.162559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:53.946787+05:30", "timestamp": 1755777293.946787}}}
{"text": "2025-08-21 17:24:53.948 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.164326", "seconds": 2.164326}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:53.948554+05:30", "timestamp": 1755777293.948554}}}
{"text": "2025-08-21 17:24:54.859 | DEBUG    | app.ws.live:emit_delta:408 - Emitted orders delta: seq=3\n", "record": {"elapsed": {"repr": "0:00:03.075455", "seconds": 3.075455}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted orders delta: seq=3", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:54.859683+05:30", "timestamp": 1755777294.859683}}}
{"text": "2025-08-21 17:24:55.606 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=4\n", "record": {"elapsed": {"repr": "0:00:03.822233", "seconds": 3.822233}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=4", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.606461+05:30", "timestamp": 1755777295.606461}}}
{"text": "2025-08-21 17:24:55.658 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:03.874643", "seconds": 3.874643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.658871+05:30", "timestamp": 1755777295.658871}}}
{"text": "2025-08-21 17:24:55.660 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:03.876555", "seconds": 3.876555}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.660783+05:30", "timestamp": 1755777295.660783}}}
{"text": "2025-08-21 17:24:55.663 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=143445.07, today=143445.07\n", "record": {"elapsed": {"repr": "0:00:03.878992", "seconds": 3.878992}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=143445.07, today=143445.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.663220+05:30", "timestamp": 1755777295.66322}}}
{"text": "2025-08-21 17:24:55.664 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=1652751.73, today=1652751.73\n", "record": {"elapsed": {"repr": "0:00:03.880423", "seconds": 3.880423}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=1652751.73, today=1652751.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.664651+05:30", "timestamp": 1755777295.664651}}}
{"text": "2025-08-21 17:24:55.666 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-737400.82, today=-737400.82\n", "record": {"elapsed": {"repr": "0:00:03.881981", "seconds": 3.881981}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-737400.82, today=-737400.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.666209+05:30", "timestamp": 1755777295.666209}}}
{"text": "2025-08-21 17:24:55.667 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=515098.2, today=515098.2\n", "record": {"elapsed": {"repr": "0:00:03.883728", "seconds": 3.883728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=515098.2, today=515098.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.667956+05:30", "timestamp": 1755777295.667956}}}
{"text": "2025-08-21 17:24:55.669 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-422278.34, today=-422278.34\n", "record": {"elapsed": {"repr": "0:00:03.884816", "seconds": 3.884816}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-422278.34, today=-422278.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.669044+05:30", "timestamp": 1755777295.669044}}}
{"text": "2025-08-21 17:24:55.670 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1151615.84, day: 1151615.84\n", "record": {"elapsed": {"repr": "0:00:03.886667", "seconds": 3.886667}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1151615.84, day: 1151615.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.670895+05:30", "timestamp": 1755777295.670895}}}
{"text": "2025-08-21 17:24:55.673 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:03.888798", "seconds": 3.888798}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.673026+05:30", "timestamp": 1755777295.673026}}}
{"text": "2025-08-21 17:24:55.675 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:03.891093", "seconds": 3.891093}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.675321+05:30", "timestamp": 1755777295.675321}}}
{"text": "2025-08-21 17:24:55.676 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:03.892216", "seconds": 3.892216}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.676444+05:30", "timestamp": 1755777295.676444}}}
{"text": "2025-08-21 17:24:55.677 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:03.893136", "seconds": 3.893136}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.677364+05:30", "timestamp": 1755777295.677364}}}
{"text": "2025-08-21 17:24:55.679 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:24:55.662920+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:03.894772", "seconds": 3.894772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:24:55.662920+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.679000+05:30", "timestamp": 1755777295.679}}}
{"text": "2025-08-21 17:24:55.680 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1151615.84, day=1151615.84, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=636.35, unrealized=143445.07, today_pnl=143445.07), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.46, unrealized=1652751.73, today_pnl=1652751.73), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=654.99, unrealized=-737400.82, today_pnl=-737400.82), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=693.57, unrealized=515098.2, today_pnl=515098.2), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=846.99, unrealized=-422278.34, today_pnl=-422278.34)] updated_at=datetime.datetime(2025, 8, 21, 17, 24, 55, 662920, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:03.896393", "seconds": 3.896393}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1151615.84, day=1151615.84, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=636.35, unrealized=143445.07, today_pnl=143445.07), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.46, unrealized=1652751.73, today_pnl=1652751.73), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=654.99, unrealized=-737400.82, today_pnl=-737400.82), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=693.57, unrealized=515098.2, today_pnl=515098.2), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=846.99, unrealized=-422278.34, today_pnl=-422278.34)] updated_at=datetime.datetime(2025, 8, 21, 17, 24, 55, 662920, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.680621+05:30", "timestamp": 1755777295.680621}}}
{"text": "2025-08-21 17:24:55.683 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1151615.84, day=1151615.84, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=636.35, unrealized=143445.07, today_pnl=143445.07), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.46, unrealized=1652751.73, today_pnl=1652751.73), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=654.99, unrealized=-737400.82, today_pnl=-737400.82), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=693.57, unrealized=515098.2, today_pnl=515098.2), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=846.99, unrealized=-422278.34, today_pnl=-422278.34)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 24, 55, 662920, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:03.899665", "seconds": 3.899665}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1151615.84, day=1151615.84, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=636.35, unrealized=143445.07, today_pnl=143445.07), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.46, unrealized=1652751.73, today_pnl=1652751.73), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=654.99, unrealized=-737400.82, today_pnl=-737400.82), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=693.57, unrealized=515098.2, today_pnl=515098.2), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=846.99, unrealized=-422278.34, today_pnl=-422278.34)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 24, 55, 662920, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.683893+05:30", "timestamp": 1755777295.683893}}}
{"text": "2025-08-21 17:24:55.686 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1151615.84\n", "record": {"elapsed": {"repr": "0:00:03.902533", "seconds": 3.902533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1151615.84", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.686761+05:30", "timestamp": 1755777295.686761}}}
{"text": "2025-08-21 17:24:55.689 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=5\n", "record": {"elapsed": {"repr": "0:00:03.904974", "seconds": 3.904974}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=5", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:55.689202+05:30", "timestamp": 1755777295.689202}}}
{"text": "2025-08-21 17:24:55.951 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.167367", "seconds": 4.167367}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:55.951595+05:30", "timestamp": 1755777295.951595}}}
{"text": "2025-08-21 17:24:55.953 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.169559", "seconds": 4.169559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:55.953787+05:30", "timestamp": 1755777295.953787}}}
{"text": "2025-08-21 17:24:55.956 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.172080", "seconds": 4.17208}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:55.956308+05:30", "timestamp": 1755777295.956308}}}
{"text": "2025-08-21 17:24:55.958 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.174406", "seconds": 4.174406}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:55.958634+05:30", "timestamp": 1755777295.958634}}}
{"text": "2025-08-21 17:24:55.961 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.177269", "seconds": 4.177269}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:55.961497+05:30", "timestamp": 1755777295.961497}}}
{"text": "2025-08-21 17:24:55.963 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.178811", "seconds": 4.178811}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:55.963039+05:30", "timestamp": 1755777295.963039}}}
{"text": "2025-08-21 17:24:55.965 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.180791", "seconds": 4.180791}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:55.965019+05:30", "timestamp": 1755777295.965019}}}
{"text": "2025-08-21 17:24:55.967 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.183272", "seconds": 4.183272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:55.967500+05:30", "timestamp": 1755777295.9675}}}
{"text": "2025-08-21 17:24:55.970 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.186137", "seconds": 4.186137}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:55.970365+05:30", "timestamp": 1755777295.970365}}}
{"text": "2025-08-21 17:24:55.973 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.188895", "seconds": 4.188895}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:55.973123+05:30", "timestamp": 1755777295.973123}}}
{"text": "2025-08-21 17:24:57.238 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=6\n", "record": {"elapsed": {"repr": "0:00:05.454521", "seconds": 5.454521}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=6", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.238749+05:30", "timestamp": 1755777297.238749}}}
{"text": "2025-08-21 17:24:57.367 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:05.583050", "seconds": 5.58305}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.367278+05:30", "timestamp": 1755777297.367278}}}
{"text": "2025-08-21 17:24:57.369 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:05.585647", "seconds": 5.585647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.369875+05:30", "timestamp": 1755777297.369875}}}
{"text": "2025-08-21 17:24:57.372 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=148695.83, today=148695.83\n", "record": {"elapsed": {"repr": "0:00:05.587992", "seconds": 5.587992}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=148695.83, today=148695.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.372220+05:30", "timestamp": 1755777297.37222}}}
{"text": "2025-08-21 17:24:57.374 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=1651901.87, today=1651901.87\n", "record": {"elapsed": {"repr": "0:00:05.590593", "seconds": 5.590593}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=1651901.87, today=1651901.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.374821+05:30", "timestamp": 1755777297.374821}}}
{"text": "2025-08-21 17:24:57.379 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-742354.67, today=-742354.67\n", "record": {"elapsed": {"repr": "0:00:05.595152", "seconds": 5.595152}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-742354.67, today=-742354.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.379380+05:30", "timestamp": 1755777297.37938}}}
{"text": "2025-08-21 17:24:57.382 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=521064.17, today=521064.17\n", "record": {"elapsed": {"repr": "0:00:05.598430", "seconds": 5.59843}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=521064.17, today=521064.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.382658+05:30", "timestamp": 1755777297.382658}}}
{"text": "2025-08-21 17:24:57.385 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-423198.55, today=-423198.55\n", "record": {"elapsed": {"repr": "0:00:05.601359", "seconds": 5.601359}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-423198.55, today=-423198.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.385587+05:30", "timestamp": 1755777297.385587}}}
{"text": "2025-08-21 17:24:57.387 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1156108.65, day: 1156108.65\n", "record": {"elapsed": {"repr": "0:00:05.603576", "seconds": 5.603576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1156108.65, day: 1156108.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.387804+05:30", "timestamp": 1755777297.387804}}}
{"text": "2025-08-21 17:24:57.389 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:05.605490", "seconds": 5.60549}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.389718+05:30", "timestamp": 1755777297.389718}}}
{"text": "2025-08-21 17:24:57.392 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:05.608109", "seconds": 5.608109}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.392337+05:30", "timestamp": 1755777297.392337}}}
{"text": "2025-08-21 17:24:57.394 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:05.610078", "seconds": 5.610078}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.394306+05:30", "timestamp": 1755777297.394306}}}
{"text": "2025-08-21 17:24:57.397 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:05.613658", "seconds": 5.613658}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.397886+05:30", "timestamp": 1755777297.397886}}}
{"text": "2025-08-21 17:24:57.401 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:24:57.371948+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:05.616834", "seconds": 5.616834}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:24:57.371948+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.401062+05:30", "timestamp": 1755777297.401062}}}
{"text": "2025-08-21 17:24:57.404 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1156108.65, day=1156108.65, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=643.85, unrealized=148695.83, today_pnl=148695.83), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.94, unrealized=1651901.87, today_pnl=1651901.87), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=648.37, unrealized=-742354.67, today_pnl=-742354.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=682.7, unrealized=521064.17, today_pnl=521064.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=845.37, unrealized=-423198.55, today_pnl=-423198.55)] updated_at=datetime.datetime(2025, 8, 21, 17, 24, 57, 371948, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:05.619972", "seconds": 5.619972}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1156108.65, day=1156108.65, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=643.85, unrealized=148695.83, today_pnl=148695.83), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.94, unrealized=1651901.87, today_pnl=1651901.87), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=648.37, unrealized=-742354.67, today_pnl=-742354.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=682.7, unrealized=521064.17, today_pnl=521064.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=845.37, unrealized=-423198.55, today_pnl=-423198.55)] updated_at=datetime.datetime(2025, 8, 21, 17, 24, 57, 371948, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.404200+05:30", "timestamp": 1755777297.4042}}}
{"text": "2025-08-21 17:24:57.406 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1156108.65, day=1156108.65, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=643.85, unrealized=148695.83, today_pnl=148695.83), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.94, unrealized=1651901.87, today_pnl=1651901.87), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=648.37, unrealized=-742354.67, today_pnl=-742354.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=682.7, unrealized=521064.17, today_pnl=521064.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=845.37, unrealized=-423198.55, today_pnl=-423198.55)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 24, 57, 371948, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:05.622534", "seconds": 5.622534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1156108.65, day=1156108.65, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=643.85, unrealized=148695.83, today_pnl=148695.83), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.94, unrealized=1651901.87, today_pnl=1651901.87), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=648.37, unrealized=-742354.67, today_pnl=-742354.67), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=682.7, unrealized=521064.17, today_pnl=521064.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=845.37, unrealized=-423198.55, today_pnl=-423198.55)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 24, 57, 371948, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.406762+05:30", "timestamp": 1755777297.406762}}}
{"text": "2025-08-21 17:24:57.409 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1156108.65\n", "record": {"elapsed": {"repr": "0:00:05.625148", "seconds": 5.625148}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1156108.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.409376+05:30", "timestamp": 1755777297.409376}}}
{"text": "2025-08-21 17:24:57.411 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=7\n", "record": {"elapsed": {"repr": "0:00:05.627270", "seconds": 5.62727}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=7", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:57.411498+05:30", "timestamp": 1755777297.411498}}}
{"text": "2025-08-21 17:24:57.976 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.192218", "seconds": 6.192218}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:57.976446+05:30", "timestamp": 1755777297.976446}}}
{"text": "2025-08-21 17:24:57.979 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.195043", "seconds": 6.195043}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:57.979271+05:30", "timestamp": 1755777297.979271}}}
{"text": "2025-08-21 17:24:57.981 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.197128", "seconds": 6.197128}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:57.981356+05:30", "timestamp": 1755777297.981356}}}
{"text": "2025-08-21 17:24:57.983 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.199746", "seconds": 6.199746}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:57.983974+05:30", "timestamp": 1755777297.983974}}}
{"text": "2025-08-21 17:24:57.986 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.202274", "seconds": 6.202274}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:57.986502+05:30", "timestamp": 1755777297.986502}}}
{"text": "2025-08-21 17:24:57.988 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.204357", "seconds": 6.204357}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:57.988585+05:30", "timestamp": 1755777297.988585}}}
{"text": "2025-08-21 17:24:57.992 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.208307", "seconds": 6.208307}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:57.992535+05:30", "timestamp": 1755777297.992535}}}
{"text": "2025-08-21 17:24:57.995 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.211022", "seconds": 6.211022}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:57.995250+05:30", "timestamp": 1755777297.99525}}}
{"text": "2025-08-21 17:24:57.997 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.213718", "seconds": 6.213718}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:57.997946+05:30", "timestamp": 1755777297.997946}}}
{"text": "2025-08-21 17:24:58.000 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.216156", "seconds": 6.216156}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:24:58.000384+05:30", "timestamp": 1755777298.000384}}}
{"text": "2025-08-21 17:24:58.948 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:07.163891", "seconds": 7.163891}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.948119+05:30", "timestamp": 1755777298.948119}}}
{"text": "2025-08-21 17:24:58.950 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:07.166251", "seconds": 7.166251}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.950479+05:30", "timestamp": 1755777298.950479}}}
{"text": "2025-08-21 17:24:58.952 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=145258.74, today=145258.74\n", "record": {"elapsed": {"repr": "0:00:07.168198", "seconds": 7.168198}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=145258.74, today=145258.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.952426+05:30", "timestamp": 1755777298.952426}}}
{"text": "2025-08-21 17:24:58.954 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=1652260.9, today=1652260.9\n", "record": {"elapsed": {"repr": "0:00:07.170523", "seconds": 7.170523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=1652260.9, today=1652260.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.954751+05:30", "timestamp": 1755777298.954751}}}
{"text": "2025-08-21 17:24:58.957 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-736611.78, today=-736611.78\n", "record": {"elapsed": {"repr": "0:00:07.173517", "seconds": 7.173517}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-736611.78, today=-736611.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.957745+05:30", "timestamp": 1755777298.957745}}}
{"text": "2025-08-21 17:24:58.961 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=520412.87, today=520412.87\n", "record": {"elapsed": {"repr": "0:00:07.177138", "seconds": 7.177138}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=520412.87, today=520412.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.961366+05:30", "timestamp": 1755777298.961366}}}
{"text": "2025-08-21 17:24:58.963 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-414680.54, today=-414680.54\n", "record": {"elapsed": {"repr": "0:00:07.179532", "seconds": 7.179532}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-414680.54, today=-414680.54", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.963760+05:30", "timestamp": 1755777298.96376}}}
{"text": "2025-08-21 17:24:58.965 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1166640.19, day: 1166640.19\n", "record": {"elapsed": {"repr": "0:00:07.180979", "seconds": 7.180979}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1166640.19, day: 1166640.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.965207+05:30", "timestamp": 1755777298.965207}}}
{"text": "2025-08-21 17:24:58.966 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:07.182236", "seconds": 7.182236}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.966464+05:30", "timestamp": 1755777298.966464}}}
{"text": "2025-08-21 17:24:58.968 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:07.183832", "seconds": 7.183832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.968060+05:30", "timestamp": 1755777298.96806}}}
{"text": "2025-08-21 17:24:58.970 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:07.185978", "seconds": 7.185978}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.970206+05:30", "timestamp": 1755777298.970206}}}
{"text": "2025-08-21 17:24:58.971 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:07.187710", "seconds": 7.18771}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.971938+05:30", "timestamp": 1755777298.971938}}}
{"text": "2025-08-21 17:24:58.973 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:24:58.952245+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:07.189048", "seconds": 7.189048}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:24:58.952245+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.973276+05:30", "timestamp": 1755777298.973276}}}
{"text": "2025-08-21 17:24:58.975 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1166640.19, day=1166640.19, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=638.94, unrealized=145258.74, today_pnl=145258.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.74, unrealized=1652260.9, today_pnl=1652260.9), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=656.04, unrealized=-736611.78, today_pnl=-736611.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=683.89, unrealized=520412.87, today_pnl=520412.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=860.39, unrealized=-414680.54, today_pnl=-414680.54)] updated_at=datetime.datetime(2025, 8, 21, 17, 24, 58, 952245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:07.191196", "seconds": 7.191196}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1166640.19, day=1166640.19, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=638.94, unrealized=145258.74, today_pnl=145258.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.74, unrealized=1652260.9, today_pnl=1652260.9), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=656.04, unrealized=-736611.78, today_pnl=-736611.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=683.89, unrealized=520412.87, today_pnl=520412.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=860.39, unrealized=-414680.54, today_pnl=-414680.54)] updated_at=datetime.datetime(2025, 8, 21, 17, 24, 58, 952245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.975424+05:30", "timestamp": 1755777298.975424}}}
{"text": "2025-08-21 17:24:58.978 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1166640.19, day=1166640.19, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=638.94, unrealized=145258.74, today_pnl=145258.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.74, unrealized=1652260.9, today_pnl=1652260.9), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=656.04, unrealized=-736611.78, today_pnl=-736611.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=683.89, unrealized=520412.87, today_pnl=520412.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=860.39, unrealized=-414680.54, today_pnl=-414680.54)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 24, 58, 952245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:07.194714", "seconds": 7.194714}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1166640.19, day=1166640.19, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=638.94, unrealized=145258.74, today_pnl=145258.74), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=108.74, unrealized=1652260.9, today_pnl=1652260.9), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=656.04, unrealized=-736611.78, today_pnl=-736611.78), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=683.89, unrealized=520412.87, today_pnl=520412.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=860.39, unrealized=-414680.54, today_pnl=-414680.54)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 24, 58, 952245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.978942+05:30", "timestamp": 1755777298.978942}}}
{"text": "2025-08-21 17:24:58.981 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1166640.19\n", "record": {"elapsed": {"repr": "0:00:07.197520", "seconds": 7.19752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1166640.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.981748+05:30", "timestamp": 1755777298.981748}}}
{"text": "2025-08-21 17:24:58.984 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=8\n", "record": {"elapsed": {"repr": "0:00:07.200252", "seconds": 7.200252}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=8", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:58.984480+05:30", "timestamp": 1755777298.98448}}}
{"text": "2025-08-21 17:24:59.190 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=9\n", "record": {"elapsed": {"repr": "0:00:07.406477", "seconds": 7.406477}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=9", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:24:59.190705+05:30", "timestamp": 1755777299.190705}}}
{"text": "2025-08-21 17:25:00.002 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.218611", "seconds": 8.218611}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:00.002839+05:30", "timestamp": 1755777300.002839}}}
{"text": "2025-08-21 17:25:00.004 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.220348", "seconds": 8.220348}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:00.004576+05:30", "timestamp": 1755777300.004576}}}
{"text": "2025-08-21 17:25:00.006 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.221912", "seconds": 8.221912}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:00.006140+05:30", "timestamp": 1755777300.00614}}}
{"text": "2025-08-21 17:25:00.007 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.223323", "seconds": 8.223323}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:00.007551+05:30", "timestamp": 1755777300.007551}}}
{"text": "2025-08-21 17:25:00.010 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.226314", "seconds": 8.226314}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:00.010542+05:30", "timestamp": 1755777300.010542}}}
{"text": "2025-08-21 17:25:00.013 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.229336", "seconds": 8.229336}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:00.013564+05:30", "timestamp": 1755777300.013564}}}
{"text": "2025-08-21 17:25:00.019 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.235628", "seconds": 8.235628}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:00.019856+05:30", "timestamp": 1755777300.019856}}}
{"text": "2025-08-21 17:25:00.026 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.242010", "seconds": 8.24201}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:00.026238+05:30", "timestamp": 1755777300.026238}}}
{"text": "2025-08-21 17:25:00.033 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.249693", "seconds": 8.249693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:00.033921+05:30", "timestamp": 1755777300.033921}}}
{"text": "2025-08-21 17:25:00.037 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.253028", "seconds": 8.253028}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:00.037256+05:30", "timestamp": 1755777300.037256}}}
{"text": "2025-08-21 17:25:00.806 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:09.022123", "seconds": 9.022123}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.806351+05:30", "timestamp": 1755777300.806351}}}
{"text": "2025-08-21 17:25:00.809 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:09.024793", "seconds": 9.024793}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.809021+05:30", "timestamp": 1755777300.809021}}}
{"text": "2025-08-21 17:25:00.811 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=141361.89, today=141361.89\n", "record": {"elapsed": {"repr": "0:00:09.027168", "seconds": 9.027168}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=141361.89, today=141361.89", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.811396+05:30", "timestamp": 1755777300.811396}}}
{"text": "2025-08-21 17:25:00.813 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=1655458.02, today=1655458.02\n", "record": {"elapsed": {"repr": "0:00:09.029012", "seconds": 9.029012}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=1655458.02, today=1655458.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.813240+05:30", "timestamp": 1755777300.81324}}}
{"text": "2025-08-21 17:25:00.815 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-745874.02, today=-745874.02\n", "record": {"elapsed": {"repr": "0:00:09.031586", "seconds": 9.031586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-745874.02, today=-745874.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.815814+05:30", "timestamp": 1755777300.815814}}}
{"text": "2025-08-21 17:25:00.817 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=522078.32, today=522078.32\n", "record": {"elapsed": {"repr": "0:00:09.033020", "seconds": 9.03302}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=522078.32, today=522078.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.817248+05:30", "timestamp": 1755777300.817248}}}
{"text": "2025-08-21 17:25:00.820 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-418324.81, today=-418324.81\n", "record": {"elapsed": {"repr": "0:00:09.036001", "seconds": 9.036001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-418324.81, today=-418324.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.820229+05:30", "timestamp": 1755777300.820229}}}
{"text": "2025-08-21 17:25:00.821 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1154699.4, day: 1154699.4\n", "record": {"elapsed": {"repr": "0:00:09.037560", "seconds": 9.03756}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1154699.4, day: 1154699.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.821788+05:30", "timestamp": 1755777300.821788}}}
{"text": "2025-08-21 17:25:00.824 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:09.040446", "seconds": 9.040446}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.824674+05:30", "timestamp": 1755777300.824674}}}
{"text": "2025-08-21 17:25:00.826 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:09.042394", "seconds": 9.042394}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.826622+05:30", "timestamp": 1755777300.826622}}}
{"text": "2025-08-21 17:25:00.828 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:09.044752", "seconds": 9.044752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.828980+05:30", "timestamp": 1755777300.82898}}}
{"text": "2025-08-21 17:25:00.831 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:09.046957", "seconds": 9.046957}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.831185+05:30", "timestamp": 1755777300.831185}}}
{"text": "2025-08-21 17:25:00.833 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:00.811174+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:09.049010", "seconds": 9.04901}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:00.811174+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.833238+05:30", "timestamp": 1755777300.833238}}}
{"text": "2025-08-21 17:25:00.836 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1154699.4, day=1154699.4, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=633.38, unrealized=141361.89, today_pnl=141361.89), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=106.96, unrealized=1655458.02, today_pnl=1655458.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=643.66, unrealized=-745874.02, today_pnl=-745874.02), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=680.86, unrealized=522078.32, today_pnl=522078.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=853.96, unrealized=-418324.81, today_pnl=-418324.81)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 0, 811174, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:09.052225", "seconds": 9.052225}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1154699.4, day=1154699.4, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=633.38, unrealized=141361.89, today_pnl=141361.89), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=106.96, unrealized=1655458.02, today_pnl=1655458.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=643.66, unrealized=-745874.02, today_pnl=-745874.02), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=680.86, unrealized=522078.32, today_pnl=522078.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=853.96, unrealized=-418324.81, today_pnl=-418324.81)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 0, 811174, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.836453+05:30", "timestamp": 1755777300.836453}}}
{"text": "2025-08-21 17:25:00.840 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1154699.4, day=1154699.4, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=633.38, unrealized=141361.89, today_pnl=141361.89), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=106.96, unrealized=1655458.02, today_pnl=1655458.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=643.66, unrealized=-745874.02, today_pnl=-745874.02), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=680.86, unrealized=522078.32, today_pnl=522078.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=853.96, unrealized=-418324.81, today_pnl=-418324.81)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 0, 811174, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:09.055849", "seconds": 9.055849}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1154699.4, day=1154699.4, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=633.38, unrealized=141361.89, today_pnl=141361.89), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=106.96, unrealized=1655458.02, today_pnl=1655458.02), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=643.66, unrealized=-745874.02, today_pnl=-745874.02), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=680.86, unrealized=522078.32, today_pnl=522078.32), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=853.96, unrealized=-418324.81, today_pnl=-418324.81)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 0, 811174, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.840077+05:30", "timestamp": 1755777300.840077}}}
{"text": "2025-08-21 17:25:00.843 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1154699.40\n", "record": {"elapsed": {"repr": "0:00:09.059255", "seconds": 9.059255}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1154699.40", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.843483+05:30", "timestamp": 1755777300.843483}}}
{"text": "2025-08-21 17:25:00.846 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=10\n", "record": {"elapsed": {"repr": "0:00:09.062411", "seconds": 9.062411}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=10", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:00.846639+05:30", "timestamp": 1755777300.846639}}}
{"text": "2025-08-21 17:25:01.116 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=11\n", "record": {"elapsed": {"repr": "0:00:09.331984", "seconds": 9.331984}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=11", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:01.116212+05:30", "timestamp": 1755777301.116212}}}
{"text": "2025-08-21 17:25:02.040 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.256657", "seconds": 10.256657}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:02.040885+05:30", "timestamp": 1755777302.040885}}}
{"text": "2025-08-21 17:25:02.043 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.259715", "seconds": 10.259715}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:02.043943+05:30", "timestamp": 1755777302.043943}}}
{"text": "2025-08-21 17:25:02.045 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.261670", "seconds": 10.26167}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:02.045898+05:30", "timestamp": 1755777302.045898}}}
{"text": "2025-08-21 17:25:02.048 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.264229", "seconds": 10.264229}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:02.048457+05:30", "timestamp": 1755777302.048457}}}
{"text": "2025-08-21 17:25:02.050 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.266193", "seconds": 10.266193}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:02.050421+05:30", "timestamp": 1755777302.050421}}}
{"text": "2025-08-21 17:25:02.053 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.268878", "seconds": 10.268878}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:02.053106+05:30", "timestamp": 1755777302.053106}}}
{"text": "2025-08-21 17:25:02.055 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.271402", "seconds": 10.271402}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:02.055630+05:30", "timestamp": 1755777302.05563}}}
{"text": "2025-08-21 17:25:02.058 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.274004", "seconds": 10.274004}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:02.058232+05:30", "timestamp": 1755777302.058232}}}
{"text": "2025-08-21 17:25:02.063 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.279614", "seconds": 10.279614}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:02.063842+05:30", "timestamp": 1755777302.063842}}}
{"text": "2025-08-21 17:25:02.066 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.282528", "seconds": 10.282528}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 12268, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:02.066756+05:30", "timestamp": 1755777302.066756}}}
{"text": "2025-08-21 17:25:02.606 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:10.822098", "seconds": 10.822098}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.606326+05:30", "timestamp": 1755777302.606326}}}
{"text": "2025-08-21 17:25:02.608 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:10.824511", "seconds": 10.824511}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.608739+05:30", "timestamp": 1755777302.608739}}}
{"text": "2025-08-21 17:25:02.611 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=147070.58, today=147070.58\n", "record": {"elapsed": {"repr": "0:00:10.827246", "seconds": 10.827246}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=147070.58, today=147070.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.611474+05:30", "timestamp": 1755777302.611474}}}
{"text": "2025-08-21 17:25:02.614 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=1656381.16, today=1656381.16\n", "record": {"elapsed": {"repr": "0:00:10.830013", "seconds": 10.830013}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=1656381.16, today=1656381.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.614241+05:30", "timestamp": 1755777302.614241}}}
{"text": "2025-08-21 17:25:02.619 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-739187.62, today=-739187.62\n", "record": {"elapsed": {"repr": "0:00:10.834837", "seconds": 10.834837}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-739187.62, today=-739187.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.619065+05:30", "timestamp": 1755777302.619065}}}
{"text": "2025-08-21 17:25:02.625 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=515221.37, today=515221.37\n", "record": {"elapsed": {"repr": "0:00:10.841225", "seconds": 10.841225}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=515221.37, today=515221.37", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.625453+05:30", "timestamp": 1755777302.625453}}}
{"text": "2025-08-21 17:25:02.628 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-426533.78, today=-426533.78\n", "record": {"elapsed": {"repr": "0:00:10.844190", "seconds": 10.84419}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-426533.78, today=-426533.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.628418+05:30", "timestamp": 1755777302.628418}}}
{"text": "2025-08-21 17:25:02.630 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 1152951.71, day: 1152951.71\n", "record": {"elapsed": {"repr": "0:00:10.846242", "seconds": 10.846242}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 1152951.71, day: 1152951.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.630470+05:30", "timestamp": 1755777302.63047}}}
{"text": "2025-08-21 17:25:02.633 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:10.848880", "seconds": 10.84888}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.633108+05:30", "timestamp": 1755777302.633108}}}
{"text": "2025-08-21 17:25:02.635 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:10.851624", "seconds": 10.851624}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.635852+05:30", "timestamp": 1755777302.635852}}}
{"text": "2025-08-21 17:25:02.640 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:10.856496", "seconds": 10.856496}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.640724+05:30", "timestamp": 1755777302.640724}}}
{"text": "2025-08-21 17:25:02.643 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:10.859600", "seconds": 10.8596}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.643828+05:30", "timestamp": 1755777302.643828}}}
{"text": "2025-08-21 17:25:02.646 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:02.611211+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:10.862258", "seconds": 10.862258}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:02.611211+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.646486+05:30", "timestamp": 1755777302.646486}}}
{"text": "2025-08-21 17:25:02.651 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1152951.71, day=1152951.71, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=641.53, unrealized=147070.58, today_pnl=147070.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=106.45, unrealized=1656381.16, today_pnl=1656381.16), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=652.6, unrealized=-739187.62, today_pnl=-739187.62), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=693.35, unrealized=515221.37, today_pnl=515221.37), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=839.49, unrealized=-426533.78, today_pnl=-426533.78)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 2, 611211, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:10.866939", "seconds": 10.866939}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=1152951.71, day=1152951.71, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=641.53, unrealized=147070.58, today_pnl=147070.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=106.45, unrealized=1656381.16, today_pnl=1656381.16), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=652.6, unrealized=-739187.62, today_pnl=-739187.62), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=693.35, unrealized=515221.37, today_pnl=515221.37), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=839.49, unrealized=-426533.78, today_pnl=-426533.78)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 2, 611211, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.651167+05:30", "timestamp": 1755777302.651167}}}
{"text": "2025-08-21 17:25:02.654 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1152951.71, day=1152951.71, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=641.53, unrealized=147070.58, today_pnl=147070.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=106.45, unrealized=1656381.16, today_pnl=1656381.16), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=652.6, unrealized=-739187.62, today_pnl=-739187.62), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=693.35, unrealized=515221.37, today_pnl=515221.37), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=839.49, unrealized=-426533.78, today_pnl=-426533.78)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 2, 611211, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:10.870068", "seconds": 10.870068}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=1152951.71, day=1152951.71, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=700, avg=431.43, ltp=641.53, unrealized=147070.58, today_pnl=147070.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=1801, avg=1026.15, ltp=106.45, unrealized=1656381.16, today_pnl=1656381.16), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=748, avg=1640.82, ltp=652.6, unrealized=-739187.62, today_pnl=-739187.62), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=549, avg=1631.82, ltp=693.35, unrealized=515221.37, today_pnl=515221.37), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=567, avg=1591.75, ltp=839.49, unrealized=-426533.78, today_pnl=-426533.78)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 2, 611211, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.654296+05:30", "timestamp": 1755777302.654296}}}
{"text": "2025-08-21 17:25:02.657 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1152951.71\n", "record": {"elapsed": {"repr": "0:00:10.873147", "seconds": 10.873147}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ1152951.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.657375+05:30", "timestamp": 1755777302.657375}}}
{"text": "2025-08-21 17:25:02.661 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=12\n", "record": {"elapsed": {"repr": "0:00:10.876799", "seconds": 10.876799}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=12", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:02.661027+05:30", "timestamp": 1755777302.661027}}}
{"text": "2025-08-21 17:25:03.003 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=13\n", "record": {"elapsed": {"repr": "0:00:11.219571", "seconds": 11.219571}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=13", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:03.003799+05:30", "timestamp": 1755777303.003799}}}
{"text": "2025-08-21 17:25:03.955 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:12.171498", "seconds": 12.171498}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:03.955726+05:30", "timestamp": 1755777303.955726}}}
{"text": "2025-08-21 17:25:03.957 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:12.173119", "seconds": 12.173119}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:03.957347+05:30", "timestamp": 1755777303.957347}}}
{"text": "2025-08-21 17:25:03.958 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:00:12.174271", "seconds": 12.174271}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 26896, "name": "MainProcess"}, "thread": {"id": 17936, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:03.958499+05:30", "timestamp": 1755777303.958499}}}
{"text": "2025-08-21 17:25:10.659 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.085251", "seconds": 0.085251}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.659028+05:30", "timestamp": 1755777310.659028}}}
{"text": "2025-08-21 17:25:10.660 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=3086, avg_price=1134.1300228555488, ltp=1116.658875105273\n", "record": {"elapsed": {"repr": "0:00:00.087077", "seconds": 0.087077}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=3086, avg_price=1134.1300228555488, ltp=1116.658875105273", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.660854+05:30", "timestamp": 1755777310.660854}}}
{"text": "2025-08-21 17:25:10.662 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=2397, avg_price=1038.4436045979132, ltp=840.4372552054477\n", "record": {"elapsed": {"repr": "0:00:00.088629", "seconds": 0.088629}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=2397, avg_price=1038.4436045979132, ltp=840.4372552054477", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.662406+05:30", "timestamp": 1755777310.662406}}}
{"text": "2025-08-21 17:25:10.663 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=1982, avg_price=1112.9327154609239, ltp=973.9742342859831\n", "record": {"elapsed": {"repr": "0:00:00.089872", "seconds": 0.089872}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=1982, avg_price=1112.9327154609239, ltp=973.9742342859831", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.663649+05:30", "timestamp": 1755777310.663649}}}
{"text": "2025-08-21 17:25:10.665 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=4890, avg_price=1240.1954814175692, ltp=1167.284388551658\n", "record": {"elapsed": {"repr": "0:00:00.091337", "seconds": 0.091337}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=4890, avg_price=1240.1954814175692, ltp=1167.284388551658", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.665114+05:30", "timestamp": 1755777310.665114}}}
{"text": "2025-08-21 17:25:10.667 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=1822, avg_price=534.2588200255002, ltp=469.16483099481275\n", "record": {"elapsed": {"repr": "0:00:00.094137", "seconds": 0.094137}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=1822, avg_price=534.2588200255002, ltp=469.16483099481275", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.667914+05:30", "timestamp": 1755777310.667914}}}
{"text": "2025-08-21 17:25:10.669 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=3421, avg_price=301.3246616813945, ltp=274.1287607833253\n", "record": {"elapsed": {"repr": "0:00:00.095518", "seconds": 0.095518}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=3421, avg_price=301.3246616813945, ltp=274.1287607833253", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.669295+05:30", "timestamp": 1755777310.669295}}}
{"text": "2025-08-21 17:25:10.670 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=3876, avg_price=948.8494542476653, ltp=1099.7561848494581\n", "record": {"elapsed": {"repr": "0:00:00.096875", "seconds": 0.096875}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=3876, avg_price=948.8494542476653, ltp=1099.7561848494581", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.670652+05:30", "timestamp": 1755777310.670652}}}
{"text": "2025-08-21 17:25:10.672 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=4634, avg_price=537.3019169899676, ltp=526.6904526148554\n", "record": {"elapsed": {"repr": "0:00:00.098327", "seconds": 0.098327}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=4634, avg_price=537.3019169899676, ltp=526.6904526148554", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.672104+05:30", "timestamp": 1755777310.672104}}}
{"text": "2025-08-21 17:25:10.673 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=156, avg_price=206.78774104300567, ltp=232.3284652533218\n", "record": {"elapsed": {"repr": "0:00:00.099602", "seconds": 0.099602}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=156, avg_price=206.78774104300567, ltp=232.3284652533218", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.673379+05:30", "timestamp": 1755777310.673379}}}
{"text": "2025-08-21 17:25:10.674 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=130, avg_price=1054.9721527333281, ltp=896.2321257052475\n", "record": {"elapsed": {"repr": "0:00:00.100980", "seconds": 0.10098}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=130, avg_price=1054.9721527333281, ltp=896.2321257052475", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.674757+05:30", "timestamp": 1755777310.674757}}}
{"text": "2025-08-21 17:25:10.675 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.102219", "seconds": 0.102219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.675996+05:30", "timestamp": 1755777310.675996}}}
{"text": "2025-08-21 17:25:10.677 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=472, avg_price=298.65\n", "record": {"elapsed": {"repr": "0:00:00.103781", "seconds": 0.103781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=472, avg_price=298.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.677558+05:30", "timestamp": 1755777310.677558}}}
{"text": "2025-08-21 17:25:10.678 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=1876, avg_price=1886.1\n", "record": {"elapsed": {"repr": "0:00:00.105219", "seconds": 0.105219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=1876, avg_price=1886.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.678996+05:30", "timestamp": 1755777310.678996}}}
{"text": "2025-08-21 17:25:10.680 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1582, avg_price=1008.77\n", "record": {"elapsed": {"repr": "0:00:00.106404", "seconds": 0.106404}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1582, avg_price=1008.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.680181+05:30", "timestamp": 1755777310.680181}}}
{"text": "2025-08-21 17:25:10.681 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=856, avg_price=1203.78\n", "record": {"elapsed": {"repr": "0:00:00.108160", "seconds": 0.10816}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=856, avg_price=1203.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.681937+05:30", "timestamp": 1755777310.681937}}}
{"text": "2025-08-21 17:25:10.682 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=562, avg_price=1569.39\n", "record": {"elapsed": {"repr": "0:00:00.109193", "seconds": 0.109193}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=562, avg_price=1569.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.682970+05:30", "timestamp": 1755777310.68297}}}
{"text": "2025-08-21 17:25:10.684 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.110248", "seconds": 0.110248}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.684025+05:30", "timestamp": 1755777310.684025}}}
{"text": "2025-08-21 17:25:10.686 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.112348", "seconds": 0.112348}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.686125+05:30", "timestamp": 1755777310.686125}}}
{"text": "2025-08-21 17:25:10.688 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.114326", "seconds": 0.114326}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.688103+05:30", "timestamp": 1755777310.688103}}}
{"text": "2025-08-21 17:25:10.689 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.115863", "seconds": 0.115863}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.689640+05:30", "timestamp": 1755777310.68964}}}
{"text": "2025-08-21 17:25:10.738 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.165070", "seconds": 0.16507}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 27160, "name": "MainProcess"}, "thread": {"id": 2484, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:10.738847+05:30", "timestamp": 1755777310.738847}}}
{"text": "2025-08-21 17:25:37.358 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.095156", "seconds": 0.095156}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.358374+05:30", "timestamp": 1755777337.358374}}}
{"text": "2025-08-21 17:25:37.360 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=530, avg_price=121.22734816014162, ltp=119.20269385289747\n", "record": {"elapsed": {"repr": "0:00:00.096962", "seconds": 0.096962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=530, avg_price=121.22734816014162, ltp=119.20269385289747", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.360180+05:30", "timestamp": 1755777337.36018}}}
{"text": "2025-08-21 17:25:37.361 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=3074, avg_price=1728.0540597714771, ltp=1886.813129717159\n", "record": {"elapsed": {"repr": "0:00:00.098322", "seconds": 0.098322}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=3074, avg_price=1728.0540597714771, ltp=1886.813129717159", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.361540+05:30", "timestamp": 1755777337.36154}}}
{"text": "2025-08-21 17:25:37.363 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=690, avg_price=1631.0632699694747, ltp=1730.0357345281839\n", "record": {"elapsed": {"repr": "0:00:00.099941", "seconds": 0.099941}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=690, avg_price=1631.0632699694747, ltp=1730.0357345281839", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.363159+05:30", "timestamp": 1755777337.363159}}}
{"text": "2025-08-21 17:25:37.364 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=2802, avg_price=1194.5526674527869, ltp=1106.6364754843978\n", "record": {"elapsed": {"repr": "0:00:00.100829", "seconds": 0.100829}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=2802, avg_price=1194.5526674527869, ltp=1106.6364754843978", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.364047+05:30", "timestamp": 1755777337.364047}}}
{"text": "2025-08-21 17:25:37.365 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=2266, avg_price=941.1598140628672, ltp=849.0239515283713\n", "record": {"elapsed": {"repr": "0:00:00.101932", "seconds": 0.101932}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=2266, avg_price=941.1598140628672, ltp=849.0239515283713", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.365150+05:30", "timestamp": 1755777337.36515}}}
{"text": "2025-08-21 17:25:37.366 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=748, avg_price=730.5185132581308, ltp=585.3305509074411\n", "record": {"elapsed": {"repr": "0:00:00.103543", "seconds": 0.103543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=748, avg_price=730.5185132581308, ltp=585.3305509074411", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.366761+05:30", "timestamp": 1755777337.366761}}}
{"text": "2025-08-21 17:25:37.368 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=3705, avg_price=625.3631549349392, ltp=736.4246712573658\n", "record": {"elapsed": {"repr": "0:00:00.105219", "seconds": 0.105219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=3705, avg_price=625.3631549349392, ltp=736.4246712573658", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.368437+05:30", "timestamp": 1755777337.368437}}}
{"text": "2025-08-21 17:25:37.369 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=4201, avg_price=1168.7990499596153, ltp=1274.6032538972129\n", "record": {"elapsed": {"repr": "0:00:00.106640", "seconds": 0.10664}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=4201, avg_price=1168.7990499596153, ltp=1274.6032538972129", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.369858+05:30", "timestamp": 1755777337.369858}}}
{"text": "2025-08-21 17:25:37.371 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=513, avg_price=1117.8367216673896, ltp=1003.2748526357622\n", "record": {"elapsed": {"repr": "0:00:00.108174", "seconds": 0.108174}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=513, avg_price=1117.8367216673896, ltp=1003.2748526357622", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.371392+05:30", "timestamp": 1755777337.371392}}}
{"text": "2025-08-21 17:25:37.372 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=1420, avg_price=152.1796320110816, ltp=156.9381218436474\n", "record": {"elapsed": {"repr": "0:00:00.109276", "seconds": 0.109276}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=1420, avg_price=152.1796320110816, ltp=156.9381218436474", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.372494+05:30", "timestamp": 1755777337.372494}}}
{"text": "2025-08-21 17:25:37.373 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.110124", "seconds": 0.110124}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.373342+05:30", "timestamp": 1755777337.373342}}}
{"text": "2025-08-21 17:25:37.374 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=827, avg_price=1814.66\n", "record": {"elapsed": {"repr": "0:00:00.111365", "seconds": 0.111365}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=827, avg_price=1814.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.374583+05:30", "timestamp": 1755777337.374583}}}
{"text": "2025-08-21 17:25:37.376 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=684, avg_price=1787.03\n", "record": {"elapsed": {"repr": "0:00:00.113052", "seconds": 0.113052}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=684, avg_price=1787.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.376270+05:30", "timestamp": 1755777337.37627}}}
{"text": "2025-08-21 17:25:37.377 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=688, avg_price=1976.09\n", "record": {"elapsed": {"repr": "0:00:00.114566", "seconds": 0.114566}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=688, avg_price=1976.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.377784+05:30", "timestamp": 1755777337.377784}}}
{"text": "2025-08-21 17:25:37.380 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=803, avg_price=834.66\n", "record": {"elapsed": {"repr": "0:00:00.117201", "seconds": 0.117201}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=803, avg_price=834.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.380419+05:30", "timestamp": 1755777337.380419}}}
{"text": "2025-08-21 17:25:37.382 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=1505, avg_price=1438.18\n", "record": {"elapsed": {"repr": "0:00:00.118875", "seconds": 0.118875}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=1505, avg_price=1438.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.382093+05:30", "timestamp": 1755777337.382093}}}
{"text": "2025-08-21 17:25:37.383 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.119854", "seconds": 0.119854}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.383072+05:30", "timestamp": 1755777337.383072}}}
{"text": "2025-08-21 17:25:37.384 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.121645", "seconds": 0.121645}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.384863+05:30", "timestamp": 1755777337.384863}}}
{"text": "2025-08-21 17:25:37.387 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.124535", "seconds": 0.124535}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.387753+05:30", "timestamp": 1755777337.387753}}}
{"text": "2025-08-21 17:25:37.389 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.126126", "seconds": 0.126126}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.389344+05:30", "timestamp": 1755777337.389344}}}
{"text": "2025-08-21 17:25:37.443 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.180337", "seconds": 0.180337}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.443555+05:30", "timestamp": 1755777337.443555}}}
{"text": "2025-08-21 17:25:37.449 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.186462", "seconds": 0.186462}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.449680+05:30", "timestamp": 1755777337.44968}}}
{"text": "2025-08-21 17:25:37.451 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.188076", "seconds": 0.188076}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.451294+05:30", "timestamp": 1755777337.451294}}}
{"text": "2025-08-21 17:25:37.452 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.189315", "seconds": 0.189315}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.452533+05:30", "timestamp": 1755777337.452533}}}
{"text": "2025-08-21 17:25:37.453 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.190358", "seconds": 0.190358}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:37.453576+05:30", "timestamp": 1755777337.453576}}}
{"text": "2025-08-21 17:25:39.009 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:01.746049", "seconds": 1.746049}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.009267+05:30", "timestamp": 1755777339.009267}}}
{"text": "2025-08-21 17:25:39.010 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:01.747424", "seconds": 1.747424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.010642+05:30", "timestamp": 1755777339.010642}}}
{"text": "2025-08-21 17:25:39.011 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:01.748338", "seconds": 1.748338}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.011556+05:30", "timestamp": 1755777339.011556}}}
{"text": "2025-08-21 17:25:39.012 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1402143.19, today=-1402143.19\n", "record": {"elapsed": {"repr": "0:00:01.749406", "seconds": 1.749406}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1402143.19, today=-1402143.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.012624+05:30", "timestamp": 1755777339.012624}}}
{"text": "2025-08-21 17:25:39.013 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-68251.66, today=-68251.66\n", "record": {"elapsed": {"repr": "0:00:01.750738", "seconds": 1.750738}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-68251.66, today=-68251.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.013956+05:30", "timestamp": 1755777339.013956}}}
{"text": "2025-08-21 17:25:39.015 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-169285.33, today=-169285.33\n", "record": {"elapsed": {"repr": "0:00:01.752190", "seconds": 1.75219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-169285.33, today=-169285.33", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.015408+05:30", "timestamp": 1755777339.015408}}}
{"text": "2025-08-21 17:25:39.017 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-218397.11, today=-218397.11\n", "record": {"elapsed": {"repr": "0:00:01.753993", "seconds": 1.753993}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-218397.11, today=-218397.11", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.017211+05:30", "timestamp": 1755777339.017211}}}
{"text": "2025-08-21 17:25:39.019 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-886679.85, today=-886679.85\n", "record": {"elapsed": {"repr": "0:00:01.756022", "seconds": 1.756022}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-886679.85, today=-886679.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.019240+05:30", "timestamp": 1755777339.01924}}}
{"text": "2025-08-21 17:25:39.020 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2744757.14, day: -2744757.14\n", "record": {"elapsed": {"repr": "0:00:01.757187", "seconds": 1.757187}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2744757.14, day: -2744757.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.020405+05:30", "timestamp": 1755777339.020405}}}
{"text": "2025-08-21 17:25:39.021 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:01.758059", "seconds": 1.758059}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.021277+05:30", "timestamp": 1755777339.021277}}}
{"text": "2025-08-21 17:25:39.022 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:01.759026", "seconds": 1.759026}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.022244+05:30", "timestamp": 1755777339.022244}}}
{"text": "2025-08-21 17:25:39.023 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:01.760233", "seconds": 1.760233}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.023451+05:30", "timestamp": 1755777339.023451}}}
{"text": "2025-08-21 17:25:39.024 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:01.761775", "seconds": 1.761775}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.024993+05:30", "timestamp": 1755777339.024993}}}
{"text": "2025-08-21 17:25:39.027 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:39.012423+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:01.763823", "seconds": 1.763823}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:39.012423+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.027041+05:30", "timestamp": 1755777339.027041}}}
{"text": "2025-08-21 17:25:39.029 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2744757.14, day=-2744757.14, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=119.2, unrealized=-1402143.19, today_pnl=-1402143.19), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1886.81, unrealized=-68251.66, today_pnl=-68251.66), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1730.04, unrealized=-169285.33, today_pnl=-169285.33), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1106.64, unrealized=-218397.11, today_pnl=-218397.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=849.02, unrealized=-886679.85, today_pnl=-886679.85)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 39, 12423, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:01.766286", "seconds": 1.766286}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2744757.14, day=-2744757.14, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=119.2, unrealized=-1402143.19, today_pnl=-1402143.19), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1886.81, unrealized=-68251.66, today_pnl=-68251.66), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1730.04, unrealized=-169285.33, today_pnl=-169285.33), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1106.64, unrealized=-218397.11, today_pnl=-218397.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=849.02, unrealized=-886679.85, today_pnl=-886679.85)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 39, 12423, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.029504+05:30", "timestamp": 1755777339.029504}}}
{"text": "2025-08-21 17:25:39.031 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2744757.14, day=-2744757.14, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=119.2, unrealized=-1402143.19, today_pnl=-1402143.19), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1886.81, unrealized=-68251.66, today_pnl=-68251.66), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1730.04, unrealized=-169285.33, today_pnl=-169285.33), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1106.64, unrealized=-218397.11, today_pnl=-218397.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=849.02, unrealized=-886679.85, today_pnl=-886679.85)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 39, 12423, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:01.768737", "seconds": 1.768737}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2744757.14, day=-2744757.14, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=119.2, unrealized=-1402143.19, today_pnl=-1402143.19), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1886.81, unrealized=-68251.66, today_pnl=-68251.66), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1730.04, unrealized=-169285.33, today_pnl=-169285.33), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1106.64, unrealized=-218397.11, today_pnl=-218397.11), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=849.02, unrealized=-886679.85, today_pnl=-886679.85)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 39, 12423, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.031955+05:30", "timestamp": 1755777339.031955}}}
{"text": "2025-08-21 17:25:39.034 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2744757.14\n", "record": {"elapsed": {"repr": "0:00:01.770877", "seconds": 1.770877}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2744757.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.034095+05:30", "timestamp": 1755777339.034095}}}
{"text": "2025-08-21 17:25:39.035 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:01.772567", "seconds": 1.772567}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:39.035785+05:30", "timestamp": 1755777339.035785}}}
{"text": "2025-08-21 17:25:39.393 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.130553", "seconds": 2.130553}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:39.393771+05:30", "timestamp": 1755777339.393771}}}
{"text": "2025-08-21 17:25:39.395 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.132038", "seconds": 2.132038}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:39.395256+05:30", "timestamp": 1755777339.395256}}}
{"text": "2025-08-21 17:25:39.396 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.133417", "seconds": 2.133417}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:39.396635+05:30", "timestamp": 1755777339.396635}}}
{"text": "2025-08-21 17:25:39.398 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.135579", "seconds": 2.135579}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:39.398797+05:30", "timestamp": 1755777339.398797}}}
{"text": "2025-08-21 17:25:39.400 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.137019", "seconds": 2.137019}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:39.400237+05:30", "timestamp": 1755777339.400237}}}
{"text": "2025-08-21 17:25:39.401 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.138781", "seconds": 2.138781}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:39.401999+05:30", "timestamp": 1755777339.401999}}}
{"text": "2025-08-21 17:25:39.403 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.140166", "seconds": 2.140166}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:39.403384+05:30", "timestamp": 1755777339.403384}}}
{"text": "2025-08-21 17:25:39.404 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.141229", "seconds": 2.141229}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:39.404447+05:30", "timestamp": 1755777339.404447}}}
{"text": "2025-08-21 17:25:39.405 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.142320", "seconds": 2.14232}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:39.405538+05:30", "timestamp": 1755777339.405538}}}
{"text": "2025-08-21 17:25:39.406 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.143677", "seconds": 2.143677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:39.406895+05:30", "timestamp": 1755777339.406895}}}
{"text": "2025-08-21 17:25:40.013 | DEBUG    | app.ws.live:emit_delta:408 - Emitted orders delta: seq=3\n", "record": {"elapsed": {"repr": "0:00:02.750396", "seconds": 2.750396}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted orders delta: seq=3", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.013614+05:30", "timestamp": 1755777340.013614}}}
{"text": "2025-08-21 17:25:40.855 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=4\n", "record": {"elapsed": {"repr": "0:00:03.592066", "seconds": 3.592066}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=4", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.855284+05:30", "timestamp": 1755777340.855284}}}
{"text": "2025-08-21 17:25:40.889 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:03.626054", "seconds": 3.626054}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.889272+05:30", "timestamp": 1755777340.889272}}}
{"text": "2025-08-21 17:25:40.891 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:03.627822", "seconds": 3.627822}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.891040+05:30", "timestamp": 1755777340.89104}}}
{"text": "2025-08-21 17:25:40.892 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1400334.75, today=-1400334.75\n", "record": {"elapsed": {"repr": "0:00:03.629456", "seconds": 3.629456}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1400334.75, today=-1400334.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.892674+05:30", "timestamp": 1755777340.892674}}}
{"text": "2025-08-21 17:25:40.894 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-62775.64, today=-62775.64\n", "record": {"elapsed": {"repr": "0:00:03.631071", "seconds": 3.631071}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-62775.64, today=-62775.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.894289+05:30", "timestamp": 1755777340.894289}}}
{"text": "2025-08-21 17:25:40.895 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-151585.76, today=-151585.76\n", "record": {"elapsed": {"repr": "0:00:03.632169", "seconds": 3.632169}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-151585.76, today=-151585.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.895387+05:30", "timestamp": 1755777340.895387}}}
{"text": "2025-08-21 17:25:40.897 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-207188.76, today=-207188.76\n", "record": {"elapsed": {"repr": "0:00:03.634023", "seconds": 3.634023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-207188.76, today=-207188.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.897241+05:30", "timestamp": 1755777340.897241}}}
{"text": "2025-08-21 17:25:40.898 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-899500.21, today=-899500.21\n", "record": {"elapsed": {"repr": "0:00:03.635312", "seconds": 3.635312}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-899500.21, today=-899500.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.898530+05:30", "timestamp": 1755777340.89853}}}
{"text": "2025-08-21 17:25:40.900 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2721385.12, day: -2721385.12\n", "record": {"elapsed": {"repr": "0:00:03.637064", "seconds": 3.637064}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2721385.12, day: -2721385.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.900282+05:30", "timestamp": 1755777340.900282}}}
{"text": "2025-08-21 17:25:40.901 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:03.638244", "seconds": 3.638244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.901462+05:30", "timestamp": 1755777340.901462}}}
{"text": "2025-08-21 17:25:40.903 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:03.640508", "seconds": 3.640508}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.903726+05:30", "timestamp": 1755777340.903726}}}
{"text": "2025-08-21 17:25:40.905 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:03.642260", "seconds": 3.64226}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.905478+05:30", "timestamp": 1755777340.905478}}}
{"text": "2025-08-21 17:25:40.907 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:03.643853", "seconds": 3.643853}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.907071+05:30", "timestamp": 1755777340.907071}}}
{"text": "2025-08-21 17:25:40.908 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:40.892346+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:03.645020", "seconds": 3.64502}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:40.892346+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.908238+05:30", "timestamp": 1755777340.908238}}}
{"text": "2025-08-21 17:25:40.910 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2721385.12, day=-2721385.12, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=121.39, unrealized=-1400334.75, today_pnl=-1400334.75), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1878.81, unrealized=-62775.64, today_pnl=-62775.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1755.76, unrealized=-151585.76, today_pnl=-151585.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1092.68, unrealized=-207188.76, today_pnl=-207188.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=840.51, unrealized=-899500.21, today_pnl=-899500.21)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 40, 892346, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:03.647359", "seconds": 3.647359}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2721385.12, day=-2721385.12, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=121.39, unrealized=-1400334.75, today_pnl=-1400334.75), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1878.81, unrealized=-62775.64, today_pnl=-62775.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1755.76, unrealized=-151585.76, today_pnl=-151585.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1092.68, unrealized=-207188.76, today_pnl=-207188.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=840.51, unrealized=-899500.21, today_pnl=-899500.21)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 40, 892346, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.910577+05:30", "timestamp": 1755777340.910577}}}
{"text": "2025-08-21 17:25:40.912 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2721385.12, day=-2721385.12, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=121.39, unrealized=-1400334.75, today_pnl=-1400334.75), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1878.81, unrealized=-62775.64, today_pnl=-62775.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1755.76, unrealized=-151585.76, today_pnl=-151585.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1092.68, unrealized=-207188.76, today_pnl=-207188.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=840.51, unrealized=-899500.21, today_pnl=-899500.21)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 40, 892346, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:03.649364", "seconds": 3.649364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2721385.12, day=-2721385.12, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=121.39, unrealized=-1400334.75, today_pnl=-1400334.75), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1878.81, unrealized=-62775.64, today_pnl=-62775.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1755.76, unrealized=-151585.76, today_pnl=-151585.76), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1092.68, unrealized=-207188.76, today_pnl=-207188.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=840.51, unrealized=-899500.21, today_pnl=-899500.21)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 40, 892346, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.912582+05:30", "timestamp": 1755777340.912582}}}
{"text": "2025-08-21 17:25:40.914 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2721385.12\n", "record": {"elapsed": {"repr": "0:00:03.651715", "seconds": 3.651715}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2721385.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.914933+05:30", "timestamp": 1755777340.914933}}}
{"text": "2025-08-21 17:25:40.916 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=5\n", "record": {"elapsed": {"repr": "0:00:03.653262", "seconds": 3.653262}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=5", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:40.916480+05:30", "timestamp": 1755777340.91648}}}
{"text": "2025-08-21 17:25:41.408 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.145551", "seconds": 4.145551}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:41.408769+05:30", "timestamp": 1755777341.408769}}}
{"text": "2025-08-21 17:25:41.410 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.146835", "seconds": 4.146835}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:41.410053+05:30", "timestamp": 1755777341.410053}}}
{"text": "2025-08-21 17:25:41.411 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.147881", "seconds": 4.147881}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:41.411099+05:30", "timestamp": 1755777341.411099}}}
{"text": "2025-08-21 17:25:41.412 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.148801", "seconds": 4.148801}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:41.412019+05:30", "timestamp": 1755777341.412019}}}
{"text": "2025-08-21 17:25:41.413 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.150054", "seconds": 4.150054}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:41.413272+05:30", "timestamp": 1755777341.413272}}}
{"text": "2025-08-21 17:25:41.415 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.152188", "seconds": 4.152188}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:41.415406+05:30", "timestamp": 1755777341.415406}}}
{"text": "2025-08-21 17:25:41.418 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.155529", "seconds": 4.155529}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:41.418747+05:30", "timestamp": 1755777341.418747}}}
{"text": "2025-08-21 17:25:41.421 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.158503", "seconds": 4.158503}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:41.421721+05:30", "timestamp": 1755777341.421721}}}
{"text": "2025-08-21 17:25:41.424 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.161115", "seconds": 4.161115}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:41.424333+05:30", "timestamp": 1755777341.424333}}}
{"text": "2025-08-21 17:25:41.427 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:04.163852", "seconds": 4.163852}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:41.427070+05:30", "timestamp": 1755777341.42707}}}
{"text": "2025-08-21 17:25:42.610 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=6\n", "record": {"elapsed": {"repr": "0:00:05.347409", "seconds": 5.347409}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=6", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.610627+05:30", "timestamp": 1755777342.610627}}}
{"text": "2025-08-21 17:25:42.705 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:05.442230", "seconds": 5.44223}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.705448+05:30", "timestamp": 1755777342.705448}}}
{"text": "2025-08-21 17:25:42.707 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:05.444205", "seconds": 5.444205}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.707423+05:30", "timestamp": 1755777342.707423}}}
{"text": "2025-08-21 17:25:42.709 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1401251.6, today=-1401251.6\n", "record": {"elapsed": {"repr": "0:00:05.446708", "seconds": 5.446708}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1401251.6, today=-1401251.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.709926+05:30", "timestamp": 1755777342.709926}}}
{"text": "2025-08-21 17:25:42.711 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-41526.15, today=-41526.15\n", "record": {"elapsed": {"repr": "0:00:05.448740", "seconds": 5.44874}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-41526.15, today=-41526.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.711958+05:30", "timestamp": 1755777342.711958}}}
{"text": "2025-08-21 17:25:42.716 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-138258.56, today=-138258.56\n", "record": {"elapsed": {"repr": "0:00:05.453523", "seconds": 5.453523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-138258.56, today=-138258.56", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.716741+05:30", "timestamp": 1755777342.716741}}}
{"text": "2025-08-21 17:25:42.718 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-206011.17, today=-206011.17\n", "record": {"elapsed": {"repr": "0:00:05.455012", "seconds": 5.455012}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-206011.17, today=-206011.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.718230+05:30", "timestamp": 1755777342.71823}}}
{"text": "2025-08-21 17:25:42.720 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-895107.87, today=-895107.87\n", "record": {"elapsed": {"repr": "0:00:05.456933", "seconds": 5.456933}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-895107.87, today=-895107.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.720151+05:30", "timestamp": 1755777342.720151}}}
{"text": "2025-08-21 17:25:42.722 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2682155.35, day: -2682155.35\n", "record": {"elapsed": {"repr": "0:00:05.459668", "seconds": 5.459668}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2682155.35, day: -2682155.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.722886+05:30", "timestamp": 1755777342.722886}}}
{"text": "2025-08-21 17:25:42.724 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:05.460993", "seconds": 5.460993}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.724211+05:30", "timestamp": 1755777342.724211}}}
{"text": "2025-08-21 17:25:42.726 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:05.463061", "seconds": 5.463061}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.726279+05:30", "timestamp": 1755777342.726279}}}
{"text": "2025-08-21 17:25:42.728 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:05.465490", "seconds": 5.46549}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.728708+05:30", "timestamp": 1755777342.728708}}}
{"text": "2025-08-21 17:25:42.730 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:05.467519", "seconds": 5.467519}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.730737+05:30", "timestamp": 1755777342.730737}}}
{"text": "2025-08-21 17:25:42.732 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:42.709596+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:05.469613", "seconds": 5.469613}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:42.709596+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.732831+05:30", "timestamp": 1755777342.732831}}}
{"text": "2025-08-21 17:25:42.734 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2682155.35, day=-2682155.35, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.28, unrealized=-1401251.6, today_pnl=-1401251.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1847.74, unrealized=-41526.15, today_pnl=-41526.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1775.13, unrealized=-138258.56, today_pnl=-138258.56), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1091.21, unrealized=-206011.17, today_pnl=-206011.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=843.42, unrealized=-895107.87, today_pnl=-895107.87)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 42, 709596, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:05.471563", "seconds": 5.471563}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2682155.35, day=-2682155.35, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.28, unrealized=-1401251.6, today_pnl=-1401251.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1847.74, unrealized=-41526.15, today_pnl=-41526.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1775.13, unrealized=-138258.56, today_pnl=-138258.56), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1091.21, unrealized=-206011.17, today_pnl=-206011.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=843.42, unrealized=-895107.87, today_pnl=-895107.87)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 42, 709596, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.734781+05:30", "timestamp": 1755777342.734781}}}
{"text": "2025-08-21 17:25:42.739 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2682155.35, day=-2682155.35, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.28, unrealized=-1401251.6, today_pnl=-1401251.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1847.74, unrealized=-41526.15, today_pnl=-41526.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1775.13, unrealized=-138258.56, today_pnl=-138258.56), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1091.21, unrealized=-206011.17, today_pnl=-206011.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=843.42, unrealized=-895107.87, today_pnl=-895107.87)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 42, 709596, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:05.476034", "seconds": 5.476034}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2682155.35, day=-2682155.35, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.28, unrealized=-1401251.6, today_pnl=-1401251.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1847.74, unrealized=-41526.15, today_pnl=-41526.15), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1775.13, unrealized=-138258.56, today_pnl=-138258.56), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1091.21, unrealized=-206011.17, today_pnl=-206011.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=843.42, unrealized=-895107.87, today_pnl=-895107.87)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 42, 709596, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.739252+05:30", "timestamp": 1755777342.739252}}}
{"text": "2025-08-21 17:25:42.742 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2682155.35\n", "record": {"elapsed": {"repr": "0:00:05.479519", "seconds": 5.479519}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2682155.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.742737+05:30", "timestamp": 1755777342.742737}}}
{"text": "2025-08-21 17:25:42.746 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=7\n", "record": {"elapsed": {"repr": "0:00:05.483541", "seconds": 5.483541}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=7", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:42.746759+05:30", "timestamp": 1755777342.746759}}}
{"text": "2025-08-21 17:25:43.429 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.166447", "seconds": 6.166447}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:43.429665+05:30", "timestamp": 1755777343.429665}}}
{"text": "2025-08-21 17:25:43.432 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.168821", "seconds": 6.168821}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:43.432039+05:30", "timestamp": 1755777343.432039}}}
{"text": "2025-08-21 17:25:43.434 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.171195", "seconds": 6.171195}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:43.434413+05:30", "timestamp": 1755777343.434413}}}
{"text": "2025-08-21 17:25:43.436 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.173196", "seconds": 6.173196}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:43.436414+05:30", "timestamp": 1755777343.436414}}}
{"text": "2025-08-21 17:25:43.438 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.175381", "seconds": 6.175381}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:43.438599+05:30", "timestamp": 1755777343.438599}}}
{"text": "2025-08-21 17:25:43.440 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.177522", "seconds": 6.177522}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:43.440740+05:30", "timestamp": 1755777343.44074}}}
{"text": "2025-08-21 17:25:43.441 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.178768", "seconds": 6.178768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:43.441986+05:30", "timestamp": 1755777343.441986}}}
{"text": "2025-08-21 17:25:43.445 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.181785", "seconds": 6.181785}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:43.445003+05:30", "timestamp": 1755777343.445003}}}
{"text": "2025-08-21 17:25:43.447 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.184761", "seconds": 6.184761}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:43.447979+05:30", "timestamp": 1755777343.447979}}}
{"text": "2025-08-21 17:25:43.450 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:06.186994", "seconds": 6.186994}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:43.450212+05:30", "timestamp": 1755777343.450212}}}
{"text": "2025-08-21 17:25:44.255 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=8\n", "record": {"elapsed": {"repr": "0:00:06.992098", "seconds": 6.992098}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=8", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.255316+05:30", "timestamp": 1755777344.255316}}}
{"text": "2025-08-21 17:25:44.452 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:07.189298", "seconds": 7.189298}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.452516+05:30", "timestamp": 1755777344.452516}}}
{"text": "2025-08-21 17:25:44.455 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:07.191900", "seconds": 7.1919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.455118+05:30", "timestamp": 1755777344.455118}}}
{"text": "2025-08-21 17:25:44.457 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1402384.58, today=-1402384.58\n", "record": {"elapsed": {"repr": "0:00:07.194070", "seconds": 7.19407}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1402384.58, today=-1402384.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.457288+05:30", "timestamp": 1755777344.457288}}}
{"text": "2025-08-21 17:25:44.459 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-20420.74, today=-20420.74\n", "record": {"elapsed": {"repr": "0:00:07.196433", "seconds": 7.196433}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-20420.74, today=-20420.74", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.459651+05:30", "timestamp": 1755777344.459651}}}
{"text": "2025-08-21 17:25:44.462 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-126352.26, today=-126352.26\n", "record": {"elapsed": {"repr": "0:00:07.199039", "seconds": 7.199039}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-126352.26, today=-126352.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.462257+05:30", "timestamp": 1755777344.462257}}}
{"text": "2025-08-21 17:25:44.465 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-208120.67, today=-208120.67\n", "record": {"elapsed": {"repr": "0:00:07.202056", "seconds": 7.202056}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-208120.67, today=-208120.67", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.465274+05:30", "timestamp": 1755777344.465274}}}
{"text": "2025-08-21 17:25:44.467 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-908786.51, today=-908786.51\n", "record": {"elapsed": {"repr": "0:00:07.204377", "seconds": 7.204377}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-908786.51, today=-908786.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.467595+05:30", "timestamp": 1755777344.467595}}}
{"text": "2025-08-21 17:25:44.469 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2666064.76, day: -2666064.76\n", "record": {"elapsed": {"repr": "0:00:07.206684", "seconds": 7.206684}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2666064.76, day: -2666064.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.469902+05:30", "timestamp": 1755777344.469902}}}
{"text": "2025-08-21 17:25:44.472 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:07.208983", "seconds": 7.208983}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.472201+05:30", "timestamp": 1755777344.472201}}}
{"text": "2025-08-21 17:25:44.473 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:07.210711", "seconds": 7.210711}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.473929+05:30", "timestamp": 1755777344.473929}}}
{"text": "2025-08-21 17:25:44.475 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:07.212570", "seconds": 7.21257}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.475788+05:30", "timestamp": 1755777344.475788}}}
{"text": "2025-08-21 17:25:44.477 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:07.214647", "seconds": 7.214647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.477865+05:30", "timestamp": 1755777344.477865}}}
{"text": "2025-08-21 17:25:44.480 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:44.456910+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:07.216929", "seconds": 7.216929}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:44.456910+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.480147+05:30", "timestamp": 1755777344.480147}}}
{"text": "2025-08-21 17:25:44.483 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2666064.76, day=-2666064.76, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=118.91, unrealized=-1402384.58, today_pnl=-1402384.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1816.88, unrealized=-20420.74, today_pnl=-20420.74), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1792.44, unrealized=-126352.26, today_pnl=-126352.26), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1093.84, unrealized=-208120.67, today_pnl=-208120.67), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=834.34, unrealized=-908786.51, today_pnl=-908786.51)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 44, 456910, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:07.220538", "seconds": 7.220538}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2666064.76, day=-2666064.76, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=118.91, unrealized=-1402384.58, today_pnl=-1402384.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1816.88, unrealized=-20420.74, today_pnl=-20420.74), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1792.44, unrealized=-126352.26, today_pnl=-126352.26), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1093.84, unrealized=-208120.67, today_pnl=-208120.67), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=834.34, unrealized=-908786.51, today_pnl=-908786.51)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 44, 456910, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.483756+05:30", "timestamp": 1755777344.483756}}}
{"text": "2025-08-21 17:25:44.488 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2666064.76, day=-2666064.76, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=118.91, unrealized=-1402384.58, today_pnl=-1402384.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1816.88, unrealized=-20420.74, today_pnl=-20420.74), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1792.44, unrealized=-126352.26, today_pnl=-126352.26), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1093.84, unrealized=-208120.67, today_pnl=-208120.67), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=834.34, unrealized=-908786.51, today_pnl=-908786.51)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 44, 456910, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:07.225059", "seconds": 7.225059}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2666064.76, day=-2666064.76, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=118.91, unrealized=-1402384.58, today_pnl=-1402384.58), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1816.88, unrealized=-20420.74, today_pnl=-20420.74), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1792.44, unrealized=-126352.26, today_pnl=-126352.26), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1093.84, unrealized=-208120.67, today_pnl=-208120.67), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=834.34, unrealized=-908786.51, today_pnl=-908786.51)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 44, 456910, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.488277+05:30", "timestamp": 1755777344.488277}}}
{"text": "2025-08-21 17:25:44.491 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2666064.76\n", "record": {"elapsed": {"repr": "0:00:07.228584", "seconds": 7.228584}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2666064.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.491802+05:30", "timestamp": 1755777344.491802}}}
{"text": "2025-08-21 17:25:44.495 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=9\n", "record": {"elapsed": {"repr": "0:00:07.232410", "seconds": 7.23241}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=9", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:44.495628+05:30", "timestamp": 1755777344.495628}}}
{"text": "2025-08-21 17:25:45.453 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.189900", "seconds": 8.1899}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:45.453118+05:30", "timestamp": 1755777345.453118}}}
{"text": "2025-08-21 17:25:45.455 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.192390", "seconds": 8.19239}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:45.455608+05:30", "timestamp": 1755777345.455608}}}
{"text": "2025-08-21 17:25:45.457 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.194441", "seconds": 8.194441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:45.457659+05:30", "timestamp": 1755777345.457659}}}
{"text": "2025-08-21 17:25:45.461 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.198300", "seconds": 8.1983}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:45.461518+05:30", "timestamp": 1755777345.461518}}}
{"text": "2025-08-21 17:25:45.463 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.200166", "seconds": 8.200166}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:45.463384+05:30", "timestamp": 1755777345.463384}}}
{"text": "2025-08-21 17:25:45.466 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.202878", "seconds": 8.202878}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:45.466096+05:30", "timestamp": 1755777345.466096}}}
{"text": "2025-08-21 17:25:45.468 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.204885", "seconds": 8.204885}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:45.468103+05:30", "timestamp": 1755777345.468103}}}
{"text": "2025-08-21 17:25:45.470 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.207394", "seconds": 8.207394}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:45.470612+05:30", "timestamp": 1755777345.470612}}}
{"text": "2025-08-21 17:25:45.474 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.211610", "seconds": 8.21161}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:45.474828+05:30", "timestamp": 1755777345.474828}}}
{"text": "2025-08-21 17:25:45.476 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:08.213496", "seconds": 8.213496}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:45.476714+05:30", "timestamp": 1755777345.476714}}}
{"text": "2025-08-21 17:25:46.073 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:08.810646", "seconds": 8.810646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.073864+05:30", "timestamp": 1755777346.073864}}}
{"text": "2025-08-21 17:25:46.075 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:08.811986", "seconds": 8.811986}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.075204+05:30", "timestamp": 1755777346.075204}}}
{"text": "2025-08-21 17:25:46.077 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1400557.55, today=-1400557.55\n", "record": {"elapsed": {"repr": "0:00:08.813892", "seconds": 8.813892}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1400557.55, today=-1400557.55", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.077110+05:30", "timestamp": 1755777346.07711}}}
{"text": "2025-08-21 17:25:46.078 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-43292.08, today=-43292.08\n", "record": {"elapsed": {"repr": "0:00:08.815248", "seconds": 8.815248}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-43292.08, today=-43292.08", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.078466+05:30", "timestamp": 1755777346.078466}}}
{"text": "2025-08-21 17:25:46.080 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-103410.68, today=-103410.68\n", "record": {"elapsed": {"repr": "0:00:08.817676", "seconds": 8.817676}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-103410.68, today=-103410.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.080894+05:30", "timestamp": 1755777346.080894}}}
{"text": "2025-08-21 17:25:46.082 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-207902.68, today=-207902.68\n", "record": {"elapsed": {"repr": "0:00:08.819723", "seconds": 8.819723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-207902.68, today=-207902.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.082941+05:30", "timestamp": 1755777346.082941}}}
{"text": "2025-08-21 17:25:46.084 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-902656.7, today=-902656.7\n", "record": {"elapsed": {"repr": "0:00:08.821062", "seconds": 8.821062}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-902656.7, today=-902656.7", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.084280+05:30", "timestamp": 1755777346.08428}}}
{"text": "2025-08-21 17:25:46.086 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2657819.69, day: -2657819.69\n", "record": {"elapsed": {"repr": "0:00:08.822853", "seconds": 8.822853}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2657819.69, day: -2657819.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.086071+05:30", "timestamp": 1755777346.086071}}}
{"text": "2025-08-21 17:25:46.088 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:08.825059", "seconds": 8.825059}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.088277+05:30", "timestamp": 1755777346.088277}}}
{"text": "2025-08-21 17:25:46.091 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:08.827892", "seconds": 8.827892}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.091110+05:30", "timestamp": 1755777346.09111}}}
{"text": "2025-08-21 17:25:46.092 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:08.829693", "seconds": 8.829693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.092911+05:30", "timestamp": 1755777346.092911}}}
{"text": "2025-08-21 17:25:46.094 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:08.830801", "seconds": 8.830801}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.094019+05:30", "timestamp": 1755777346.094019}}}
{"text": "2025-08-21 17:25:46.095 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:46.076895+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:08.831991", "seconds": 8.831991}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:46.076895+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.095209+05:30", "timestamp": 1755777346.095209}}}
{"text": "2025-08-21 17:25:46.097 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2657819.69, day=-2657819.69, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=121.12, unrealized=-1400557.55, today_pnl=-1400557.55), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1850.32, unrealized=-43292.08, today_pnl=-43292.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1825.78, unrealized=-103410.68, today_pnl=-103410.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1093.57, unrealized=-207902.68, today_pnl=-207902.68), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=838.41, unrealized=-902656.7, today_pnl=-902656.7)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 46, 76895, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:08.834664", "seconds": 8.834664}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2657819.69, day=-2657819.69, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=121.12, unrealized=-1400557.55, today_pnl=-1400557.55), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1850.32, unrealized=-43292.08, today_pnl=-43292.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1825.78, unrealized=-103410.68, today_pnl=-103410.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1093.57, unrealized=-207902.68, today_pnl=-207902.68), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=838.41, unrealized=-902656.7, today_pnl=-902656.7)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 46, 76895, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.097882+05:30", "timestamp": 1755777346.097882}}}
{"text": "2025-08-21 17:25:46.100 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2657819.69, day=-2657819.69, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=121.12, unrealized=-1400557.55, today_pnl=-1400557.55), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1850.32, unrealized=-43292.08, today_pnl=-43292.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1825.78, unrealized=-103410.68, today_pnl=-103410.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1093.57, unrealized=-207902.68, today_pnl=-207902.68), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=838.41, unrealized=-902656.7, today_pnl=-902656.7)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 46, 76895, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:08.837718", "seconds": 8.837718}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2657819.69, day=-2657819.69, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=121.12, unrealized=-1400557.55, today_pnl=-1400557.55), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1850.32, unrealized=-43292.08, today_pnl=-43292.08), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1825.78, unrealized=-103410.68, today_pnl=-103410.68), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1093.57, unrealized=-207902.68, today_pnl=-207902.68), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=838.41, unrealized=-902656.7, today_pnl=-902656.7)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 46, 76895, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.100936+05:30", "timestamp": 1755777346.100936}}}
{"text": "2025-08-21 17:25:46.105 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2657819.69\n", "record": {"elapsed": {"repr": "0:00:08.842170", "seconds": 8.84217}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2657819.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.105388+05:30", "timestamp": 1755777346.105388}}}
{"text": "2025-08-21 17:25:46.108 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=10\n", "record": {"elapsed": {"repr": "0:00:08.845595", "seconds": 8.845595}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=10", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.108813+05:30", "timestamp": 1755777346.108813}}}
{"text": "2025-08-21 17:25:46.212 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=11\n", "record": {"elapsed": {"repr": "0:00:08.949555", "seconds": 8.949555}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=11", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:46.212773+05:30", "timestamp": 1755777346.212773}}}
{"text": "2025-08-21 17:25:47.480 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.217022", "seconds": 10.217022}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:47.480240+05:30", "timestamp": 1755777347.48024}}}
{"text": "2025-08-21 17:25:47.481 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.218660", "seconds": 10.21866}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:47.481878+05:30", "timestamp": 1755777347.481878}}}
{"text": "2025-08-21 17:25:47.483 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.220661", "seconds": 10.220661}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:47.483879+05:30", "timestamp": 1755777347.483879}}}
{"text": "2025-08-21 17:25:47.485 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.222499", "seconds": 10.222499}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:47.485717+05:30", "timestamp": 1755777347.485717}}}
{"text": "2025-08-21 17:25:47.487 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.223899", "seconds": 10.223899}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:47.487117+05:30", "timestamp": 1755777347.487117}}}
{"text": "2025-08-21 17:25:47.489 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.226059", "seconds": 10.226059}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:47.489277+05:30", "timestamp": 1755777347.489277}}}
{"text": "2025-08-21 17:25:47.491 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.228521", "seconds": 10.228521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:47.491739+05:30", "timestamp": 1755777347.491739}}}
{"text": "2025-08-21 17:25:47.493 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.230003", "seconds": 10.230003}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:47.493221+05:30", "timestamp": 1755777347.493221}}}
{"text": "2025-08-21 17:25:47.494 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.231378", "seconds": 10.231378}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:47.494596+05:30", "timestamp": 1755777347.494596}}}
{"text": "2025-08-21 17:25:47.496 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:10.233015", "seconds": 10.233015}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:47.496233+05:30", "timestamp": 1755777347.496233}}}
{"text": "2025-08-21 17:25:47.998 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:10.735114", "seconds": 10.735114}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:47.998332+05:30", "timestamp": 1755777347.998332}}}
{"text": "2025-08-21 17:25:48.000 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:10.736862", "seconds": 10.736862}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.000080+05:30", "timestamp": 1755777348.00008}}}
{"text": "2025-08-21 17:25:48.001 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1401041.59, today=-1401041.59\n", "record": {"elapsed": {"repr": "0:00:10.738762", "seconds": 10.738762}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1401041.59, today=-1401041.59", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.001980+05:30", "timestamp": 1755777348.00198}}}
{"text": "2025-08-21 17:25:48.004 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-19673.64, today=-19673.64\n", "record": {"elapsed": {"repr": "0:00:10.741001", "seconds": 10.741001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-19673.64, today=-19673.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.004219+05:30", "timestamp": 1755777348.004219}}}
{"text": "2025-08-21 17:25:48.005 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-124511.42, today=-124511.42\n", "record": {"elapsed": {"repr": "0:00:10.742459", "seconds": 10.742459}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-124511.42, today=-124511.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.005677+05:30", "timestamp": 1755777348.005677}}}
{"text": "2025-08-21 17:25:48.010 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-205867.09, today=-205867.09\n", "record": {"elapsed": {"repr": "0:00:10.747643", "seconds": 10.747643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-205867.09, today=-205867.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.010861+05:30", "timestamp": 1755777348.010861}}}
{"text": "2025-08-21 17:25:48.012 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-916776.97, today=-916776.97\n", "record": {"elapsed": {"repr": "0:00:10.749147", "seconds": 10.749147}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-916776.97, today=-916776.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.012365+05:30", "timestamp": 1755777348.012365}}}
{"text": "2025-08-21 17:25:48.013 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2667870.71, day: -2667870.71\n", "record": {"elapsed": {"repr": "0:00:10.750730", "seconds": 10.75073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2667870.71, day: -2667870.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.013948+05:30", "timestamp": 1755777348.013948}}}
{"text": "2025-08-21 17:25:48.015 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:10.752441", "seconds": 10.752441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.015659+05:30", "timestamp": 1755777348.015659}}}
{"text": "2025-08-21 17:25:48.018 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:10.755314", "seconds": 10.755314}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.018532+05:30", "timestamp": 1755777348.018532}}}
{"text": "2025-08-21 17:25:48.020 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:10.757038", "seconds": 10.757038}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.020256+05:30", "timestamp": 1755777348.020256}}}
{"text": "2025-08-21 17:25:48.022 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:10.759509", "seconds": 10.759509}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.022727+05:30", "timestamp": 1755777348.022727}}}
{"text": "2025-08-21 17:25:48.024 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:48.001765+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:10.761317", "seconds": 10.761317}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:48.001765+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.024535+05:30", "timestamp": 1755777348.024535}}}
{"text": "2025-08-21 17:25:48.026 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2667870.71, day=-2667870.71, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.53, unrealized=-1401041.59, today_pnl=-1401041.59), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1815.79, unrealized=-19673.64, today_pnl=-19673.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1795.11, unrealized=-124511.42, today_pnl=-124511.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1091.03, unrealized=-205867.09, today_pnl=-205867.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=829.03, unrealized=-916776.97, today_pnl=-916776.97)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 48, 1765, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:10.763550", "seconds": 10.76355}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2667870.71, day=-2667870.71, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.53, unrealized=-1401041.59, today_pnl=-1401041.59), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1815.79, unrealized=-19673.64, today_pnl=-19673.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1795.11, unrealized=-124511.42, today_pnl=-124511.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1091.03, unrealized=-205867.09, today_pnl=-205867.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=829.03, unrealized=-916776.97, today_pnl=-916776.97)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 48, 1765, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.026768+05:30", "timestamp": 1755777348.026768}}}
{"text": "2025-08-21 17:25:48.030 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2667870.71, day=-2667870.71, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.53, unrealized=-1401041.59, today_pnl=-1401041.59), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1815.79, unrealized=-19673.64, today_pnl=-19673.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1795.11, unrealized=-124511.42, today_pnl=-124511.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1091.03, unrealized=-205867.09, today_pnl=-205867.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=829.03, unrealized=-916776.97, today_pnl=-916776.97)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 48, 1765, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:10.767267", "seconds": 10.767267}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2667870.71, day=-2667870.71, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.53, unrealized=-1401041.59, today_pnl=-1401041.59), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1815.79, unrealized=-19673.64, today_pnl=-19673.64), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1795.11, unrealized=-124511.42, today_pnl=-124511.42), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1091.03, unrealized=-205867.09, today_pnl=-205867.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=829.03, unrealized=-916776.97, today_pnl=-916776.97)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 48, 1765, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.030485+05:30", "timestamp": 1755777348.030485}}}
{"text": "2025-08-21 17:25:48.032 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2667870.71\n", "record": {"elapsed": {"repr": "0:00:10.769210", "seconds": 10.76921}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2667870.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.032428+05:30", "timestamp": 1755777348.032428}}}
{"text": "2025-08-21 17:25:48.034 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=12\n", "record": {"elapsed": {"repr": "0:00:10.771512", "seconds": 10.771512}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=12", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.034730+05:30", "timestamp": 1755777348.03473}}}
{"text": "2025-08-21 17:25:48.149 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=13\n", "record": {"elapsed": {"repr": "0:00:10.886142", "seconds": 10.886142}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=13", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:48.149360+05:30", "timestamp": 1755777348.14936}}}
{"text": "2025-08-21 17:25:49.498 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.234867", "seconds": 12.234867}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:49.498085+05:30", "timestamp": 1755777349.498085}}}
{"text": "2025-08-21 17:25:49.499 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.236244", "seconds": 12.236244}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:49.499462+05:30", "timestamp": 1755777349.499462}}}
{"text": "2025-08-21 17:25:49.501 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.237871", "seconds": 12.237871}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:49.501089+05:30", "timestamp": 1755777349.501089}}}
{"text": "2025-08-21 17:25:49.502 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.239192", "seconds": 12.239192}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:49.502410+05:30", "timestamp": 1755777349.50241}}}
{"text": "2025-08-21 17:25:49.503 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.240368", "seconds": 12.240368}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:49.503586+05:30", "timestamp": 1755777349.503586}}}
{"text": "2025-08-21 17:25:49.505 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.241842", "seconds": 12.241842}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:49.505060+05:30", "timestamp": 1755777349.50506}}}
{"text": "2025-08-21 17:25:49.506 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.242960", "seconds": 12.24296}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:49.506178+05:30", "timestamp": 1755777349.506178}}}
{"text": "2025-08-21 17:25:49.507 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.244129", "seconds": 12.244129}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:49.507347+05:30", "timestamp": 1755777349.507347}}}
{"text": "2025-08-21 17:25:49.508 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.245219", "seconds": 12.245219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:49.508437+05:30", "timestamp": 1755777349.508437}}}
{"text": "2025-08-21 17:25:49.511 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:12.248213", "seconds": 12.248213}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:49.511431+05:30", "timestamp": 1755777349.511431}}}
{"text": "2025-08-21 17:25:49.882 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:12.619670", "seconds": 12.61967}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.882888+05:30", "timestamp": 1755777349.882888}}}
{"text": "2025-08-21 17:25:49.884 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:12.621332", "seconds": 12.621332}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.884550+05:30", "timestamp": 1755777349.88455}}}
{"text": "2025-08-21 17:25:49.886 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1401159.06, today=-1401159.06\n", "record": {"elapsed": {"repr": "0:00:12.622792", "seconds": 12.622792}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1401159.06, today=-1401159.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.886010+05:30", "timestamp": 1755777349.88601}}}
{"text": "2025-08-21 17:25:49.887 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-40428.31, today=-40428.31\n", "record": {"elapsed": {"repr": "0:00:12.624301", "seconds": 12.624301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-40428.31, today=-40428.31", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.887519+05:30", "timestamp": 1755777349.887519}}}
{"text": "2025-08-21 17:25:49.888 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-132112.1, today=-132112.1\n", "record": {"elapsed": {"repr": "0:00:12.625662", "seconds": 12.625662}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-132112.1, today=-132112.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.888880+05:30", "timestamp": 1755777349.88888}}}
{"text": "2025-08-21 17:25:49.889 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-220438.38, today=-220438.38\n", "record": {"elapsed": {"repr": "0:00:12.626770", "seconds": 12.62677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-220438.38, today=-220438.38", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.889988+05:30", "timestamp": 1755777349.889988}}}
{"text": "2025-08-21 17:25:49.891 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-907546.08, today=-907546.08\n", "record": {"elapsed": {"repr": "0:00:12.627888", "seconds": 12.627888}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-907546.08, today=-907546.08", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.891106+05:30", "timestamp": 1755777349.891106}}}
{"text": "2025-08-21 17:25:49.892 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2701683.93, day: -2701683.93\n", "record": {"elapsed": {"repr": "0:00:12.629424", "seconds": 12.629424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2701683.93, day: -2701683.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.892642+05:30", "timestamp": 1755777349.892642}}}
{"text": "2025-08-21 17:25:49.893 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:12.630662", "seconds": 12.630662}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.893880+05:30", "timestamp": 1755777349.89388}}}
{"text": "2025-08-21 17:25:49.894 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:12.631744", "seconds": 12.631744}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.894962+05:30", "timestamp": 1755777349.894962}}}
{"text": "2025-08-21 17:25:49.896 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:12.633492", "seconds": 12.633492}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.896710+05:30", "timestamp": 1755777349.89671}}}
{"text": "2025-08-21 17:25:49.897 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:12.634774", "seconds": 12.634774}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.897992+05:30", "timestamp": 1755777349.897992}}}
{"text": "2025-08-21 17:25:49.899 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:49.885856+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:12.635850", "seconds": 12.63585}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:49.885856+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.899068+05:30", "timestamp": 1755777349.899068}}}
{"text": "2025-08-21 17:25:49.901 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2701683.93, day=-2701683.93, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.39, unrealized=-1401159.06, today_pnl=-1401159.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1846.14, unrealized=-40428.31, today_pnl=-40428.31), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1784.07, unrealized=-132112.1, today_pnl=-132112.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1109.18, unrealized=-220438.38, today_pnl=-220438.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=835.16, unrealized=-907546.08, today_pnl=-907546.08)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 49, 885856, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:12.638481", "seconds": 12.638481}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2701683.93, day=-2701683.93, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.39, unrealized=-1401159.06, today_pnl=-1401159.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1846.14, unrealized=-40428.31, today_pnl=-40428.31), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1784.07, unrealized=-132112.1, today_pnl=-132112.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1109.18, unrealized=-220438.38, today_pnl=-220438.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=835.16, unrealized=-907546.08, today_pnl=-907546.08)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 49, 885856, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.901699+05:30", "timestamp": 1755777349.901699}}}
{"text": "2025-08-21 17:25:49.904 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2701683.93, day=-2701683.93, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.39, unrealized=-1401159.06, today_pnl=-1401159.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1846.14, unrealized=-40428.31, today_pnl=-40428.31), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1784.07, unrealized=-132112.1, today_pnl=-132112.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1109.18, unrealized=-220438.38, today_pnl=-220438.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=835.16, unrealized=-907546.08, today_pnl=-907546.08)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 49, 885856, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:12.640923", "seconds": 12.640923}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2701683.93, day=-2701683.93, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=120.39, unrealized=-1401159.06, today_pnl=-1401159.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1846.14, unrealized=-40428.31, today_pnl=-40428.31), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1784.07, unrealized=-132112.1, today_pnl=-132112.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1109.18, unrealized=-220438.38, today_pnl=-220438.38), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=835.16, unrealized=-907546.08, today_pnl=-907546.08)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 49, 885856, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.904141+05:30", "timestamp": 1755777349.904141}}}
{"text": "2025-08-21 17:25:49.905 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2701683.93\n", "record": {"elapsed": {"repr": "0:00:12.642392", "seconds": 12.642392}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2701683.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.905610+05:30", "timestamp": 1755777349.90561}}}
{"text": "2025-08-21 17:25:49.907 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=14\n", "record": {"elapsed": {"repr": "0:00:12.644473", "seconds": 12.644473}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=14", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:49.907691+05:30", "timestamp": 1755777349.907691}}}
{"text": "2025-08-21 17:25:50.051 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=15\n", "record": {"elapsed": {"repr": "0:00:12.788164", "seconds": 12.788164}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=15", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:50.051382+05:30", "timestamp": 1755777350.051382}}}
{"text": "2025-08-21 17:25:51.513 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.250060", "seconds": 14.25006}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:51.513278+05:30", "timestamp": 1755777351.513278}}}
{"text": "2025-08-21 17:25:51.514 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.251611", "seconds": 14.251611}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:51.514829+05:30", "timestamp": 1755777351.514829}}}
{"text": "2025-08-21 17:25:51.516 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.253130", "seconds": 14.25313}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:51.516348+05:30", "timestamp": 1755777351.516348}}}
{"text": "2025-08-21 17:25:51.517 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.254370", "seconds": 14.25437}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:51.517588+05:30", "timestamp": 1755777351.517588}}}
{"text": "2025-08-21 17:25:51.518 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.255588", "seconds": 14.255588}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:51.518806+05:30", "timestamp": 1755777351.518806}}}
{"text": "2025-08-21 17:25:51.520 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.257096", "seconds": 14.257096}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:51.520314+05:30", "timestamp": 1755777351.520314}}}
{"text": "2025-08-21 17:25:51.521 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.258061", "seconds": 14.258061}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:51.521279+05:30", "timestamp": 1755777351.521279}}}
{"text": "2025-08-21 17:25:51.522 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.259166", "seconds": 14.259166}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:51.522384+05:30", "timestamp": 1755777351.522384}}}
{"text": "2025-08-21 17:25:51.523 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.260313", "seconds": 14.260313}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:51.523531+05:30", "timestamp": 1755777351.523531}}}
{"text": "2025-08-21 17:25:51.525 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:14.262069", "seconds": 14.262069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 23968, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 17:25:51.525287+05:30", "timestamp": 1755777351.525287}}}
{"text": "2025-08-21 17:25:51.699 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:14.436728", "seconds": 14.436728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.699946+05:30", "timestamp": 1755777351.699946}}}
{"text": "2025-08-21 17:25:51.701 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:14.438223", "seconds": 14.438223}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.701441+05:30", "timestamp": 1755777351.701441}}}
{"text": "2025-08-21 17:25:51.703 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=-1402986.93, today=-1402986.93\n", "record": {"elapsed": {"repr": "0:00:14.440144", "seconds": 14.440144}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=-1402986.93, today=-1402986.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.703362+05:30", "timestamp": 1755777351.703362}}}
{"text": "2025-08-21 17:25:51.704 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-53769.71, today=-53769.71\n", "record": {"elapsed": {"repr": "0:00:14.441497", "seconds": 14.441497}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-53769.71, today=-53769.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.704715+05:30", "timestamp": 1755777351.704715}}}
{"text": "2025-08-21 17:25:51.705 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=-114604.18, today=-114604.18\n", "record": {"elapsed": {"repr": "0:00:14.442615", "seconds": 14.442615}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=-114604.18, today=-114604.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.705833+05:30", "timestamp": 1755777351.705833}}}
{"text": "2025-08-21 17:25:51.706 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-229666.2, today=-229666.2\n", "record": {"elapsed": {"repr": "0:00:14.443628", "seconds": 14.443628}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-229666.2, today=-229666.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.706846+05:30", "timestamp": 1755777351.706846}}}
{"text": "2025-08-21 17:25:51.708 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=-932109.13, today=-932109.13\n", "record": {"elapsed": {"repr": "0:00:14.445102", "seconds": 14.445102}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=-932109.13, today=-932109.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.708320+05:30", "timestamp": 1755777351.70832}}}
{"text": "2025-08-21 17:25:51.710 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: -2733136.15, day: -2733136.15\n", "record": {"elapsed": {"repr": "0:00:14.446832", "seconds": 14.446832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: -2733136.15, day: -2733136.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.710050+05:30", "timestamp": 1755777351.71005}}}
{"text": "2025-08-21 17:25:51.711 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:14.448433", "seconds": 14.448433}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.711651+05:30", "timestamp": 1755777351.711651}}}
{"text": "2025-08-21 17:25:51.712 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:14.449585", "seconds": 14.449585}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.712803+05:30", "timestamp": 1755777351.712803}}}
{"text": "2025-08-21 17:25:51.714 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:14.450849", "seconds": 14.450849}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.714067+05:30", "timestamp": 1755777351.714067}}}
{"text": "2025-08-21 17:25:51.715 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:14.451842", "seconds": 14.451842}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.715060+05:30", "timestamp": 1755777351.71506}}}
{"text": "2025-08-21 17:25:51.716 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:51.703245+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:14.453754", "seconds": 14.453754}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 17:25:51.703245+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.716972+05:30", "timestamp": 1755777351.716972}}}
{"text": "2025-08-21 17:25:51.718 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2733136.15, day=-2733136.15, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=118.18, unrealized=-1402986.93, today_pnl=-1402986.93), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1865.64, unrealized=-53769.71, today_pnl=-53769.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1809.51, unrealized=-114604.18, today_pnl=-114604.18), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1120.67, unrealized=-229666.2, today_pnl=-229666.2), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=818.84, unrealized=-932109.13, today_pnl=-932109.13)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 51, 703245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:14.455749", "seconds": 14.455749}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=-2733136.15, day=-2733136.15, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=118.18, unrealized=-1402986.93, today_pnl=-1402986.93), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1865.64, unrealized=-53769.71, today_pnl=-53769.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1809.51, unrealized=-114604.18, today_pnl=-114604.18), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1120.67, unrealized=-229666.2, today_pnl=-229666.2), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=818.84, unrealized=-932109.13, today_pnl=-932109.13)] updated_at=datetime.datetime(2025, 8, 21, 17, 25, 51, 703245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.718967+05:30", "timestamp": 1755777351.718967}}}
{"text": "2025-08-21 17:25:51.721 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2733136.15, day=-2733136.15, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=118.18, unrealized=-1402986.93, today_pnl=-1402986.93), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1865.64, unrealized=-53769.71, today_pnl=-53769.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1809.51, unrealized=-114604.18, today_pnl=-114604.18), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1120.67, unrealized=-229666.2, today_pnl=-229666.2), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=818.84, unrealized=-932109.13, today_pnl=-932109.13)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 51, 703245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:14.458426", "seconds": 14.458426}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=-2733136.15, day=-2733136.15, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=827, avg=1814.66, ltp=118.18, unrealized=-1402986.93, today_pnl=-1402986.93), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=684, avg=1787.03, ltp=1865.64, unrealized=-53769.71, today_pnl=-53769.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=688, avg=1976.09, ltp=1809.51, unrealized=-114604.18, today_pnl=-114604.18), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=803, avg=834.66, ltp=1120.67, unrealized=-229666.2, today_pnl=-229666.2), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1505, avg=1438.18, ltp=818.84, unrealized=-932109.13, today_pnl=-932109.13)], 'updated_at': datetime.datetime(2025, 8, 21, 17, 25, 51, 703245, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.721644+05:30", "timestamp": 1755777351.721644}}}
{"text": "2025-08-21 17:25:51.723 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2733136.15\n", "record": {"elapsed": {"repr": "0:00:14.460238", "seconds": 14.460238}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ-2733136.15", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.723456+05:30", "timestamp": 1755777351.723456}}}
{"text": "2025-08-21 17:25:51.725 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=16\n", "record": {"elapsed": {"repr": "0:00:14.462047", "seconds": 14.462047}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=16", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.725265+05:30", "timestamp": 1755777351.725265}}}
{"text": "2025-08-21 17:25:51.909 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=17\n", "record": {"elapsed": {"repr": "0:00:14.646337", "seconds": 14.646337}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=17", "module": "live", "name": "app.ws.live", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:51.909555+05:30", "timestamp": 1755777351.909555}}}
{"text": "2025-08-21 17:25:53.415 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:16.151914", "seconds": 16.151914}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:53.415132+05:30", "timestamp": 1755777353.415132}}}
{"text": "2025-08-21 17:25:53.416 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:16.153219", "seconds": 16.153219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 26756, "name": "MainProcess"}, "thread": {"id": 9680, "name": "MainThread"}, "time": {"repr": "2025-08-21 17:25:53.416437+05:30", "timestamp": 1755777353.416437}}}
