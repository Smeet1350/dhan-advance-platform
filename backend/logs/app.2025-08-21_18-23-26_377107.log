{"text": "2025-08-21 18:23:26.374 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.096076", "seconds": 24.096076}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:26.374980+05:30", "timestamp": 1755780806.37498}}}
{"text": "2025-08-21 18:23:26.377 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.098538", "seconds": 24.098538}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:26.377442+05:30", "timestamp": 1755780806.377442}}}
{"text": "2025-08-21 18:23:26.377 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.099011", "seconds": 24.099011}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:26.377915+05:30", "timestamp": 1755780806.377915}}}
{"text": "2025-08-21 18:23:26.378 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.099425", "seconds": 24.099425}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:26.378329+05:30", "timestamp": 1755780806.378329}}}
{"text": "2025-08-21 18:23:26.378 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.100011", "seconds": 24.100011}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:26.378915+05:30", "timestamp": 1755780806.378915}}}
{"text": "2025-08-21 18:23:26.379 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.100553", "seconds": 24.100553}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:26.379457+05:30", "timestamp": 1755780806.379457}}}
{"text": "2025-08-21 18:23:26.379 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.101037", "seconds": 24.101037}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:26.379941+05:30", "timestamp": 1755780806.379941}}}
{"text": "2025-08-21 18:23:26.380 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.101534", "seconds": 24.101534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:26.380438+05:30", "timestamp": 1755780806.380438}}}
{"text": "2025-08-21 18:23:26.380 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:24.101967", "seconds": 24.101967}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:26.380871+05:30", "timestamp": 1755780806.380871}}}
{"text": "2025-08-21 18:23:26.523 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=26\n", "record": {"elapsed": {"repr": "0:00:24.244807", "seconds": 24.244807}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=26", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:26.523711+05:30", "timestamp": 1755780806.523711}}}
{"text": "2025-08-21 18:23:27.829 | DEBUG    | app.ws.live:emit_delta:408 - Emitted holdings delta: seq=27\n", "record": {"elapsed": {"repr": "0:00:25.550278", "seconds": 25.550278}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted holdings delta: seq=27", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:27.829182+05:30", "timestamp": 1755780807.829182}}}
{"text": "2025-08-21 18:23:28.260 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:25.982048", "seconds": 25.982048}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.260952+05:30", "timestamp": 1755780808.260952}}}
{"text": "2025-08-21 18:23:28.261 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:25.982592", "seconds": 25.982592}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.261496+05:30", "timestamp": 1755780808.261496}}}
{"text": "2025-08-21 18:23:28.261 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=56968.9, today=56968.9\n", "record": {"elapsed": {"repr": "0:00:25.983048", "seconds": 25.983048}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=56968.9, today=56968.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.261952+05:30", "timestamp": 1755780808.261952}}}
{"text": "2025-08-21 18:23:28.262 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-78036.52, today=-78036.52\n", "record": {"elapsed": {"repr": "0:00:25.983362", "seconds": 25.983362}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-78036.52, today=-78036.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.262266+05:30", "timestamp": 1755780808.262266}}}
{"text": "2025-08-21 18:23:28.262 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=875528.73, today=875528.73\n", "record": {"elapsed": {"repr": "0:00:25.983783", "seconds": 25.983783}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=875528.73, today=875528.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.262687+05:30", "timestamp": 1755780808.262687}}}
{"text": "2025-08-21 18:23:28.263 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80005.94, today=80005.94\n", "record": {"elapsed": {"repr": "0:00:25.984168", "seconds": 25.984168}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80005.94, today=80005.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.263072+05:30", "timestamp": 1755780808.263072}}}
{"text": "2025-08-21 18:23:28.263 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2202216.8, today=2202216.8\n", "record": {"elapsed": {"repr": "0:00:25.984521", "seconds": 25.984521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2202216.8, today=2202216.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.263425+05:30", "timestamp": 1755780808.263425}}}
{"text": "2025-08-21 18:23:28.263 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3136683.85, day: 3136683.85\n", "record": {"elapsed": {"repr": "0:00:25.984823", "seconds": 25.984823}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3136683.85, day: 3136683.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.263727+05:30", "timestamp": 1755780808.263727}}}
{"text": "2025-08-21 18:23:28.264 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:25.985210", "seconds": 25.98521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.264114+05:30", "timestamp": 1755780808.264114}}}
{"text": "2025-08-21 18:23:28.264 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:25.985570", "seconds": 25.98557}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.264474+05:30", "timestamp": 1755780808.264474}}}
{"text": "2025-08-21 18:23:28.264 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:25.985990", "seconds": 25.98599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.264894+05:30", "timestamp": 1755780808.264894}}}
{"text": "2025-08-21 18:23:28.265 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:25.986376", "seconds": 25.986376}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.265280+05:30", "timestamp": 1755780808.26528}}}
{"text": "2025-08-21 18:23:28.265 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:28.261865+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:25.986784", "seconds": 25.986784}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:28.261865+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.265688+05:30", "timestamp": 1755780808.265688}}}
{"text": "2025-08-21 18:23:28.266 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3136683.85, day=3136683.85, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=312.25, unrealized=56968.9, today_pnl=56968.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1585.3, unrealized=-78036.52, today_pnl=-78036.52), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2267.5, unrealized=875528.73, today_pnl=875528.73), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.63, unrealized=80005.94, today_pnl=80005.94), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1275.28, unrealized=2202216.8, today_pnl=2202216.8)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 28, 261865, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:25.987301", "seconds": 25.987301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3136683.85, day=3136683.85, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=312.25, unrealized=56968.9, today_pnl=56968.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1585.3, unrealized=-78036.52, today_pnl=-78036.52), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2267.5, unrealized=875528.73, today_pnl=875528.73), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.63, unrealized=80005.94, today_pnl=80005.94), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1275.28, unrealized=2202216.8, today_pnl=2202216.8)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 28, 261865, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.266205+05:30", "timestamp": 1755780808.266205}}}
{"text": "2025-08-21 18:23:28.266 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3136683.85, day=3136683.85, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=312.25, unrealized=56968.9, today_pnl=56968.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1585.3, unrealized=-78036.52, today_pnl=-78036.52), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2267.5, unrealized=875528.73, today_pnl=875528.73), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.63, unrealized=80005.94, today_pnl=80005.94), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1275.28, unrealized=2202216.8, today_pnl=2202216.8)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 28, 261865, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:25.987986", "seconds": 25.987986}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3136683.85, day=3136683.85, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=312.25, unrealized=56968.9, today_pnl=56968.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1585.3, unrealized=-78036.52, today_pnl=-78036.52), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2267.5, unrealized=875528.73, today_pnl=875528.73), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.63, unrealized=80005.94, today_pnl=80005.94), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1275.28, unrealized=2202216.8, today_pnl=2202216.8)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 28, 261865, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.266890+05:30", "timestamp": 1755780808.26689}}}
{"text": "2025-08-21 18:23:28.267 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3136683.85\n", "record": {"elapsed": {"repr": "0:00:25.988604", "seconds": 25.988604}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3136683.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.267508+05:30", "timestamp": 1755780808.267508}}}
{"text": "2025-08-21 18:23:28.268 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=28\n", "record": {"elapsed": {"repr": "0:00:25.989331", "seconds": 25.989331}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=28", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:28.268235+05:30", "timestamp": 1755780808.268235}}}
{"text": "2025-08-21 18:23:28.381 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.102677", "seconds": 26.102677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:28.381581+05:30", "timestamp": 1755780808.381581}}}
{"text": "2025-08-21 18:23:28.382 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.103691", "seconds": 26.103691}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:28.382595+05:30", "timestamp": 1755780808.382595}}}
{"text": "2025-08-21 18:23:28.382 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.104073", "seconds": 26.104073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:28.382977+05:30", "timestamp": 1755780808.382977}}}
{"text": "2025-08-21 18:23:28.383 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.104421", "seconds": 26.104421}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:28.383325+05:30", "timestamp": 1755780808.383325}}}
{"text": "2025-08-21 18:23:28.383 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.104839", "seconds": 26.104839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:28.383743+05:30", "timestamp": 1755780808.383743}}}
{"text": "2025-08-21 18:23:28.384 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.105271", "seconds": 26.105271}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:28.384175+05:30", "timestamp": 1755780808.384175}}}
{"text": "2025-08-21 18:23:28.384 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.105608", "seconds": 26.105608}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:28.384512+05:30", "timestamp": 1755780808.384512}}}
{"text": "2025-08-21 18:23:28.384 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.105969", "seconds": 26.105969}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:28.384873+05:30", "timestamp": 1755780808.384873}}}
{"text": "2025-08-21 18:23:28.385 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.106365", "seconds": 26.106365}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:28.385269+05:30", "timestamp": 1755780808.385269}}}
{"text": "2025-08-21 18:23:28.385 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:26.106723", "seconds": 26.106723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:28.385627+05:30", "timestamp": 1755780808.385627}}}
{"text": "2025-08-21 18:23:30.002 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=29\n", "record": {"elapsed": {"repr": "0:00:27.723368", "seconds": 27.723368}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=29", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.002272+05:30", "timestamp": 1755780810.002272}}}
{"text": "2025-08-21 18:23:30.232 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:27.954049", "seconds": 27.954049}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.232953+05:30", "timestamp": 1755780810.232953}}}
{"text": "2025-08-21 18:23:30.233 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:27.954636", "seconds": 27.954636}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.233540+05:30", "timestamp": 1755780810.23354}}}
{"text": "2025-08-21 18:23:30.234 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=56938.97, today=56938.97\n", "record": {"elapsed": {"repr": "0:00:27.955100", "seconds": 27.9551}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=56938.97, today=56938.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.234004+05:30", "timestamp": 1755780810.234004}}}
{"text": "2025-08-21 18:23:30.234 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-80038.25, today=-80038.25\n", "record": {"elapsed": {"repr": "0:00:27.955536", "seconds": 27.955536}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-80038.25, today=-80038.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.234440+05:30", "timestamp": 1755780810.23444}}}
{"text": "2025-08-21 18:23:30.234 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=875562.58, today=875562.58\n", "record": {"elapsed": {"repr": "0:00:27.955954", "seconds": 27.955954}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=875562.58, today=875562.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.234858+05:30", "timestamp": 1755780810.234858}}}
{"text": "2025-08-21 18:23:30.235 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80264.87, today=80264.87\n", "record": {"elapsed": {"repr": "0:00:27.956328", "seconds": 27.956328}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80264.87, today=80264.87", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.235232+05:30", "timestamp": 1755780810.235232}}}
{"text": "2025-08-21 18:23:30.235 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2225545.97, today=2225545.97\n", "record": {"elapsed": {"repr": "0:00:27.956847", "seconds": 27.956847}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2225545.97, today=2225545.97", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.235751+05:30", "timestamp": 1755780810.235751}}}
{"text": "2025-08-21 18:23:30.236 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3158274.14, day: 3158274.14\n", "record": {"elapsed": {"repr": "0:00:27.957192", "seconds": 27.957192}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3158274.14, day: 3158274.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.236096+05:30", "timestamp": 1755780810.236096}}}
{"text": "2025-08-21 18:23:30.236 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:27.957547", "seconds": 27.957547}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.236451+05:30", "timestamp": 1755780810.236451}}}
{"text": "2025-08-21 18:23:30.236 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:27.958015", "seconds": 27.958015}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.236919+05:30", "timestamp": 1755780810.236919}}}
{"text": "2025-08-21 18:23:30.237 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:27.958419", "seconds": 27.958419}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.237323+05:30", "timestamp": 1755780810.237323}}}
{"text": "2025-08-21 18:23:30.237 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:27.958766", "seconds": 27.958766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.237670+05:30", "timestamp": 1755780810.23767}}}
{"text": "2025-08-21 18:23:30.238 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:30.233925+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:27.959127", "seconds": 27.959127}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:30.233925+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.238031+05:30", "timestamp": 1755780810.238031}}}
{"text": "2025-08-21 18:23:30.238 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3158274.14, day=3158274.14, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=312.19, unrealized=56938.97, today_pnl=56938.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1598.39, unrealized=-80038.25, today_pnl=-80038.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2267.54, unrealized=875562.58, today_pnl=875562.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=258.64, unrealized=80264.87, today_pnl=80264.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1287.7, unrealized=2225545.97, today_pnl=2225545.97)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 30, 233925, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:27.959703", "seconds": 27.959703}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3158274.14, day=3158274.14, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=312.19, unrealized=56938.97, today_pnl=56938.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1598.39, unrealized=-80038.25, today_pnl=-80038.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2267.54, unrealized=875562.58, today_pnl=875562.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=258.64, unrealized=80264.87, today_pnl=80264.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1287.7, unrealized=2225545.97, today_pnl=2225545.97)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 30, 233925, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.238607+05:30", "timestamp": 1755780810.238607}}}
{"text": "2025-08-21 18:23:30.239 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3158274.14, day=3158274.14, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=312.19, unrealized=56938.97, today_pnl=56938.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1598.39, unrealized=-80038.25, today_pnl=-80038.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2267.54, unrealized=875562.58, today_pnl=875562.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=258.64, unrealized=80264.87, today_pnl=80264.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1287.7, unrealized=2225545.97, today_pnl=2225545.97)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 30, 233925, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:27.960424", "seconds": 27.960424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3158274.14, day=3158274.14, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=312.19, unrealized=56938.97, today_pnl=56938.97), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1598.39, unrealized=-80038.25, today_pnl=-80038.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2267.54, unrealized=875562.58, today_pnl=875562.58), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=258.64, unrealized=80264.87, today_pnl=80264.87), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1287.7, unrealized=2225545.97, today_pnl=2225545.97)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 30, 233925, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.239328+05:30", "timestamp": 1755780810.239328}}}
{"text": "2025-08-21 18:23:30.239 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3158274.14\n", "record": {"elapsed": {"repr": "0:00:27.960879", "seconds": 27.960879}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3158274.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.239783+05:30", "timestamp": 1755780810.239783}}}
{"text": "2025-08-21 18:23:30.240 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=30\n", "record": {"elapsed": {"repr": "0:00:27.961343", "seconds": 27.961343}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=30", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:30.240247+05:30", "timestamp": 1755780810.240247}}}
{"text": "2025-08-21 18:23:30.386 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.107735", "seconds": 28.107735}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:30.386639+05:30", "timestamp": 1755780810.386639}}}
{"text": "2025-08-21 18:23:30.387 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.108351", "seconds": 28.108351}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:30.387255+05:30", "timestamp": 1755780810.387255}}}
{"text": "2025-08-21 18:23:30.387 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.108810", "seconds": 28.10881}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:30.387714+05:30", "timestamp": 1755780810.387714}}}
{"text": "2025-08-21 18:23:30.388 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.109233", "seconds": 28.109233}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:30.388137+05:30", "timestamp": 1755780810.388137}}}
{"text": "2025-08-21 18:23:30.388 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.109715", "seconds": 28.109715}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:30.388619+05:30", "timestamp": 1755780810.388619}}}
{"text": "2025-08-21 18:23:30.389 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.110111", "seconds": 28.110111}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:30.389015+05:30", "timestamp": 1755780810.389015}}}
{"text": "2025-08-21 18:23:30.389 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.110509", "seconds": 28.110509}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:30.389413+05:30", "timestamp": 1755780810.389413}}}
{"text": "2025-08-21 18:23:30.389 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.110940", "seconds": 28.11094}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:30.389844+05:30", "timestamp": 1755780810.389844}}}
{"text": "2025-08-21 18:23:30.390 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.111343", "seconds": 28.111343}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:30.390247+05:30", "timestamp": 1755780810.390247}}}
{"text": "2025-08-21 18:23:30.390 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:28.111798", "seconds": 28.111798}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:30.390702+05:30", "timestamp": 1755780810.390702}}}
{"text": "2025-08-21 18:23:31.832 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=31\n", "record": {"elapsed": {"repr": "0:00:29.553791", "seconds": 29.553791}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=31", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:31.832695+05:30", "timestamp": 1755780811.832695}}}
{"text": "2025-08-21 18:23:32.190 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:29.911753", "seconds": 29.911753}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.190657+05:30", "timestamp": 1755780812.190657}}}
{"text": "2025-08-21 18:23:32.191 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:29.912322", "seconds": 29.912322}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.191226+05:30", "timestamp": 1755780812.191226}}}
{"text": "2025-08-21 18:23:32.191 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=59423.77, today=59423.77\n", "record": {"elapsed": {"repr": "0:00:29.912903", "seconds": 29.912903}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=59423.77, today=59423.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.191807+05:30", "timestamp": 1755780812.191807}}}
{"text": "2025-08-21 18:23:32.192 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-75802.93, today=-75802.93\n", "record": {"elapsed": {"repr": "0:00:29.913386", "seconds": 29.913386}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-75802.93, today=-75802.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.192290+05:30", "timestamp": 1755780812.19229}}}
{"text": "2025-08-21 18:23:32.192 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=871422.79, today=871422.79\n", "record": {"elapsed": {"repr": "0:00:29.913862", "seconds": 29.913862}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=871422.79, today=871422.79", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.192766+05:30", "timestamp": 1755780812.192766}}}
{"text": "2025-08-21 18:23:32.193 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80446.88, today=80446.88\n", "record": {"elapsed": {"repr": "0:00:29.914335", "seconds": 29.914335}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80446.88, today=80446.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.193239+05:30", "timestamp": 1755780812.193239}}}
{"text": "2025-08-21 18:23:32.193 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2258440.09, today=2258440.09\n", "record": {"elapsed": {"repr": "0:00:29.914806", "seconds": 29.914806}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2258440.09, today=2258440.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.193710+05:30", "timestamp": 1755780812.19371}}}
{"text": "2025-08-21 18:23:32.194 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3193930.6, day: 3193930.6\n", "record": {"elapsed": {"repr": "0:00:29.915242", "seconds": 29.915242}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3193930.6, day: 3193930.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.194146+05:30", "timestamp": 1755780812.194146}}}
{"text": "2025-08-21 18:23:32.194 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:29.915813", "seconds": 29.915813}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.194717+05:30", "timestamp": 1755780812.194717}}}
{"text": "2025-08-21 18:23:32.195 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:29.916289", "seconds": 29.916289}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.195193+05:30", "timestamp": 1755780812.195193}}}
{"text": "2025-08-21 18:23:32.195 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:29.916713", "seconds": 29.916713}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.195617+05:30", "timestamp": 1755780812.195617}}}
{"text": "2025-08-21 18:23:32.196 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:29.917104", "seconds": 29.917104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.196008+05:30", "timestamp": 1755780812.196008}}}
{"text": "2025-08-21 18:23:32.196 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:32.191749+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:29.917607", "seconds": 29.917607}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:32.191749+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.196511+05:30", "timestamp": 1755780812.196511}}}
{"text": "2025-08-21 18:23:32.196 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3193930.6, day=3193930.6, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=317.11, unrealized=59423.77, today_pnl=59423.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1570.7, unrealized=-75802.93, today_pnl=-75802.93), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2262.79, unrealized=871422.79, today_pnl=871422.79), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.24, unrealized=80446.88, today_pnl=80446.88), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1305.22, unrealized=2258440.09, today_pnl=2258440.09)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 32, 191749, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:29.918095", "seconds": 29.918095}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3193930.6, day=3193930.6, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=317.11, unrealized=59423.77, today_pnl=59423.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1570.7, unrealized=-75802.93, today_pnl=-75802.93), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2262.79, unrealized=871422.79, today_pnl=871422.79), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.24, unrealized=80446.88, today_pnl=80446.88), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1305.22, unrealized=2258440.09, today_pnl=2258440.09)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 32, 191749, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.196999+05:30", "timestamp": 1755780812.196999}}}
{"text": "2025-08-21 18:23:32.197 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3193930.6, day=3193930.6, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=317.11, unrealized=59423.77, today_pnl=59423.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1570.7, unrealized=-75802.93, today_pnl=-75802.93), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2262.79, unrealized=871422.79, today_pnl=871422.79), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.24, unrealized=80446.88, today_pnl=80446.88), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1305.22, unrealized=2258440.09, today_pnl=2258440.09)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 32, 191749, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:29.918736", "seconds": 29.918736}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3193930.6, day=3193930.6, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=317.11, unrealized=59423.77, today_pnl=59423.77), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1570.7, unrealized=-75802.93, today_pnl=-75802.93), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2262.79, unrealized=871422.79, today_pnl=871422.79), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.24, unrealized=80446.88, today_pnl=80446.88), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1305.22, unrealized=2258440.09, today_pnl=2258440.09)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 32, 191749, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.197640+05:30", "timestamp": 1755780812.19764}}}
{"text": "2025-08-21 18:23:32.198 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3193930.60\n", "record": {"elapsed": {"repr": "0:00:29.919308", "seconds": 29.919308}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3193930.60", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.198212+05:30", "timestamp": 1755780812.198212}}}
{"text": "2025-08-21 18:23:32.198 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=32\n", "record": {"elapsed": {"repr": "0:00:29.920019", "seconds": 29.920019}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=32", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:32.198923+05:30", "timestamp": 1755780812.198923}}}
{"text": "2025-08-21 18:23:32.391 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.112364", "seconds": 30.112364}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:32.391268+05:30", "timestamp": 1755780812.391268}}}
{"text": "2025-08-21 18:23:32.391 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.112949", "seconds": 30.112949}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:32.391853+05:30", "timestamp": 1755780812.391853}}}
{"text": "2025-08-21 18:23:32.392 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.113441", "seconds": 30.113441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:32.392345+05:30", "timestamp": 1755780812.392345}}}
{"text": "2025-08-21 18:23:32.392 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.113825", "seconds": 30.113825}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:32.392729+05:30", "timestamp": 1755780812.392729}}}
{"text": "2025-08-21 18:23:32.393 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.114246", "seconds": 30.114246}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:32.393150+05:30", "timestamp": 1755780812.39315}}}
{"text": "2025-08-21 18:23:32.393 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.114679", "seconds": 30.114679}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:32.393583+05:30", "timestamp": 1755780812.393583}}}
{"text": "2025-08-21 18:23:32.394 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.115129", "seconds": 30.115129}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:32.394033+05:30", "timestamp": 1755780812.394033}}}
{"text": "2025-08-21 18:23:32.394 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.115588", "seconds": 30.115588}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:32.394492+05:30", "timestamp": 1755780812.394492}}}
{"text": "2025-08-21 18:23:32.394 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.116015", "seconds": 30.116015}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:32.394919+05:30", "timestamp": 1755780812.394919}}}
{"text": "2025-08-21 18:23:32.395 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:30.116452", "seconds": 30.116452}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:32.395356+05:30", "timestamp": 1755780812.395356}}}
{"text": "2025-08-21 18:23:33.573 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=33\n", "record": {"elapsed": {"repr": "0:00:31.294906", "seconds": 31.294906}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=33", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:33.573810+05:30", "timestamp": 1755780813.57381}}}
{"text": "2025-08-21 18:23:34.123 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:31.844151", "seconds": 31.844151}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.123055+05:30", "timestamp": 1755780814.123055}}}
{"text": "2025-08-21 18:23:34.123 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:31.844768", "seconds": 31.844768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.123672+05:30", "timestamp": 1755780814.123672}}}
{"text": "2025-08-21 18:23:34.124 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=59614.06, today=59614.06\n", "record": {"elapsed": {"repr": "0:00:31.845272", "seconds": 31.845272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=59614.06, today=59614.06", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.124176+05:30", "timestamp": 1755780814.124176}}}
{"text": "2025-08-21 18:23:34.124 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-76145.63, today=-76145.63\n", "record": {"elapsed": {"repr": "0:00:31.845704", "seconds": 31.845704}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-76145.63, today=-76145.63", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.124608+05:30", "timestamp": 1755780814.124608}}}
{"text": "2025-08-21 18:23:34.125 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=874838.95, today=874838.95\n", "record": {"elapsed": {"repr": "0:00:31.846175", "seconds": 31.846175}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=874838.95, today=874838.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.125079+05:30", "timestamp": 1755780814.125079}}}
{"text": "2025-08-21 18:23:34.125 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80444.26, today=80444.26\n", "record": {"elapsed": {"repr": "0:00:31.846642", "seconds": 31.846642}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80444.26, today=80444.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.125546+05:30", "timestamp": 1755780814.125546}}}
{"text": "2025-08-21 18:23:34.125 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2236791.0, today=2236791.0\n", "record": {"elapsed": {"repr": "0:00:31.847077", "seconds": 31.847077}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2236791.0, today=2236791.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.125981+05:30", "timestamp": 1755780814.125981}}}
{"text": "2025-08-21 18:23:34.126 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3175542.64, day: 3175542.64\n", "record": {"elapsed": {"repr": "0:00:31.847628", "seconds": 31.847628}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3175542.64, day: 3175542.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.126532+05:30", "timestamp": 1755780814.126532}}}
{"text": "2025-08-21 18:23:34.127 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:31.848104", "seconds": 31.848104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.127008+05:30", "timestamp": 1755780814.127008}}}
{"text": "2025-08-21 18:23:34.127 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:31.848561", "seconds": 31.848561}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.127465+05:30", "timestamp": 1755780814.127465}}}
{"text": "2025-08-21 18:23:34.127 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:31.848998", "seconds": 31.848998}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.127902+05:30", "timestamp": 1755780814.127902}}}
{"text": "2025-08-21 18:23:34.128 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:31.849411", "seconds": 31.849411}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.128315+05:30", "timestamp": 1755780814.128315}}}
{"text": "2025-08-21 18:23:34.128 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:34.124131+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:31.849923", "seconds": 31.849923}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:34.124131+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.128827+05:30", "timestamp": 1755780814.128827}}}
{"text": "2025-08-21 18:23:34.129 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3175542.64, day=3175542.64, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=317.49, unrealized=59614.06, today_pnl=59614.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1572.94, unrealized=-76145.63, today_pnl=-76145.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2266.71, unrealized=874838.95, today_pnl=874838.95), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.26, unrealized=80444.26, today_pnl=80444.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1293.69, unrealized=2236791.0, today_pnl=2236791.0)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 34, 124131, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:31.850504", "seconds": 31.850504}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3175542.64, day=3175542.64, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=317.49, unrealized=59614.06, today_pnl=59614.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1572.94, unrealized=-76145.63, today_pnl=-76145.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2266.71, unrealized=874838.95, today_pnl=874838.95), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.26, unrealized=80444.26, today_pnl=80444.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1293.69, unrealized=2236791.0, today_pnl=2236791.0)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 34, 124131, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.129408+05:30", "timestamp": 1755780814.129408}}}
{"text": "2025-08-21 18:23:34.130 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3175542.64, day=3175542.64, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=317.49, unrealized=59614.06, today_pnl=59614.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1572.94, unrealized=-76145.63, today_pnl=-76145.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2266.71, unrealized=874838.95, today_pnl=874838.95), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.26, unrealized=80444.26, today_pnl=80444.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1293.69, unrealized=2236791.0, today_pnl=2236791.0)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 34, 124131, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:31.851241", "seconds": 31.851241}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3175542.64, day=3175542.64, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=317.49, unrealized=59614.06, today_pnl=59614.06), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1572.94, unrealized=-76145.63, today_pnl=-76145.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2266.71, unrealized=874838.95, today_pnl=874838.95), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.26, unrealized=80444.26, today_pnl=80444.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1293.69, unrealized=2236791.0, today_pnl=2236791.0)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 34, 124131, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.130145+05:30", "timestamp": 1755780814.130145}}}
{"text": "2025-08-21 18:23:34.130 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3175542.64\n", "record": {"elapsed": {"repr": "0:00:31.851752", "seconds": 31.851752}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3175542.64", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.130656+05:30", "timestamp": 1755780814.130656}}}
{"text": "2025-08-21 18:23:34.131 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=34\n", "record": {"elapsed": {"repr": "0:00:31.852342", "seconds": 31.852342}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=34", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:34.131246+05:30", "timestamp": 1755780814.131246}}}
{"text": "2025-08-21 18:23:34.396 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.117445", "seconds": 32.117445}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:34.396349+05:30", "timestamp": 1755780814.396349}}}
{"text": "2025-08-21 18:23:34.396 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.118053", "seconds": 32.118053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:34.396957+05:30", "timestamp": 1755780814.396957}}}
{"text": "2025-08-21 18:23:34.397 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.118489", "seconds": 32.118489}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:34.397393+05:30", "timestamp": 1755780814.397393}}}
{"text": "2025-08-21 18:23:34.397 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.118880", "seconds": 32.11888}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:34.397784+05:30", "timestamp": 1755780814.397784}}}
{"text": "2025-08-21 18:23:34.398 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.119291", "seconds": 32.119291}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:34.398195+05:30", "timestamp": 1755780814.398195}}}
{"text": "2025-08-21 18:23:34.398 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.119796", "seconds": 32.119796}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:34.398700+05:30", "timestamp": 1755780814.3987}}}
{"text": "2025-08-21 18:23:34.399 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.120274", "seconds": 32.120274}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:34.399178+05:30", "timestamp": 1755780814.399178}}}
{"text": "2025-08-21 18:23:34.399 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.120681", "seconds": 32.120681}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:34.399585+05:30", "timestamp": 1755780814.399585}}}
{"text": "2025-08-21 18:23:34.400 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.121249", "seconds": 32.121249}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:34.400153+05:30", "timestamp": 1755780814.400153}}}
{"text": "2025-08-21 18:23:34.400 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:32.121741", "seconds": 32.121741}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:34.400645+05:30", "timestamp": 1755780814.400645}}}
{"text": "2025-08-21 18:23:35.193 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=35\n", "record": {"elapsed": {"repr": "0:00:32.914417", "seconds": 32.914417}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=35", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:35.193321+05:30", "timestamp": 1755780815.193321}}}
{"text": "2025-08-21 18:23:36.023 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:33.745028", "seconds": 33.745028}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.023932+05:30", "timestamp": 1755780816.023932}}}
{"text": "2025-08-21 18:23:36.024 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:33.745630", "seconds": 33.74563}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.024534+05:30", "timestamp": 1755780816.024534}}}
{"text": "2025-08-21 18:23:36.025 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=60671.23, today=60671.23\n", "record": {"elapsed": {"repr": "0:00:33.746129", "seconds": 33.746129}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=60671.23, today=60671.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.025033+05:30", "timestamp": 1755780816.025033}}}
{"text": "2025-08-21 18:23:36.025 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-71953.21, today=-71953.21\n", "record": {"elapsed": {"repr": "0:00:33.746649", "seconds": 33.746649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-71953.21, today=-71953.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.025553+05:30", "timestamp": 1755780816.025553}}}
{"text": "2025-08-21 18:23:36.026 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=852542.85, today=852542.85\n", "record": {"elapsed": {"repr": "0:00:33.747121", "seconds": 33.747121}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=852542.85, today=852542.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.026025+05:30", "timestamp": 1755780816.026025}}}
{"text": "2025-08-21 18:23:36.026 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80891.12, today=80891.12\n", "record": {"elapsed": {"repr": "0:00:33.747619", "seconds": 33.747619}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80891.12, today=80891.12", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.026523+05:30", "timestamp": 1755780816.026523}}}
{"text": "2025-08-21 18:23:36.026 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2238918.03, today=2238918.03\n", "record": {"elapsed": {"repr": "0:00:33.748085", "seconds": 33.748085}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2238918.03, today=2238918.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.026989+05:30", "timestamp": 1755780816.026989}}}
{"text": "2025-08-21 18:23:36.027 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3161070.02, day: 3161070.02\n", "record": {"elapsed": {"repr": "0:00:33.748571", "seconds": 33.748571}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3161070.02, day: 3161070.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.027475+05:30", "timestamp": 1755780816.027475}}}
{"text": "2025-08-21 18:23:36.027 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:33.749066", "seconds": 33.749066}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.027970+05:30", "timestamp": 1755780816.02797}}}
{"text": "2025-08-21 18:23:36.028 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:33.749553", "seconds": 33.749553}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.028457+05:30", "timestamp": 1755780816.028457}}}
{"text": "2025-08-21 18:23:36.028 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:33.750018", "seconds": 33.750018}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.028922+05:30", "timestamp": 1755780816.028922}}}
{"text": "2025-08-21 18:23:36.029 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:33.750471", "seconds": 33.750471}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.029375+05:30", "timestamp": 1755780816.029375}}}
{"text": "2025-08-21 18:23:36.029 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:36.024962+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:33.751037", "seconds": 33.751037}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:36.024962+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.029941+05:30", "timestamp": 1755780816.029941}}}
{"text": "2025-08-21 18:23:36.030 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3161070.02, day=3161070.02, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.58, unrealized=60671.23, today_pnl=60671.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1545.54, unrealized=-71953.21, today_pnl=-71953.21), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2241.08, unrealized=852542.85, today_pnl=852542.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=253.82, unrealized=80891.12, today_pnl=80891.12), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1294.82, unrealized=2238918.03, today_pnl=2238918.03)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 36, 24962, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:33.751846", "seconds": 33.751846}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3161070.02, day=3161070.02, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.58, unrealized=60671.23, today_pnl=60671.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1545.54, unrealized=-71953.21, today_pnl=-71953.21), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2241.08, unrealized=852542.85, today_pnl=852542.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=253.82, unrealized=80891.12, today_pnl=80891.12), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1294.82, unrealized=2238918.03, today_pnl=2238918.03)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 36, 24962, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.030750+05:30", "timestamp": 1755780816.03075}}}
{"text": "2025-08-21 18:23:36.031 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3161070.02, day=3161070.02, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.58, unrealized=60671.23, today_pnl=60671.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1545.54, unrealized=-71953.21, today_pnl=-71953.21), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2241.08, unrealized=852542.85, today_pnl=852542.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=253.82, unrealized=80891.12, today_pnl=80891.12), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1294.82, unrealized=2238918.03, today_pnl=2238918.03)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 36, 24962, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:33.752524", "seconds": 33.752524}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3161070.02, day=3161070.02, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.58, unrealized=60671.23, today_pnl=60671.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1545.54, unrealized=-71953.21, today_pnl=-71953.21), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2241.08, unrealized=852542.85, today_pnl=852542.85), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=253.82, unrealized=80891.12, today_pnl=80891.12), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1294.82, unrealized=2238918.03, today_pnl=2238918.03)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 36, 24962, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.031428+05:30", "timestamp": 1755780816.031428}}}
{"text": "2025-08-21 18:23:36.031 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3161070.02\n", "record": {"elapsed": {"repr": "0:00:33.753024", "seconds": 33.753024}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3161070.02", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.031928+05:30", "timestamp": 1755780816.031928}}}
{"text": "2025-08-21 18:23:36.032 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=36\n", "record": {"elapsed": {"repr": "0:00:33.753660", "seconds": 33.75366}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=36", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:36.032564+05:30", "timestamp": 1755780816.032564}}}
{"text": "2025-08-21 18:23:36.401 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.122384", "seconds": 34.122384}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:36.401288+05:30", "timestamp": 1755780816.401288}}}
{"text": "2025-08-21 18:23:36.401 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.123065", "seconds": 34.123065}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:36.401969+05:30", "timestamp": 1755780816.401969}}}
{"text": "2025-08-21 18:23:36.402 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.123528", "seconds": 34.123528}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:36.402432+05:30", "timestamp": 1755780816.402432}}}
{"text": "2025-08-21 18:23:36.402 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.123941", "seconds": 34.123941}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:36.402845+05:30", "timestamp": 1755780816.402845}}}
{"text": "2025-08-21 18:23:36.403 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.124418", "seconds": 34.124418}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:36.403322+05:30", "timestamp": 1755780816.403322}}}
{"text": "2025-08-21 18:23:36.403 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.124999", "seconds": 34.124999}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:36.403903+05:30", "timestamp": 1755780816.403903}}}
{"text": "2025-08-21 18:23:36.404 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.125424", "seconds": 34.125424}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:36.404328+05:30", "timestamp": 1755780816.404328}}}
{"text": "2025-08-21 18:23:36.404 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.125860", "seconds": 34.12586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:36.404764+05:30", "timestamp": 1755780816.404764}}}
{"text": "2025-08-21 18:23:36.405 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.126274", "seconds": 34.126274}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:36.405178+05:30", "timestamp": 1755780816.405178}}}
{"text": "2025-08-21 18:23:36.405 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:34.126675", "seconds": 34.126675}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:36.405579+05:30", "timestamp": 1755780816.405579}}}
{"text": "2025-08-21 18:23:37.121 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=37\n", "record": {"elapsed": {"repr": "0:00:34.842241", "seconds": 34.842241}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=37", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.121145+05:30", "timestamp": 1755780817.121145}}}
{"text": "2025-08-21 18:23:37.873 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:35.594956", "seconds": 35.594956}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.873860+05:30", "timestamp": 1755780817.87386}}}
{"text": "2025-08-21 18:23:37.878 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:35.599999", "seconds": 35.599999}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.878903+05:30", "timestamp": 1755780817.878903}}}
{"text": "2025-08-21 18:23:37.879 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=62569.99, today=62569.99\n", "record": {"elapsed": {"repr": "0:00:35.600813", "seconds": 35.600813}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=62569.99, today=62569.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.879717+05:30", "timestamp": 1755780817.879717}}}
{"text": "2025-08-21 18:23:37.880 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-73315.1, today=-73315.1\n", "record": {"elapsed": {"repr": "0:00:35.601686", "seconds": 35.601686}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-73315.1, today=-73315.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.880590+05:30", "timestamp": 1755780817.88059}}}
{"text": "2025-08-21 18:23:37.881 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=881917.16, today=881917.16\n", "record": {"elapsed": {"repr": "0:00:35.602474", "seconds": 35.602474}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=881917.16, today=881917.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.881378+05:30", "timestamp": 1755780817.881378}}}
{"text": "2025-08-21 18:23:37.882 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80646.57, today=80646.57\n", "record": {"elapsed": {"repr": "0:00:35.603814", "seconds": 35.603814}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80646.57, today=80646.57", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.882718+05:30", "timestamp": 1755780817.882718}}}
{"text": "2025-08-21 18:23:37.884 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2192626.72, today=2192626.72\n", "record": {"elapsed": {"repr": "0:00:35.605150", "seconds": 35.60515}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2192626.72, today=2192626.72", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.884054+05:30", "timestamp": 1755780817.884054}}}
{"text": "2025-08-21 18:23:37.889 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3144445.34, day: 3144445.34\n", "record": {"elapsed": {"repr": "0:00:35.610612", "seconds": 35.610612}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3144445.34, day: 3144445.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.889516+05:30", "timestamp": 1755780817.889516}}}
{"text": "2025-08-21 18:23:37.890 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:35.611723", "seconds": 35.611723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.890627+05:30", "timestamp": 1755780817.890627}}}
{"text": "2025-08-21 18:23:37.894 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:35.615548", "seconds": 35.615548}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.894452+05:30", "timestamp": 1755780817.894452}}}
{"text": "2025-08-21 18:23:37.896 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:35.618071", "seconds": 35.618071}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.896975+05:30", "timestamp": 1755780817.896975}}}
{"text": "2025-08-21 18:23:37.898 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:35.619214", "seconds": 35.619214}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.898118+05:30", "timestamp": 1755780817.898118}}}
{"text": "2025-08-21 18:23:37.899 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:37.879630+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:35.620211", "seconds": 35.620211}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:37.879630+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.899115+05:30", "timestamp": 1755780817.899115}}}
{"text": "2025-08-21 18:23:37.902 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3144445.34, day=3144445.34, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.34, unrealized=62569.99, today_pnl=62569.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1554.44, unrealized=-73315.1, today_pnl=-73315.1), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2274.85, unrealized=881917.16, today_pnl=881917.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=255.7, unrealized=80646.57, today_pnl=80646.57), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1270.17, unrealized=2192626.72, today_pnl=2192626.72)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 37, 879630, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:35.623428", "seconds": 35.623428}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3144445.34, day=3144445.34, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.34, unrealized=62569.99, today_pnl=62569.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1554.44, unrealized=-73315.1, today_pnl=-73315.1), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2274.85, unrealized=881917.16, today_pnl=881917.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=255.7, unrealized=80646.57, today_pnl=80646.57), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1270.17, unrealized=2192626.72, today_pnl=2192626.72)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 37, 879630, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.902332+05:30", "timestamp": 1755780817.902332}}}
{"text": "2025-08-21 18:23:37.904 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3144445.34, day=3144445.34, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.34, unrealized=62569.99, today_pnl=62569.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1554.44, unrealized=-73315.1, today_pnl=-73315.1), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2274.85, unrealized=881917.16, today_pnl=881917.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=255.7, unrealized=80646.57, today_pnl=80646.57), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1270.17, unrealized=2192626.72, today_pnl=2192626.72)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 37, 879630, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:35.626053", "seconds": 35.626053}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3144445.34, day=3144445.34, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.34, unrealized=62569.99, today_pnl=62569.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1554.44, unrealized=-73315.1, today_pnl=-73315.1), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2274.85, unrealized=881917.16, today_pnl=881917.16), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=255.7, unrealized=80646.57, today_pnl=80646.57), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1270.17, unrealized=2192626.72, today_pnl=2192626.72)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 37, 879630, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.904957+05:30", "timestamp": 1755780817.904957}}}
{"text": "2025-08-21 18:23:37.906 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3144445.34\n", "record": {"elapsed": {"repr": "0:00:35.627294", "seconds": 35.627294}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3144445.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.906198+05:30", "timestamp": 1755780817.906198}}}
{"text": "2025-08-21 18:23:37.907 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=38\n", "record": {"elapsed": {"repr": "0:00:35.628986", "seconds": 35.628986}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=38", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:37.907890+05:30", "timestamp": 1755780817.90789}}}
{"text": "2025-08-21 18:23:38.420 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.141500", "seconds": 36.1415}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:38.420404+05:30", "timestamp": 1755780818.420404}}}
{"text": "2025-08-21 18:23:38.423 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.144786", "seconds": 36.144786}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:38.423690+05:30", "timestamp": 1755780818.42369}}}
{"text": "2025-08-21 18:23:38.428 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.149430", "seconds": 36.14943}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:38.428334+05:30", "timestamp": 1755780818.428334}}}
{"text": "2025-08-21 18:23:38.429 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.150847", "seconds": 36.150847}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:38.429751+05:30", "timestamp": 1755780818.429751}}}
{"text": "2025-08-21 18:23:38.430 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.151944", "seconds": 36.151944}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:38.430848+05:30", "timestamp": 1755780818.430848}}}
{"text": "2025-08-21 18:23:38.432 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.153108", "seconds": 36.153108}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:38.432012+05:30", "timestamp": 1755780818.432012}}}
{"text": "2025-08-21 18:23:38.433 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.154614", "seconds": 36.154614}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:38.433518+05:30", "timestamp": 1755780818.433518}}}
{"text": "2025-08-21 18:23:38.434 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.155938", "seconds": 36.155938}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:38.434842+05:30", "timestamp": 1755780818.434842}}}
{"text": "2025-08-21 18:23:38.435 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.157030", "seconds": 36.15703}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:38.435934+05:30", "timestamp": 1755780818.435934}}}
{"text": "2025-08-21 18:23:38.439 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:36.160647", "seconds": 36.160647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:38.439551+05:30", "timestamp": 1755780818.439551}}}
{"text": "2025-08-21 18:23:39.011 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=39\n", "record": {"elapsed": {"repr": "0:00:36.733018", "seconds": 36.733018}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=39", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.011922+05:30", "timestamp": 1755780819.011922}}}
{"text": "2025-08-21 18:23:39.687 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:37.409076", "seconds": 37.409076}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.687980+05:30", "timestamp": 1755780819.68798}}}
{"text": "2025-08-21 18:23:39.688 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:37.409761", "seconds": 37.409761}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.688665+05:30", "timestamp": 1755780819.688665}}}
{"text": "2025-08-21 18:23:39.689 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=63511.99, today=63511.99\n", "record": {"elapsed": {"repr": "0:00:37.410205", "seconds": 37.410205}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=63511.99, today=63511.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.689109+05:30", "timestamp": 1755780819.689109}}}
{"text": "2025-08-21 18:23:39.689 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-68636.76, today=-68636.76\n", "record": {"elapsed": {"repr": "0:00:37.410842", "seconds": 37.410842}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-68636.76, today=-68636.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.689746+05:30", "timestamp": 1755780819.689746}}}
{"text": "2025-08-21 18:23:39.690 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=861869.94, today=861869.94\n", "record": {"elapsed": {"repr": "0:00:37.411435", "seconds": 37.411435}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=861869.94, today=861869.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.690339+05:30", "timestamp": 1755780819.690339}}}
{"text": "2025-08-21 18:23:39.690 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80398.35, today=80398.35\n", "record": {"elapsed": {"repr": "0:00:37.411840", "seconds": 37.41184}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80398.35, today=80398.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.690744+05:30", "timestamp": 1755780819.690744}}}
{"text": "2025-08-21 18:23:39.691 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2222324.99, today=2222324.99\n", "record": {"elapsed": {"repr": "0:00:37.412340", "seconds": 37.41234}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2222324.99, today=2222324.99", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.691244+05:30", "timestamp": 1755780819.691244}}}
{"text": "2025-08-21 18:23:39.691 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3159468.51, day: 3159468.51\n", "record": {"elapsed": {"repr": "0:00:37.412897", "seconds": 37.412897}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3159468.51, day: 3159468.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.691801+05:30", "timestamp": 1755780819.691801}}}
{"text": "2025-08-21 18:23:39.692 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:37.413427", "seconds": 37.413427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.692331+05:30", "timestamp": 1755780819.692331}}}
{"text": "2025-08-21 18:23:39.692 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:37.413988", "seconds": 37.413988}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.692892+05:30", "timestamp": 1755780819.692892}}}
{"text": "2025-08-21 18:23:39.693 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:37.414612", "seconds": 37.414612}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.693516+05:30", "timestamp": 1755780819.693516}}}
{"text": "2025-08-21 18:23:39.694 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:37.415190", "seconds": 37.41519}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.694094+05:30", "timestamp": 1755780819.694094}}}
{"text": "2025-08-21 18:23:39.694 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:39.689062+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:37.415861", "seconds": 37.415861}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:39.689062+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.694765+05:30", "timestamp": 1755780819.694765}}}
{"text": "2025-08-21 18:23:39.695 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3159468.51, day=3159468.51, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.21, unrealized=63511.99, today_pnl=63511.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1523.87, unrealized=-68636.76, today_pnl=-68636.76), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2251.81, unrealized=861869.94, today_pnl=861869.94), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.61, unrealized=80398.35, today_pnl=80398.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1285.99, unrealized=2222324.99, today_pnl=2222324.99)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 39, 689062, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:37.416594", "seconds": 37.416594}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3159468.51, day=3159468.51, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.21, unrealized=63511.99, today_pnl=63511.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1523.87, unrealized=-68636.76, today_pnl=-68636.76), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2251.81, unrealized=861869.94, today_pnl=861869.94), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.61, unrealized=80398.35, today_pnl=80398.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1285.99, unrealized=2222324.99, today_pnl=2222324.99)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 39, 689062, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.695498+05:30", "timestamp": 1755780819.695498}}}
{"text": "2025-08-21 18:23:39.696 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3159468.51, day=3159468.51, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.21, unrealized=63511.99, today_pnl=63511.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1523.87, unrealized=-68636.76, today_pnl=-68636.76), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2251.81, unrealized=861869.94, today_pnl=861869.94), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.61, unrealized=80398.35, today_pnl=80398.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1285.99, unrealized=2222324.99, today_pnl=2222324.99)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 39, 689062, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:37.417589", "seconds": 37.417589}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3159468.51, day=3159468.51, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=325.21, unrealized=63511.99, today_pnl=63511.99), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1523.87, unrealized=-68636.76, today_pnl=-68636.76), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2251.81, unrealized=861869.94, today_pnl=861869.94), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.61, unrealized=80398.35, today_pnl=80398.35), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1285.99, unrealized=2222324.99, today_pnl=2222324.99)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 39, 689062, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.696493+05:30", "timestamp": 1755780819.696493}}}
{"text": "2025-08-21 18:23:39.697 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3159468.51\n", "record": {"elapsed": {"repr": "0:00:37.418391", "seconds": 37.418391}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3159468.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.697295+05:30", "timestamp": 1755780819.697295}}}
{"text": "2025-08-21 18:23:39.697 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=40\n", "record": {"elapsed": {"repr": "0:00:37.419089", "seconds": 37.419089}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=40", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:39.697993+05:30", "timestamp": 1755780819.697993}}}
{"text": "2025-08-21 18:23:40.440 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.161913", "seconds": 38.161913}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:40.440817+05:30", "timestamp": 1755780820.440817}}}
{"text": "2025-08-21 18:23:40.441 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.162642", "seconds": 38.162642}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:40.441546+05:30", "timestamp": 1755780820.441546}}}
{"text": "2025-08-21 18:23:40.442 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.163153", "seconds": 38.163153}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:40.442057+05:30", "timestamp": 1755780820.442057}}}
{"text": "2025-08-21 18:23:40.442 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.163634", "seconds": 38.163634}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:40.442538+05:30", "timestamp": 1755780820.442538}}}
{"text": "2025-08-21 18:23:40.442 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.164071", "seconds": 38.164071}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:40.442975+05:30", "timestamp": 1755780820.442975}}}
{"text": "2025-08-21 18:23:40.443 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.164533", "seconds": 38.164533}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:40.443437+05:30", "timestamp": 1755780820.443437}}}
{"text": "2025-08-21 18:23:40.443 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.164949", "seconds": 38.164949}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:40.443853+05:30", "timestamp": 1755780820.443853}}}
{"text": "2025-08-21 18:23:40.444 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.165340", "seconds": 38.16534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:40.444244+05:30", "timestamp": 1755780820.444244}}}
{"text": "2025-08-21 18:23:40.444 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.165782", "seconds": 38.165782}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:40.444686+05:30", "timestamp": 1755780820.444686}}}
{"text": "2025-08-21 18:23:40.445 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:38.166280", "seconds": 38.16628}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:40.445184+05:30", "timestamp": 1755780820.445184}}}
{"text": "2025-08-21 18:23:40.854 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=41\n", "record": {"elapsed": {"repr": "0:00:38.576053", "seconds": 38.576053}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=41", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:40.854957+05:30", "timestamp": 1755780820.854957}}}
{"text": "2025-08-21 18:23:41.378 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:39.099766", "seconds": 39.099766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.378670+05:30", "timestamp": 1755780821.37867}}}
{"text": "2025-08-21 18:23:41.379 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:39.100457", "seconds": 39.100457}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.379361+05:30", "timestamp": 1755780821.379361}}}
{"text": "2025-08-21 18:23:41.380 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=60279.32, today=60279.32\n", "record": {"elapsed": {"repr": "0:00:39.101240", "seconds": 39.10124}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=60279.32, today=60279.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.380144+05:30", "timestamp": 1755780821.380144}}}
{"text": "2025-08-21 18:23:41.380 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-67395.68, today=-67395.68\n", "record": {"elapsed": {"repr": "0:00:39.102036", "seconds": 39.102036}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-67395.68, today=-67395.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.380940+05:30", "timestamp": 1755780821.38094}}}
{"text": "2025-08-21 18:23:41.381 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=858242.13, today=858242.13\n", "record": {"elapsed": {"repr": "0:00:39.102534", "seconds": 39.102534}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=858242.13, today=858242.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.381438+05:30", "timestamp": 1755780821.381438}}}
{"text": "2025-08-21 18:23:41.382 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79783.3, today=79783.3\n", "record": {"elapsed": {"repr": "0:00:39.103457", "seconds": 39.103457}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79783.3, today=79783.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.382361+05:30", "timestamp": 1755780821.382361}}}
{"text": "2025-08-21 18:23:41.382 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2263988.18, today=2263988.18\n", "record": {"elapsed": {"repr": "0:00:39.104062", "seconds": 39.104062}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2263988.18, today=2263988.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.382966+05:30", "timestamp": 1755780821.382966}}}
{"text": "2025-08-21 18:23:41.383 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3194897.25, day: 3194897.25\n", "record": {"elapsed": {"repr": "0:00:39.104593", "seconds": 39.104593}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3194897.25, day: 3194897.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.383497+05:30", "timestamp": 1755780821.383497}}}
{"text": "2025-08-21 18:23:41.384 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:39.105152", "seconds": 39.105152}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.384056+05:30", "timestamp": 1755780821.384056}}}
{"text": "2025-08-21 18:23:41.384 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:39.105767", "seconds": 39.105767}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.384671+05:30", "timestamp": 1755780821.384671}}}
{"text": "2025-08-21 18:23:41.385 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:39.106612", "seconds": 39.106612}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.385516+05:30", "timestamp": 1755780821.385516}}}
{"text": "2025-08-21 18:23:41.386 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:39.107568", "seconds": 39.107568}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.386472+05:30", "timestamp": 1755780821.386472}}}
{"text": "2025-08-21 18:23:41.387 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:41.379982+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:39.108189", "seconds": 39.108189}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:41.379982+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.387093+05:30", "timestamp": 1755780821.387093}}}
{"text": "2025-08-21 18:23:41.387 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3194897.25, day=3194897.25, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.8, unrealized=60279.32, today_pnl=60279.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1515.75, unrealized=-67395.68, today_pnl=-67395.68), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2247.64, unrealized=858242.13, today_pnl=858242.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.34, unrealized=79783.3, today_pnl=79783.3), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1308.17, unrealized=2263988.18, today_pnl=2263988.18)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 41, 379982, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:39.109032", "seconds": 39.109032}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3194897.25, day=3194897.25, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.8, unrealized=60279.32, today_pnl=60279.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1515.75, unrealized=-67395.68, today_pnl=-67395.68), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2247.64, unrealized=858242.13, today_pnl=858242.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.34, unrealized=79783.3, today_pnl=79783.3), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1308.17, unrealized=2263988.18, today_pnl=2263988.18)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 41, 379982, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.387936+05:30", "timestamp": 1755780821.387936}}}
{"text": "2025-08-21 18:23:41.388 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3194897.25, day=3194897.25, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.8, unrealized=60279.32, today_pnl=60279.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1515.75, unrealized=-67395.68, today_pnl=-67395.68), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2247.64, unrealized=858242.13, today_pnl=858242.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.34, unrealized=79783.3, today_pnl=79783.3), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1308.17, unrealized=2263988.18, today_pnl=2263988.18)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 41, 379982, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:39.109949", "seconds": 39.109949}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3194897.25, day=3194897.25, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.8, unrealized=60279.32, today_pnl=60279.32), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1515.75, unrealized=-67395.68, today_pnl=-67395.68), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2247.64, unrealized=858242.13, today_pnl=858242.13), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.34, unrealized=79783.3, today_pnl=79783.3), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1308.17, unrealized=2263988.18, today_pnl=2263988.18)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 41, 379982, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.388853+05:30", "timestamp": 1755780821.388853}}}
{"text": "2025-08-21 18:23:41.390 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3194897.25\n", "record": {"elapsed": {"repr": "0:00:39.111301", "seconds": 39.111301}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3194897.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.390205+05:30", "timestamp": 1755780821.390205}}}
{"text": "2025-08-21 18:23:41.392 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=42\n", "record": {"elapsed": {"repr": "0:00:39.113444", "seconds": 39.113444}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=42", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:41.392348+05:30", "timestamp": 1755780821.392348}}}
{"text": "2025-08-21 18:23:42.445 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.166948", "seconds": 40.166948}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:42.445852+05:30", "timestamp": 1755780822.445852}}}
{"text": "2025-08-21 18:23:42.446 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.167697", "seconds": 40.167697}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:42.446601+05:30", "timestamp": 1755780822.446601}}}
{"text": "2025-08-21 18:23:42.446 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.168015", "seconds": 40.168015}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:42.446919+05:30", "timestamp": 1755780822.446919}}}
{"text": "2025-08-21 18:23:42.447 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.168391", "seconds": 40.168391}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:42.447295+05:30", "timestamp": 1755780822.447295}}}
{"text": "2025-08-21 18:23:42.447 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.168953", "seconds": 40.168953}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:42.447857+05:30", "timestamp": 1755780822.447857}}}
{"text": "2025-08-21 18:23:42.448 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.169514", "seconds": 40.169514}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:42.448418+05:30", "timestamp": 1755780822.448418}}}
{"text": "2025-08-21 18:23:42.449 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.170536", "seconds": 40.170536}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:42.449440+05:30", "timestamp": 1755780822.44944}}}
{"text": "2025-08-21 18:23:42.450 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.171357", "seconds": 40.171357}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:42.450261+05:30", "timestamp": 1755780822.450261}}}
{"text": "2025-08-21 18:23:42.450 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.171905", "seconds": 40.171905}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:42.450809+05:30", "timestamp": 1755780822.450809}}}
{"text": "2025-08-21 18:23:42.451 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:40.172343", "seconds": 40.172343}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:42.451247+05:30", "timestamp": 1755780822.451247}}}
{"text": "2025-08-21 18:23:42.611 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=43\n", "record": {"elapsed": {"repr": "0:00:40.332867", "seconds": 40.332867}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=43", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.611771+05:30", "timestamp": 1755780822.611771}}}
{"text": "2025-08-21 18:23:42.920 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:40.641592", "seconds": 40.641592}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.920496+05:30", "timestamp": 1755780822.920496}}}
{"text": "2025-08-21 18:23:42.920 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:40.642041", "seconds": 40.642041}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.920945+05:30", "timestamp": 1755780822.920945}}}
{"text": "2025-08-21 18:23:42.921 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=59930.89, today=59930.89\n", "record": {"elapsed": {"repr": "0:00:40.642463", "seconds": 40.642463}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=59930.89, today=59930.89", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.921367+05:30", "timestamp": 1755780822.921367}}}
{"text": "2025-08-21 18:23:42.921 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-68837.25, today=-68837.25\n", "record": {"elapsed": {"repr": "0:00:40.642864", "seconds": 40.642864}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-68837.25, today=-68837.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.921768+05:30", "timestamp": 1755780822.921768}}}
{"text": "2025-08-21 18:23:42.922 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=832097.39, today=832097.39\n", "record": {"elapsed": {"repr": "0:00:40.643326", "seconds": 40.643326}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=832097.39, today=832097.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.922230+05:30", "timestamp": 1755780822.92223}}}
{"text": "2025-08-21 18:23:42.922 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79768.09, today=79768.09\n", "record": {"elapsed": {"repr": "0:00:40.643715", "seconds": 40.643715}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79768.09, today=79768.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.922619+05:30", "timestamp": 1755780822.922619}}}
{"text": "2025-08-21 18:23:42.923 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2220289.3, today=2220289.3\n", "record": {"elapsed": {"repr": "0:00:40.644381", "seconds": 40.644381}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2220289.3, today=2220289.3", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.923285+05:30", "timestamp": 1755780822.923285}}}
{"text": "2025-08-21 18:23:42.924 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3123248.42, day: 3123248.42\n", "record": {"elapsed": {"repr": "0:00:40.645317", "seconds": 40.645317}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3123248.42, day: 3123248.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.924221+05:30", "timestamp": 1755780822.924221}}}
{"text": "2025-08-21 18:23:42.924 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:40.645898", "seconds": 40.645898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.924802+05:30", "timestamp": 1755780822.924802}}}
{"text": "2025-08-21 18:23:42.925 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:40.646379", "seconds": 40.646379}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.925283+05:30", "timestamp": 1755780822.925283}}}
{"text": "2025-08-21 18:23:42.925 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:40.646786", "seconds": 40.646786}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.925690+05:30", "timestamp": 1755780822.92569}}}
{"text": "2025-08-21 18:23:42.926 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:40.647292", "seconds": 40.647292}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.926196+05:30", "timestamp": 1755780822.926196}}}
{"text": "2025-08-21 18:23:42.926 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:42.921320+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:40.647690", "seconds": 40.64769}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:42.921320+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.926594+05:30", "timestamp": 1755780822.926594}}}
{"text": "2025-08-21 18:23:42.927 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3123248.42, day=3123248.42, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.12, unrealized=59930.89, today_pnl=59930.89), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1525.18, unrealized=-68837.25, today_pnl=-68837.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2217.58, unrealized=832097.39, today_pnl=832097.39), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.46, unrealized=79768.09, today_pnl=79768.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1284.9, unrealized=2220289.3, today_pnl=2220289.3)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 42, 921320, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:40.648224", "seconds": 40.648224}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3123248.42, day=3123248.42, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.12, unrealized=59930.89, today_pnl=59930.89), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1525.18, unrealized=-68837.25, today_pnl=-68837.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2217.58, unrealized=832097.39, today_pnl=832097.39), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.46, unrealized=79768.09, today_pnl=79768.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1284.9, unrealized=2220289.3, today_pnl=2220289.3)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 42, 921320, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.927128+05:30", "timestamp": 1755780822.927128}}}
{"text": "2025-08-21 18:23:42.927 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3123248.42, day=3123248.42, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.12, unrealized=59930.89, today_pnl=59930.89), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1525.18, unrealized=-68837.25, today_pnl=-68837.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2217.58, unrealized=832097.39, today_pnl=832097.39), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.46, unrealized=79768.09, today_pnl=79768.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1284.9, unrealized=2220289.3, today_pnl=2220289.3)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 42, 921320, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:40.648918", "seconds": 40.648918}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3123248.42, day=3123248.42, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.12, unrealized=59930.89, today_pnl=59930.89), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1525.18, unrealized=-68837.25, today_pnl=-68837.25), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2217.58, unrealized=832097.39, today_pnl=832097.39), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.46, unrealized=79768.09, today_pnl=79768.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1284.9, unrealized=2220289.3, today_pnl=2220289.3)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 42, 921320, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.927822+05:30", "timestamp": 1755780822.927822}}}
{"text": "2025-08-21 18:23:42.928 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3123248.42\n", "record": {"elapsed": {"repr": "0:00:40.649437", "seconds": 40.649437}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3123248.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.928341+05:30", "timestamp": 1755780822.928341}}}
{"text": "2025-08-21 18:23:42.928 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=44\n", "record": {"elapsed": {"repr": "0:00:40.649942", "seconds": 40.649942}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=44", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:42.928846+05:30", "timestamp": 1755780822.928846}}}
{"text": "2025-08-21 18:23:44.451 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.173034", "seconds": 42.173034}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:44.451938+05:30", "timestamp": 1755780824.451938}}}
{"text": "2025-08-21 18:23:44.452 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.173666", "seconds": 42.173666}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:44.452570+05:30", "timestamp": 1755780824.45257}}}
{"text": "2025-08-21 18:23:44.453 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.174117", "seconds": 42.174117}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:44.453021+05:30", "timestamp": 1755780824.453021}}}
{"text": "2025-08-21 18:23:44.453 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.174516", "seconds": 42.174516}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:44.453420+05:30", "timestamp": 1755780824.45342}}}
{"text": "2025-08-21 18:23:44.453 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.174928", "seconds": 42.174928}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:44.453832+05:30", "timestamp": 1755780824.453832}}}
{"text": "2025-08-21 18:23:44.454 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.175329", "seconds": 42.175329}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:44.454233+05:30", "timestamp": 1755780824.454233}}}
{"text": "2025-08-21 18:23:44.454 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.175754", "seconds": 42.175754}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:44.454658+05:30", "timestamp": 1755780824.454658}}}
{"text": "2025-08-21 18:23:44.455 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.176099", "seconds": 42.176099}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:44.455003+05:30", "timestamp": 1755780824.455003}}}
{"text": "2025-08-21 18:23:44.455 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.176437", "seconds": 42.176437}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:44.455341+05:30", "timestamp": 1755780824.455341}}}
{"text": "2025-08-21 18:23:44.455 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:42.176782", "seconds": 42.176782}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:44.455686+05:30", "timestamp": 1755780824.455686}}}
{"text": "2025-08-21 18:23:44.719 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:42.440106", "seconds": 42.440106}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.719010+05:30", "timestamp": 1755780824.71901}}}
{"text": "2025-08-21 18:23:44.719 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:42.440648", "seconds": 42.440648}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.719552+05:30", "timestamp": 1755780824.719552}}}
{"text": "2025-08-21 18:23:44.720 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=60730.2, today=60730.2\n", "record": {"elapsed": {"repr": "0:00:42.441104", "seconds": 42.441104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=60730.2, today=60730.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.720008+05:30", "timestamp": 1755780824.720008}}}
{"text": "2025-08-21 18:23:44.720 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-67177.35, today=-67177.35\n", "record": {"elapsed": {"repr": "0:00:42.441556", "seconds": 42.441556}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-67177.35, today=-67177.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.720460+05:30", "timestamp": 1755780824.72046}}}
{"text": "2025-08-21 18:23:44.720 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=808366.09, today=808366.09\n", "record": {"elapsed": {"repr": "0:00:42.442030", "seconds": 42.44203}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=808366.09, today=808366.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.720934+05:30", "timestamp": 1755780824.720934}}}
{"text": "2025-08-21 18:23:44.721 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79913.43, today=79913.43\n", "record": {"elapsed": {"repr": "0:00:42.442483", "seconds": 42.442483}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79913.43, today=79913.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.721387+05:30", "timestamp": 1755780824.721387}}}
{"text": "2025-08-21 18:23:44.721 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2172940.4, today=2172940.4\n", "record": {"elapsed": {"repr": "0:00:42.442923", "seconds": 42.442923}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2172940.4, today=2172940.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.721827+05:30", "timestamp": 1755780824.721827}}}
{"text": "2025-08-21 18:23:44.722 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3054772.77, day: 3054772.77\n", "record": {"elapsed": {"repr": "0:00:42.443389", "seconds": 42.443389}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3054772.77, day: 3054772.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.722293+05:30", "timestamp": 1755780824.722293}}}
{"text": "2025-08-21 18:23:44.722 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:42.443830", "seconds": 42.44383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.722734+05:30", "timestamp": 1755780824.722734}}}
{"text": "2025-08-21 18:23:44.723 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:42.444282", "seconds": 42.444282}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.723186+05:30", "timestamp": 1755780824.723186}}}
{"text": "2025-08-21 18:23:44.723 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:42.444703", "seconds": 42.444703}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.723607+05:30", "timestamp": 1755780824.723607}}}
{"text": "2025-08-21 18:23:44.724 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:42.445134", "seconds": 42.445134}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.724038+05:30", "timestamp": 1755780824.724038}}}
{"text": "2025-08-21 18:23:44.724 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:44.719952+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:42.445557", "seconds": 42.445557}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:44.719952+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.724461+05:30", "timestamp": 1755780824.724461}}}
{"text": "2025-08-21 18:23:44.725 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3054772.77, day=3054772.77, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.7, unrealized=60730.2, today_pnl=60730.2), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1514.33, unrealized=-67177.35, today_pnl=-67177.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2190.31, unrealized=808366.09, today_pnl=808366.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.34, unrealized=79913.43, today_pnl=79913.43), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1259.69, unrealized=2172940.4, today_pnl=2172940.4)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 44, 719952, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:42.446247", "seconds": 42.446247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3054772.77, day=3054772.77, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.7, unrealized=60730.2, today_pnl=60730.2), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1514.33, unrealized=-67177.35, today_pnl=-67177.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2190.31, unrealized=808366.09, today_pnl=808366.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.34, unrealized=79913.43, today_pnl=79913.43), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1259.69, unrealized=2172940.4, today_pnl=2172940.4)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 44, 719952, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.725151+05:30", "timestamp": 1755780824.725151}}}
{"text": "2025-08-21 18:23:44.725 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3054772.77, day=3054772.77, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.7, unrealized=60730.2, today_pnl=60730.2), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1514.33, unrealized=-67177.35, today_pnl=-67177.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2190.31, unrealized=808366.09, today_pnl=808366.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.34, unrealized=79913.43, today_pnl=79913.43), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1259.69, unrealized=2172940.4, today_pnl=2172940.4)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 44, 719952, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:42.446966", "seconds": 42.446966}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3054772.77, day=3054772.77, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.7, unrealized=60730.2, today_pnl=60730.2), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1514.33, unrealized=-67177.35, today_pnl=-67177.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2190.31, unrealized=808366.09, today_pnl=808366.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.34, unrealized=79913.43, today_pnl=79913.43), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1259.69, unrealized=2172940.4, today_pnl=2172940.4)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 44, 719952, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.725870+05:30", "timestamp": 1755780824.72587}}}
{"text": "2025-08-21 18:23:44.726 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3054772.77\n", "record": {"elapsed": {"repr": "0:00:42.447603", "seconds": 42.447603}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3054772.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.726507+05:30", "timestamp": 1755780824.726507}}}
{"text": "2025-08-21 18:23:44.727 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=45\n", "record": {"elapsed": {"repr": "0:00:42.448268", "seconds": 42.448268}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=45", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:44.727172+05:30", "timestamp": 1755780824.727172}}}
{"text": "2025-08-21 18:23:46.196 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=46\n", "record": {"elapsed": {"repr": "0:00:43.917906", "seconds": 43.917906}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=46", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.196810+05:30", "timestamp": 1755780826.19681}}}
{"text": "2025-08-21 18:23:46.421 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:44.142187", "seconds": 44.142187}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.421091+05:30", "timestamp": 1755780826.421091}}}
{"text": "2025-08-21 18:23:46.421 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:44.142927", "seconds": 44.142927}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.421831+05:30", "timestamp": 1755780826.421831}}}
{"text": "2025-08-21 18:23:46.422 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=60730.2, today=60730.2\n", "record": {"elapsed": {"repr": "0:00:44.143410", "seconds": 44.14341}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=60730.2, today=60730.2", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.422314+05:30", "timestamp": 1755780826.422314}}}
{"text": "2025-08-21 18:23:46.422 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-67177.35, today=-67177.35\n", "record": {"elapsed": {"repr": "0:00:44.143831", "seconds": 44.143831}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-67177.35, today=-67177.35", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.422735+05:30", "timestamp": 1755780826.422735}}}
{"text": "2025-08-21 18:23:46.423 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=808366.09, today=808366.09\n", "record": {"elapsed": {"repr": "0:00:44.144256", "seconds": 44.144256}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=808366.09, today=808366.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.423160+05:30", "timestamp": 1755780826.42316}}}
{"text": "2025-08-21 18:23:46.423 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79913.43, today=79913.43\n", "record": {"elapsed": {"repr": "0:00:44.144664", "seconds": 44.144664}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79913.43, today=79913.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.423568+05:30", "timestamp": 1755780826.423568}}}
{"text": "2025-08-21 18:23:46.423 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2172940.4, today=2172940.4\n", "record": {"elapsed": {"repr": "0:00:44.145093", "seconds": 44.145093}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2172940.4, today=2172940.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.423997+05:30", "timestamp": 1755780826.423997}}}
{"text": "2025-08-21 18:23:46.424 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3054772.77, day: 3054772.77\n", "record": {"elapsed": {"repr": "0:00:44.145485", "seconds": 44.145485}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3054772.77, day: 3054772.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.424389+05:30", "timestamp": 1755780826.424389}}}
{"text": "2025-08-21 18:23:46.424 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:44.145867", "seconds": 44.145867}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.424771+05:30", "timestamp": 1755780826.424771}}}
{"text": "2025-08-21 18:23:46.425 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:44.146264", "seconds": 44.146264}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.425168+05:30", "timestamp": 1755780826.425168}}}
{"text": "2025-08-21 18:23:46.425 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:44.146692", "seconds": 44.146692}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.425596+05:30", "timestamp": 1755780826.425596}}}
{"text": "2025-08-21 18:23:46.425 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:44.147056", "seconds": 44.147056}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.425960+05:30", "timestamp": 1755780826.42596}}}
{"text": "2025-08-21 18:23:46.426 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:46.422252+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:44.147420", "seconds": 44.14742}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:46.422252+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.426324+05:30", "timestamp": 1755780826.426324}}}
{"text": "2025-08-21 18:23:46.426 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3054772.77, day=3054772.77, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.7, unrealized=60730.2, today_pnl=60730.2), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1514.33, unrealized=-67177.35, today_pnl=-67177.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2190.31, unrealized=808366.09, today_pnl=808366.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.34, unrealized=79913.43, today_pnl=79913.43), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1259.69, unrealized=2172940.4, today_pnl=2172940.4)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 46, 422252, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:44.147967", "seconds": 44.147967}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3054772.77, day=3054772.77, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.7, unrealized=60730.2, today_pnl=60730.2), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1514.33, unrealized=-67177.35, today_pnl=-67177.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2190.31, unrealized=808366.09, today_pnl=808366.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.34, unrealized=79913.43, today_pnl=79913.43), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1259.69, unrealized=2172940.4, today_pnl=2172940.4)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 46, 422252, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.426871+05:30", "timestamp": 1755780826.426871}}}
{"text": "2025-08-21 18:23:46.427 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3054772.77, day=3054772.77, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.7, unrealized=60730.2, today_pnl=60730.2), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1514.33, unrealized=-67177.35, today_pnl=-67177.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2190.31, unrealized=808366.09, today_pnl=808366.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.34, unrealized=79913.43, today_pnl=79913.43), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1259.69, unrealized=2172940.4, today_pnl=2172940.4)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 46, 422252, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:44.148560", "seconds": 44.14856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3054772.77, day=3054772.77, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.7, unrealized=60730.2, today_pnl=60730.2), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1514.33, unrealized=-67177.35, today_pnl=-67177.35), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2190.31, unrealized=808366.09, today_pnl=808366.09), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.34, unrealized=79913.43, today_pnl=79913.43), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1259.69, unrealized=2172940.4, today_pnl=2172940.4)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 46, 422252, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.427464+05:30", "timestamp": 1755780826.427464}}}
{"text": "2025-08-21 18:23:46.427 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3054772.77\n", "record": {"elapsed": {"repr": "0:00:44.148961", "seconds": 44.148961}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3054772.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.427865+05:30", "timestamp": 1755780826.427865}}}
{"text": "2025-08-21 18:23:46.428 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=47\n", "record": {"elapsed": {"repr": "0:00:44.149493", "seconds": 44.149493}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=47", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:46.428397+05:30", "timestamp": 1755780826.428397}}}
{"text": "2025-08-21 18:23:46.456 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.177956", "seconds": 44.177956}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:46.456860+05:30", "timestamp": 1755780826.45686}}}
{"text": "2025-08-21 18:23:46.457 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.178539", "seconds": 44.178539}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:46.457443+05:30", "timestamp": 1755780826.457443}}}
{"text": "2025-08-21 18:23:46.457 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.178897", "seconds": 44.178897}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:46.457801+05:30", "timestamp": 1755780826.457801}}}
{"text": "2025-08-21 18:23:46.458 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.179325", "seconds": 44.179325}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:46.458229+05:30", "timestamp": 1755780826.458229}}}
{"text": "2025-08-21 18:23:46.458 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.179646", "seconds": 44.179646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:46.458550+05:30", "timestamp": 1755780826.45855}}}
{"text": "2025-08-21 18:23:46.459 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.180099", "seconds": 44.180099}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:46.459003+05:30", "timestamp": 1755780826.459003}}}
{"text": "2025-08-21 18:23:46.459 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.180478", "seconds": 44.180478}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:46.459382+05:30", "timestamp": 1755780826.459382}}}
{"text": "2025-08-21 18:23:46.459 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.180793", "seconds": 44.180793}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:46.459697+05:30", "timestamp": 1755780826.459697}}}
{"text": "2025-08-21 18:23:46.459 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.181092", "seconds": 44.181092}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:46.459996+05:30", "timestamp": 1755780826.459996}}}
{"text": "2025-08-21 18:23:46.460 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:44.181399", "seconds": 44.181399}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:46.460303+05:30", "timestamp": 1755780826.460303}}}
{"text": "2025-08-21 18:23:47.820 | DEBUG    | app.ws.live:emit_delta:408 - Emitted trades delta: seq=48\n", "record": {"elapsed": {"repr": "0:00:45.541458", "seconds": 45.541458}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted trades delta: seq=48", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.820362+05:30", "timestamp": 1755780827.820362}}}
{"text": "2025-08-21 18:23:47.972 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:45.693425", "seconds": 45.693425}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.972329+05:30", "timestamp": 1755780827.972329}}}
{"text": "2025-08-21 18:23:47.972 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:45.694037", "seconds": 45.694037}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.972941+05:30", "timestamp": 1755780827.972941}}}
{"text": "2025-08-21 18:23:47.973 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=60915.8, today=60915.8\n", "record": {"elapsed": {"repr": "0:00:45.694653", "seconds": 45.694653}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=60915.8, today=60915.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.973557+05:30", "timestamp": 1755780827.973557}}}
{"text": "2025-08-21 18:23:47.973 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-65724.34, today=-65724.34\n", "record": {"elapsed": {"repr": "0:00:45.695049", "seconds": 45.695049}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-65724.34, today=-65724.34", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.973953+05:30", "timestamp": 1755780827.973953}}}
{"text": "2025-08-21 18:23:47.974 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=833676.43, today=833676.43\n", "record": {"elapsed": {"repr": "0:00:45.696020", "seconds": 45.69602}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=833676.43, today=833676.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.974924+05:30", "timestamp": 1755780827.974924}}}
{"text": "2025-08-21 18:23:47.975 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80355.69, today=80355.69\n", "record": {"elapsed": {"repr": "0:00:45.696416", "seconds": 45.696416}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80355.69, today=80355.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.975320+05:30", "timestamp": 1755780827.97532}}}
{"text": "2025-08-21 18:23:47.975 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2138088.47, today=2138088.47\n", "record": {"elapsed": {"repr": "0:00:45.696856", "seconds": 45.696856}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2138088.47, today=2138088.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.975760+05:30", "timestamp": 1755780827.97576}}}
{"text": "2025-08-21 18:23:47.976 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3047312.05, day: 3047312.05\n", "record": {"elapsed": {"repr": "0:00:45.697211", "seconds": 45.697211}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3047312.05, day: 3047312.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.976115+05:30", "timestamp": 1755780827.976115}}}
{"text": "2025-08-21 18:23:47.976 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:45.697642", "seconds": 45.697642}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.976546+05:30", "timestamp": 1755780827.976546}}}
{"text": "2025-08-21 18:23:47.976 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:45.698012", "seconds": 45.698012}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.976916+05:30", "timestamp": 1755780827.976916}}}
{"text": "2025-08-21 18:23:47.977 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:45.698389", "seconds": 45.698389}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.977293+05:30", "timestamp": 1755780827.977293}}}
{"text": "2025-08-21 18:23:47.977 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:45.698978", "seconds": 45.698978}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.977882+05:30", "timestamp": 1755780827.977882}}}
{"text": "2025-08-21 18:23:47.978 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:47.973486+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:45.699543", "seconds": 45.699543}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:47.973486+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.978447+05:30", "timestamp": 1755780827.978447}}}
{"text": "2025-08-21 18:23:47.979 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3047312.05, day=3047312.05, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=320.07, unrealized=60915.8, today_pnl=60915.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1504.83, unrealized=-65724.34, today_pnl=-65724.34), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2219.4, unrealized=833676.43, today_pnl=833676.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.94, unrealized=80355.69, today_pnl=80355.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1241.13, unrealized=2138088.47, today_pnl=2138088.47)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 47, 973486, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:45.700587", "seconds": 45.700587}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3047312.05, day=3047312.05, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=320.07, unrealized=60915.8, today_pnl=60915.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1504.83, unrealized=-65724.34, today_pnl=-65724.34), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2219.4, unrealized=833676.43, today_pnl=833676.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.94, unrealized=80355.69, today_pnl=80355.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1241.13, unrealized=2138088.47, today_pnl=2138088.47)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 47, 973486, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.979491+05:30", "timestamp": 1755780827.979491}}}
{"text": "2025-08-21 18:23:47.980 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3047312.05, day=3047312.05, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=320.07, unrealized=60915.8, today_pnl=60915.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1504.83, unrealized=-65724.34, today_pnl=-65724.34), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2219.4, unrealized=833676.43, today_pnl=833676.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.94, unrealized=80355.69, today_pnl=80355.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1241.13, unrealized=2138088.47, today_pnl=2138088.47)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 47, 973486, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:45.702051", "seconds": 45.702051}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3047312.05, day=3047312.05, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=320.07, unrealized=60915.8, today_pnl=60915.8), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1504.83, unrealized=-65724.34, today_pnl=-65724.34), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2219.4, unrealized=833676.43, today_pnl=833676.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.94, unrealized=80355.69, today_pnl=80355.69), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1241.13, unrealized=2138088.47, today_pnl=2138088.47)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 47, 973486, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.980955+05:30", "timestamp": 1755780827.980955}}}
{"text": "2025-08-21 18:23:47.981 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3047312.05\n", "record": {"elapsed": {"repr": "0:00:45.702819", "seconds": 45.702819}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3047312.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.981723+05:30", "timestamp": 1755780827.981723}}}
{"text": "2025-08-21 18:23:47.982 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=49\n", "record": {"elapsed": {"repr": "0:00:45.703828", "seconds": 45.703828}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=49", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:47.982732+05:30", "timestamp": 1755780827.982732}}}
{"text": "2025-08-21 18:23:48.120 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=50\n", "record": {"elapsed": {"repr": "0:00:45.841969", "seconds": 45.841969}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=50", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:48.120873+05:30", "timestamp": 1755780828.120873}}}
{"text": "2025-08-21 18:23:48.460 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.181853", "seconds": 46.181853}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:48.460757+05:30", "timestamp": 1755780828.460757}}}
{"text": "2025-08-21 18:23:48.461 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.182452", "seconds": 46.182452}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:48.461356+05:30", "timestamp": 1755780828.461356}}}
{"text": "2025-08-21 18:23:48.461 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.182877", "seconds": 46.182877}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:48.461781+05:30", "timestamp": 1755780828.461781}}}
{"text": "2025-08-21 18:23:48.462 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.183209", "seconds": 46.183209}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:48.462113+05:30", "timestamp": 1755780828.462113}}}
{"text": "2025-08-21 18:23:48.462 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.183664", "seconds": 46.183664}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:48.462568+05:30", "timestamp": 1755780828.462568}}}
{"text": "2025-08-21 18:23:48.462 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.183983", "seconds": 46.183983}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:48.462887+05:30", "timestamp": 1755780828.462887}}}
{"text": "2025-08-21 18:23:48.463 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.184348", "seconds": 46.184348}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:48.463252+05:30", "timestamp": 1755780828.463252}}}
{"text": "2025-08-21 18:23:48.463 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.184677", "seconds": 46.184677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:48.463581+05:30", "timestamp": 1755780828.463581}}}
{"text": "2025-08-21 18:23:48.463 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.184977", "seconds": 46.184977}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:48.463881+05:30", "timestamp": 1755780828.463881}}}
{"text": "2025-08-21 18:23:48.464 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:46.185317", "seconds": 46.185317}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:48.464221+05:30", "timestamp": 1755780828.464221}}}
{"text": "2025-08-21 18:23:49.804 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:47.525486", "seconds": 47.525486}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.804390+05:30", "timestamp": 1755780829.80439}}}
{"text": "2025-08-21 18:23:49.805 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:47.526159", "seconds": 47.526159}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.805063+05:30", "timestamp": 1755780829.805063}}}
{"text": "2025-08-21 18:23:49.805 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=60579.23, today=60579.23\n", "record": {"elapsed": {"repr": "0:00:47.526723", "seconds": 47.526723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=60579.23, today=60579.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.805627+05:30", "timestamp": 1755780829.805627}}}
{"text": "2025-08-21 18:23:49.806 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-67505.61, today=-67505.61\n", "record": {"elapsed": {"repr": "0:00:47.527651", "seconds": 47.527651}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-67505.61, today=-67505.61", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.806555+05:30", "timestamp": 1755780829.806555}}}
{"text": "2025-08-21 18:23:49.806 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=819974.43, today=819974.43\n", "record": {"elapsed": {"repr": "0:00:47.528086", "seconds": 47.528086}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=819974.43, today=819974.43", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.806990+05:30", "timestamp": 1755780829.80699}}}
{"text": "2025-08-21 18:23:49.807 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80203.01, today=80203.01\n", "record": {"elapsed": {"repr": "0:00:47.528500", "seconds": 47.5285}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80203.01, today=80203.01", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.807404+05:30", "timestamp": 1755780829.807404}}}
{"text": "2025-08-21 18:23:49.807 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2108395.69, today=2108395.69\n", "record": {"elapsed": {"repr": "0:00:47.528887", "seconds": 47.528887}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2108395.69, today=2108395.69", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.807791+05:30", "timestamp": 1755780829.807791}}}
{"text": "2025-08-21 18:23:49.808 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3001646.75, day: 3001646.75\n", "record": {"elapsed": {"repr": "0:00:47.529273", "seconds": 47.529273}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3001646.75, day: 3001646.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.808177+05:30", "timestamp": 1755780829.808177}}}
{"text": "2025-08-21 18:23:49.808 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:47.529794", "seconds": 47.529794}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.808698+05:30", "timestamp": 1755780829.808698}}}
{"text": "2025-08-21 18:23:49.809 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:47.530172", "seconds": 47.530172}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.809076+05:30", "timestamp": 1755780829.809076}}}
{"text": "2025-08-21 18:23:49.809 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:47.530619", "seconds": 47.530619}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.809523+05:30", "timestamp": 1755780829.809523}}}
{"text": "2025-08-21 18:23:49.810 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:47.531165", "seconds": 47.531165}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.810069+05:30", "timestamp": 1755780829.810069}}}
{"text": "2025-08-21 18:23:49.810 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:49.805532+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:47.531771", "seconds": 47.531771}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:49.805532+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.810675+05:30", "timestamp": 1755780829.810675}}}
{"text": "2025-08-21 18:23:49.812 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3001646.75, day=3001646.75, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.4, unrealized=60579.23, today_pnl=60579.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1516.47, unrealized=-67505.61, today_pnl=-67505.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2203.65, unrealized=819974.43, today_pnl=819974.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.11, unrealized=80203.01, today_pnl=80203.01), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1225.32, unrealized=2108395.69, today_pnl=2108395.69)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 49, 805532, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:47.533277", "seconds": 47.533277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3001646.75, day=3001646.75, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.4, unrealized=60579.23, today_pnl=60579.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1516.47, unrealized=-67505.61, today_pnl=-67505.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2203.65, unrealized=819974.43, today_pnl=819974.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.11, unrealized=80203.01, today_pnl=80203.01), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1225.32, unrealized=2108395.69, today_pnl=2108395.69)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 49, 805532, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.812181+05:30", "timestamp": 1755780829.812181}}}
{"text": "2025-08-21 18:23:49.813 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3001646.75, day=3001646.75, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.4, unrealized=60579.23, today_pnl=60579.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1516.47, unrealized=-67505.61, today_pnl=-67505.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2203.65, unrealized=819974.43, today_pnl=819974.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.11, unrealized=80203.01, today_pnl=80203.01), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1225.32, unrealized=2108395.69, today_pnl=2108395.69)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 49, 805532, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:47.534225", "seconds": 47.534225}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3001646.75, day=3001646.75, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=319.4, unrealized=60579.23, today_pnl=60579.23), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1516.47, unrealized=-67505.61, today_pnl=-67505.61), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2203.65, unrealized=819974.43, today_pnl=819974.43), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.11, unrealized=80203.01, today_pnl=80203.01), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1225.32, unrealized=2108395.69, today_pnl=2108395.69)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 49, 805532, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.813129+05:30", "timestamp": 1755780829.813129}}}
{"text": "2025-08-21 18:23:49.813 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3001646.75\n", "record": {"elapsed": {"repr": "0:00:47.535001", "seconds": 47.535001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3001646.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.813905+05:30", "timestamp": 1755780829.813905}}}
{"text": "2025-08-21 18:23:49.814 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=51\n", "record": {"elapsed": {"repr": "0:00:47.536040", "seconds": 47.53604}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=51", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:49.814944+05:30", "timestamp": 1755780829.814944}}}
{"text": "2025-08-21 18:23:50.011 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=52\n", "record": {"elapsed": {"repr": "0:00:47.732516", "seconds": 47.732516}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=52", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:50.011420+05:30", "timestamp": 1755780830.01142}}}
{"text": "2025-08-21 18:23:50.464 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.185838", "seconds": 48.185838}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:50.464742+05:30", "timestamp": 1755780830.464742}}}
{"text": "2025-08-21 18:23:50.465 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.186496", "seconds": 48.186496}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:50.465400+05:30", "timestamp": 1755780830.4654}}}
{"text": "2025-08-21 18:23:50.465 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.186877", "seconds": 48.186877}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:50.465781+05:30", "timestamp": 1755780830.465781}}}
{"text": "2025-08-21 18:23:50.466 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.187295", "seconds": 48.187295}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:50.466199+05:30", "timestamp": 1755780830.466199}}}
{"text": "2025-08-21 18:23:50.466 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.187720", "seconds": 48.18772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:50.466624+05:30", "timestamp": 1755780830.466624}}}
{"text": "2025-08-21 18:23:50.467 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.188145", "seconds": 48.188145}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:50.467049+05:30", "timestamp": 1755780830.467049}}}
{"text": "2025-08-21 18:23:50.467 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.188678", "seconds": 48.188678}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:50.467582+05:30", "timestamp": 1755780830.467582}}}
{"text": "2025-08-21 18:23:50.467 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.189073", "seconds": 48.189073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:50.467977+05:30", "timestamp": 1755780830.467977}}}
{"text": "2025-08-21 18:23:50.468 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.189489", "seconds": 48.189489}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:50.468393+05:30", "timestamp": 1755780830.468393}}}
{"text": "2025-08-21 18:23:50.468 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:48.189842", "seconds": 48.189842}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:50.468746+05:30", "timestamp": 1755780830.468746}}}
{"text": "2025-08-21 18:23:51.549 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:49.270450", "seconds": 49.27045}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.549354+05:30", "timestamp": 1755780831.549354}}}
{"text": "2025-08-21 18:23:51.549 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:49.271044", "seconds": 49.271044}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.549948+05:30", "timestamp": 1755780831.549948}}}
{"text": "2025-08-21 18:23:51.550 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=62454.09, today=62454.09\n", "record": {"elapsed": {"repr": "0:00:49.271485", "seconds": 49.271485}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=62454.09, today=62454.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.550389+05:30", "timestamp": 1755780831.550389}}}
{"text": "2025-08-21 18:23:51.550 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-72138.53, today=-72138.53\n", "record": {"elapsed": {"repr": "0:00:49.271907", "seconds": 49.271907}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-72138.53, today=-72138.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.550811+05:30", "timestamp": 1755780831.550811}}}
{"text": "2025-08-21 18:23:51.551 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=834264.21, today=834264.21\n", "record": {"elapsed": {"repr": "0:00:49.272245", "seconds": 49.272245}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=834264.21, today=834264.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.551149+05:30", "timestamp": 1755780831.551149}}}
{"text": "2025-08-21 18:23:51.551 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79865.28, today=79865.28\n", "record": {"elapsed": {"repr": "0:00:49.272660", "seconds": 49.27266}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79865.28, today=79865.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.551564+05:30", "timestamp": 1755780831.551564}}}
{"text": "2025-08-21 18:23:51.551 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2065680.71, today=2065680.71\n", "record": {"elapsed": {"repr": "0:00:49.273079", "seconds": 49.273079}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2065680.71, today=2065680.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.551983+05:30", "timestamp": 1755780831.551983}}}
{"text": "2025-08-21 18:23:51.552 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2970125.76, day: 2970125.76\n", "record": {"elapsed": {"repr": "0:00:49.273411", "seconds": 49.273411}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2970125.76, day: 2970125.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.552315+05:30", "timestamp": 1755780831.552315}}}
{"text": "2025-08-21 18:23:51.552 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:49.273783", "seconds": 49.273783}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.552687+05:30", "timestamp": 1755780831.552687}}}
{"text": "2025-08-21 18:23:51.553 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:49.274113", "seconds": 49.274113}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.553017+05:30", "timestamp": 1755780831.553017}}}
{"text": "2025-08-21 18:23:51.553 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:49.274434", "seconds": 49.274434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.553338+05:30", "timestamp": 1755780831.553338}}}
{"text": "2025-08-21 18:23:51.553 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:49.274863", "seconds": 49.274863}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.553767+05:30", "timestamp": 1755780831.553767}}}
{"text": "2025-08-21 18:23:51.554 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:51.550337+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:49.275247", "seconds": 49.275247}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:51.550337+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.554151+05:30", "timestamp": 1755780831.554151}}}
{"text": "2025-08-21 18:23:51.554 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2970125.76, day=2970125.76, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.11, unrealized=62454.09, today_pnl=62454.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1546.75, unrealized=-72138.53, today_pnl=-72138.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2220.07, unrealized=834264.21, today_pnl=834264.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.71, unrealized=79865.28, today_pnl=79865.28), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1202.58, unrealized=2065680.71, today_pnl=2065680.71)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 51, 550337, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:49.275719", "seconds": 49.275719}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2970125.76, day=2970125.76, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.11, unrealized=62454.09, today_pnl=62454.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1546.75, unrealized=-72138.53, today_pnl=-72138.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2220.07, unrealized=834264.21, today_pnl=834264.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.71, unrealized=79865.28, today_pnl=79865.28), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1202.58, unrealized=2065680.71, today_pnl=2065680.71)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 51, 550337, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.554623+05:30", "timestamp": 1755780831.554623}}}
{"text": "2025-08-21 18:23:51.555 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2970125.76, day=2970125.76, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.11, unrealized=62454.09, today_pnl=62454.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1546.75, unrealized=-72138.53, today_pnl=-72138.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2220.07, unrealized=834264.21, today_pnl=834264.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.71, unrealized=79865.28, today_pnl=79865.28), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1202.58, unrealized=2065680.71, today_pnl=2065680.71)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 51, 550337, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:49.276427", "seconds": 49.276427}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2970125.76, day=2970125.76, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.11, unrealized=62454.09, today_pnl=62454.09), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1546.75, unrealized=-72138.53, today_pnl=-72138.53), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2220.07, unrealized=834264.21, today_pnl=834264.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.71, unrealized=79865.28, today_pnl=79865.28), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1202.58, unrealized=2065680.71, today_pnl=2065680.71)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 51, 550337, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.555331+05:30", "timestamp": 1755780831.555331}}}
{"text": "2025-08-21 18:23:51.555 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2970125.76\n", "record": {"elapsed": {"repr": "0:00:49.276861", "seconds": 49.276861}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2970125.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.555765+05:30", "timestamp": 1755780831.555765}}}
{"text": "2025-08-21 18:23:51.556 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=53\n", "record": {"elapsed": {"repr": "0:00:49.277355", "seconds": 49.277355}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=53", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.556259+05:30", "timestamp": 1755780831.556259}}}
{"text": "2025-08-21 18:23:51.843 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=54\n", "record": {"elapsed": {"repr": "0:00:49.564509", "seconds": 49.564509}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=54", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:51.843413+05:30", "timestamp": 1755780831.843413}}}
{"text": "2025-08-21 18:23:52.469 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.190568", "seconds": 50.190568}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:52.469472+05:30", "timestamp": 1755780832.469472}}}
{"text": "2025-08-21 18:23:52.470 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.191234", "seconds": 50.191234}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:52.470138+05:30", "timestamp": 1755780832.470138}}}
{"text": "2025-08-21 18:23:52.470 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.191619", "seconds": 50.191619}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:52.470523+05:30", "timestamp": 1755780832.470523}}}
{"text": "2025-08-21 18:23:52.470 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.191961", "seconds": 50.191961}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:52.470865+05:30", "timestamp": 1755780832.470865}}}
{"text": "2025-08-21 18:23:52.471 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.192347", "seconds": 50.192347}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:52.471251+05:30", "timestamp": 1755780832.471251}}}
{"text": "2025-08-21 18:23:52.471 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.192649", "seconds": 50.192649}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:52.471553+05:30", "timestamp": 1755780832.471553}}}
{"text": "2025-08-21 18:23:52.471 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.193002", "seconds": 50.193002}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:52.471906+05:30", "timestamp": 1755780832.471906}}}
{"text": "2025-08-21 18:23:52.472 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.193379", "seconds": 50.193379}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:52.472283+05:30", "timestamp": 1755780832.472283}}}
{"text": "2025-08-21 18:23:52.472 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.193677", "seconds": 50.193677}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:52.472581+05:30", "timestamp": 1755780832.472581}}}
{"text": "2025-08-21 18:23:52.472 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:50.194076", "seconds": 50.194076}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:52.472980+05:30", "timestamp": 1755780832.47298}}}
{"text": "2025-08-21 18:23:53.068 | DEBUG    | app.ws.live:emit_delta:408 - Emitted holdings delta: seq=55\n", "record": {"elapsed": {"repr": "0:00:50.789938", "seconds": 50.789938}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted holdings delta: seq=55", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.068842+05:30", "timestamp": 1755780833.068842}}}
{"text": "2025-08-21 18:23:53.165 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:50.886695", "seconds": 50.886695}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.165599+05:30", "timestamp": 1755780833.165599}}}
{"text": "2025-08-21 18:23:53.166 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:50.887197", "seconds": 50.887197}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.166101+05:30", "timestamp": 1755780833.166101}}}
{"text": "2025-08-21 18:23:53.166 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=60120.9, today=60120.9\n", "record": {"elapsed": {"repr": "0:00:50.887660", "seconds": 50.88766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=60120.9, today=60120.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.166564+05:30", "timestamp": 1755780833.166564}}}
{"text": "2025-08-21 18:23:53.166 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-71322.91, today=-71322.91\n", "record": {"elapsed": {"repr": "0:00:50.888086", "seconds": 50.888086}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-71322.91, today=-71322.91", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.166990+05:30", "timestamp": 1755780833.16699}}}
{"text": "2025-08-21 18:23:53.167 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=806623.28, today=806623.28\n", "record": {"elapsed": {"repr": "0:00:50.888575", "seconds": 50.888575}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=806623.28, today=806623.28", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.167479+05:30", "timestamp": 1755780833.167479}}}
{"text": "2025-08-21 18:23:53.167 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80502.53, today=80502.53\n", "record": {"elapsed": {"repr": "0:00:50.888911", "seconds": 50.888911}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80502.53, today=80502.53", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.167815+05:30", "timestamp": 1755780833.167815}}}
{"text": "2025-08-21 18:23:53.168 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2059113.14, today=2059113.14\n", "record": {"elapsed": {"repr": "0:00:50.889272", "seconds": 50.889272}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2059113.14, today=2059113.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.168176+05:30", "timestamp": 1755780833.168176}}}
{"text": "2025-08-21 18:23:53.168 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2935036.94, day: 2935036.94\n", "record": {"elapsed": {"repr": "0:00:50.889593", "seconds": 50.889593}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2935036.94, day: 2935036.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.168497+05:30", "timestamp": 1755780833.168497}}}
{"text": "2025-08-21 18:23:53.168 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:50.889893", "seconds": 50.889893}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.168797+05:30", "timestamp": 1755780833.168797}}}
{"text": "2025-08-21 18:23:53.169 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:50.890350", "seconds": 50.89035}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.169254+05:30", "timestamp": 1755780833.169254}}}
{"text": "2025-08-21 18:23:53.169 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:50.890689", "seconds": 50.890689}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.169593+05:30", "timestamp": 1755780833.169593}}}
{"text": "2025-08-21 18:23:53.170 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:50.891351", "seconds": 50.891351}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.170255+05:30", "timestamp": 1755780833.170255}}}
{"text": "2025-08-21 18:23:53.170 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:53.166484+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:50.891644", "seconds": 50.891644}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:53.166484+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.170548+05:30", "timestamp": 1755780833.170548}}}
{"text": "2025-08-21 18:23:53.170 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2935036.94, day=2935036.94, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.49, unrealized=60120.9, today_pnl=60120.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1541.42, unrealized=-71322.91, today_pnl=-71322.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2188.3, unrealized=806623.28, today_pnl=806623.28), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=256.81, unrealized=80502.53, today_pnl=80502.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1199.08, unrealized=2059113.14, today_pnl=2059113.14)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 53, 166484, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:50.892071", "seconds": 50.892071}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2935036.94, day=2935036.94, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.49, unrealized=60120.9, today_pnl=60120.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1541.42, unrealized=-71322.91, today_pnl=-71322.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2188.3, unrealized=806623.28, today_pnl=806623.28), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=256.81, unrealized=80502.53, today_pnl=80502.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1199.08, unrealized=2059113.14, today_pnl=2059113.14)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 53, 166484, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.170975+05:30", "timestamp": 1755780833.170975}}}
{"text": "2025-08-21 18:23:53.171 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2935036.94, day=2935036.94, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.49, unrealized=60120.9, today_pnl=60120.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1541.42, unrealized=-71322.91, today_pnl=-71322.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2188.3, unrealized=806623.28, today_pnl=806623.28), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=256.81, unrealized=80502.53, today_pnl=80502.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1199.08, unrealized=2059113.14, today_pnl=2059113.14)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 53, 166484, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:50.892696", "seconds": 50.892696}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2935036.94, day=2935036.94, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.49, unrealized=60120.9, today_pnl=60120.9), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1541.42, unrealized=-71322.91, today_pnl=-71322.91), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2188.3, unrealized=806623.28, today_pnl=806623.28), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=256.81, unrealized=80502.53, today_pnl=80502.53), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1199.08, unrealized=2059113.14, today_pnl=2059113.14)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 53, 166484, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.171600+05:30", "timestamp": 1755780833.1716}}}
{"text": "2025-08-21 18:23:53.172 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2935036.94\n", "record": {"elapsed": {"repr": "0:00:50.893146", "seconds": 50.893146}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2935036.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.172050+05:30", "timestamp": 1755780833.17205}}}
{"text": "2025-08-21 18:23:53.172 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=56\n", "record": {"elapsed": {"repr": "0:00:50.893662", "seconds": 50.893662}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=56", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.172566+05:30", "timestamp": 1755780833.172566}}}
{"text": "2025-08-21 18:23:53.592 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=57\n", "record": {"elapsed": {"repr": "0:00:51.314004", "seconds": 51.314004}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=57", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:53.592908+05:30", "timestamp": 1755780833.592908}}}
{"text": "2025-08-21 18:23:54.474 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.195253", "seconds": 52.195253}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:54.474157+05:30", "timestamp": 1755780834.474157}}}
{"text": "2025-08-21 18:23:54.475 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.196194", "seconds": 52.196194}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:54.475098+05:30", "timestamp": 1755780834.475098}}}
{"text": "2025-08-21 18:23:54.475 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.196787", "seconds": 52.196787}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:54.475691+05:30", "timestamp": 1755780834.475691}}}
{"text": "2025-08-21 18:23:54.476 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.197261", "seconds": 52.197261}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:54.476165+05:30", "timestamp": 1755780834.476165}}}
{"text": "2025-08-21 18:23:54.476 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.197663", "seconds": 52.197663}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:54.476567+05:30", "timestamp": 1755780834.476567}}}
{"text": "2025-08-21 18:23:54.476 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.198035", "seconds": 52.198035}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:54.476939+05:30", "timestamp": 1755780834.476939}}}
{"text": "2025-08-21 18:23:54.477 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.198413", "seconds": 52.198413}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:54.477317+05:30", "timestamp": 1755780834.477317}}}
{"text": "2025-08-21 18:23:54.477 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.198767", "seconds": 52.198767}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:54.477671+05:30", "timestamp": 1755780834.477671}}}
{"text": "2025-08-21 18:23:54.478 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.199118", "seconds": 52.199118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:54.478022+05:30", "timestamp": 1755780834.478022}}}
{"text": "2025-08-21 18:23:54.478 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:52.199469", "seconds": 52.199469}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:54.478373+05:30", "timestamp": 1755780834.478373}}}
{"text": "2025-08-21 18:23:55.088 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:52.809697", "seconds": 52.809697}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.088601+05:30", "timestamp": 1755780835.088601}}}
{"text": "2025-08-21 18:23:55.089 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:52.810269", "seconds": 52.810269}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.089173+05:30", "timestamp": 1755780835.089173}}}
{"text": "2025-08-21 18:23:55.089 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=60085.57, today=60085.57\n", "record": {"elapsed": {"repr": "0:00:52.810735", "seconds": 52.810735}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=60085.57, today=60085.57", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.089639+05:30", "timestamp": 1755780835.089639}}}
{"text": "2025-08-21 18:23:55.090 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-67105.71, today=-67105.71\n", "record": {"elapsed": {"repr": "0:00:52.811163", "seconds": 52.811163}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-67105.71, today=-67105.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.090067+05:30", "timestamp": 1755780835.090067}}}
{"text": "2025-08-21 18:23:55.090 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=773274.1, today=773274.1\n", "record": {"elapsed": {"repr": "0:00:52.811654", "seconds": 52.811654}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=773274.1, today=773274.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.090558+05:30", "timestamp": 1755780835.090558}}}
{"text": "2025-08-21 18:23:55.090 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80476.26, today=80476.26\n", "record": {"elapsed": {"repr": "0:00:52.812013", "seconds": 52.812013}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80476.26, today=80476.26", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.090917+05:30", "timestamp": 1755780835.090917}}}
{"text": "2025-08-21 18:23:55.091 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2042935.96, today=2042935.96\n", "record": {"elapsed": {"repr": "0:00:52.812419", "seconds": 52.812419}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2042935.96, today=2042935.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.091323+05:30", "timestamp": 1755780835.091323}}}
{"text": "2025-08-21 18:23:55.091 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2889666.18, day: 2889666.18\n", "record": {"elapsed": {"repr": "0:00:52.812726", "seconds": 52.812726}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2889666.18, day: 2889666.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.091630+05:30", "timestamp": 1755780835.09163}}}
{"text": "2025-08-21 18:23:55.092 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:52.813098", "seconds": 52.813098}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.092002+05:30", "timestamp": 1755780835.092002}}}
{"text": "2025-08-21 18:23:55.092 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:52.813495", "seconds": 52.813495}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.092399+05:30", "timestamp": 1755780835.092399}}}
{"text": "2025-08-21 18:23:55.092 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:52.813800", "seconds": 52.8138}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.092704+05:30", "timestamp": 1755780835.092704}}}
{"text": "2025-08-21 18:23:55.093 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:52.814148", "seconds": 52.814148}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.093052+05:30", "timestamp": 1755780835.093052}}}
{"text": "2025-08-21 18:23:55.093 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:55.089558+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:52.814481", "seconds": 52.814481}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:55.089558+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.093385+05:30", "timestamp": 1755780835.093385}}}
{"text": "2025-08-21 18:23:55.093 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2889666.18, day=2889666.18, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.42, unrealized=60085.57, today_pnl=60085.57), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1513.86, unrealized=-67105.71, today_pnl=-67105.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2149.97, unrealized=773274.1, today_pnl=773274.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.01, unrealized=80476.26, today_pnl=80476.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1190.47, unrealized=2042935.96, today_pnl=2042935.96)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 55, 89558, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:52.814971", "seconds": 52.814971}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2889666.18, day=2889666.18, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.42, unrealized=60085.57, today_pnl=60085.57), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1513.86, unrealized=-67105.71, today_pnl=-67105.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2149.97, unrealized=773274.1, today_pnl=773274.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.01, unrealized=80476.26, today_pnl=80476.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1190.47, unrealized=2042935.96, today_pnl=2042935.96)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 55, 89558, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.093875+05:30", "timestamp": 1755780835.093875}}}
{"text": "2025-08-21 18:23:55.094 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2889666.18, day=2889666.18, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.42, unrealized=60085.57, today_pnl=60085.57), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1513.86, unrealized=-67105.71, today_pnl=-67105.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2149.97, unrealized=773274.1, today_pnl=773274.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.01, unrealized=80476.26, today_pnl=80476.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1190.47, unrealized=2042935.96, today_pnl=2042935.96)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 55, 89558, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:52.815454", "seconds": 52.815454}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2889666.18, day=2889666.18, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=318.42, unrealized=60085.57, today_pnl=60085.57), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1513.86, unrealized=-67105.71, today_pnl=-67105.71), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2149.97, unrealized=773274.1, today_pnl=773274.1), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=257.01, unrealized=80476.26, today_pnl=80476.26), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1190.47, unrealized=2042935.96, today_pnl=2042935.96)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 55, 89558, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.094358+05:30", "timestamp": 1755780835.094358}}}
{"text": "2025-08-21 18:23:55.094 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2889666.18\n", "record": {"elapsed": {"repr": "0:00:52.816011", "seconds": 52.816011}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2889666.18", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.094915+05:30", "timestamp": 1755780835.094915}}}
{"text": "2025-08-21 18:23:55.095 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=58\n", "record": {"elapsed": {"repr": "0:00:52.816507", "seconds": 52.816507}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=58", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.095411+05:30", "timestamp": 1755780835.095411}}}
{"text": "2025-08-21 18:23:55.215 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=59\n", "record": {"elapsed": {"repr": "0:00:52.936998", "seconds": 52.936998}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=59", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:55.215902+05:30", "timestamp": 1755780835.215902}}}
{"text": "2025-08-21 18:23:56.479 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.200233", "seconds": 54.200233}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:56.479137+05:30", "timestamp": 1755780836.479137}}}
{"text": "2025-08-21 18:23:56.479 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.200876", "seconds": 54.200876}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:56.479780+05:30", "timestamp": 1755780836.47978}}}
{"text": "2025-08-21 18:23:56.480 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.201389", "seconds": 54.201389}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:56.480293+05:30", "timestamp": 1755780836.480293}}}
{"text": "2025-08-21 18:23:56.480 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.201848", "seconds": 54.201848}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:56.480752+05:30", "timestamp": 1755780836.480752}}}
{"text": "2025-08-21 18:23:56.481 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.202333", "seconds": 54.202333}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:56.481237+05:30", "timestamp": 1755780836.481237}}}
{"text": "2025-08-21 18:23:56.481 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.202767", "seconds": 54.202767}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:56.481671+05:30", "timestamp": 1755780836.481671}}}
{"text": "2025-08-21 18:23:56.482 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.203299", "seconds": 54.203299}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:56.482203+05:30", "timestamp": 1755780836.482203}}}
{"text": "2025-08-21 18:23:56.482 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.203814", "seconds": 54.203814}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:56.482718+05:30", "timestamp": 1755780836.482718}}}
{"text": "2025-08-21 18:23:56.483 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.204204", "seconds": 54.204204}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:56.483108+05:30", "timestamp": 1755780836.483108}}}
{"text": "2025-08-21 18:23:56.483 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:54.204646", "seconds": 54.204646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:56.483550+05:30", "timestamp": 1755780836.48355}}}
{"text": "2025-08-21 18:23:56.979 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:54.700350", "seconds": 54.70035}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.979254+05:30", "timestamp": 1755780836.979254}}}
{"text": "2025-08-21 18:23:56.980 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:54.701186", "seconds": 54.701186}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.980090+05:30", "timestamp": 1755780836.98009}}}
{"text": "2025-08-21 18:23:56.980 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=62275.45, today=62275.45\n", "record": {"elapsed": {"repr": "0:00:54.701742", "seconds": 54.701742}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=62275.45, today=62275.45", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.980646+05:30", "timestamp": 1755780836.980646}}}
{"text": "2025-08-21 18:23:56.981 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-70770.63, today=-70770.63\n", "record": {"elapsed": {"repr": "0:00:54.702157", "seconds": 54.702157}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-70770.63, today=-70770.63", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.981061+05:30", "timestamp": 1755780836.981061}}}
{"text": "2025-08-21 18:23:56.981 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=782935.5, today=782935.5\n", "record": {"elapsed": {"repr": "0:00:54.702541", "seconds": 54.702541}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=782935.5, today=782935.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.981445+05:30", "timestamp": 1755780836.981445}}}
{"text": "2025-08-21 18:23:56.981 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80229.4, today=80229.4\n", "record": {"elapsed": {"repr": "0:00:54.703046", "seconds": 54.703046}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80229.4, today=80229.4", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.981950+05:30", "timestamp": 1755780836.98195}}}
{"text": "2025-08-21 18:23:56.982 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2057189.96, today=2057189.96\n", "record": {"elapsed": {"repr": "0:00:54.703397", "seconds": 54.703397}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2057189.96, today=2057189.96", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.982301+05:30", "timestamp": 1755780836.982301}}}
{"text": "2025-08-21 18:23:56.982 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2911859.68, day: 2911859.68\n", "record": {"elapsed": {"repr": "0:00:54.703801", "seconds": 54.703801}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2911859.68, day: 2911859.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.982705+05:30", "timestamp": 1755780836.982705}}}
{"text": "2025-08-21 18:23:56.983 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:54.704116", "seconds": 54.704116}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.983020+05:30", "timestamp": 1755780836.98302}}}
{"text": "2025-08-21 18:23:56.983 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:54.704526", "seconds": 54.704526}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.983430+05:30", "timestamp": 1755780836.98343}}}
{"text": "2025-08-21 18:23:56.983 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:54.704833", "seconds": 54.704833}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.983737+05:30", "timestamp": 1755780836.983737}}}
{"text": "2025-08-21 18:23:56.984 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:54.705123", "seconds": 54.705123}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.984027+05:30", "timestamp": 1755780836.984027}}}
{"text": "2025-08-21 18:23:56.984 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:56.980600+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:54.705428", "seconds": 54.705428}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:56.980600+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.984332+05:30", "timestamp": 1755780836.984332}}}
{"text": "2025-08-21 18:23:56.984 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2911859.68, day=2911859.68, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=322.76, unrealized=62275.45, today_pnl=62275.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1537.81, unrealized=-70770.63, today_pnl=-70770.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2161.08, unrealized=782935.5, today_pnl=782935.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=258.91, unrealized=80229.4, today_pnl=80229.4), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1198.06, unrealized=2057189.96, today_pnl=2057189.96)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 56, 980600, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:54.705962", "seconds": 54.705962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2911859.68, day=2911859.68, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=322.76, unrealized=62275.45, today_pnl=62275.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1537.81, unrealized=-70770.63, today_pnl=-70770.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2161.08, unrealized=782935.5, today_pnl=782935.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=258.91, unrealized=80229.4, today_pnl=80229.4), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1198.06, unrealized=2057189.96, today_pnl=2057189.96)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 56, 980600, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.984866+05:30", "timestamp": 1755780836.984866}}}
{"text": "2025-08-21 18:23:56.985 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2911859.68, day=2911859.68, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=322.76, unrealized=62275.45, today_pnl=62275.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1537.81, unrealized=-70770.63, today_pnl=-70770.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2161.08, unrealized=782935.5, today_pnl=782935.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=258.91, unrealized=80229.4, today_pnl=80229.4), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1198.06, unrealized=2057189.96, today_pnl=2057189.96)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 56, 980600, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:54.706492", "seconds": 54.706492}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2911859.68, day=2911859.68, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=322.76, unrealized=62275.45, today_pnl=62275.45), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1537.81, unrealized=-70770.63, today_pnl=-70770.63), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2161.08, unrealized=782935.5, today_pnl=782935.5), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=258.91, unrealized=80229.4, today_pnl=80229.4), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1198.06, unrealized=2057189.96, today_pnl=2057189.96)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 56, 980600, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.985396+05:30", "timestamp": 1755780836.985396}}}
{"text": "2025-08-21 18:23:56.985 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2911859.68\n", "record": {"elapsed": {"repr": "0:00:54.706908", "seconds": 54.706908}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2911859.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.985812+05:30", "timestamp": 1755780836.985812}}}
{"text": "2025-08-21 18:23:56.986 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=60\n", "record": {"elapsed": {"repr": "0:00:54.707359", "seconds": 54.707359}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=60", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:56.986263+05:30", "timestamp": 1755780836.986263}}}
{"text": "2025-08-21 18:23:57.155 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=61\n", "record": {"elapsed": {"repr": "0:00:54.876322", "seconds": 54.876322}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=61", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:57.155226+05:30", "timestamp": 1755780837.155226}}}
{"text": "2025-08-21 18:23:58.484 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.205382", "seconds": 56.205382}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:58.484286+05:30", "timestamp": 1755780838.484286}}}
{"text": "2025-08-21 18:23:58.484 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.206006", "seconds": 56.206006}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:58.484910+05:30", "timestamp": 1755780838.48491}}}
{"text": "2025-08-21 18:23:58.485 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.206438", "seconds": 56.206438}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:58.485342+05:30", "timestamp": 1755780838.485342}}}
{"text": "2025-08-21 18:23:58.485 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.206878", "seconds": 56.206878}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:58.485782+05:30", "timestamp": 1755780838.485782}}}
{"text": "2025-08-21 18:23:58.486 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.207276", "seconds": 56.207276}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:58.486180+05:30", "timestamp": 1755780838.48618}}}
{"text": "2025-08-21 18:23:58.486 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.207746", "seconds": 56.207746}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:58.486650+05:30", "timestamp": 1755780838.48665}}}
{"text": "2025-08-21 18:23:58.487 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.208126", "seconds": 56.208126}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:58.487030+05:30", "timestamp": 1755780838.48703}}}
{"text": "2025-08-21 18:23:58.487 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.208506", "seconds": 56.208506}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:58.487410+05:30", "timestamp": 1755780838.48741}}}
{"text": "2025-08-21 18:23:58.487 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.208967", "seconds": 56.208967}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:58.487871+05:30", "timestamp": 1755780838.487871}}}
{"text": "2025-08-21 18:23:58.488 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:56.209336", "seconds": 56.209336}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:23:58.488240+05:30", "timestamp": 1755780838.48824}}}
{"text": "2025-08-21 18:23:58.815 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:56.536122", "seconds": 56.536122}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.815026+05:30", "timestamp": 1755780838.815026}}}
{"text": "2025-08-21 18:23:58.815 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:56.536643", "seconds": 56.536643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.815547+05:30", "timestamp": 1755780838.815547}}}
{"text": "2025-08-21 18:23:58.815 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=63075.88, today=63075.88\n", "record": {"elapsed": {"repr": "0:00:56.537092", "seconds": 56.537092}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=63075.88, today=63075.88", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.815996+05:30", "timestamp": 1755780838.815996}}}
{"text": "2025-08-21 18:23:58.816 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-70553.32, today=-70553.32\n", "record": {"elapsed": {"repr": "0:00:56.537431", "seconds": 56.537431}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-70553.32, today=-70553.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.816335+05:30", "timestamp": 1755780838.816335}}}
{"text": "2025-08-21 18:23:58.816 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=816793.11, today=816793.11\n", "record": {"elapsed": {"repr": "0:00:56.537792", "seconds": 56.537792}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=816793.11, today=816793.11", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.816696+05:30", "timestamp": 1755780838.816696}}}
{"text": "2025-08-21 18:23:58.817 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79970.49, today=79970.49\n", "record": {"elapsed": {"repr": "0:00:56.538200", "seconds": 56.5382}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79970.49, today=79970.49", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.817104+05:30", "timestamp": 1755780838.817104}}}
{"text": "2025-08-21 18:23:58.817 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2032493.32, today=2032493.32\n", "record": {"elapsed": {"repr": "0:00:56.538538", "seconds": 56.538538}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2032493.32, today=2032493.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.817442+05:30", "timestamp": 1755780838.817442}}}
{"text": "2025-08-21 18:23:58.817 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2921779.48, day: 2921779.48\n", "record": {"elapsed": {"repr": "0:00:56.538951", "seconds": 56.538951}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2921779.48, day: 2921779.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.817855+05:30", "timestamp": 1755780838.817855}}}
{"text": "2025-08-21 18:23:58.818 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:56.539284", "seconds": 56.539284}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.818188+05:30", "timestamp": 1755780838.818188}}}
{"text": "2025-08-21 18:23:58.818 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:56.539600", "seconds": 56.5396}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.818504+05:30", "timestamp": 1755780838.818504}}}
{"text": "2025-08-21 18:23:58.818 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:56.539918", "seconds": 56.539918}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.818822+05:30", "timestamp": 1755780838.818822}}}
{"text": "2025-08-21 18:23:58.819 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:56.540275", "seconds": 56.540275}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.819179+05:30", "timestamp": 1755780838.819179}}}
{"text": "2025-08-21 18:23:58.819 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:58.815937+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:56.540696", "seconds": 56.540696}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:23:58.815937+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.819600+05:30", "timestamp": 1755780838.8196}}}
{"text": "2025-08-21 18:23:58.820 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2921779.48, day=2921779.48, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=324.34, unrealized=63075.88, today_pnl=63075.88), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.39, unrealized=-70553.32, today_pnl=-70553.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2199.99, unrealized=816793.11, today_pnl=816793.11), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.9, unrealized=79970.49, today_pnl=79970.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1184.9, unrealized=2032493.32, today_pnl=2032493.32)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 58, 815937, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:56.541161", "seconds": 56.541161}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2921779.48, day=2921779.48, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=324.34, unrealized=63075.88, today_pnl=63075.88), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.39, unrealized=-70553.32, today_pnl=-70553.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2199.99, unrealized=816793.11, today_pnl=816793.11), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.9, unrealized=79970.49, today_pnl=79970.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1184.9, unrealized=2032493.32, today_pnl=2032493.32)] updated_at=datetime.datetime(2025, 8, 21, 18, 23, 58, 815937, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.820065+05:30", "timestamp": 1755780838.820065}}}
{"text": "2025-08-21 18:23:58.820 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2921779.48, day=2921779.48, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=324.34, unrealized=63075.88, today_pnl=63075.88), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.39, unrealized=-70553.32, today_pnl=-70553.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2199.99, unrealized=816793.11, today_pnl=816793.11), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.9, unrealized=79970.49, today_pnl=79970.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1184.9, unrealized=2032493.32, today_pnl=2032493.32)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 58, 815937, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:56.541594", "seconds": 56.541594}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2921779.48, day=2921779.48, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=324.34, unrealized=63075.88, today_pnl=63075.88), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1536.39, unrealized=-70553.32, today_pnl=-70553.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2199.99, unrealized=816793.11, today_pnl=816793.11), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.9, unrealized=79970.49, today_pnl=79970.49), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1184.9, unrealized=2032493.32, today_pnl=2032493.32)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 23, 58, 815937, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.820498+05:30", "timestamp": 1755780838.820498}}}
{"text": "2025-08-21 18:23:58.821 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2921779.48\n", "record": {"elapsed": {"repr": "0:00:56.542166", "seconds": 56.542166}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2921779.48", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.821070+05:30", "timestamp": 1755780838.82107}}}
{"text": "2025-08-21 18:23:58.821 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=62\n", "record": {"elapsed": {"repr": "0:00:56.542764", "seconds": 56.542764}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=62", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:58.821668+05:30", "timestamp": 1755780838.821668}}}
{"text": "2025-08-21 18:23:59.057 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=63\n", "record": {"elapsed": {"repr": "0:00:56.778458", "seconds": 56.778458}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=63", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:23:59.057362+05:30", "timestamp": 1755780839.057362}}}
{"text": "2025-08-21 18:24:00.488 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.209992", "seconds": 58.209992}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:00.488896+05:30", "timestamp": 1755780840.488896}}}
{"text": "2025-08-21 18:24:00.489 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.210579", "seconds": 58.210579}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:00.489483+05:30", "timestamp": 1755780840.489483}}}
{"text": "2025-08-21 18:24:00.489 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.210919", "seconds": 58.210919}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:00.489823+05:30", "timestamp": 1755780840.489823}}}
{"text": "2025-08-21 18:24:00.490 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.211243", "seconds": 58.211243}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:00.490147+05:30", "timestamp": 1755780840.490147}}}
{"text": "2025-08-21 18:24:00.490 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.211621", "seconds": 58.211621}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:00.490525+05:30", "timestamp": 1755780840.490525}}}
{"text": "2025-08-21 18:24:00.490 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.212033", "seconds": 58.212033}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:00.490937+05:30", "timestamp": 1755780840.490937}}}
{"text": "2025-08-21 18:24:00.491 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.212359", "seconds": 58.212359}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:00.491263+05:30", "timestamp": 1755780840.491263}}}
{"text": "2025-08-21 18:24:00.491 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.212723", "seconds": 58.212723}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:00.491627+05:30", "timestamp": 1755780840.491627}}}
{"text": "2025-08-21 18:24:00.491 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.213058", "seconds": 58.213058}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:00.491962+05:30", "timestamp": 1755780840.491962}}}
{"text": "2025-08-21 18:24:00.492 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:58.213468", "seconds": 58.213468}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:00.492372+05:30", "timestamp": 1755780840.492372}}}
{"text": "2025-08-21 18:24:00.567 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:58.288144", "seconds": 58.288144}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.567048+05:30", "timestamp": 1755780840.567048}}}
{"text": "2025-08-21 18:24:00.567 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:58.288769", "seconds": 58.288769}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.567673+05:30", "timestamp": 1755780840.567673}}}
{"text": "2025-08-21 18:24:00.568 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=62751.6, today=62751.6\n", "record": {"elapsed": {"repr": "0:00:58.289271", "seconds": 58.289271}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=62751.6, today=62751.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.568175+05:30", "timestamp": 1755780840.568175}}}
{"text": "2025-08-21 18:24:00.568 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-68769.29, today=-68769.29\n", "record": {"elapsed": {"repr": "0:00:58.289684", "seconds": 58.289684}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-68769.29, today=-68769.29", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.568588+05:30", "timestamp": 1755780840.568588}}}
{"text": "2025-08-21 18:24:00.569 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=849668.77, today=849668.77\n", "record": {"elapsed": {"repr": "0:00:58.290242", "seconds": 58.290242}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=849668.77, today=849668.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.569146+05:30", "timestamp": 1755780840.569146}}}
{"text": "2025-08-21 18:24:00.569 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79721.76, today=79721.76\n", "record": {"elapsed": {"repr": "0:00:58.290727", "seconds": 58.290727}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79721.76, today=79721.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.569631+05:30", "timestamp": 1755780840.569631}}}
{"text": "2025-08-21 18:24:00.570 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2035430.98, today=2035430.98\n", "record": {"elapsed": {"repr": "0:00:58.291208", "seconds": 58.291208}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2035430.98, today=2035430.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.570112+05:30", "timestamp": 1755780840.570112}}}
{"text": "2025-08-21 18:24:00.570 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2958803.82, day: 2958803.82\n", "record": {"elapsed": {"repr": "0:00:58.291797", "seconds": 58.291797}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2958803.82, day: 2958803.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.570701+05:30", "timestamp": 1755780840.570701}}}
{"text": "2025-08-21 18:24:00.571 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:58.292209", "seconds": 58.292209}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.571113+05:30", "timestamp": 1755780840.571113}}}
{"text": "2025-08-21 18:24:00.571 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:58.292664", "seconds": 58.292664}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.571568+05:30", "timestamp": 1755780840.571568}}}
{"text": "2025-08-21 18:24:00.571 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:58.293039", "seconds": 58.293039}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.571943+05:30", "timestamp": 1755780840.571943}}}
{"text": "2025-08-21 18:24:00.572 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:58.293394", "seconds": 58.293394}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.572298+05:30", "timestamp": 1755780840.572298}}}
{"text": "2025-08-21 18:24:00.572 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:00.568115+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:58.293767", "seconds": 58.293767}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:00.568115+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.572671+05:30", "timestamp": 1755780840.572671}}}
{"text": "2025-08-21 18:24:00.573 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2958803.82, day=2958803.82, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.7, unrealized=62751.6, today_pnl=62751.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1524.73, unrealized=-68769.29, today_pnl=-68769.29), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2237.78, unrealized=849668.77, today_pnl=849668.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.82, unrealized=79721.76, today_pnl=79721.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1186.47, unrealized=2035430.98, today_pnl=2035430.98)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 0, 568115, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:58.294313", "seconds": 58.294313}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2958803.82, day=2958803.82, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.7, unrealized=62751.6, today_pnl=62751.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1524.73, unrealized=-68769.29, today_pnl=-68769.29), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2237.78, unrealized=849668.77, today_pnl=849668.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.82, unrealized=79721.76, today_pnl=79721.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1186.47, unrealized=2035430.98, today_pnl=2035430.98)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 0, 568115, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.573217+05:30", "timestamp": 1755780840.573217}}}
{"text": "2025-08-21 18:24:00.573 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2958803.82, day=2958803.82, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.7, unrealized=62751.6, today_pnl=62751.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1524.73, unrealized=-68769.29, today_pnl=-68769.29), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2237.78, unrealized=849668.77, today_pnl=849668.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.82, unrealized=79721.76, today_pnl=79721.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1186.47, unrealized=2035430.98, today_pnl=2035430.98)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 0, 568115, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:58.294903", "seconds": 58.294903}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2958803.82, day=2958803.82, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.7, unrealized=62751.6, today_pnl=62751.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1524.73, unrealized=-68769.29, today_pnl=-68769.29), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2237.78, unrealized=849668.77, today_pnl=849668.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.82, unrealized=79721.76, today_pnl=79721.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1186.47, unrealized=2035430.98, today_pnl=2035430.98)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 0, 568115, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.573807+05:30", "timestamp": 1755780840.573807}}}
{"text": "2025-08-21 18:24:00.574 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2958803.82\n", "record": {"elapsed": {"repr": "0:00:58.295358", "seconds": 58.295358}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2958803.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.574262+05:30", "timestamp": 1755780840.574262}}}
{"text": "2025-08-21 18:24:00.574 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=64\n", "record": {"elapsed": {"repr": "0:00:58.295888", "seconds": 58.295888}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=64", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.574792+05:30", "timestamp": 1755780840.574792}}}
{"text": "2025-08-21 18:24:00.920 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=65\n", "record": {"elapsed": {"repr": "0:00:58.641270", "seconds": 58.64127}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=65", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:00.920174+05:30", "timestamp": 1755780840.920174}}}
{"text": "2025-08-21 18:24:02.194 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:59.915260", "seconds": 59.91526}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.194164+05:30", "timestamp": 1755780842.194164}}}
{"text": "2025-08-21 18:24:02.194 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:59.915935", "seconds": 59.915935}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.194839+05:30", "timestamp": 1755780842.194839}}}
{"text": "2025-08-21 18:24:02.195 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=62751.6, today=62751.6\n", "record": {"elapsed": {"repr": "0:00:59.916401", "seconds": 59.916401}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=62751.6, today=62751.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.195305+05:30", "timestamp": 1755780842.195305}}}
{"text": "2025-08-21 18:24:02.195 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-68769.29, today=-68769.29\n", "record": {"elapsed": {"repr": "0:00:59.917006", "seconds": 59.917006}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-68769.29, today=-68769.29", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.195910+05:30", "timestamp": 1755780842.19591}}}
{"text": "2025-08-21 18:24:02.196 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=849668.77, today=849668.77\n", "record": {"elapsed": {"repr": "0:00:59.917713", "seconds": 59.917713}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=849668.77, today=849668.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.196617+05:30", "timestamp": 1755780842.196617}}}
{"text": "2025-08-21 18:24:02.197 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79721.76, today=79721.76\n", "record": {"elapsed": {"repr": "0:00:59.918328", "seconds": 59.918328}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79721.76, today=79721.76", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.197232+05:30", "timestamp": 1755780842.197232}}}
{"text": "2025-08-21 18:24:02.197 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2035430.98, today=2035430.98\n", "record": {"elapsed": {"repr": "0:00:59.918991", "seconds": 59.918991}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2035430.98, today=2035430.98", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.197895+05:30", "timestamp": 1755780842.197895}}}
{"text": "2025-08-21 18:24:02.198 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2958803.82, day: 2958803.82\n", "record": {"elapsed": {"repr": "0:00:59.919548", "seconds": 59.919548}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2958803.82, day: 2958803.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.198452+05:30", "timestamp": 1755780842.198452}}}
{"text": "2025-08-21 18:24:02.198 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:59.920001", "seconds": 59.920001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.198905+05:30", "timestamp": 1755780842.198905}}}
{"text": "2025-08-21 18:24:02.199 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:59.920485", "seconds": 59.920485}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.199389+05:30", "timestamp": 1755780842.199389}}}
{"text": "2025-08-21 18:24:02.199 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:59.920995", "seconds": 59.920995}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.199899+05:30", "timestamp": 1755780842.199899}}}
{"text": "2025-08-21 18:24:02.200 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:59.921538", "seconds": 59.921538}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.200442+05:30", "timestamp": 1755780842.200442}}}
{"text": "2025-08-21 18:24:02.200 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:02.195240+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:59.921940", "seconds": 59.92194}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:02.195240+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.200844+05:30", "timestamp": 1755780842.200844}}}
{"text": "2025-08-21 18:24:02.201 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2958803.82, day=2958803.82, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.7, unrealized=62751.6, today_pnl=62751.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1524.73, unrealized=-68769.29, today_pnl=-68769.29), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2237.78, unrealized=849668.77, today_pnl=849668.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.82, unrealized=79721.76, today_pnl=79721.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1186.47, unrealized=2035430.98, today_pnl=2035430.98)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 2, 195240, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:59.922656", "seconds": 59.922656}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2958803.82, day=2958803.82, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.7, unrealized=62751.6, today_pnl=62751.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1524.73, unrealized=-68769.29, today_pnl=-68769.29), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2237.78, unrealized=849668.77, today_pnl=849668.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.82, unrealized=79721.76, today_pnl=79721.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1186.47, unrealized=2035430.98, today_pnl=2035430.98)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 2, 195240, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.201560+05:30", "timestamp": 1755780842.20156}}}
{"text": "2025-08-21 18:24:02.202 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2958803.82, day=2958803.82, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.7, unrealized=62751.6, today_pnl=62751.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1524.73, unrealized=-68769.29, today_pnl=-68769.29), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2237.78, unrealized=849668.77, today_pnl=849668.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.82, unrealized=79721.76, today_pnl=79721.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1186.47, unrealized=2035430.98, today_pnl=2035430.98)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 2, 195240, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:59.923437", "seconds": 59.923437}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2958803.82, day=2958803.82, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=323.7, unrealized=62751.6, today_pnl=62751.6), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1524.73, unrealized=-68769.29, today_pnl=-68769.29), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2237.78, unrealized=849668.77, today_pnl=849668.77), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.82, unrealized=79721.76, today_pnl=79721.76), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1186.47, unrealized=2035430.98, today_pnl=2035430.98)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 2, 195240, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.202341+05:30", "timestamp": 1755780842.202341}}}
{"text": "2025-08-21 18:24:02.203 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2958803.82\n", "record": {"elapsed": {"repr": "0:00:59.924130", "seconds": 59.92413}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2958803.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.203034+05:30", "timestamp": 1755780842.203034}}}
{"text": "2025-08-21 18:24:02.203 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=66\n", "record": {"elapsed": {"repr": "0:00:59.925088", "seconds": 59.925088}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=66", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.203992+05:30", "timestamp": 1755780842.203992}}}
{"text": "2025-08-21 18:24:02.492 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.214085", "seconds": 60.214085}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:02.492989+05:30", "timestamp": 1755780842.492989}}}
{"text": "2025-08-21 18:24:02.493 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.214596", "seconds": 60.214596}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:02.493500+05:30", "timestamp": 1755780842.4935}}}
{"text": "2025-08-21 18:24:02.493 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.215004", "seconds": 60.215004}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:02.493908+05:30", "timestamp": 1755780842.493908}}}
{"text": "2025-08-21 18:24:02.494 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.215389", "seconds": 60.215389}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:02.494293+05:30", "timestamp": 1755780842.494293}}}
{"text": "2025-08-21 18:24:02.494 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.215921", "seconds": 60.215921}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:02.494825+05:30", "timestamp": 1755780842.494825}}}
{"text": "2025-08-21 18:24:02.495 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.216325", "seconds": 60.216325}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:02.495229+05:30", "timestamp": 1755780842.495229}}}
{"text": "2025-08-21 18:24:02.495 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.216761", "seconds": 60.216761}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:02.495665+05:30", "timestamp": 1755780842.495665}}}
{"text": "2025-08-21 18:24:02.496 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.217206", "seconds": 60.217206}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:02.496110+05:30", "timestamp": 1755780842.49611}}}
{"text": "2025-08-21 18:24:02.496 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.217646", "seconds": 60.217646}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:02.496550+05:30", "timestamp": 1755780842.49655}}}
{"text": "2025-08-21 18:24:02.496 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:00.218081", "seconds": 60.218081}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:02.496985+05:30", "timestamp": 1755780842.496985}}}
{"text": "2025-08-21 18:24:02.712 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=67\n", "record": {"elapsed": {"repr": "0:01:00.433880", "seconds": 60.43388}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=67", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:02.712784+05:30", "timestamp": 1755780842.712784}}}
{"text": "2025-08-21 18:24:04.136 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:01.857202", "seconds": 61.857202}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.136106+05:30", "timestamp": 1755780844.136106}}}
{"text": "2025-08-21 18:24:04.136 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:01.857870", "seconds": 61.85787}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.136774+05:30", "timestamp": 1755780844.136774}}}
{"text": "2025-08-21 18:24:04.137 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=64838.85, today=64838.85\n", "record": {"elapsed": {"repr": "0:01:01.858314", "seconds": 61.858314}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=64838.85, today=64838.85", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.137218+05:30", "timestamp": 1755780844.137218}}}
{"text": "2025-08-21 18:24:04.137 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-66836.22, today=-66836.22\n", "record": {"elapsed": {"repr": "0:01:01.858735", "seconds": 61.858735}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-66836.22, today=-66836.22", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.137639+05:30", "timestamp": 1755780844.137639}}}
{"text": "2025-08-21 18:24:04.138 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=879596.6, today=879596.6\n", "record": {"elapsed": {"repr": "0:01:01.859177", "seconds": 61.859177}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=879596.6, today=879596.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.138081+05:30", "timestamp": 1755780844.138081}}}
{"text": "2025-08-21 18:24:04.138 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79383.68, today=79383.68\n", "record": {"elapsed": {"repr": "0:01:01.859629", "seconds": 61.859629}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79383.68, today=79383.68", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.138533+05:30", "timestamp": 1755780844.138533}}}
{"text": "2025-08-21 18:24:04.138 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2047918.51, today=2047918.51\n", "record": {"elapsed": {"repr": "0:01:01.859982", "seconds": 61.859982}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2047918.51, today=2047918.51", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.138886+05:30", "timestamp": 1755780844.138886}}}
{"text": "2025-08-21 18:24:04.139 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3004901.42, day: 3004901.42\n", "record": {"elapsed": {"repr": "0:01:01.860297", "seconds": 61.860297}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3004901.42, day: 3004901.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.139201+05:30", "timestamp": 1755780844.139201}}}
{"text": "2025-08-21 18:24:04.139 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:01.860686", "seconds": 61.860686}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.139590+05:30", "timestamp": 1755780844.13959}}}
{"text": "2025-08-21 18:24:04.139 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:01.860992", "seconds": 61.860992}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.139896+05:30", "timestamp": 1755780844.139896}}}
{"text": "2025-08-21 18:24:04.140 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:01.861297", "seconds": 61.861297}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.140201+05:30", "timestamp": 1755780844.140201}}}
{"text": "2025-08-21 18:24:04.140 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:01.861609", "seconds": 61.861609}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.140513+05:30", "timestamp": 1755780844.140513}}}
{"text": "2025-08-21 18:24:04.140 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:04.137148+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:01.861977", "seconds": 61.861977}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:04.137148+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.140881+05:30", "timestamp": 1755780844.140881}}}
{"text": "2025-08-21 18:24:04.141 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3004901.42, day=3004901.42, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=327.83, unrealized=64838.85, today_pnl=64838.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1512.1, unrealized=-66836.22, today_pnl=-66836.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.18, unrealized=879596.6, today_pnl=879596.6), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.42, unrealized=79383.68, today_pnl=79383.68), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1193.12, unrealized=2047918.51, today_pnl=2047918.51)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 4, 137148, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:01.862471", "seconds": 61.862471}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3004901.42, day=3004901.42, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=327.83, unrealized=64838.85, today_pnl=64838.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1512.1, unrealized=-66836.22, today_pnl=-66836.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.18, unrealized=879596.6, today_pnl=879596.6), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.42, unrealized=79383.68, today_pnl=79383.68), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1193.12, unrealized=2047918.51, today_pnl=2047918.51)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 4, 137148, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.141375+05:30", "timestamp": 1755780844.141375}}}
{"text": "2025-08-21 18:24:04.141 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3004901.42, day=3004901.42, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=327.83, unrealized=64838.85, today_pnl=64838.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1512.1, unrealized=-66836.22, today_pnl=-66836.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.18, unrealized=879596.6, today_pnl=879596.6), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.42, unrealized=79383.68, today_pnl=79383.68), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1193.12, unrealized=2047918.51, today_pnl=2047918.51)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 4, 137148, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:01.863042", "seconds": 61.863042}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3004901.42, day=3004901.42, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=327.83, unrealized=64838.85, today_pnl=64838.85), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1512.1, unrealized=-66836.22, today_pnl=-66836.22), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2272.18, unrealized=879596.6, today_pnl=879596.6), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.42, unrealized=79383.68, today_pnl=79383.68), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1193.12, unrealized=2047918.51, today_pnl=2047918.51)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 4, 137148, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.141946+05:30", "timestamp": 1755780844.141946}}}
{"text": "2025-08-21 18:24:04.142 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3004901.42\n", "record": {"elapsed": {"repr": "0:01:01.863441", "seconds": 61.863441}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3004901.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.142345+05:30", "timestamp": 1755780844.142345}}}
{"text": "2025-08-21 18:24:04.142 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=68\n", "record": {"elapsed": {"repr": "0:01:01.863937", "seconds": 61.863937}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=68", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:04.142841+05:30", "timestamp": 1755780844.142841}}}
{"text": "2025-08-21 18:24:04.497 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.219012", "seconds": 62.219012}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:04.497916+05:30", "timestamp": 1755780844.497916}}}
{"text": "2025-08-21 18:24:04.504 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.225435", "seconds": 62.225435}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:04.504339+05:30", "timestamp": 1755780844.504339}}}
{"text": "2025-08-21 18:24:04.511 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.232496", "seconds": 62.232496}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:04.511400+05:30", "timestamp": 1755780844.5114}}}
{"text": "2025-08-21 18:24:04.512 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.233480", "seconds": 62.23348}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:04.512384+05:30", "timestamp": 1755780844.512384}}}
{"text": "2025-08-21 18:24:04.513 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.234571", "seconds": 62.234571}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:04.513475+05:30", "timestamp": 1755780844.513475}}}
{"text": "2025-08-21 18:24:04.515 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.236173", "seconds": 62.236173}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:04.515077+05:30", "timestamp": 1755780844.515077}}}
{"text": "2025-08-21 18:24:04.515 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.236945", "seconds": 62.236945}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:04.515849+05:30", "timestamp": 1755780844.515849}}}
{"text": "2025-08-21 18:24:04.516 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.237820", "seconds": 62.23782}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:04.516724+05:30", "timestamp": 1755780844.516724}}}
{"text": "2025-08-21 18:24:04.517 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.238457", "seconds": 62.238457}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:04.517361+05:30", "timestamp": 1755780844.517361}}}
{"text": "2025-08-21 18:24:04.517 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:02.238991", "seconds": 62.238991}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:04.517895+05:30", "timestamp": 1755780844.517895}}}
{"text": "2025-08-21 18:24:05.939 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=69\n", "record": {"elapsed": {"repr": "0:01:03.661083", "seconds": 63.661083}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=69", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:05.939987+05:30", "timestamp": 1755780845.939987}}}
{"text": "2025-08-21 18:24:06.043 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:03.764149", "seconds": 63.764149}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.043053+05:30", "timestamp": 1755780846.043053}}}
{"text": "2025-08-21 18:24:06.043 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:03.764853", "seconds": 63.764853}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.043757+05:30", "timestamp": 1755780846.043757}}}
{"text": "2025-08-21 18:24:06.044 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=65700.42, today=65700.42\n", "record": {"elapsed": {"repr": "0:01:03.765338", "seconds": 63.765338}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=65700.42, today=65700.42", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.044242+05:30", "timestamp": 1755780846.044242}}}
{"text": "2025-08-21 18:24:06.044 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-65666.32, today=-65666.32\n", "record": {"elapsed": {"repr": "0:01:03.765768", "seconds": 63.765768}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-65666.32, today=-65666.32", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.044672+05:30", "timestamp": 1755780846.044672}}}
{"text": "2025-08-21 18:24:06.045 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=894264.94, today=894264.94\n", "record": {"elapsed": {"repr": "0:01:03.766320", "seconds": 63.76632}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=894264.94, today=894264.94", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.045224+05:30", "timestamp": 1755780846.045224}}}
{"text": "2025-08-21 18:24:06.045 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79488.93, today=79488.93\n", "record": {"elapsed": {"repr": "0:01:03.766693", "seconds": 63.766693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79488.93, today=79488.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.045597+05:30", "timestamp": 1755780846.045597}}}
{"text": "2025-08-21 18:24:06.045 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2008518.19, today=2008518.19\n", "record": {"elapsed": {"repr": "0:01:03.767077", "seconds": 63.767077}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2008518.19, today=2008518.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.045981+05:30", "timestamp": 1755780846.045981}}}
{"text": "2025-08-21 18:24:06.046 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2982306.16, day: 2982306.16\n", "record": {"elapsed": {"repr": "0:01:03.767464", "seconds": 63.767464}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2982306.16, day: 2982306.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.046368+05:30", "timestamp": 1755780846.046368}}}
{"text": "2025-08-21 18:24:06.046 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:03.767898", "seconds": 63.767898}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.046802+05:30", "timestamp": 1755780846.046802}}}
{"text": "2025-08-21 18:24:06.047 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:03.768438", "seconds": 63.768438}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.047342+05:30", "timestamp": 1755780846.047342}}}
{"text": "2025-08-21 18:24:06.047 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:03.768909", "seconds": 63.768909}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.047813+05:30", "timestamp": 1755780846.047813}}}
{"text": "2025-08-21 18:24:06.048 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:03.769344", "seconds": 63.769344}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.048248+05:30", "timestamp": 1755780846.048248}}}
{"text": "2025-08-21 18:24:06.048 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:06.044189+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:03.769750", "seconds": 63.76975}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:06.044189+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.048654+05:30", "timestamp": 1755780846.048654}}}
{"text": "2025-08-21 18:24:06.049 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2982306.16, day=2982306.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=329.54, unrealized=65700.42, today_pnl=65700.42), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1504.45, unrealized=-65666.32, today_pnl=-65666.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2289.04, unrealized=894264.94, today_pnl=894264.94), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=264.61, unrealized=79488.93, today_pnl=79488.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1172.14, unrealized=2008518.19, today_pnl=2008518.19)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 6, 44189, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:03.770383", "seconds": 63.770383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2982306.16, day=2982306.16, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=329.54, unrealized=65700.42, today_pnl=65700.42), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1504.45, unrealized=-65666.32, today_pnl=-65666.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2289.04, unrealized=894264.94, today_pnl=894264.94), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=264.61, unrealized=79488.93, today_pnl=79488.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1172.14, unrealized=2008518.19, today_pnl=2008518.19)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 6, 44189, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.049287+05:30", "timestamp": 1755780846.049287}}}
{"text": "2025-08-21 18:24:06.049 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2982306.16, day=2982306.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=329.54, unrealized=65700.42, today_pnl=65700.42), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1504.45, unrealized=-65666.32, today_pnl=-65666.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2289.04, unrealized=894264.94, today_pnl=894264.94), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=264.61, unrealized=79488.93, today_pnl=79488.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1172.14, unrealized=2008518.19, today_pnl=2008518.19)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 6, 44189, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:03.770982", "seconds": 63.770982}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2982306.16, day=2982306.16, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=329.54, unrealized=65700.42, today_pnl=65700.42), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1504.45, unrealized=-65666.32, today_pnl=-65666.32), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2289.04, unrealized=894264.94, today_pnl=894264.94), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=264.61, unrealized=79488.93, today_pnl=79488.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1172.14, unrealized=2008518.19, today_pnl=2008518.19)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 6, 44189, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.049886+05:30", "timestamp": 1755780846.049886}}}
{"text": "2025-08-21 18:24:06.050 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2982306.16\n", "record": {"elapsed": {"repr": "0:01:03.771546", "seconds": 63.771546}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2982306.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.050450+05:30", "timestamp": 1755780846.05045}}}
{"text": "2025-08-21 18:24:06.051 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=70\n", "record": {"elapsed": {"repr": "0:01:03.772819", "seconds": 63.772819}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=70", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:06.051723+05:30", "timestamp": 1755780846.051723}}}
{"text": "2025-08-21 18:24:06.519 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.240412", "seconds": 64.240412}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:06.519316+05:30", "timestamp": 1755780846.519316}}}
{"text": "2025-08-21 18:24:06.520 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.241105", "seconds": 64.241105}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:06.520009+05:30", "timestamp": 1755780846.520009}}}
{"text": "2025-08-21 18:24:06.520 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.241501", "seconds": 64.241501}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:06.520405+05:30", "timestamp": 1755780846.520405}}}
{"text": "2025-08-21 18:24:06.520 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.241995", "seconds": 64.241995}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:06.520899+05:30", "timestamp": 1755780846.520899}}}
{"text": "2025-08-21 18:24:06.521 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.242363", "seconds": 64.242363}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:06.521267+05:30", "timestamp": 1755780846.521267}}}
{"text": "2025-08-21 18:24:06.521 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.242858", "seconds": 64.242858}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:06.521762+05:30", "timestamp": 1755780846.521762}}}
{"text": "2025-08-21 18:24:06.522 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.243387", "seconds": 64.243387}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:06.522291+05:30", "timestamp": 1755780846.522291}}}
{"text": "2025-08-21 18:24:06.522 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.243758", "seconds": 64.243758}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:06.522662+05:30", "timestamp": 1755780846.522662}}}
{"text": "2025-08-21 18:24:06.523 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.244125", "seconds": 64.244125}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:06.523029+05:30", "timestamp": 1755780846.523029}}}
{"text": "2025-08-21 18:24:06.523 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:04.244488", "seconds": 64.244488}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:06.523392+05:30", "timestamp": 1755780846.523392}}}
{"text": "2025-08-21 18:24:07.743 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=71\n", "record": {"elapsed": {"repr": "0:01:05.464888", "seconds": 65.464888}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=71", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.743792+05:30", "timestamp": 1755780847.743792}}}
{"text": "2025-08-21 18:24:07.908 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:05.629369", "seconds": 65.629369}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.908273+05:30", "timestamp": 1755780847.908273}}}
{"text": "2025-08-21 18:24:07.908 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:05.629966", "seconds": 65.629966}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.908870+05:30", "timestamp": 1755780847.90887}}}
{"text": "2025-08-21 18:24:07.909 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=68520.62, today=68520.62\n", "record": {"elapsed": {"repr": "0:01:05.630479", "seconds": 65.630479}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=68520.62, today=68520.62", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.909383+05:30", "timestamp": 1755780847.909383}}}
{"text": "2025-08-21 18:24:07.909 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-67902.9, today=-67902.9\n", "record": {"elapsed": {"repr": "0:01:05.630963", "seconds": 65.630963}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-67902.9, today=-67902.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.909867+05:30", "timestamp": 1755780847.909867}}}
{"text": "2025-08-21 18:24:07.910 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=915959.6, today=915959.6\n", "record": {"elapsed": {"repr": "0:01:05.631504", "seconds": 65.631504}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=915959.6, today=915959.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.910408+05:30", "timestamp": 1755780847.910408}}}
{"text": "2025-08-21 18:24:07.910 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79919.25, today=79919.25\n", "record": {"elapsed": {"repr": "0:01:05.631944", "seconds": 65.631944}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79919.25, today=79919.25", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.910848+05:30", "timestamp": 1755780847.910848}}}
{"text": "2025-08-21 18:24:07.911 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1973768.03, today=1973768.03\n", "record": {"elapsed": {"repr": "0:01:05.632323", "seconds": 65.632323}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1973768.03, today=1973768.03", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.911227+05:30", "timestamp": 1755780847.911227}}}
{"text": "2025-08-21 18:24:07.911 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2970264.6, day: 2970264.6\n", "record": {"elapsed": {"repr": "0:01:05.632769", "seconds": 65.632769}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2970264.6, day: 2970264.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.911673+05:30", "timestamp": 1755780847.911673}}}
{"text": "2025-08-21 18:24:07.912 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:05.633222", "seconds": 65.633222}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.912126+05:30", "timestamp": 1755780847.912126}}}
{"text": "2025-08-21 18:24:07.912 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:05.633678", "seconds": 65.633678}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.912582+05:30", "timestamp": 1755780847.912582}}}
{"text": "2025-08-21 18:24:07.913 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:05.634184", "seconds": 65.634184}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.913088+05:30", "timestamp": 1755780847.913088}}}
{"text": "2025-08-21 18:24:07.913 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:05.634643", "seconds": 65.634643}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.913547+05:30", "timestamp": 1755780847.913547}}}
{"text": "2025-08-21 18:24:07.914 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:07.909319+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:05.635208", "seconds": 65.635208}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:07.909319+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.914112+05:30", "timestamp": 1755780847.914112}}}
{"text": "2025-08-21 18:24:07.914 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2970264.6, day=2970264.6, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=335.12, unrealized=68520.62, today_pnl=68520.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1519.07, unrealized=-67902.9, today_pnl=-67902.9), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2313.98, unrealized=915959.6, today_pnl=915959.6), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.3, unrealized=79919.25, today_pnl=79919.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1153.63, unrealized=1973768.03, today_pnl=1973768.03)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 7, 909319, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:05.635855", "seconds": 65.635855}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2970264.6, day=2970264.6, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=335.12, unrealized=68520.62, today_pnl=68520.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1519.07, unrealized=-67902.9, today_pnl=-67902.9), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2313.98, unrealized=915959.6, today_pnl=915959.6), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.3, unrealized=79919.25, today_pnl=79919.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1153.63, unrealized=1973768.03, today_pnl=1973768.03)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 7, 909319, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.914759+05:30", "timestamp": 1755780847.914759}}}
{"text": "2025-08-21 18:24:07.915 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2970264.6, day=2970264.6, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=335.12, unrealized=68520.62, today_pnl=68520.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1519.07, unrealized=-67902.9, today_pnl=-67902.9), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2313.98, unrealized=915959.6, today_pnl=915959.6), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.3, unrealized=79919.25, today_pnl=79919.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1153.63, unrealized=1973768.03, today_pnl=1973768.03)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 7, 909319, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:05.636738", "seconds": 65.636738}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2970264.6, day=2970264.6, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=335.12, unrealized=68520.62, today_pnl=68520.62), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1519.07, unrealized=-67902.9, today_pnl=-67902.9), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2313.98, unrealized=915959.6, today_pnl=915959.6), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=261.3, unrealized=79919.25, today_pnl=79919.25), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1153.63, unrealized=1973768.03, today_pnl=1973768.03)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 7, 909319, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.915642+05:30", "timestamp": 1755780847.915642}}}
{"text": "2025-08-21 18:24:07.916 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2970264.60\n", "record": {"elapsed": {"repr": "0:01:05.637661", "seconds": 65.637661}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2970264.60", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.916565+05:30", "timestamp": 1755780847.916565}}}
{"text": "2025-08-21 18:24:07.917 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=72\n", "record": {"elapsed": {"repr": "0:01:05.638388", "seconds": 65.638388}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=72", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:07.917292+05:30", "timestamp": 1755780847.917292}}}
{"text": "2025-08-21 18:24:08.524 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.245753", "seconds": 66.245753}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:08.524657+05:30", "timestamp": 1755780848.524657}}}
{"text": "2025-08-21 18:24:08.525 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.246603", "seconds": 66.246603}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:08.525507+05:30", "timestamp": 1755780848.525507}}}
{"text": "2025-08-21 18:24:08.525 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.246951", "seconds": 66.246951}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:08.525855+05:30", "timestamp": 1755780848.525855}}}
{"text": "2025-08-21 18:24:08.526 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.247261", "seconds": 66.247261}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:08.526165+05:30", "timestamp": 1755780848.526165}}}
{"text": "2025-08-21 18:24:08.526 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.247577", "seconds": 66.247577}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:08.526481+05:30", "timestamp": 1755780848.526481}}}
{"text": "2025-08-21 18:24:08.526 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.247845", "seconds": 66.247845}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:08.526749+05:30", "timestamp": 1755780848.526749}}}
{"text": "2025-08-21 18:24:08.527 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.248205", "seconds": 66.248205}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:08.527109+05:30", "timestamp": 1755780848.527109}}}
{"text": "2025-08-21 18:24:08.527 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.248570", "seconds": 66.24857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:08.527474+05:30", "timestamp": 1755780848.527474}}}
{"text": "2025-08-21 18:24:08.527 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.248875", "seconds": 66.248875}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:08.527779+05:30", "timestamp": 1755780848.527779}}}
{"text": "2025-08-21 18:24:08.528 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:06.249221", "seconds": 66.249221}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:08.528125+05:30", "timestamp": 1755780848.528125}}}
{"text": "2025-08-21 18:24:09.442 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=73\n", "record": {"elapsed": {"repr": "0:01:07.163344", "seconds": 67.163344}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=73", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.442248+05:30", "timestamp": 1755780849.442248}}}
{"text": "2025-08-21 18:24:09.708 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:07.429693", "seconds": 67.429693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.708597+05:30", "timestamp": 1755780849.708597}}}
{"text": "2025-08-21 18:24:09.709 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:07.430253", "seconds": 67.430253}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.709157+05:30", "timestamp": 1755780849.709157}}}
{"text": "2025-08-21 18:24:09.709 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=69170.71, today=69170.71\n", "record": {"elapsed": {"repr": "0:01:07.430598", "seconds": 67.430598}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=69170.71, today=69170.71", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.709502+05:30", "timestamp": 1755780849.709502}}}
{"text": "2025-08-21 18:24:09.709 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-65038.5, today=-65038.5\n", "record": {"elapsed": {"repr": "0:01:07.430967", "seconds": 67.430967}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-65038.5, today=-65038.5", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.709871+05:30", "timestamp": 1755780849.709871}}}
{"text": "2025-08-21 18:24:09.710 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=908403.57, today=908403.57\n", "record": {"elapsed": {"repr": "0:01:07.431263", "seconds": 67.431263}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=908403.57, today=908403.57", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.710167+05:30", "timestamp": 1755780849.710167}}}
{"text": "2025-08-21 18:24:09.710 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80028.65, today=80028.65\n", "record": {"elapsed": {"repr": "0:01:07.431580", "seconds": 67.43158}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80028.65, today=80028.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.710484+05:30", "timestamp": 1755780849.710484}}}
{"text": "2025-08-21 18:24:09.710 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1996462.66, today=1996462.66\n", "record": {"elapsed": {"repr": "0:01:07.431949", "seconds": 67.431949}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1996462.66, today=1996462.66", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.710853+05:30", "timestamp": 1755780849.710853}}}
{"text": "2025-08-21 18:24:09.711 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2989027.09, day: 2989027.09\n", "record": {"elapsed": {"repr": "0:01:07.432320", "seconds": 67.43232}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2989027.09, day: 2989027.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.711224+05:30", "timestamp": 1755780849.711224}}}
{"text": "2025-08-21 18:24:09.711 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:07.432753", "seconds": 67.432753}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.711657+05:30", "timestamp": 1755780849.711657}}}
{"text": "2025-08-21 18:24:09.711 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:07.433069", "seconds": 67.433069}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.711973+05:30", "timestamp": 1755780849.711973}}}
{"text": "2025-08-21 18:24:09.712 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:07.433356", "seconds": 67.433356}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.712260+05:30", "timestamp": 1755780849.71226}}}
{"text": "2025-08-21 18:24:09.712 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:07.433615", "seconds": 67.433615}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.712519+05:30", "timestamp": 1755780849.712519}}}
{"text": "2025-08-21 18:24:09.712 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:09.709449+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:07.433891", "seconds": 67.433891}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:09.709449+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.712795+05:30", "timestamp": 1755780849.712795}}}
{"text": "2025-08-21 18:24:09.713 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2989027.09, day=2989027.09, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.41, unrealized=69170.71, today_pnl=69170.71), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1500.35, unrealized=-65038.5, today_pnl=-65038.5), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2305.29, unrealized=908403.57, today_pnl=908403.57), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.45, unrealized=80028.65, today_pnl=80028.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1165.72, unrealized=1996462.66, today_pnl=1996462.66)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 9, 709449, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:07.434295", "seconds": 67.434295}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2989027.09, day=2989027.09, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.41, unrealized=69170.71, today_pnl=69170.71), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1500.35, unrealized=-65038.5, today_pnl=-65038.5), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2305.29, unrealized=908403.57, today_pnl=908403.57), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.45, unrealized=80028.65, today_pnl=80028.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1165.72, unrealized=1996462.66, today_pnl=1996462.66)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 9, 709449, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.713199+05:30", "timestamp": 1755780849.713199}}}
{"text": "2025-08-21 18:24:09.713 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2989027.09, day=2989027.09, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.41, unrealized=69170.71, today_pnl=69170.71), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1500.35, unrealized=-65038.5, today_pnl=-65038.5), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2305.29, unrealized=908403.57, today_pnl=908403.57), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.45, unrealized=80028.65, today_pnl=80028.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1165.72, unrealized=1996462.66, today_pnl=1996462.66)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 9, 709449, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:07.434753", "seconds": 67.434753}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2989027.09, day=2989027.09, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.41, unrealized=69170.71, today_pnl=69170.71), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1500.35, unrealized=-65038.5, today_pnl=-65038.5), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2305.29, unrealized=908403.57, today_pnl=908403.57), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=260.45, unrealized=80028.65, today_pnl=80028.65), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1165.72, unrealized=1996462.66, today_pnl=1996462.66)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 9, 709449, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.713657+05:30", "timestamp": 1755780849.713657}}}
{"text": "2025-08-21 18:24:09.714 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2989027.09\n", "record": {"elapsed": {"repr": "0:01:07.435213", "seconds": 67.435213}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2989027.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.714117+05:30", "timestamp": 1755780849.714117}}}
{"text": "2025-08-21 18:24:09.714 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=74\n", "record": {"elapsed": {"repr": "0:01:07.435756", "seconds": 67.435756}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=74", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:09.714660+05:30", "timestamp": 1755780849.71466}}}
{"text": "2025-08-21 18:24:10.528 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.250075", "seconds": 68.250075}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:10.528979+05:30", "timestamp": 1755780850.528979}}}
{"text": "2025-08-21 18:24:10.529 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.250597", "seconds": 68.250597}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:10.529501+05:30", "timestamp": 1755780850.529501}}}
{"text": "2025-08-21 18:24:10.529 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.251002", "seconds": 68.251002}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:10.529906+05:30", "timestamp": 1755780850.529906}}}
{"text": "2025-08-21 18:24:10.530 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.251426", "seconds": 68.251426}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:10.530330+05:30", "timestamp": 1755780850.53033}}}
{"text": "2025-08-21 18:24:10.530 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.251818", "seconds": 68.251818}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:10.530722+05:30", "timestamp": 1755780850.530722}}}
{"text": "2025-08-21 18:24:10.531 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.252219", "seconds": 68.252219}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:10.531123+05:30", "timestamp": 1755780850.531123}}}
{"text": "2025-08-21 18:24:10.531 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.252634", "seconds": 68.252634}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:10.531538+05:30", "timestamp": 1755780850.531538}}}
{"text": "2025-08-21 18:24:10.531 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.253023", "seconds": 68.253023}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:10.531927+05:30", "timestamp": 1755780850.531927}}}
{"text": "2025-08-21 18:24:10.532 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.253555", "seconds": 68.253555}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:10.532459+05:30", "timestamp": 1755780850.532459}}}
{"text": "2025-08-21 18:24:10.532 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:08.253969", "seconds": 68.253969}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:10.532873+05:30", "timestamp": 1755780850.532873}}}
{"text": "2025-08-21 18:24:10.991 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=75\n", "record": {"elapsed": {"repr": "0:01:08.712388", "seconds": 68.712388}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=75", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:10.991292+05:30", "timestamp": 1755780850.991292}}}
{"text": "2025-08-21 18:24:11.406 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:09.127503", "seconds": 69.127503}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.406407+05:30", "timestamp": 1755780851.406407}}}
{"text": "2025-08-21 18:24:11.406 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:09.128071", "seconds": 69.128071}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.406975+05:30", "timestamp": 1755780851.406975}}}
{"text": "2025-08-21 18:24:11.407 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=66705.56, today=66705.56\n", "record": {"elapsed": {"repr": "0:01:09.128593", "seconds": 69.128593}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=66705.56, today=66705.56", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.407497+05:30", "timestamp": 1755780851.407497}}}
{"text": "2025-08-21 18:24:11.407 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-63715.58, today=-63715.58\n", "record": {"elapsed": {"repr": "0:01:09.129073", "seconds": 69.129073}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-63715.58, today=-63715.58", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.407977+05:30", "timestamp": 1755780851.407977}}}
{"text": "2025-08-21 18:24:11.408 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=916582.81, today=916582.81\n", "record": {"elapsed": {"repr": "0:01:09.129452", "seconds": 69.129452}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=916582.81, today=916582.81", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.408356+05:30", "timestamp": 1755780851.408356}}}
{"text": "2025-08-21 18:24:11.408 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79366.78, today=79366.78\n", "record": {"elapsed": {"repr": "0:01:09.129857", "seconds": 69.129857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79366.78, today=79366.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.408761+05:30", "timestamp": 1755780851.408761}}}
{"text": "2025-08-21 18:24:11.409 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=2005332.95, today=2005332.95\n", "record": {"elapsed": {"repr": "0:01:09.130233", "seconds": 69.130233}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=2005332.95, today=2005332.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.409137+05:30", "timestamp": 1755780851.409137}}}
{"text": "2025-08-21 18:24:11.409 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3004272.52, day: 3004272.52\n", "record": {"elapsed": {"repr": "0:01:09.130728", "seconds": 69.130728}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3004272.52, day: 3004272.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.409632+05:30", "timestamp": 1755780851.409632}}}
{"text": "2025-08-21 18:24:11.410 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:09.131134", "seconds": 69.131134}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.410038+05:30", "timestamp": 1755780851.410038}}}
{"text": "2025-08-21 18:24:11.410 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:09.131523", "seconds": 69.131523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.410427+05:30", "timestamp": 1755780851.410427}}}
{"text": "2025-08-21 18:24:11.410 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:09.131902", "seconds": 69.131902}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.410806+05:30", "timestamp": 1755780851.410806}}}
{"text": "2025-08-21 18:24:11.411 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:09.132236", "seconds": 69.132236}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.411140+05:30", "timestamp": 1755780851.41114}}}
{"text": "2025-08-21 18:24:11.411 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:11.407404+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:09.132576", "seconds": 69.132576}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:11.407404+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.411480+05:30", "timestamp": 1755780851.41148}}}
{"text": "2025-08-21 18:24:11.412 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3004272.52, day=3004272.52, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=331.53, unrealized=66705.56, today_pnl=66705.56), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1491.7, unrealized=-63715.58, today_pnl=-63715.58), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2314.69, unrealized=916582.81, today_pnl=916582.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.55, unrealized=79366.78, today_pnl=79366.78), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1170.44, unrealized=2005332.95, today_pnl=2005332.95)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 11, 407404, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:09.133170", "seconds": 69.13317}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3004272.52, day=3004272.52, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=331.53, unrealized=66705.56, today_pnl=66705.56), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1491.7, unrealized=-63715.58, today_pnl=-63715.58), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2314.69, unrealized=916582.81, today_pnl=916582.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.55, unrealized=79366.78, today_pnl=79366.78), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1170.44, unrealized=2005332.95, today_pnl=2005332.95)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 11, 407404, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.412074+05:30", "timestamp": 1755780851.412074}}}
{"text": "2025-08-21 18:24:11.412 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3004272.52, day=3004272.52, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=331.53, unrealized=66705.56, today_pnl=66705.56), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1491.7, unrealized=-63715.58, today_pnl=-63715.58), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2314.69, unrealized=916582.81, today_pnl=916582.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.55, unrealized=79366.78, today_pnl=79366.78), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1170.44, unrealized=2005332.95, today_pnl=2005332.95)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 11, 407404, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:09.133857", "seconds": 69.133857}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3004272.52, day=3004272.52, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=331.53, unrealized=66705.56, today_pnl=66705.56), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1491.7, unrealized=-63715.58, today_pnl=-63715.58), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2314.69, unrealized=916582.81, today_pnl=916582.81), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=265.55, unrealized=79366.78, today_pnl=79366.78), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1170.44, unrealized=2005332.95, today_pnl=2005332.95)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 11, 407404, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.412761+05:30", "timestamp": 1755780851.412761}}}
{"text": "2025-08-21 18:24:11.413 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3004272.52\n", "record": {"elapsed": {"repr": "0:01:09.134586", "seconds": 69.134586}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3004272.52", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.413490+05:30", "timestamp": 1755780851.41349}}}
{"text": "2025-08-21 18:24:11.414 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=76\n", "record": {"elapsed": {"repr": "0:01:09.135216", "seconds": 69.135216}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=76", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:11.414120+05:30", "timestamp": 1755780851.41412}}}
{"text": "2025-08-21 18:24:12.533 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.254707", "seconds": 70.254707}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:12.533611+05:30", "timestamp": 1755780852.533611}}}
{"text": "2025-08-21 18:24:12.534 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.255294", "seconds": 70.255294}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:12.534198+05:30", "timestamp": 1755780852.534198}}}
{"text": "2025-08-21 18:24:12.534 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.255615", "seconds": 70.255615}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:12.534519+05:30", "timestamp": 1755780852.534519}}}
{"text": "2025-08-21 18:24:12.534 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.255947", "seconds": 70.255947}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:12.534851+05:30", "timestamp": 1755780852.534851}}}
{"text": "2025-08-21 18:24:12.535 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.256239", "seconds": 70.256239}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:12.535143+05:30", "timestamp": 1755780852.535143}}}
{"text": "2025-08-21 18:24:12.535 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.256519", "seconds": 70.256519}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:12.535423+05:30", "timestamp": 1755780852.535423}}}
{"text": "2025-08-21 18:24:12.535 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.256893", "seconds": 70.256893}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:12.535797+05:30", "timestamp": 1755780852.535797}}}
{"text": "2025-08-21 18:24:12.536 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.257232", "seconds": 70.257232}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:12.536136+05:30", "timestamp": 1755780852.536136}}}
{"text": "2025-08-21 18:24:12.536 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.257631", "seconds": 70.257631}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:12.536535+05:30", "timestamp": 1755780852.536535}}}
{"text": "2025-08-21 18:24:12.536 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:10.257955", "seconds": 70.257955}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:12.536859+05:30", "timestamp": 1755780852.536859}}}
{"text": "2025-08-21 18:24:12.816 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=77\n", "record": {"elapsed": {"repr": "0:01:10.537354", "seconds": 70.537354}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=77", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.816258+05:30", "timestamp": 1755780852.816258}}}
{"text": "2025-08-21 18:24:12.947 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:10.668108", "seconds": 70.668108}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.947012+05:30", "timestamp": 1755780852.947012}}}
{"text": "2025-08-21 18:24:12.947 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:10.668775", "seconds": 70.668775}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.947679+05:30", "timestamp": 1755780852.947679}}}
{"text": "2025-08-21 18:24:12.948 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=66174.95, today=66174.95\n", "record": {"elapsed": {"repr": "0:01:10.669248", "seconds": 70.669248}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=66174.95, today=66174.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.948152+05:30", "timestamp": 1755780852.948152}}}
{"text": "2025-08-21 18:24:12.948 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-59556.23, today=-59556.23\n", "record": {"elapsed": {"repr": "0:01:10.669659", "seconds": 70.669659}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-59556.23, today=-59556.23", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.948563+05:30", "timestamp": 1755780852.948563}}}
{"text": "2025-08-21 18:24:12.948 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=931616.21, today=931616.21\n", "record": {"elapsed": {"repr": "0:01:10.670017", "seconds": 70.670017}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=931616.21, today=931616.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.948921+05:30", "timestamp": 1755780852.948921}}}
{"text": "2025-08-21 18:24:12.949 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79771.82, today=79771.82\n", "record": {"elapsed": {"repr": "0:01:10.670379", "seconds": 70.670379}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79771.82, today=79771.82", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.949283+05:30", "timestamp": 1755780852.949283}}}
{"text": "2025-08-21 18:24:12.949 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1986721.72, today=1986721.72\n", "record": {"elapsed": {"repr": "0:01:10.670778", "seconds": 70.670778}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1986721.72, today=1986721.72", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.949682+05:30", "timestamp": 1755780852.949682}}}
{"text": "2025-08-21 18:24:12.950 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 3004728.47, day: 3004728.47\n", "record": {"elapsed": {"repr": "0:01:10.671180", "seconds": 70.67118}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 3004728.47, day: 3004728.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.950084+05:30", "timestamp": 1755780852.950084}}}
{"text": "2025-08-21 18:24:12.950 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:10.671521", "seconds": 70.671521}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.950425+05:30", "timestamp": 1755780852.950425}}}
{"text": "2025-08-21 18:24:12.950 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:10.671828", "seconds": 70.671828}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.950732+05:30", "timestamp": 1755780852.950732}}}
{"text": "2025-08-21 18:24:12.951 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:10.672110", "seconds": 70.67211}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.951014+05:30", "timestamp": 1755780852.951014}}}
{"text": "2025-08-21 18:24:12.951 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:10.672370", "seconds": 70.67237}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.951274+05:30", "timestamp": 1755780852.951274}}}
{"text": "2025-08-21 18:24:12.951 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:12.948100+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:10.672663", "seconds": 70.672663}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:12.948100+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.951567+05:30", "timestamp": 1755780852.951567}}}
{"text": "2025-08-21 18:24:12.952 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3004728.47, day=3004728.47, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=330.48, unrealized=66174.95, today_pnl=66174.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1464.52, unrealized=-59556.23, today_pnl=-59556.23), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2331.97, unrealized=931616.21, today_pnl=931616.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.43, unrealized=79771.82, today_pnl=79771.82), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1160.53, unrealized=1986721.72, today_pnl=1986721.72)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 12, 948100, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:10.673200", "seconds": 70.6732}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=3004728.47, day=3004728.47, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=330.48, unrealized=66174.95, today_pnl=66174.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1464.52, unrealized=-59556.23, today_pnl=-59556.23), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2331.97, unrealized=931616.21, today_pnl=931616.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.43, unrealized=79771.82, today_pnl=79771.82), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1160.53, unrealized=1986721.72, today_pnl=1986721.72)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 12, 948100, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.952104+05:30", "timestamp": 1755780852.952104}}}
{"text": "2025-08-21 18:24:12.952 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3004728.47, day=3004728.47, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=330.48, unrealized=66174.95, today_pnl=66174.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1464.52, unrealized=-59556.23, today_pnl=-59556.23), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2331.97, unrealized=931616.21, today_pnl=931616.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.43, unrealized=79771.82, today_pnl=79771.82), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1160.53, unrealized=1986721.72, today_pnl=1986721.72)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 12, 948100, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:10.673789", "seconds": 70.673789}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=3004728.47, day=3004728.47, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=330.48, unrealized=66174.95, today_pnl=66174.95), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1464.52, unrealized=-59556.23, today_pnl=-59556.23), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2331.97, unrealized=931616.21, today_pnl=931616.21), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.43, unrealized=79771.82, today_pnl=79771.82), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1160.53, unrealized=1986721.72, today_pnl=1986721.72)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 12, 948100, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.952693+05:30", "timestamp": 1755780852.952693}}}
{"text": "2025-08-21 18:24:12.953 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3004728.47\n", "record": {"elapsed": {"repr": "0:01:10.674354", "seconds": 70.674354}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ3004728.47", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.953258+05:30", "timestamp": 1755780852.953258}}}
{"text": "2025-08-21 18:24:12.953 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=78\n", "record": {"elapsed": {"repr": "0:01:10.674918", "seconds": 70.674918}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=78", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:12.953822+05:30", "timestamp": 1755780852.953822}}}
{"text": "2025-08-21 18:24:14.537 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.258679", "seconds": 72.258679}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:14.537583+05:30", "timestamp": 1755780854.537583}}}
{"text": "2025-08-21 18:24:14.538 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.259213", "seconds": 72.259213}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:14.538117+05:30", "timestamp": 1755780854.538117}}}
{"text": "2025-08-21 18:24:14.538 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.259620", "seconds": 72.25962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:14.538524+05:30", "timestamp": 1755780854.538524}}}
{"text": "2025-08-21 18:24:14.538 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.260086", "seconds": 72.260086}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:14.538990+05:30", "timestamp": 1755780854.53899}}}
{"text": "2025-08-21 18:24:14.539 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.260554", "seconds": 72.260554}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:14.539458+05:30", "timestamp": 1755780854.539458}}}
{"text": "2025-08-21 18:24:14.539 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.261008", "seconds": 72.261008}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:14.539912+05:30", "timestamp": 1755780854.539912}}}
{"text": "2025-08-21 18:24:14.540 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.261434", "seconds": 72.261434}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:14.540338+05:30", "timestamp": 1755780854.540338}}}
{"text": "2025-08-21 18:24:14.540 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.261823", "seconds": 72.261823}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:14.540727+05:30", "timestamp": 1755780854.540727}}}
{"text": "2025-08-21 18:24:14.541 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.262196", "seconds": 72.262196}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:14.541100+05:30", "timestamp": 1755780854.5411}}}
{"text": "2025-08-21 18:24:14.541 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:12.262595", "seconds": 72.262595}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:14.541499+05:30", "timestamp": 1755780854.541499}}}
{"text": "2025-08-21 18:24:14.555 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=79\n", "record": {"elapsed": {"repr": "0:01:12.276410", "seconds": 72.27641}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=79", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.555314+05:30", "timestamp": 1755780854.555314}}}
{"text": "2025-08-21 18:24:14.763 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:12.484693", "seconds": 72.484693}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.763597+05:30", "timestamp": 1755780854.763597}}}
{"text": "2025-08-21 18:24:14.764 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:12.485215", "seconds": 72.485215}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.764119+05:30", "timestamp": 1755780854.764119}}}
{"text": "2025-08-21 18:24:14.764 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=67630.1, today=67630.1\n", "record": {"elapsed": {"repr": "0:01:12.485621", "seconds": 72.485621}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=67630.1, today=67630.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.764525+05:30", "timestamp": 1755780854.764525}}}
{"text": "2025-08-21 18:24:14.764 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-60341.83, today=-60341.83\n", "record": {"elapsed": {"repr": "0:01:12.486095", "seconds": 72.486095}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-60341.83, today=-60341.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.764999+05:30", "timestamp": 1755780854.764999}}}
{"text": "2025-08-21 18:24:14.765 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=909541.14, today=909541.14\n", "record": {"elapsed": {"repr": "0:01:12.486486", "seconds": 72.486486}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=909541.14, today=909541.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.765390+05:30", "timestamp": 1755780854.76539}}}
{"text": "2025-08-21 18:24:14.765 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80143.17, today=80143.17\n", "record": {"elapsed": {"repr": "0:01:12.486887", "seconds": 72.486887}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80143.17, today=80143.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.765791+05:30", "timestamp": 1755780854.765791}}}
{"text": "2025-08-21 18:24:14.766 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1945074.83, today=1945074.83\n", "record": {"elapsed": {"repr": "0:01:12.487288", "seconds": 72.487288}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1945074.83, today=1945074.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.766192+05:30", "timestamp": 1755780854.766192}}}
{"text": "2025-08-21 18:24:14.766 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2942047.41, day: 2942047.41\n", "record": {"elapsed": {"repr": "0:01:12.487699", "seconds": 72.487699}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2942047.41, day: 2942047.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.766603+05:30", "timestamp": 1755780854.766603}}}
{"text": "2025-08-21 18:24:14.766 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:12.488028", "seconds": 72.488028}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.766932+05:30", "timestamp": 1755780854.766932}}}
{"text": "2025-08-21 18:24:14.767 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:12.488400", "seconds": 72.4884}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.767304+05:30", "timestamp": 1755780854.767304}}}
{"text": "2025-08-21 18:24:14.767 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:12.488778", "seconds": 72.488778}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.767682+05:30", "timestamp": 1755780854.767682}}}
{"text": "2025-08-21 18:24:14.768 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:12.489161", "seconds": 72.489161}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.768065+05:30", "timestamp": 1755780854.768065}}}
{"text": "2025-08-21 18:24:14.768 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:14.764468+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:12.489559", "seconds": 72.489559}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:14.764468+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.768463+05:30", "timestamp": 1755780854.768463}}}
{"text": "2025-08-21 18:24:14.768 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2942047.41, day=2942047.41, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=333.36, unrealized=67630.1, today_pnl=67630.1), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1469.65, unrealized=-60341.83, today_pnl=-60341.83), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.6, unrealized=909541.14, today_pnl=909541.14), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.57, unrealized=80143.17, today_pnl=80143.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.36, unrealized=1945074.83, today_pnl=1945074.83)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 14, 764468, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:12.490048", "seconds": 72.490048}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2942047.41, day=2942047.41, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=333.36, unrealized=67630.1, today_pnl=67630.1), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1469.65, unrealized=-60341.83, today_pnl=-60341.83), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.6, unrealized=909541.14, today_pnl=909541.14), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.57, unrealized=80143.17, today_pnl=80143.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.36, unrealized=1945074.83, today_pnl=1945074.83)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 14, 764468, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.768952+05:30", "timestamp": 1755780854.768952}}}
{"text": "2025-08-21 18:24:14.769 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2942047.41, day=2942047.41, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=333.36, unrealized=67630.1, today_pnl=67630.1), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1469.65, unrealized=-60341.83, today_pnl=-60341.83), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.6, unrealized=909541.14, today_pnl=909541.14), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.57, unrealized=80143.17, today_pnl=80143.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.36, unrealized=1945074.83, today_pnl=1945074.83)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 14, 764468, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:12.490659", "seconds": 72.490659}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2942047.41, day=2942047.41, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=333.36, unrealized=67630.1, today_pnl=67630.1), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1469.65, unrealized=-60341.83, today_pnl=-60341.83), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.6, unrealized=909541.14, today_pnl=909541.14), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.57, unrealized=80143.17, today_pnl=80143.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.36, unrealized=1945074.83, today_pnl=1945074.83)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 14, 764468, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.769563+05:30", "timestamp": 1755780854.769563}}}
{"text": "2025-08-21 18:24:14.770 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2942047.41\n", "record": {"elapsed": {"repr": "0:01:12.491139", "seconds": 72.491139}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2942047.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.770043+05:30", "timestamp": 1755780854.770043}}}
{"text": "2025-08-21 18:24:14.770 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=80\n", "record": {"elapsed": {"repr": "0:01:12.491581", "seconds": 72.491581}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=80", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:14.770485+05:30", "timestamp": 1755780854.770485}}}
{"text": "2025-08-21 18:24:16.486 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:14.207732", "seconds": 74.207732}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.486636+05:30", "timestamp": 1755780856.486636}}}
{"text": "2025-08-21 18:24:16.491 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:14.212211", "seconds": 74.212211}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.491115+05:30", "timestamp": 1755780856.491115}}}
{"text": "2025-08-21 18:24:16.496 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=67630.1, today=67630.1\n", "record": {"elapsed": {"repr": "0:01:14.217843", "seconds": 74.217843}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=67630.1, today=67630.1", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.496747+05:30", "timestamp": 1755780856.496747}}}
{"text": "2025-08-21 18:24:16.502 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-60341.83, today=-60341.83\n", "record": {"elapsed": {"repr": "0:01:14.223841", "seconds": 74.223841}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-60341.83, today=-60341.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.502745+05:30", "timestamp": 1755780856.502745}}}
{"text": "2025-08-21 18:24:16.505 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=909541.14, today=909541.14\n", "record": {"elapsed": {"repr": "0:01:14.226426", "seconds": 74.226426}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=909541.14, today=909541.14", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.505330+05:30", "timestamp": 1755780856.50533}}}
{"text": "2025-08-21 18:24:16.512 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=80143.17, today=80143.17\n", "record": {"elapsed": {"repr": "0:01:14.233328", "seconds": 74.233328}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=80143.17, today=80143.17", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.512232+05:30", "timestamp": 1755780856.512232}}}
{"text": "2025-08-21 18:24:16.519 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1945074.83, today=1945074.83\n", "record": {"elapsed": {"repr": "0:01:14.240105", "seconds": 74.240105}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1945074.83, today=1945074.83", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.519009+05:30", "timestamp": 1755780856.519009}}}
{"text": "2025-08-21 18:24:16.520 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2942047.41, day: 2942047.41\n", "record": {"elapsed": {"repr": "0:01:14.241982", "seconds": 74.241982}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2942047.41, day: 2942047.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.520886+05:30", "timestamp": 1755780856.520886}}}
{"text": "2025-08-21 18:24:16.524 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:14.245411", "seconds": 74.245411}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.524315+05:30", "timestamp": 1755780856.524315}}}
{"text": "2025-08-21 18:24:16.526 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:14.247372", "seconds": 74.247372}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.526276+05:30", "timestamp": 1755780856.526276}}}
{"text": "2025-08-21 18:24:16.527 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:14.248530", "seconds": 74.24853}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.527434+05:30", "timestamp": 1755780856.527434}}}
{"text": "2025-08-21 18:24:16.529 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:14.250383", "seconds": 74.250383}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.529287+05:30", "timestamp": 1755780856.529287}}}
{"text": "2025-08-21 18:24:16.531 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:16.496535+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:14.252968", "seconds": 74.252968}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:16.496535+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.531872+05:30", "timestamp": 1755780856.531872}}}
{"text": "2025-08-21 18:24:16.537 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2942047.41, day=2942047.41, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=333.36, unrealized=67630.1, today_pnl=67630.1), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1469.65, unrealized=-60341.83, today_pnl=-60341.83), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.6, unrealized=909541.14, today_pnl=909541.14), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.57, unrealized=80143.17, today_pnl=80143.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.36, unrealized=1945074.83, today_pnl=1945074.83)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 16, 496535, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:14.258355", "seconds": 74.258355}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2942047.41, day=2942047.41, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=333.36, unrealized=67630.1, today_pnl=67630.1), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1469.65, unrealized=-60341.83, today_pnl=-60341.83), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.6, unrealized=909541.14, today_pnl=909541.14), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.57, unrealized=80143.17, today_pnl=80143.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.36, unrealized=1945074.83, today_pnl=1945074.83)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 16, 496535, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.537259+05:30", "timestamp": 1755780856.537259}}}
{"text": "2025-08-21 18:24:16.540 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2942047.41, day=2942047.41, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=333.36, unrealized=67630.1, today_pnl=67630.1), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1469.65, unrealized=-60341.83, today_pnl=-60341.83), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.6, unrealized=909541.14, today_pnl=909541.14), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.57, unrealized=80143.17, today_pnl=80143.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.36, unrealized=1945074.83, today_pnl=1945074.83)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 16, 496535, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:14.261806", "seconds": 74.261806}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2942047.41, day=2942047.41, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=333.36, unrealized=67630.1, today_pnl=67630.1), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1469.65, unrealized=-60341.83, today_pnl=-60341.83), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2306.6, unrealized=909541.14, today_pnl=909541.14), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=259.57, unrealized=80143.17, today_pnl=80143.17), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.36, unrealized=1945074.83, today_pnl=1945074.83)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 16, 496535, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.540710+05:30", "timestamp": 1755780856.54071}}}
{"text": "2025-08-21 18:24:16.543 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.264766", "seconds": 74.264766}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:16.543670+05:30", "timestamp": 1755780856.54367}}}
{"text": "2025-08-21 18:24:16.543 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2942047.41\n", "record": {"elapsed": {"repr": "0:01:14.265067", "seconds": 74.265067}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2942047.41", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.543971+05:30", "timestamp": 1755780856.543971}}}
{"text": "2025-08-21 18:24:16.544 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.266050", "seconds": 74.26605}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:16.544954+05:30", "timestamp": 1755780856.544954}}}
{"text": "2025-08-21 18:24:16.547 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=81\n", "record": {"elapsed": {"repr": "0:01:14.268347", "seconds": 74.268347}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=81", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:16.547251+05:30", "timestamp": 1755780856.547251}}}
{"text": "2025-08-21 18:24:16.547 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.268819", "seconds": 74.268819}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:16.547723+05:30", "timestamp": 1755780856.547723}}}
{"text": "2025-08-21 18:24:16.550 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.271177", "seconds": 74.271177}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:16.550081+05:30", "timestamp": 1755780856.550081}}}
{"text": "2025-08-21 18:24:16.553 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.274929", "seconds": 74.274929}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:16.553833+05:30", "timestamp": 1755780856.553833}}}
{"text": "2025-08-21 18:24:16.557 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.278703", "seconds": 74.278703}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:16.557607+05:30", "timestamp": 1755780856.557607}}}
{"text": "2025-08-21 18:24:16.559 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.280783", "seconds": 74.280783}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:16.559687+05:30", "timestamp": 1755780856.559687}}}
{"text": "2025-08-21 18:24:16.563 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.284725", "seconds": 74.284725}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:16.563629+05:30", "timestamp": 1755780856.563629}}}
{"text": "2025-08-21 18:24:16.566 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.288057", "seconds": 74.288057}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:16.566961+05:30", "timestamp": 1755780856.566961}}}
{"text": "2025-08-21 18:24:16.569 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:14.290826", "seconds": 74.290826}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:16.569730+05:30", "timestamp": 1755780856.56973}}}
{"text": "2025-08-21 18:24:18.090 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=82\n", "record": {"elapsed": {"repr": "0:01:15.812005", "seconds": 75.812005}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=82", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.090909+05:30", "timestamp": 1755780858.090909}}}
{"text": "2025-08-21 18:24:18.154 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:15.875489", "seconds": 75.875489}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.154393+05:30", "timestamp": 1755780858.154393}}}
{"text": "2025-08-21 18:24:18.155 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:15.876311", "seconds": 75.876311}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.155215+05:30", "timestamp": 1755780858.155215}}}
{"text": "2025-08-21 18:24:18.155 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=69190.05, today=69190.05\n", "record": {"elapsed": {"repr": "0:01:15.876836", "seconds": 75.876836}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=69190.05, today=69190.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.155740+05:30", "timestamp": 1755780858.15574}}}
{"text": "2025-08-21 18:24:18.156 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-64002.0, today=-64002.0\n", "record": {"elapsed": {"repr": "0:01:15.877187", "seconds": 75.877187}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-64002.0, today=-64002.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.156091+05:30", "timestamp": 1755780858.156091}}}
{"text": "2025-08-21 18:24:18.156 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=915964.39, today=915964.39\n", "record": {"elapsed": {"repr": "0:01:15.877599", "seconds": 75.877599}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=915964.39, today=915964.39", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.156503+05:30", "timestamp": 1755780858.156503}}}
{"text": "2025-08-21 18:24:18.156 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79720.19, today=79720.19\n", "record": {"elapsed": {"repr": "0:01:15.877942", "seconds": 75.877942}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79720.19, today=79720.19", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.156846+05:30", "timestamp": 1755780858.156846}}}
{"text": "2025-08-21 18:24:18.157 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1945345.16, today=1945345.16\n", "record": {"elapsed": {"repr": "0:01:15.878262", "seconds": 75.878262}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1945345.16, today=1945345.16", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.157166+05:30", "timestamp": 1755780858.157166}}}
{"text": "2025-08-21 18:24:18.157 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2946217.79, day: 2946217.79\n", "record": {"elapsed": {"repr": "0:01:15.878569", "seconds": 75.878569}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2946217.79, day: 2946217.79", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.157473+05:30", "timestamp": 1755780858.157473}}}
{"text": "2025-08-21 18:24:18.157 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:15.878839", "seconds": 75.878839}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.157743+05:30", "timestamp": 1755780858.157743}}}
{"text": "2025-08-21 18:24:18.158 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:15.879277", "seconds": 75.879277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.158181+05:30", "timestamp": 1755780858.158181}}}
{"text": "2025-08-21 18:24:18.158 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:15.879667", "seconds": 75.879667}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.158571+05:30", "timestamp": 1755780858.158571}}}
{"text": "2025-08-21 18:24:18.158 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:15.879978", "seconds": 75.879978}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.158882+05:30", "timestamp": 1755780858.158882}}}
{"text": "2025-08-21 18:24:18.159 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:18.155663+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:15.880363", "seconds": 75.880363}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:18.155663+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.159267+05:30", "timestamp": 1755780858.159267}}}
{"text": "2025-08-21 18:24:18.159 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2946217.79, day=2946217.79, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.45, unrealized=69190.05, today_pnl=69190.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1493.57, unrealized=-64002.0, today_pnl=-64002.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2313.98, unrealized=915964.39, today_pnl=915964.39), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.83, unrealized=79720.19, today_pnl=79720.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.5, unrealized=1945345.16, today_pnl=1945345.16)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 18, 155663, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:15.880889", "seconds": 75.880889}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2946217.79, day=2946217.79, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.45, unrealized=69190.05, today_pnl=69190.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1493.57, unrealized=-64002.0, today_pnl=-64002.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2313.98, unrealized=915964.39, today_pnl=915964.39), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.83, unrealized=79720.19, today_pnl=79720.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.5, unrealized=1945345.16, today_pnl=1945345.16)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 18, 155663, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.159793+05:30", "timestamp": 1755780858.159793}}}
{"text": "2025-08-21 18:24:18.160 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2946217.79, day=2946217.79, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.45, unrealized=69190.05, today_pnl=69190.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1493.57, unrealized=-64002.0, today_pnl=-64002.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2313.98, unrealized=915964.39, today_pnl=915964.39), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.83, unrealized=79720.19, today_pnl=79720.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.5, unrealized=1945345.16, today_pnl=1945345.16)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 18, 155663, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:15.881457", "seconds": 75.881457}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2946217.79, day=2946217.79, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.45, unrealized=69190.05, today_pnl=69190.05), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1493.57, unrealized=-64002.0, today_pnl=-64002.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2313.98, unrealized=915964.39, today_pnl=915964.39), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=262.83, unrealized=79720.19, today_pnl=79720.19), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1138.5, unrealized=1945345.16, today_pnl=1945345.16)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 18, 155663, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.160361+05:30", "timestamp": 1755780858.160361}}}
{"text": "2025-08-21 18:24:18.160 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2946217.79\n", "record": {"elapsed": {"repr": "0:01:15.881983", "seconds": 75.881983}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2946217.79", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.160887+05:30", "timestamp": 1755780858.160887}}}
{"text": "2025-08-21 18:24:18.161 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=83\n", "record": {"elapsed": {"repr": "0:01:15.882622", "seconds": 75.882622}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=83", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.161526+05:30", "timestamp": 1755780858.161526}}}
{"text": "2025-08-21 18:24:18.440 | DEBUG    | app.ws.live:emit_delta:408 - Emitted holdings delta: seq=84\n", "record": {"elapsed": {"repr": "0:01:16.161191", "seconds": 76.161191}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted holdings delta: seq=84", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:18.440095+05:30", "timestamp": 1755780858.440095}}}
{"text": "2025-08-21 18:24:18.572 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:16.294048", "seconds": 76.294048}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:18.572952+05:30", "timestamp": 1755780858.572952}}}
{"text": "2025-08-21 18:24:18.573 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:16.294647", "seconds": 76.294647}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:18.573551+05:30", "timestamp": 1755780858.573551}}}
{"text": "2025-08-21 18:24:18.573 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:16.294994", "seconds": 76.294994}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:18.573898+05:30", "timestamp": 1755780858.573898}}}
{"text": "2025-08-21 18:24:18.574 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:16.295380", "seconds": 76.29538}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:18.574284+05:30", "timestamp": 1755780858.574284}}}
{"text": "2025-08-21 18:24:18.574 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:16.295711", "seconds": 76.295711}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:18.574615+05:30", "timestamp": 1755780858.574615}}}
{"text": "2025-08-21 18:24:18.574 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:16.296089", "seconds": 76.296089}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:18.574993+05:30", "timestamp": 1755780858.574993}}}
{"text": "2025-08-21 18:24:18.575 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:16.296482", "seconds": 76.296482}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:18.575386+05:30", "timestamp": 1755780858.575386}}}
{"text": "2025-08-21 18:24:18.575 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:16.297008", "seconds": 76.297008}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:18.575912+05:30", "timestamp": 1755780858.575912}}}
{"text": "2025-08-21 18:24:18.576 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:16.297428", "seconds": 76.297428}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:18.576332+05:30", "timestamp": 1755780858.576332}}}
{"text": "2025-08-21 18:24:18.576 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:01:16.297825", "seconds": 76.297825}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 12084, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:18.576729+05:30", "timestamp": 1755780858.576729}}}
{"text": "2025-08-21 18:24:19.977 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=85\n", "record": {"elapsed": {"repr": "0:01:17.698225", "seconds": 77.698225}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=85", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:19.977129+05:30", "timestamp": 1755780859.977129}}}
{"text": "2025-08-21 18:24:20.074 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:01:17.795923", "seconds": 77.795923}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.074827+05:30", "timestamp": 1755780860.074827}}}
{"text": "2025-08-21 18:24:20.075 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:01:17.796595", "seconds": 77.796595}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.075499+05:30", "timestamp": 1755780860.075499}}}
{"text": "2025-08-21 18:24:20.075 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=69048.0, today=69048.0\n", "record": {"elapsed": {"repr": "0:01:17.796961", "seconds": 77.796961}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=69048.0, today=69048.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.075865+05:30", "timestamp": 1755780860.075865}}}
{"text": "2025-08-21 18:24:20.076 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-66297.89, today=-66297.89\n", "record": {"elapsed": {"repr": "0:01:17.797449", "seconds": 77.797449}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-66297.89, today=-66297.89", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.076353+05:30", "timestamp": 1755780860.076353}}}
{"text": "2025-08-21 18:24:20.076 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=942396.24, today=942396.24\n", "record": {"elapsed": {"repr": "0:01:17.797888", "seconds": 77.797888}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=942396.24, today=942396.24", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.076792+05:30", "timestamp": 1755780860.076792}}}
{"text": "2025-08-21 18:24:20.077 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=79625.93, today=79625.93\n", "record": {"elapsed": {"repr": "0:01:17.798323", "seconds": 77.798323}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=79625.93, today=79625.93", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.077227+05:30", "timestamp": 1755780860.077227}}}
{"text": "2025-08-21 18:24:20.077 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1963405.77, today=1963405.77\n", "record": {"elapsed": {"repr": "0:01:17.798754", "seconds": 77.798754}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1963405.77, today=1963405.77", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.077658+05:30", "timestamp": 1755780860.077658}}}
{"text": "2025-08-21 18:24:20.078 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2988178.05, day: 2988178.05\n", "record": {"elapsed": {"repr": "0:01:17.799178", "seconds": 77.799178}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2988178.05, day: 2988178.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.078082+05:30", "timestamp": 1755780860.078082}}}
{"text": "2025-08-21 18:24:20.078 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:01:17.799457", "seconds": 77.799457}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.078361+05:30", "timestamp": 1755780860.078361}}}
{"text": "2025-08-21 18:24:20.078 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:01:17.799832", "seconds": 77.799832}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.078736+05:30", "timestamp": 1755780860.078736}}}
{"text": "2025-08-21 18:24:20.079 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:01:17.800186", "seconds": 77.800186}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.079090+05:30", "timestamp": 1755780860.07909}}}
{"text": "2025-08-21 18:24:20.079 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:01:17.800537", "seconds": 77.800537}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.079441+05:30", "timestamp": 1755780860.079441}}}
{"text": "2025-08-21 18:24:20.079 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:20.075815+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:01:17.800995", "seconds": 77.800995}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:20.075815+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.079899+05:30", "timestamp": 1755780860.079899}}}
{"text": "2025-08-21 18:24:20.080 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2988178.05, day=2988178.05, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.17, unrealized=69048.0, today_pnl=69048.0), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1508.58, unrealized=-66297.89, today_pnl=-66297.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2344.36, unrealized=942396.24, today_pnl=942396.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=263.55, unrealized=79625.93, today_pnl=79625.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1148.12, unrealized=1963405.77, today_pnl=1963405.77)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 20, 75815, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:01:17.801432", "seconds": 77.801432}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2988178.05, day=2988178.05, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.17, unrealized=69048.0, today_pnl=69048.0), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1508.58, unrealized=-66297.89, today_pnl=-66297.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2344.36, unrealized=942396.24, today_pnl=942396.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=263.55, unrealized=79625.93, today_pnl=79625.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1148.12, unrealized=1963405.77, today_pnl=1963405.77)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 20, 75815, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.080336+05:30", "timestamp": 1755780860.080336}}}
{"text": "2025-08-21 18:24:20.080 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2988178.05, day=2988178.05, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.17, unrealized=69048.0, today_pnl=69048.0), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1508.58, unrealized=-66297.89, today_pnl=-66297.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2344.36, unrealized=942396.24, today_pnl=942396.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=263.55, unrealized=79625.93, today_pnl=79625.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1148.12, unrealized=1963405.77, today_pnl=1963405.77)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 20, 75815, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:01:17.801836", "seconds": 77.801836}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2988178.05, day=2988178.05, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=505, avg=199.44, ltp=336.17, unrealized=69048.0, today_pnl=69048.0), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=153, avg=1075.26, ltp=1508.58, unrealized=-66297.89, today_pnl=-66297.89), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=870, avg=1261.15, ltp=2344.36, unrealized=942396.24, today_pnl=942396.24), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=130, avg=876.06, ltp=263.55, unrealized=79625.93, today_pnl=79625.93), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=1878, avg=102.64, ltp=1148.12, unrealized=1963405.77, today_pnl=1963405.77)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 20, 75815, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.080740+05:30", "timestamp": 1755780860.08074}}}
{"text": "2025-08-21 18:24:20.081 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2988178.05\n", "record": {"elapsed": {"repr": "0:01:17.802277", "seconds": 77.802277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2988178.05", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.081181+05:30", "timestamp": 1755780860.081181}}}
{"text": "2025-08-21 18:24:20.081 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=86\n", "record": {"elapsed": {"repr": "0:01:17.802810", "seconds": 77.80281}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=86", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.081714+05:30", "timestamp": 1755780860.081714}}}
{"text": "2025-08-21 18:24:20.350 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:01:18.071327", "seconds": 78.071327}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.350231+05:30", "timestamp": 1755780860.350231}}}
{"text": "2025-08-21 18:24:20.350 | INFO     | app.ws.live:shutdown_event:557 - Stopping WebSocket polling...\n", "record": {"elapsed": {"repr": "0:01:18.072060", "seconds": 78.07206}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 557, "message": "Stopping WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.350964+05:30", "timestamp": 1755780860.350964}}}
{"text": "2025-08-21 18:24:20.351 | INFO     | app.main:shutdown_event:35 - Dhan Automation Backend Application shutting down\n", "record": {"elapsed": {"repr": "0:01:18.072454", "seconds": 78.072454}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "shutdown_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 35, "message": "Dhan Automation Backend Application shutting down", "module": "main", "name": "app.main", "process": {"id": 8888, "name": "MainProcess"}, "thread": {"id": 22716, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:20.351358+05:30", "timestamp": 1755780860.351358}}}
{"text": "2025-08-21 18:24:25.584 | INFO     | app.services.dhan_client:_initialize_mock_data:53 - Initializing mock data...\n", "record": {"elapsed": {"repr": "0:00:00.024087", "seconds": 0.024087}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 53, "message": "Initializing mock data...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.584749+05:30", "timestamp": 1755780865.584749}}}
{"text": "2025-08-21 18:24:25.585 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for RELIANCE: qty=848, avg_price=873.1602677849963, ltp=985.5834177305406\n", "record": {"elapsed": {"repr": "0:00:00.024844", "seconds": 0.024844}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for RELIANCE: qty=848, avg_price=873.1602677849963, ltp=985.5834177305406", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.585506+05:30", "timestamp": 1755780865.585506}}}
{"text": "2025-08-21 18:24:25.585 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for TCS: qty=4221, avg_price=658.4603487648982, ltp=572.4618154371208\n", "record": {"elapsed": {"repr": "0:00:00.025236", "seconds": 0.025236}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for TCS: qty=4221, avg_price=658.4603487648982, ltp=572.4618154371208", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.585898+05:30", "timestamp": 1755780865.585898}}}
{"text": "2025-08-21 18:24:25.586 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HDFC: qty=979, avg_price=1761.7520574924522, ltp=1897.1037359661548\n", "record": {"elapsed": {"repr": "0:00:00.025720", "seconds": 0.02572}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HDFC: qty=979, avg_price=1761.7520574924522, ltp=1897.1037359661548", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.586382+05:30", "timestamp": 1755780865.586382}}}
{"text": "2025-08-21 18:24:25.586 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for INFY: qty=582, avg_price=1189.6063933241012, ltp=952.7521745310182\n", "record": {"elapsed": {"repr": "0:00:00.026059", "seconds": 0.026059}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for INFY: qty=582, avg_price=1189.6063933241012, ltp=952.7521745310182", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.586721+05:30", "timestamp": 1755780865.586721}}}
{"text": "2025-08-21 18:24:25.587 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ICICIBANK: qty=2041, avg_price=1418.2294991774656, ltp=1582.4100896070402\n", "record": {"elapsed": {"repr": "0:00:00.026394", "seconds": 0.026394}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ICICIBANK: qty=2041, avg_price=1418.2294991774656, ltp=1582.4100896070402", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.587056+05:30", "timestamp": 1755780865.587056}}}
{"text": "2025-08-21 18:24:25.587 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for HINDUNILVR: qty=4488, avg_price=974.1842461283204, ltp=973.4142406083567\n", "record": {"elapsed": {"repr": "0:00:00.026813", "seconds": 0.026813}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for HINDUNILVR: qty=4488, avg_price=974.1842461283204, ltp=973.4142406083567", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.587475+05:30", "timestamp": 1755780865.587475}}}
{"text": "2025-08-21 18:24:25.587 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for ITC: qty=3308, avg_price=568.245248611691, ltp=499.48010263011946\n", "record": {"elapsed": {"repr": "0:00:00.027162", "seconds": 0.027162}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for ITC: qty=3308, avg_price=568.245248611691, ltp=499.48010263011946", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.587824+05:30", "timestamp": 1755780865.587824}}}
{"text": "2025-08-21 18:24:25.588 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for SBIN: qty=4627, avg_price=141.27370233648222, ltp=137.40702130538685\n", "record": {"elapsed": {"repr": "0:00:00.027556", "seconds": 0.027556}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for SBIN: qty=4627, avg_price=141.27370233648222, ltp=137.40702130538685", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.588218+05:30", "timestamp": 1755780865.588218}}}
{"text": "2025-08-21 18:24:25.588 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for BHARTIARTL: qty=2805, avg_price=1130.5900795419582, ltp=1060.1101705842254\n", "record": {"elapsed": {"repr": "0:00:00.027935", "seconds": 0.027935}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for BHARTIARTL: qty=2805, avg_price=1130.5900795419582, ltp=1060.1101705842254", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.588597+05:30", "timestamp": 1755780865.588597}}}
{"text": "2025-08-21 18:24:25.588 | INFO     | app.services.dhan_client:_initialize_mock_data:75 - Created mock holding for KOTAKBANK: qty=4565, avg_price=1248.5686185272987, ltp=1169.1094376234307\n", "record": {"elapsed": {"repr": "0:00:00.028277", "seconds": 0.028277}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 75, "message": "Created mock holding for KOTAKBANK: qty=4565, avg_price=1248.5686185272987, ltp=1169.1094376234307", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.588939+05:30", "timestamp": 1755780865.588939}}}
{"text": "2025-08-21 18:24:25.589 | INFO     | app.services.dhan_client:_initialize_mock_data:77 - Created 10 mock holdings\n", "record": {"elapsed": {"repr": "0:00:00.028618", "seconds": 0.028618}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 77, "message": "Created 10 mock holdings", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.589280+05:30", "timestamp": 1755780865.58928}}}
{"text": "2025-08-21 18:24:25.589 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for RELIANCE: id=pos_001, qty=197, avg_price=154.33\n", "record": {"elapsed": {"repr": "0:00:00.028982", "seconds": 0.028982}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for RELIANCE: id=pos_001, qty=197, avg_price=154.33", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.589644+05:30", "timestamp": 1755780865.589644}}}
{"text": "2025-08-21 18:24:25.590 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for TCS: id=pos_002, qty=124, avg_price=358.73\n", "record": {"elapsed": {"repr": "0:00:00.029429", "seconds": 0.029429}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for TCS: id=pos_002, qty=124, avg_price=358.73", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.590091+05:30", "timestamp": 1755780865.590091}}}
{"text": "2025-08-21 18:24:25.590 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for HDFC: id=pos_003, qty=1509, avg_price=368.21\n", "record": {"elapsed": {"repr": "0:00:00.029772", "seconds": 0.029772}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for HDFC: id=pos_003, qty=1509, avg_price=368.21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.590434+05:30", "timestamp": 1755780865.590434}}}
{"text": "2025-08-21 18:24:25.590 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for INFY: id=pos_004, qty=1803, avg_price=133.36\n", "record": {"elapsed": {"repr": "0:00:00.030211", "seconds": 0.030211}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for INFY: id=pos_004, qty=1803, avg_price=133.36", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.590873+05:30", "timestamp": 1755780865.590873}}}
{"text": "2025-08-21 18:24:25.591 | INFO     | app.services.dhan_client:_initialize_mock_data:91 - Created mock position for ICICIBANK: id=pos_005, qty=800, avg_price=102.95\n", "record": {"elapsed": {"repr": "0:00:00.030626", "seconds": 0.030626}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 91, "message": "Created mock position for ICICIBANK: id=pos_005, qty=800, avg_price=102.95", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.591288+05:30", "timestamp": 1755780865.591288}}}
{"text": "2025-08-21 18:24:25.591 | INFO     | app.services.dhan_client:_initialize_mock_data:93 - Created 5 mock positions\n", "record": {"elapsed": {"repr": "0:00:00.030990", "seconds": 0.03099}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 93, "message": "Created 5 mock positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.591652+05:30", "timestamp": 1755780865.591652}}}
{"text": "2025-08-21 18:24:25.592 | INFO     | app.services.dhan_client:_initialize_mock_data:111 - Created 10 mock orders\n", "record": {"elapsed": {"repr": "0:00:00.031737", "seconds": 0.031737}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 111, "message": "Created 10 mock orders", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.592399+05:30", "timestamp": 1755780865.592399}}}
{"text": "2025-08-21 18:24:25.593 | INFO     | app.services.dhan_client:_initialize_mock_data:127 - Created 20 mock trades\n", "record": {"elapsed": {"repr": "0:00:00.032378", "seconds": 0.032378}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 127, "message": "Created 20 mock trades", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.593040+05:30", "timestamp": 1755780865.59304}}}
{"text": "2025-08-21 18:24:25.593 | INFO     | app.services.dhan_client:_initialize_mock_data:128 - Mock data initialization completed successfully\n", "record": {"elapsed": {"repr": "0:00:00.032762", "seconds": 0.032762}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_initialize_mock_data", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 128, "message": "Mock data initialization completed successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.593424+05:30", "timestamp": 1755780865.593424}}}
{"text": "2025-08-21 18:24:25.607 | INFO     | app.main:<module>:38 - Starting Dhan Automation Backend Application\n", "record": {"elapsed": {"repr": "0:00:00.047293", "seconds": 0.047293}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "<module>", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 38, "message": "Starting Dhan Automation Backend Application", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.607955+05:30", "timestamp": 1755780865.607955}}}
{"text": "2025-08-21 18:24:25.609 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.049240", "seconds": 0.04924}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.609902+05:30", "timestamp": 1755780865.609902}}}
{"text": "2025-08-21 18:24:25.610 | INFO     | app.main:startup_event:30 - Dhan Automation Backend Application started successfully\n", "record": {"elapsed": {"repr": "0:00:00.049791", "seconds": 0.049791}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 30, "message": "Dhan Automation Backend Application started successfully", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.610453+05:30", "timestamp": 1755780865.610453}}}
{"text": "2025-08-21 18:24:25.610 | INFO     | app.main:startup_event:31 - Using MOCK data mode\n", "record": {"elapsed": {"repr": "0:00:00.050269", "seconds": 0.050269}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 31, "message": "Using MOCK data mode", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.610931+05:30", "timestamp": 1755780865.610931}}}
{"text": "2025-08-21 18:24:25.611 | INFO     | app.ws.live:startup_event:551 - Starting WebSocket polling...\n", "record": {"elapsed": {"repr": "0:00:00.050682", "seconds": 0.050682}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "startup_event", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 551, "message": "Starting WebSocket polling...", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.611344+05:30", "timestamp": 1755780865.611344}}}
{"text": "2025-08-21 18:24:25.896 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.335660", "seconds": 0.33566}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.896322+05:30", "timestamp": 1755780865.896322}}}
{"text": "2025-08-21 18:24:25.912 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.351338", "seconds": 0.351338}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.912000+05:30", "timestamp": 1755780865.912}}}
{"text": "2025-08-21 18:24:25.913 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:00.352628", "seconds": 0.352628}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.913290+05:30", "timestamp": 1755780865.91329}}}
{"text": "2025-08-21 18:24:25.913 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:00.353213", "seconds": 0.353213}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.913875+05:30", "timestamp": 1755780865.913875}}}
{"text": "2025-08-21 18:24:25.926 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.365618", "seconds": 0.365618}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.926280+05:30", "timestamp": 1755780865.92628}}}
{"text": "2025-08-21 18:24:25.943 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.382666", "seconds": 0.382666}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.943328+05:30", "timestamp": 1755780865.943328}}}
{"text": "2025-08-21 18:24:25.961 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.401099", "seconds": 0.401099}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.961761+05:30", "timestamp": 1755780865.961761}}}
{"text": "2025-08-21 18:24:25.978 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.417558", "seconds": 0.417558}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.978220+05:30", "timestamp": 1755780865.97822}}}
{"text": "2025-08-21 18:24:25.980 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:00.419488", "seconds": 0.419488}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.980150+05:30", "timestamp": 1755780865.98015}}}
{"text": "2025-08-21 18:24:25.981 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:00.420492", "seconds": 0.420492}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.981154+05:30", "timestamp": 1755780865.981154}}}
{"text": "2025-08-21 18:24:25.995 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.434746", "seconds": 0.434746}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.995408+05:30", "timestamp": 1755780865.995408}}}
{"text": "2025-08-21 18:24:25.997 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:00.436911", "seconds": 0.436911}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.997573+05:30", "timestamp": 1755780865.997573}}}
{"text": "2025-08-21 18:24:25.998 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:00.437897", "seconds": 0.437897}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:25.998559+05:30", "timestamp": 1755780865.998559}}}
{"text": "2025-08-21 18:24:26.012 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.451833", "seconds": 0.451833}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.012495+05:30", "timestamp": 1755780866.012495}}}
{"text": "2025-08-21 18:24:26.027 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.466992", "seconds": 0.466992}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.027654+05:30", "timestamp": 1755780866.027654}}}
{"text": "2025-08-21 18:24:26.045 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.484370", "seconds": 0.48437}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.045032+05:30", "timestamp": 1755780866.045032}}}
{"text": "2025-08-21 18:24:26.061 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.501017", "seconds": 0.501017}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.061679+05:30", "timestamp": 1755780866.061679}}}
{"text": "2025-08-21 18:24:26.078 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.517363", "seconds": 0.517363}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.078025+05:30", "timestamp": 1755780866.078025}}}
{"text": "2025-08-21 18:24:26.100 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.540063", "seconds": 0.540063}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.100725+05:30", "timestamp": 1755780866.100725}}}
{"text": "2025-08-21 18:24:26.114 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.553704", "seconds": 0.553704}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.114366+05:30", "timestamp": 1755780866.114366}}}
{"text": "2025-08-21 18:24:26.131 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.570398", "seconds": 0.570398}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.131060+05:30", "timestamp": 1755780866.13106}}}
{"text": "2025-08-21 18:24:26.145 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.584461", "seconds": 0.584461}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.145123+05:30", "timestamp": 1755780866.145123}}}
{"text": "2025-08-21 18:24:26.160 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.600210", "seconds": 0.60021}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.160872+05:30", "timestamp": 1755780866.160872}}}
{"text": "2025-08-21 18:24:26.178 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.617762", "seconds": 0.617762}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.178424+05:30", "timestamp": 1755780866.178424}}}
{"text": "2025-08-21 18:24:26.187 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:00.627029", "seconds": 0.627029}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.187691+05:30", "timestamp": 1755780866.187691}}}
{"text": "2025-08-21 18:24:26.188 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:00.627735", "seconds": 0.627735}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.188397+05:30", "timestamp": 1755780866.188397}}}
{"text": "2025-08-21 18:24:26.194 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.633550", "seconds": 0.63355}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.194212+05:30", "timestamp": 1755780866.194212}}}
{"text": "2025-08-21 18:24:26.211 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.650720", "seconds": 0.65072}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.211382+05:30", "timestamp": 1755780866.211382}}}
{"text": "2025-08-21 18:24:26.228 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.667576", "seconds": 0.667576}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.228238+05:30", "timestamp": 1755780866.228238}}}
{"text": "2025-08-21 18:24:26.238 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:00.677467", "seconds": 0.677467}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.238129+05:30", "timestamp": 1755780866.238129}}}
{"text": "2025-08-21 18:24:26.238 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:00.678151", "seconds": 0.678151}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.238813+05:30", "timestamp": 1755780866.238813}}}
{"text": "2025-08-21 18:24:26.243 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.682753", "seconds": 0.682753}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.243415+05:30", "timestamp": 1755780866.243415}}}
{"text": "2025-08-21 18:24:26.260 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.700047", "seconds": 0.700047}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.260709+05:30", "timestamp": 1755780866.260709}}}
{"text": "2025-08-21 18:24:26.277 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.716664", "seconds": 0.716664}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.277326+05:30", "timestamp": 1755780866.277326}}}
{"text": "2025-08-21 18:24:26.279 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:00.718940", "seconds": 0.71894}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.279602+05:30", "timestamp": 1755780866.279602}}}
{"text": "2025-08-21 18:24:26.280 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:00.719589", "seconds": 0.719589}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.280251+05:30", "timestamp": 1755780866.280251}}}
{"text": "2025-08-21 18:24:26.294 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.733522", "seconds": 0.733522}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.294184+05:30", "timestamp": 1755780866.294184}}}
{"text": "2025-08-21 18:24:26.310 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.750234", "seconds": 0.750234}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.310896+05:30", "timestamp": 1755780866.310896}}}
{"text": "2025-08-21 18:24:26.328 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.767363", "seconds": 0.767363}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.328025+05:30", "timestamp": 1755780866.328025}}}
{"text": "2025-08-21 18:24:26.344 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.783691", "seconds": 0.783691}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.344353+05:30", "timestamp": 1755780866.344353}}}
{"text": "2025-08-21 18:24:26.346 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:00.785351", "seconds": 0.785351}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.346013+05:30", "timestamp": 1755780866.346013}}}
{"text": "2025-08-21 18:24:26.346 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:00.785950", "seconds": 0.78595}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.346612+05:30", "timestamp": 1755780866.346612}}}
{"text": "2025-08-21 18:24:26.363 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.803007", "seconds": 0.803007}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.363669+05:30", "timestamp": 1755780866.363669}}}
{"text": "2025-08-21 18:24:26.376 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.815973", "seconds": 0.815973}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.376635+05:30", "timestamp": 1755780866.376635}}}
{"text": "2025-08-21 18:24:26.394 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.833850", "seconds": 0.83385}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.394512+05:30", "timestamp": 1755780866.394512}}}
{"text": "2025-08-21 18:24:26.410 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.850025", "seconds": 0.850025}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.410687+05:30", "timestamp": 1755780866.410687}}}
{"text": "2025-08-21 18:24:26.427 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.866964", "seconds": 0.866964}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.427626+05:30", "timestamp": 1755780866.427626}}}
{"text": "2025-08-21 18:24:26.444 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.883772", "seconds": 0.883772}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.444434+05:30", "timestamp": 1755780866.444434}}}
{"text": "2025-08-21 18:24:26.445 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:00.885335", "seconds": 0.885335}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.445997+05:30", "timestamp": 1755780866.445997}}}
{"text": "2025-08-21 18:24:26.446 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:00.885989", "seconds": 0.885989}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.446651+05:30", "timestamp": 1755780866.446651}}}
{"text": "2025-08-21 18:24:26.460 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.900029", "seconds": 0.900029}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.460691+05:30", "timestamp": 1755780866.460691}}}
{"text": "2025-08-21 18:24:26.477 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.916627", "seconds": 0.916627}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.477289+05:30", "timestamp": 1755780866.477289}}}
{"text": "2025-08-21 18:24:26.494 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.933514", "seconds": 0.933514}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.494176+05:30", "timestamp": 1755780866.494176}}}
{"text": "2025-08-21 18:24:26.510 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.950021", "seconds": 0.950021}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.510683+05:30", "timestamp": 1755780866.510683}}}
{"text": "2025-08-21 18:24:26.512 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:00.951741", "seconds": 0.951741}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.512403+05:30", "timestamp": 1755780866.512403}}}
{"text": "2025-08-21 18:24:26.512 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:00.952327", "seconds": 0.952327}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.512989+05:30", "timestamp": 1755780866.512989}}}
{"text": "2025-08-21 18:24:26.528 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.967524", "seconds": 0.967524}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.528186+05:30", "timestamp": 1755780866.528186}}}
{"text": "2025-08-21 18:24:26.552 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:00.992073", "seconds": 0.992073}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.552735+05:30", "timestamp": 1755780866.552735}}}
{"text": "2025-08-21 18:24:26.568 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.008334", "seconds": 1.008334}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.568996+05:30", "timestamp": 1755780866.568996}}}
{"text": "2025-08-21 18:24:26.585 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.025179", "seconds": 1.025179}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.585841+05:30", "timestamp": 1755780866.585841}}}
{"text": "2025-08-21 18:24:26.602 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.041939", "seconds": 1.041939}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.602601+05:30", "timestamp": 1755780866.602601}}}
{"text": "2025-08-21 18:24:26.616 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.055883", "seconds": 1.055883}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.616545+05:30", "timestamp": 1755780866.616545}}}
{"text": "2025-08-21 18:24:26.633 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.072458", "seconds": 1.072458}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.633120+05:30", "timestamp": 1755780866.63312}}}
{"text": "2025-08-21 18:24:26.634 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:01.073702", "seconds": 1.073702}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.634364+05:30", "timestamp": 1755780866.634364}}}
{"text": "2025-08-21 18:24:26.635 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:01.074440", "seconds": 1.07444}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.635102+05:30", "timestamp": 1755780866.635102}}}
{"text": "2025-08-21 18:24:26.649 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.089037", "seconds": 1.089037}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.649699+05:30", "timestamp": 1755780866.649699}}}
{"text": "2025-08-21 18:24:26.670 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.109736", "seconds": 1.109736}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.670398+05:30", "timestamp": 1755780866.670398}}}
{"text": "2025-08-21 18:24:26.685 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.125092", "seconds": 1.125092}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.685754+05:30", "timestamp": 1755780866.685754}}}
{"text": "2025-08-21 18:24:26.687 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:01.126718", "seconds": 1.126718}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.687380+05:30", "timestamp": 1755780866.68738}}}
{"text": "2025-08-21 18:24:26.688 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:01.127375", "seconds": 1.127375}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.688037+05:30", "timestamp": 1755780866.688037}}}
{"text": "2025-08-21 18:24:26.702 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.141623", "seconds": 1.141623}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.702285+05:30", "timestamp": 1755780866.702285}}}
{"text": "2025-08-21 18:24:26.704 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:01.143454", "seconds": 1.143454}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.704116+05:30", "timestamp": 1755780866.704116}}}
{"text": "2025-08-21 18:24:26.704 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:01.144105", "seconds": 1.144105}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.704767+05:30", "timestamp": 1755780866.704767}}}
{"text": "2025-08-21 18:24:26.718 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.158218", "seconds": 1.158218}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.718880+05:30", "timestamp": 1755780866.71888}}}
{"text": "2025-08-21 18:24:26.733 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.172480", "seconds": 1.17248}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.733142+05:30", "timestamp": 1755780866.733142}}}
{"text": "2025-08-21 18:24:26.750 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.189862", "seconds": 1.189862}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.750524+05:30", "timestamp": 1755780866.750524}}}
{"text": "2025-08-21 18:24:26.769 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.208612", "seconds": 1.208612}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.769274+05:30", "timestamp": 1755780866.769274}}}
{"text": "2025-08-21 18:24:26.786 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.225392", "seconds": 1.225392}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.786054+05:30", "timestamp": 1755780866.786054}}}
{"text": "2025-08-21 18:24:26.802 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.241496", "seconds": 1.241496}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:26.802158+05:30", "timestamp": 1755780866.802158}}}
{"text": "2025-08-21 18:24:27.181 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.620839", "seconds": 1.620839}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.181501+05:30", "timestamp": 1755780867.181501}}}
{"text": "2025-08-21 18:24:27.241 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.681213", "seconds": 1.681213}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.241875+05:30", "timestamp": 1755780867.241875}}}
{"text": "2025-08-21 18:24:27.242 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.681791", "seconds": 1.681791}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.242453+05:30", "timestamp": 1755780867.242453}}}
{"text": "2025-08-21 18:24:27.242 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.682311", "seconds": 1.682311}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.242973+05:30", "timestamp": 1755780867.242973}}}
{"text": "2025-08-21 18:24:27.243 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.682872", "seconds": 1.682872}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.243534+05:30", "timestamp": 1755780867.243534}}}
{"text": "2025-08-21 18:24:27.243 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.683264", "seconds": 1.683264}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.243926+05:30", "timestamp": 1755780867.243926}}}
{"text": "2025-08-21 18:24:27.244 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.683875", "seconds": 1.683875}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.244537+05:30", "timestamp": 1755780867.244537}}}
{"text": "2025-08-21 18:24:27.245 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.684494", "seconds": 1.684494}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.245156+05:30", "timestamp": 1755780867.245156}}}
{"text": "2025-08-21 18:24:27.245 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.684957", "seconds": 1.684957}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.245619+05:30", "timestamp": 1755780867.245619}}}
{"text": "2025-08-21 18:24:27.246 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.685427", "seconds": 1.685427}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.246089+05:30", "timestamp": 1755780867.246089}}}
{"text": "2025-08-21 18:24:27.246 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.685838", "seconds": 1.685838}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.246500+05:30", "timestamp": 1755780867.2465}}}
{"text": "2025-08-21 18:24:27.246 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.686279", "seconds": 1.686279}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.246941+05:30", "timestamp": 1755780867.246941}}}
{"text": "2025-08-21 18:24:27.247 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.686786", "seconds": 1.686786}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.247448+05:30", "timestamp": 1755780867.247448}}}
{"text": "2025-08-21 18:24:27.247 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.687243", "seconds": 1.687243}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.247905+05:30", "timestamp": 1755780867.247905}}}
{"text": "2025-08-21 18:24:27.248 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.687668", "seconds": 1.687668}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.248330+05:30", "timestamp": 1755780867.24833}}}
{"text": "2025-08-21 18:24:27.248 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.688185", "seconds": 1.688185}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.248847+05:30", "timestamp": 1755780867.248847}}}
{"text": "2025-08-21 18:24:27.249 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.688620", "seconds": 1.68862}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.249282+05:30", "timestamp": 1755780867.249282}}}
{"text": "2025-08-21 18:24:27.249 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.689077", "seconds": 1.689077}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.249739+05:30", "timestamp": 1755780867.249739}}}
{"text": "2025-08-21 18:24:27.250 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.689511", "seconds": 1.689511}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.250173+05:30", "timestamp": 1755780867.250173}}}
{"text": "2025-08-21 18:24:27.250 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.689968", "seconds": 1.689968}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.250630+05:30", "timestamp": 1755780867.25063}}}
{"text": "2025-08-21 18:24:27.251 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.690451", "seconds": 1.690451}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.251113+05:30", "timestamp": 1755780867.251113}}}
{"text": "2025-08-21 18:24:27.251 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.690966", "seconds": 1.690966}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.251628+05:30", "timestamp": 1755780867.251628}}}
{"text": "2025-08-21 18:24:27.252 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.691498", "seconds": 1.691498}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.252160+05:30", "timestamp": 1755780867.25216}}}
{"text": "2025-08-21 18:24:27.252 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.691955", "seconds": 1.691955}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.252617+05:30", "timestamp": 1755780867.252617}}}
{"text": "2025-08-21 18:24:27.253 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.692537", "seconds": 1.692537}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.253199+05:30", "timestamp": 1755780867.253199}}}
{"text": "2025-08-21 18:24:27.253 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.692986", "seconds": 1.692986}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.253648+05:30", "timestamp": 1755780867.253648}}}
{"text": "2025-08-21 18:24:27.254 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.693471", "seconds": 1.693471}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.254133+05:30", "timestamp": 1755780867.254133}}}
{"text": "2025-08-21 18:24:27.254 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.693958", "seconds": 1.693958}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.254620+05:30", "timestamp": 1755780867.25462}}}
{"text": "2025-08-21 18:24:27.255 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.694404", "seconds": 1.694404}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.255066+05:30", "timestamp": 1755780867.255066}}}
{"text": "2025-08-21 18:24:27.255 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.694932", "seconds": 1.694932}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.255594+05:30", "timestamp": 1755780867.255594}}}
{"text": "2025-08-21 18:24:27.256 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.695385", "seconds": 1.695385}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.256047+05:30", "timestamp": 1755780867.256047}}}
{"text": "2025-08-21 18:24:27.256 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.695832", "seconds": 1.695832}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.256494+05:30", "timestamp": 1755780867.256494}}}
{"text": "2025-08-21 18:24:27.257 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.696354", "seconds": 1.696354}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.257016+05:30", "timestamp": 1755780867.257016}}}
{"text": "2025-08-21 18:24:27.257 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.696804", "seconds": 1.696804}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.257466+05:30", "timestamp": 1755780867.257466}}}
{"text": "2025-08-21 18:24:27.257 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.697185", "seconds": 1.697185}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.257847+05:30", "timestamp": 1755780867.257847}}}
{"text": "2025-08-21 18:24:27.258 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.697619", "seconds": 1.697619}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.258281+05:30", "timestamp": 1755780867.258281}}}
{"text": "2025-08-21 18:24:27.258 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.698070", "seconds": 1.69807}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.258732+05:30", "timestamp": 1755780867.258732}}}
{"text": "2025-08-21 18:24:27.259 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.698520", "seconds": 1.69852}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.259182+05:30", "timestamp": 1755780867.259182}}}
{"text": "2025-08-21 18:24:27.259 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.698952", "seconds": 1.698952}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.259614+05:30", "timestamp": 1755780867.259614}}}
{"text": "2025-08-21 18:24:27.260 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.699340", "seconds": 1.69934}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.260002+05:30", "timestamp": 1755780867.260002}}}
{"text": "2025-08-21 18:24:27.260 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.699776", "seconds": 1.699776}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.260438+05:30", "timestamp": 1755780867.260438}}}
{"text": "2025-08-21 18:24:27.260 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.700234", "seconds": 1.700234}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.260896+05:30", "timestamp": 1755780867.260896}}}
{"text": "2025-08-21 18:24:27.261 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.700586", "seconds": 1.700586}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.261248+05:30", "timestamp": 1755780867.261248}}}
{"text": "2025-08-21 18:24:27.261 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.701021", "seconds": 1.701021}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.261683+05:30", "timestamp": 1755780867.261683}}}
{"text": "2025-08-21 18:24:27.262 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.701401", "seconds": 1.701401}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.262063+05:30", "timestamp": 1755780867.262063}}}
{"text": "2025-08-21 18:24:27.262 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.701841", "seconds": 1.701841}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.262503+05:30", "timestamp": 1755780867.262503}}}
{"text": "2025-08-21 18:24:27.262 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.702252", "seconds": 1.702252}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.262914+05:30", "timestamp": 1755780867.262914}}}
{"text": "2025-08-21 18:24:27.263 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.702687", "seconds": 1.702687}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.263349+05:30", "timestamp": 1755780867.263349}}}
{"text": "2025-08-21 18:24:27.263 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.703078", "seconds": 1.703078}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.263740+05:30", "timestamp": 1755780867.26374}}}
{"text": "2025-08-21 18:24:27.264 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.703572", "seconds": 1.703572}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.264234+05:30", "timestamp": 1755780867.264234}}}
{"text": "2025-08-21 18:24:27.264 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.703956", "seconds": 1.703956}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.264618+05:30", "timestamp": 1755780867.264618}}}
{"text": "2025-08-21 18:24:27.265 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.704344", "seconds": 1.704344}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.265006+05:30", "timestamp": 1755780867.265006}}}
{"text": "2025-08-21 18:24:27.265 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.704715", "seconds": 1.704715}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.265377+05:30", "timestamp": 1755780867.265377}}}
{"text": "2025-08-21 18:24:27.265 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.705160", "seconds": 1.70516}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.265822+05:30", "timestamp": 1755780867.265822}}}
{"text": "2025-08-21 18:24:27.266 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.705623", "seconds": 1.705623}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.266285+05:30", "timestamp": 1755780867.266285}}}
{"text": "2025-08-21 18:24:27.266 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.706052", "seconds": 1.706052}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.266714+05:30", "timestamp": 1755780867.266714}}}
{"text": "2025-08-21 18:24:27.267 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Position is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:01.706539", "seconds": 1.706539}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Position is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.267201+05:30", "timestamp": 1755780867.267201}}}
{"text": "2025-08-21 18:24:27.267 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.706947", "seconds": 1.706947}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.267609+05:30", "timestamp": 1755780867.267609}}}
{"text": "2025-08-21 18:24:27.267 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.707309", "seconds": 1.707309}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.267971+05:30", "timestamp": 1755780867.267971}}}
{"text": "2025-08-21 18:24:27.268 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.707668", "seconds": 1.707668}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.268330+05:30", "timestamp": 1755780867.26833}}}
{"text": "2025-08-21 18:24:27.268 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.708060", "seconds": 1.70806}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.268722+05:30", "timestamp": 1755780867.268722}}}
{"text": "2025-08-21 18:24:27.269 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.708415", "seconds": 1.708415}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.269077+05:30", "timestamp": 1755780867.269077}}}
{"text": "2025-08-21 18:24:27.269 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.708781", "seconds": 1.708781}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.269443+05:30", "timestamp": 1755780867.269443}}}
{"text": "2025-08-21 18:24:27.269 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.709200", "seconds": 1.7092}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.269862+05:30", "timestamp": 1755780867.269862}}}
{"text": "2025-08-21 18:24:27.270 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.709536", "seconds": 1.709536}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.270198+05:30", "timestamp": 1755780867.270198}}}
{"text": "2025-08-21 18:24:27.270 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.709919", "seconds": 1.709919}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.270581+05:30", "timestamp": 1755780867.270581}}}
{"text": "2025-08-21 18:24:27.270 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.710303", "seconds": 1.710303}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.270965+05:30", "timestamp": 1755780867.270965}}}
{"text": "2025-08-21 18:24:27.271 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.710748", "seconds": 1.710748}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.271410+05:30", "timestamp": 1755780867.27141}}}
{"text": "2025-08-21 18:24:27.271 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.711159", "seconds": 1.711159}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.271821+05:30", "timestamp": 1755780867.271821}}}
{"text": "2025-08-21 18:24:27.272 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.711512", "seconds": 1.711512}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.272174+05:30", "timestamp": 1755780867.272174}}}
{"text": "2025-08-21 18:24:27.272 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.711919", "seconds": 1.711919}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.272581+05:30", "timestamp": 1755780867.272581}}}
{"text": "2025-08-21 18:24:27.273 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.712426", "seconds": 1.712426}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.273088+05:30", "timestamp": 1755780867.273088}}}
{"text": "2025-08-21 18:24:27.273 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.712788", "seconds": 1.712788}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.273450+05:30", "timestamp": 1755780867.27345}}}
{"text": "2025-08-21 18:24:27.273 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.713150", "seconds": 1.71315}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.273812+05:30", "timestamp": 1755780867.273812}}}
{"text": "2025-08-21 18:24:27.274 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.713517", "seconds": 1.713517}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.274179+05:30", "timestamp": 1755780867.274179}}}
{"text": "2025-08-21 18:24:27.274 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.713861", "seconds": 1.713861}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.274523+05:30", "timestamp": 1755780867.274523}}}
{"text": "2025-08-21 18:24:27.274 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.714259", "seconds": 1.714259}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.274921+05:30", "timestamp": 1755780867.274921}}}
{"text": "2025-08-21 18:24:27.275 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.714578", "seconds": 1.714578}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.275240+05:30", "timestamp": 1755780867.27524}}}
{"text": "2025-08-21 18:24:27.275 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.714950", "seconds": 1.71495}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.275612+05:30", "timestamp": 1755780867.275612}}}
{"text": "2025-08-21 18:24:27.276 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.715401", "seconds": 1.715401}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.276063+05:30", "timestamp": 1755780867.276063}}}
{"text": "2025-08-21 18:24:27.276 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.715797", "seconds": 1.715797}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.276459+05:30", "timestamp": 1755780867.276459}}}
{"text": "2025-08-21 18:24:27.276 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.716180", "seconds": 1.71618}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.276842+05:30", "timestamp": 1755780867.276842}}}
{"text": "2025-08-21 18:24:27.277 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.716582", "seconds": 1.716582}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.277244+05:30", "timestamp": 1755780867.277244}}}
{"text": "2025-08-21 18:24:27.277 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.717006", "seconds": 1.717006}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.277668+05:30", "timestamp": 1755780867.277668}}}
{"text": "2025-08-21 18:24:27.278 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.717492", "seconds": 1.717492}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.278154+05:30", "timestamp": 1755780867.278154}}}
{"text": "2025-08-21 18:24:27.278 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.718013", "seconds": 1.718013}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.278675+05:30", "timestamp": 1755780867.278675}}}
{"text": "2025-08-21 18:24:27.279 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.718612", "seconds": 1.718612}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.279274+05:30", "timestamp": 1755780867.279274}}}
{"text": "2025-08-21 18:24:27.280 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.719599", "seconds": 1.719599}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.280261+05:30", "timestamp": 1755780867.280261}}}
{"text": "2025-08-21 18:24:27.281 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.720442", "seconds": 1.720442}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.281104+05:30", "timestamp": 1755780867.281104}}}
{"text": "2025-08-21 18:24:27.281 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.720880", "seconds": 1.72088}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.281542+05:30", "timestamp": 1755780867.281542}}}
{"text": "2025-08-21 18:24:27.282 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.721411", "seconds": 1.721411}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.282073+05:30", "timestamp": 1755780867.282073}}}
{"text": "2025-08-21 18:24:27.282 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.721916", "seconds": 1.721916}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.282578+05:30", "timestamp": 1755780867.282578}}}
{"text": "2025-08-21 18:24:27.283 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.722768", "seconds": 1.722768}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.283430+05:30", "timestamp": 1755780867.28343}}}
{"text": "2025-08-21 18:24:27.284 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.723549", "seconds": 1.723549}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.284211+05:30", "timestamp": 1755780867.284211}}}
{"text": "2025-08-21 18:24:27.284 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.724076", "seconds": 1.724076}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.284738+05:30", "timestamp": 1755780867.284738}}}
{"text": "2025-08-21 18:24:27.285 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.724634", "seconds": 1.724634}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.285296+05:30", "timestamp": 1755780867.285296}}}
{"text": "2025-08-21 18:24:27.285 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.725324", "seconds": 1.725324}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.285986+05:30", "timestamp": 1755780867.285986}}}
{"text": "2025-08-21 18:24:27.286 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.726116", "seconds": 1.726116}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.286778+05:30", "timestamp": 1755780867.286778}}}
{"text": "2025-08-21 18:24:27.287 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.726693", "seconds": 1.726693}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.287355+05:30", "timestamp": 1755780867.287355}}}
{"text": "2025-08-21 18:24:27.288 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.727349", "seconds": 1.727349}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.288011+05:30", "timestamp": 1755780867.288011}}}
{"text": "2025-08-21 18:24:27.288 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.727729", "seconds": 1.727729}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.288391+05:30", "timestamp": 1755780867.288391}}}
{"text": "2025-08-21 18:24:27.288 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.728172", "seconds": 1.728172}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.288834+05:30", "timestamp": 1755780867.288834}}}
{"text": "2025-08-21 18:24:27.289 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.728723", "seconds": 1.728723}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.289385+05:30", "timestamp": 1755780867.289385}}}
{"text": "2025-08-21 18:24:27.290 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.729826", "seconds": 1.729826}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.290488+05:30", "timestamp": 1755780867.290488}}}
{"text": "2025-08-21 18:24:27.291 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.730345", "seconds": 1.730345}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.291007+05:30", "timestamp": 1755780867.291007}}}
{"text": "2025-08-21 18:24:27.291 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.730765", "seconds": 1.730765}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.291427+05:30", "timestamp": 1755780867.291427}}}
{"text": "2025-08-21 18:24:27.291 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.731264", "seconds": 1.731264}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.291926+05:30", "timestamp": 1755780867.291926}}}
{"text": "2025-08-21 18:24:27.292 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.731769", "seconds": 1.731769}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.292431+05:30", "timestamp": 1755780867.292431}}}
{"text": "2025-08-21 18:24:27.293 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.732361", "seconds": 1.732361}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.293023+05:30", "timestamp": 1755780867.293023}}}
{"text": "2025-08-21 18:24:27.293 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.733053", "seconds": 1.733053}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.293715+05:30", "timestamp": 1755780867.293715}}}
{"text": "2025-08-21 18:24:27.295 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.734382", "seconds": 1.734382}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.295044+05:30", "timestamp": 1755780867.295044}}}
{"text": "2025-08-21 18:24:27.295 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.734946", "seconds": 1.734946}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.295608+05:30", "timestamp": 1755780867.295608}}}
{"text": "2025-08-21 18:24:27.296 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.735355", "seconds": 1.735355}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.296017+05:30", "timestamp": 1755780867.296017}}}
{"text": "2025-08-21 18:24:27.296 | DEBUG    | app.ws.live:emit_delta:408 - Emitted positions delta: seq=1\n", "record": {"elapsed": {"repr": "0:00:01.735816", "seconds": 1.735816}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted positions delta: seq=1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.296478+05:30", "timestamp": 1755780867.296478}}}
{"text": "2025-08-21 18:24:27.296 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:01.736332", "seconds": 1.736332}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.296994+05:30", "timestamp": 1755780867.296994}}}
{"text": "2025-08-21 18:24:27.297 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:01.736795", "seconds": 1.736795}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.297457+05:30", "timestamp": 1755780867.297457}}}
{"text": "2025-08-21 18:24:27.298 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=163756.92, today=163756.92\n", "record": {"elapsed": {"repr": "0:00:01.737925", "seconds": 1.737925}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=163756.92, today=163756.92", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.298587+05:30", "timestamp": 1755780867.298587}}}
{"text": "2025-08-21 18:24:27.299 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-26502.75, today=-26502.75\n", "record": {"elapsed": {"repr": "0:00:01.738523", "seconds": 1.738523}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-26502.75, today=-26502.75", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.299185+05:30", "timestamp": 1755780867.299185}}}
{"text": "2025-08-21 18:24:27.299 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=2307100.65, today=2307100.65\n", "record": {"elapsed": {"repr": "0:00:01.738962", "seconds": 1.738962}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=2307100.65, today=2307100.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.299624+05:30", "timestamp": 1755780867.299624}}}
{"text": "2025-08-21 18:24:27.300 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1477364.09, today=-1477364.09\n", "record": {"elapsed": {"repr": "0:00:01.739368", "seconds": 1.739368}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1477364.09, today=-1477364.09", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.300030+05:30", "timestamp": 1755780867.30003}}}
{"text": "2025-08-21 18:24:27.300 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1183568.07, today=1183568.07\n", "record": {"elapsed": {"repr": "0:00:01.739815", "seconds": 1.739815}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1183568.07, today=1183568.07", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.300477+05:30", "timestamp": 1755780867.300477}}}
{"text": "2025-08-21 18:24:27.300 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2150558.8, day: 2150558.8\n", "record": {"elapsed": {"repr": "0:00:01.740248", "seconds": 1.740248}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2150558.8, day: 2150558.8", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.300910+05:30", "timestamp": 1755780867.30091}}}
{"text": "2025-08-21 18:24:27.301 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:01.740657", "seconds": 1.740657}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.301319+05:30", "timestamp": 1755780867.301319}}}
{"text": "2025-08-21 18:24:27.301 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:01.741165", "seconds": 1.741165}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.301827+05:30", "timestamp": 1755780867.301827}}}
{"text": "2025-08-21 18:24:27.302 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:01.741695", "seconds": 1.741695}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.302357+05:30", "timestamp": 1755780867.302357}}}
{"text": "2025-08-21 18:24:27.302 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:01.742315", "seconds": 1.742315}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.302977+05:30", "timestamp": 1755780867.302977}}}
{"text": "2025-08-21 18:24:27.303 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:27.298351+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:01.742948", "seconds": 1.742948}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:27.298351+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.303610+05:30", "timestamp": 1755780867.30361}}}
{"text": "2025-08-21 18:24:27.305 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2150558.8, day=2150558.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=197, avg=154.33, ltp=985.58, unrealized=163756.92, today_pnl=163756.92), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=124, avg=358.73, ltp=572.46, unrealized=-26502.75, today_pnl=-26502.75), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1509, avg=368.21, ltp=1897.1, unrealized=2307100.65, today_pnl=2307100.65), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1803, avg=133.36, ltp=952.75, unrealized=-1477364.09, today_pnl=-1477364.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=800, avg=102.95, ltp=1582.41, unrealized=1183568.07, today_pnl=1183568.07)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 27, 298351, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:01.744572", "seconds": 1.744572}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2150558.8, day=2150558.8, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=197, avg=154.33, ltp=985.58, unrealized=163756.92, today_pnl=163756.92), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=124, avg=358.73, ltp=572.46, unrealized=-26502.75, today_pnl=-26502.75), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1509, avg=368.21, ltp=1897.1, unrealized=2307100.65, today_pnl=2307100.65), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1803, avg=133.36, ltp=952.75, unrealized=-1477364.09, today_pnl=-1477364.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=800, avg=102.95, ltp=1582.41, unrealized=1183568.07, today_pnl=1183568.07)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 27, 298351, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.305234+05:30", "timestamp": 1755780867.305234}}}
{"text": "2025-08-21 18:24:27.306 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2150558.8, day=2150558.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=197, avg=154.33, ltp=985.58, unrealized=163756.92, today_pnl=163756.92), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=124, avg=358.73, ltp=572.46, unrealized=-26502.75, today_pnl=-26502.75), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1509, avg=368.21, ltp=1897.1, unrealized=2307100.65, today_pnl=2307100.65), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1803, avg=133.36, ltp=952.75, unrealized=-1477364.09, today_pnl=-1477364.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=800, avg=102.95, ltp=1582.41, unrealized=1183568.07, today_pnl=1183568.07)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 27, 298351, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:01.745509", "seconds": 1.745509}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2150558.8, day=2150558.8, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=197, avg=154.33, ltp=985.58, unrealized=163756.92, today_pnl=163756.92), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=124, avg=358.73, ltp=572.46, unrealized=-26502.75, today_pnl=-26502.75), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1509, avg=368.21, ltp=1897.1, unrealized=2307100.65, today_pnl=2307100.65), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1803, avg=133.36, ltp=952.75, unrealized=-1477364.09, today_pnl=-1477364.09), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=800, avg=102.95, ltp=1582.41, unrealized=1183568.07, today_pnl=1183568.07)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 27, 298351, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.306171+05:30", "timestamp": 1755780867.306171}}}
{"text": "2025-08-21 18:24:27.306 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2150558.80\n", "record": {"elapsed": {"repr": "0:00:01.746104", "seconds": 1.746104}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2150558.80", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.306766+05:30", "timestamp": 1755780867.306766}}}
{"text": "2025-08-21 18:24:27.308 | DEBUG    | app.ws.live:emit_delta:408 - Emitted pnl delta: seq=2\n", "record": {"elapsed": {"repr": "0:00:01.747533", "seconds": 1.747533}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "emit_delta", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 408, "message": "Emitted pnl delta: seq=2", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.308195+05:30", "timestamp": 1755780867.308195}}}
{"text": "2025-08-21 18:24:27.319 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:01.758911", "seconds": 1.758911}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.319573+05:30", "timestamp": 1755780867.319573}}}
{"text": "2025-08-21 18:24:27.595 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.034624", "seconds": 2.034624}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 2036, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:27.595286+05:30", "timestamp": 1755780867.595286}}}
{"text": "2025-08-21 18:24:27.595 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.035268", "seconds": 2.035268}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 2036, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:27.595930+05:30", "timestamp": 1755780867.59593}}}
{"text": "2025-08-21 18:24:27.596 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.035770", "seconds": 2.03577}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 2036, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:27.596432+05:30", "timestamp": 1755780867.596432}}}
{"text": "2025-08-21 18:24:27.596 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.036213", "seconds": 2.036213}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 2036, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:27.596875+05:30", "timestamp": 1755780867.596875}}}
{"text": "2025-08-21 18:24:27.597 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.036750", "seconds": 2.03675}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 2036, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:27.597412+05:30", "timestamp": 1755780867.597412}}}
{"text": "2025-08-21 18:24:27.598 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.037361", "seconds": 2.037361}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 2036, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:27.598023+05:30", "timestamp": 1755780867.598023}}}
{"text": "2025-08-21 18:24:27.598 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.038020", "seconds": 2.03802}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 2036, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:27.598682+05:30", "timestamp": 1755780867.598682}}}
{"text": "2025-08-21 18:24:27.599 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.038459", "seconds": 2.038459}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 2036, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:27.599121+05:30", "timestamp": 1755780867.599121}}}
{"text": "2025-08-21 18:24:27.599 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.039001", "seconds": 2.039001}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 2036, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:27.599663+05:30", "timestamp": 1755780867.599663}}}
{"text": "2025-08-21 18:24:27.600 | DEBUG    | app.services.dhan_client:_on_pnl_update_triggered:200 - PnL update triggered - will recalculate on next fetch\n", "record": {"elapsed": {"repr": "0:00:02.039500", "seconds": 2.0395}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "_on_pnl_update_triggered", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 200, "message": "PnL update triggered - will recalculate on next fetch", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 2036, "name": "Thread-1 (update_ltp)"}, "time": {"repr": "2025-08-21 18:24:27.600162+05:30", "timestamp": 1755780867.600162}}}
{"text": "2025-08-21 18:24:27.624 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.063839", "seconds": 2.063839}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.624501+05:30", "timestamp": 1755780867.624501}}}
{"text": "2025-08-21 18:24:27.644 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.083493", "seconds": 2.083493}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.644155+05:30", "timestamp": 1755780867.644155}}}
{"text": "2025-08-21 18:24:27.659 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.098958", "seconds": 2.098958}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.659620+05:30", "timestamp": 1755780867.65962}}}
{"text": "2025-08-21 18:24:27.678 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.118264", "seconds": 2.118264}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.678926+05:30", "timestamp": 1755780867.678926}}}
{"text": "2025-08-21 18:24:27.700 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.140050", "seconds": 2.14005}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.700712+05:30", "timestamp": 1755780867.700712}}}
{"text": "2025-08-21 18:24:27.777 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.217196", "seconds": 2.217196}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.777858+05:30", "timestamp": 1755780867.777858}}}
{"text": "2025-08-21 18:24:27.793 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.232600", "seconds": 2.2326}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.793262+05:30", "timestamp": 1755780867.793262}}}
{"text": "2025-08-21 18:24:27.794 | DEBUG    | app.ws.live:websocket_endpoint:517 - Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}\n", "record": {"elapsed": {"repr": "0:00:02.233885", "seconds": 2.233885}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "websocket_endpoint", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 517, "message": "Received WebSocket message: {'type': 'subscribe', 'channels': ['positions', 'orders', 'holdings', 'trades', 'pnl']}", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.794547+05:30", "timestamp": 1755780867.794547}}}
{"text": "2025-08-21 18:24:27.795 | INFO     | app.ws.live:handle_message:281 - Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']\n", "record": {"elapsed": {"repr": "0:00:02.234542", "seconds": 2.234542}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "handle_message", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 281, "message": "Client 127.0.0.1 subscribed to: ['positions', 'orders', 'holdings', 'trades', 'pnl']", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.795204+05:30", "timestamp": 1755780867.795204}}}
{"text": "2025-08-21 18:24:27.807 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.247324", "seconds": 2.247324}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.807986+05:30", "timestamp": 1755780867.807986}}}
{"text": "2025-08-21 18:24:27.824 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.263997", "seconds": 2.263997}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.824659+05:30", "timestamp": 1755780867.824659}}}
{"text": "2025-08-21 18:24:27.840 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.280233", "seconds": 2.280233}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.840895+05:30", "timestamp": 1755780867.840895}}}
{"text": "2025-08-21 18:24:27.916 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.355640", "seconds": 2.35564}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.916302+05:30", "timestamp": 1755780867.916302}}}
{"text": "2025-08-21 18:24:27.930 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.370152", "seconds": 2.370152}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:27.930814+05:30", "timestamp": 1755780867.930814}}}
{"text": "2025-08-21 18:24:28.042 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.481591", "seconds": 2.481591}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.042253+05:30", "timestamp": 1755780868.042253}}}
{"text": "2025-08-21 18:24:28.057 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.496418", "seconds": 2.496418}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.057080+05:30", "timestamp": 1755780868.05708}}}
{"text": "2025-08-21 18:24:28.089 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.528340", "seconds": 2.52834}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.089002+05:30", "timestamp": 1755780868.089002}}}
{"text": "2025-08-21 18:24:28.104 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.543382", "seconds": 2.543382}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.104044+05:30", "timestamp": 1755780868.104044}}}
{"text": "2025-08-21 18:24:28.120 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.559659", "seconds": 2.559659}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.120321+05:30", "timestamp": 1755780868.120321}}}
{"text": "2025-08-21 18:24:28.136 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.575753", "seconds": 2.575753}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.136415+05:30", "timestamp": 1755780868.136415}}}
{"text": "2025-08-21 18:24:28.151 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.590756", "seconds": 2.590756}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.151418+05:30", "timestamp": 1755780868.151418}}}
{"text": "2025-08-21 18:24:28.167 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.606435", "seconds": 2.606435}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.167097+05:30", "timestamp": 1755780868.167097}}}
{"text": "2025-08-21 18:24:28.183 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.622555", "seconds": 2.622555}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.183217+05:30", "timestamp": 1755780868.183217}}}
{"text": "2025-08-21 18:24:28.207 | INFO     | app.main:add_trace_id:43 - Request started - Method: GET, Path: /pnl, Trace ID: eb936c92-7ed4-4bb5-9d9e-169790212908\n", "record": {"elapsed": {"repr": "0:00:02.646506", "seconds": 2.646506}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 43, "message": "Request started - Method: GET, Path: /pnl, Trace ID: eb936c92-7ed4-4bb5-9d9e-169790212908", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.207168+05:30", "timestamp": 1755780868.207168}}}
{"text": "2025-08-21 18:24:28.208 | INFO     | app.main:add_trace_id:43 - Request started - Method: GET, Path: /positions, Trace ID: 86250d87-884a-4b87-b9d8-b89643936c5c\n", "record": {"elapsed": {"repr": "0:00:02.647849", "seconds": 2.647849}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 43, "message": "Request started - Method: GET, Path: /positions, Trace ID: 86250d87-884a-4b87-b9d8-b89643936c5c", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.208511+05:30", "timestamp": 1755780868.208511}}}
{"text": "2025-08-21 18:24:28.210 | INFO     | app.main:add_trace_id:43 - Request started - Method: GET, Path: /holdings, Trace ID: 5da512c9-aac8-4ee7-8082-d3524246847f\n", "record": {"elapsed": {"repr": "0:00:02.649871", "seconds": 2.649871}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 43, "message": "Request started - Method: GET, Path: /holdings, Trace ID: 5da512c9-aac8-4ee7-8082-d3524246847f", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.210533+05:30", "timestamp": 1755780868.210533}}}
{"text": "2025-08-21 18:24:28.211 | INFO     | app.main:add_trace_id:43 - Request started - Method: GET, Path: /orders, Trace ID: deb8fddc-c848-4fae-9ec6-82bb4a0cadf2\n", "record": {"elapsed": {"repr": "0:00:02.651067", "seconds": 2.651067}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 43, "message": "Request started - Method: GET, Path: /orders, Trace ID: deb8fddc-c848-4fae-9ec6-82bb4a0cadf2", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.211729+05:30", "timestamp": 1755780868.211729}}}
{"text": "2025-08-21 18:24:28.212 | INFO     | app.main:add_trace_id:43 - Request started - Method: GET, Path: /trades, Trace ID: 9959d46e-5a74-48da-9696-fecaac5db9da\n", "record": {"elapsed": {"repr": "0:00:02.651830", "seconds": 2.65183}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 43, "message": "Request started - Method: GET, Path: /trades, Trace ID: 9959d46e-5a74-48da-9696-fecaac5db9da", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.212492+05:30", "timestamp": 1755780868.212492}}}
{"text": "2025-08-21 18:24:28.215 | INFO     | app.routes.data:pnl:69 - PnL endpoint called\n", "record": {"elapsed": {"repr": "0:00:02.654511", "seconds": 2.654511}, "exception": null, "extra": {}, "file": {"name": "data.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\routes\\data.py"}, "function": "pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 69, "message": "PnL endpoint called", "module": "data", "name": "app.routes.data", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.215173+05:30", "timestamp": 1755780868.215173}}}
{"text": "2025-08-21 18:24:28.217 | INFO     | app.services.dhan_client:get_pnl:489 - Starting accurate P&L calculation\n", "record": {"elapsed": {"repr": "0:00:02.656860", "seconds": 2.65686}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 489, "message": "Starting accurate P&L calculation", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.217522+05:30", "timestamp": 1755780868.217522}}}
{"text": "2025-08-21 18:24:28.218 | INFO     | app.services.dhan_client:get_pnl:491 - Fetched 5 positions\n", "record": {"elapsed": {"repr": "0:00:02.657703", "seconds": 2.657703}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 491, "message": "Fetched 5 positions", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.218365+05:30", "timestamp": 1755780868.218365}}}
{"text": "2025-08-21 18:24:28.220 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.659348", "seconds": 2.659348}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.220010+05:30", "timestamp": 1755780868.22001}}}
{"text": "2025-08-21 18:24:28.220 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for RELIANCE: unrealized=164448.78, today=164448.78\n", "record": {"elapsed": {"repr": "0:00:02.659594", "seconds": 2.659594}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for RELIANCE: unrealized=164448.78, today=164448.78", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.220256+05:30", "timestamp": 1755780868.220256}}}
{"text": "2025-08-21 18:24:28.222 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for TCS: unrealized=-27522.0, today=-27522.0\n", "record": {"elapsed": {"repr": "0:00:02.661671", "seconds": 2.661671}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for TCS: unrealized=-27522.0, today=-27522.0", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.222333+05:30", "timestamp": 1755780868.222333}}}
{"text": "2025-08-21 18:24:28.226 | INFO     | app.main:add_trace_id:47 - Request completed - Method: GET, Path: /positions, Status: 200, Trace ID: 86250d87-884a-4b87-b9d8-b89643936c5c\n", "record": {"elapsed": {"repr": "0:00:02.665730", "seconds": 2.66573}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 47, "message": "Request completed - Method: GET, Path: /positions, Status: 200, Trace ID: 86250d87-884a-4b87-b9d8-b89643936c5c", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.226392+05:30", "timestamp": 1755780868.226392}}}
{"text": "2025-08-21 18:24:28.226 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for HDFC: unrealized=2345900.65, today=2345900.65\n", "record": {"elapsed": {"repr": "0:00:02.665909", "seconds": 2.665909}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for HDFC: unrealized=2345900.65, today=2345900.65", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.226571+05:30", "timestamp": 1755780868.226571}}}
{"text": "2025-08-21 18:24:28.227 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for INFY: unrealized=-1447199.9, today=-1447199.9\n", "record": {"elapsed": {"repr": "0:00:02.666997", "seconds": 2.666997}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for INFY: unrealized=-1447199.9, today=-1447199.9", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.227659+05:30", "timestamp": 1755780868.227659}}}
{"text": "2025-08-21 18:24:28.228 | INFO     | app.main:add_trace_id:47 - Request completed - Method: GET, Path: /holdings, Status: 200, Trace ID: 5da512c9-aac8-4ee7-8082-d3524246847f\n", "record": {"elapsed": {"repr": "0:00:02.668186", "seconds": 2.668186}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 47, "message": "Request completed - Method: GET, Path: /holdings, Status: 200, Trace ID: 5da512c9-aac8-4ee7-8082-d3524246847f", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.228848+05:30", "timestamp": 1755780868.228848}}}
{"text": "2025-08-21 18:24:28.229 | DEBUG    | app.services.dhan_client:get_pnl:534 - Created PnL for ICICIBANK: unrealized=1207670.6, today=1207670.6\n", "record": {"elapsed": {"repr": "0:00:02.668495", "seconds": 2.668495}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 534, "message": "Created PnL for ICICIBANK: unrealized=1207670.6, today=1207670.6", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.229157+05:30", "timestamp": 1755780868.229157}}}
{"text": "2025-08-21 18:24:28.230 | INFO     | app.services.dhan_client:get_pnl:545 - Calculated totals - realized: 0.0, unrealized: 2243298.13, day: 2243298.13\n", "record": {"elapsed": {"repr": "0:00:02.669996", "seconds": 2.669996}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 545, "message": "Calculated totals - realized: 0.0, unrealized: 2243298.13, day: 2243298.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.230658+05:30", "timestamp": 1755780868.230658}}}
{"text": "2025-08-21 18:24:28.230 | INFO     | app.main:add_trace_id:47 - Request completed - Method: GET, Path: /orders, Status: 200, Trace ID: deb8fddc-c848-4fae-9ec6-82bb4a0cadf2\n", "record": {"elapsed": {"repr": "0:00:02.670270", "seconds": 2.67027}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 47, "message": "Request completed - Method: GET, Path: /orders, Status: 200, Trace ID: deb8fddc-c848-4fae-9ec6-82bb4a0cadf2", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.230932+05:30", "timestamp": 1755780868.230932}}}
{"text": "2025-08-21 18:24:28.231 | DEBUG    | app.services.dhan_client:get_pnl:554 - PnL consistency check passed: drift=‚Çπ0.00\n", "record": {"elapsed": {"repr": "0:00:02.670731", "seconds": 2.670731}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 554, "message": "PnL consistency check passed: drift=‚Çπ0.00", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.231393+05:30", "timestamp": 1755780868.231393}}}
{"text": "2025-08-21 18:24:28.232 | DEBUG    | app.services.dhan_client:get_pnl:558 - Creating PnLTotals...\n", "record": {"elapsed": {"repr": "0:00:02.671729", "seconds": 2.671729}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 558, "message": "Creating PnLTotals...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.232391+05:30", "timestamp": 1755780868.232391}}}
{"text": "2025-08-21 18:24:28.232 | INFO     | app.main:add_trace_id:47 - Request completed - Method: GET, Path: /trades, Status: 200, Trace ID: 9959d46e-5a74-48da-9696-fecaac5db9da\n", "record": {"elapsed": {"repr": "0:00:02.671951", "seconds": 2.671951}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\main.py"}, "function": "add_trace_id", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 47, "message": "Request completed - Method: GET, Path: /trades, Status: 200, Trace ID: 9959d46e-5a74-48da-9696-fecaac5db9da", "module": "main", "name": "app.main", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.232613+05:30", "timestamp": 1755780868.232613}}}
{"text": "2025-08-21 18:24:28.233 | DEBUG    | app.services.dhan_client:get_pnl:565 - PnLTotals created successfully\n", "record": {"elapsed": {"repr": "0:00:02.672372", "seconds": 2.672372}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 565, "message": "PnLTotals created successfully", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.233034+05:30", "timestamp": 1755780868.233034}}}
{"text": "2025-08-21 18:24:28.234 | DEBUG    | app.services.dhan_client:get_pnl:574 - Creating PnL model...\n", "record": {"elapsed": {"repr": "0:00:02.673620", "seconds": 2.67362}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 574, "message": "Creating PnL model...", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.234282+05:30", "timestamp": 1755780868.234282}}}
{"text": "2025-08-21 18:24:28.235 | DEBUG    | app.services.dhan_client:get_pnl:575 - Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:28.220169+05:30, trading_day=2025-08-21\n", "record": {"elapsed": {"repr": "0:00:02.674886", "seconds": 2.674886}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 575, "message": "Model fields: totals=<class 'app.models.schemas.PnLTotals'>, perSymbol=5, updated_at=2025-08-21 18:24:28.220169+05:30, trading_day=2025-08-21", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.235548+05:30", "timestamp": 1755780868.235548}}}
{"text": "2025-08-21 18:24:28.236 | DEBUG    | app.services.dhan_client:get_pnl:584 - Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2243298.13, day=2243298.13, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=197, avg=154.33, ltp=989.1, unrealized=164448.78, today_pnl=164448.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=124, avg=358.73, ltp=580.68, unrealized=-27522.0, today_pnl=-27522.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1509, avg=368.21, ltp=1922.82, unrealized=2345900.65, today_pnl=2345900.65), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1803, avg=133.36, ltp=936.02, unrealized=-1447199.9, today_pnl=-1447199.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=800, avg=102.95, ltp=1612.54, unrealized=1207670.6, today_pnl=1207670.6)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 28, 220169, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'\n", "record": {"elapsed": {"repr": "0:00:02.676211", "seconds": 2.676211}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 584, "message": "Created PnL model: totals=PnLTotals(realized=0.0, unrealized=2243298.13, day=2243298.13, currency='INR') per_symbol=[PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=197, avg=154.33, ltp=989.1, unrealized=164448.78, today_pnl=164448.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=124, avg=358.73, ltp=580.68, unrealized=-27522.0, today_pnl=-27522.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1509, avg=368.21, ltp=1922.82, unrealized=2345900.65, today_pnl=2345900.65), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1803, avg=133.36, ltp=936.02, unrealized=-1447199.9, today_pnl=-1447199.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=800, avg=102.95, ltp=1612.54, unrealized=1207670.6, today_pnl=1207670.6)] updated_at=datetime.datetime(2025, 8, 21, 18, 24, 28, 220169, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))) trading_day='2025-08-21'", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.236873+05:30", "timestamp": 1755780868.236873}}}
{"text": "2025-08-21 18:24:28.239 | DEBUG    | app.services.dhan_client:get_pnl:585 - PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2243298.13, day=2243298.13, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=197, avg=154.33, ltp=989.1, unrealized=164448.78, today_pnl=164448.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=124, avg=358.73, ltp=580.68, unrealized=-27522.0, today_pnl=-27522.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1509, avg=368.21, ltp=1922.82, unrealized=2345900.65, today_pnl=2345900.65), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1803, avg=133.36, ltp=936.02, unrealized=-1447199.9, today_pnl=-1447199.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=800, avg=102.95, ltp=1612.54, unrealized=1207670.6, today_pnl=1207670.6)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 28, 220169, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}\n", "record": {"elapsed": {"repr": "0:00:02.678872", "seconds": 2.678872}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "üêû", "name": "DEBUG", "no": 10}, "line": 585, "message": "PnL model fields: {'totals': PnLTotals(realized=0.0, unrealized=2243298.13, day=2243298.13, currency='INR'), 'per_symbol': [PnLSymbol(symbol='RELIANCE', side=<Side.LONG: 'LONG'>, qty=197, avg=154.33, ltp=989.1, unrealized=164448.78, today_pnl=164448.78), PnLSymbol(symbol='TCS', side=<Side.SHORT: 'SHORT'>, qty=124, avg=358.73, ltp=580.68, unrealized=-27522.0, today_pnl=-27522.0), PnLSymbol(symbol='HDFC', side=<Side.LONG: 'LONG'>, qty=1509, avg=368.21, ltp=1922.82, unrealized=2345900.65, today_pnl=2345900.65), PnLSymbol(symbol='INFY', side=<Side.SHORT: 'SHORT'>, qty=1803, avg=133.36, ltp=936.02, unrealized=-1447199.9, today_pnl=-1447199.9), PnLSymbol(symbol='ICICIBANK', side=<Side.LONG: 'LONG'>, qty=800, avg=102.95, ltp=1612.54, unrealized=1207670.6, today_pnl=1207670.6)], 'updated_at': datetime.datetime(2025, 8, 21, 18, 24, 28, 220169, tzinfo=datetime.timezone(datetime.timedelta(seconds=19800))), 'trading_day': '2025-08-21'}", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.239534+05:30", "timestamp": 1755780868.239534}}}
{"text": "2025-08-21 18:24:28.241 | INFO     | app.services.dhan_client:get_pnl:587 - P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2243298.13\n", "record": {"elapsed": {"repr": "0:00:02.680350", "seconds": 2.68035}, "exception": null, "extra": {}, "file": {"name": "dhan_client.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\services\\dhan_client.py"}, "function": "get_pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 587, "message": "P&L calculation completed successfully: 5 symbols, unrealized=‚Çπ2243298.13", "module": "dhan_client", "name": "app.services.dhan_client", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.241012+05:30", "timestamp": 1755780868.241012}}}
{"text": "2025-08-21 18:24:28.241 | INFO     | app.ws.live:connect:226 - WebSocket connected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.681222", "seconds": 2.681222}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "connect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 226, "message": "WebSocket connected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.241884+05:30", "timestamp": 1755780868.241884}}}
{"text": "2025-08-21 18:24:28.242 | INFO     | app.routes.data:pnl:71 - PnL data returned: True\n", "record": {"elapsed": {"repr": "0:00:02.681349", "seconds": 2.681349}, "exception": null, "extra": {}, "file": {"name": "data.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\routes\\data.py"}, "function": "pnl", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 71, "message": "PnL data returned: True", "module": "data", "name": "app.routes.data", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 26760, "name": "AnyIO worker thread"}, "time": {"repr": "2025-08-21 18:24:28.242011+05:30", "timestamp": 1755780868.242011}}}
{"text": "2025-08-21 18:24:28.243 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.682534", "seconds": 2.682534}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.243196+05:30", "timestamp": 1755780868.243196}}}
{"text": "2025-08-21 18:24:28.244 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.683348", "seconds": 2.683348}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.244010+05:30", "timestamp": 1755780868.24401}}}
{"text": "2025-08-21 18:24:28.244 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.683928", "seconds": 2.683928}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.244590+05:30", "timestamp": 1755780868.24459}}}
{"text": "2025-08-21 18:24:28.245 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.684541", "seconds": 2.684541}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.245203+05:30", "timestamp": 1755780868.245203}}}
{"text": "2025-08-21 18:24:28.245 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.685159", "seconds": 2.685159}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.245821+05:30", "timestamp": 1755780868.245821}}}
{"text": "2025-08-21 18:24:28.246 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.685953", "seconds": 2.685953}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.246615+05:30", "timestamp": 1755780868.246615}}}
{"text": "2025-08-21 18:24:28.247 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.686597", "seconds": 2.686597}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.247259+05:30", "timestamp": 1755780868.247259}}}
{"text": "2025-08-21 18:24:28.247 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.687156", "seconds": 2.687156}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.247818+05:30", "timestamp": 1755780868.247818}}}
{"text": "2025-08-21 18:24:28.248 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.687607", "seconds": 2.687607}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.248269+05:30", "timestamp": 1755780868.248269}}}
{"text": "2025-08-21 18:24:28.248 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.688099", "seconds": 2.688099}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.248761+05:30", "timestamp": 1755780868.248761}}}
{"text": "2025-08-21 18:24:28.249 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.688762", "seconds": 2.688762}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.249424+05:30", "timestamp": 1755780868.249424}}}
{"text": "2025-08-21 18:24:28.249 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.689288", "seconds": 2.689288}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.249950+05:30", "timestamp": 1755780868.24995}}}
{"text": "2025-08-21 18:24:28.250 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.689825", "seconds": 2.689825}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.250487+05:30", "timestamp": 1755780868.250487}}}
{"text": "2025-08-21 18:24:28.250 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.690315", "seconds": 2.690315}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.250977+05:30", "timestamp": 1755780868.250977}}}
{"text": "2025-08-21 18:24:28.251 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.690838", "seconds": 2.690838}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.251500+05:30", "timestamp": 1755780868.2515}}}
{"text": "2025-08-21 18:24:28.251 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.691319", "seconds": 2.691319}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.251981+05:30", "timestamp": 1755780868.251981}}}
{"text": "2025-08-21 18:24:28.252 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.691841", "seconds": 2.691841}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.252503+05:30", "timestamp": 1755780868.252503}}}
{"text": "2025-08-21 18:24:28.252 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.692328", "seconds": 2.692328}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.252990+05:30", "timestamp": 1755780868.25299}}}
{"text": "2025-08-21 18:24:28.253 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.692780", "seconds": 2.69278}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.253442+05:30", "timestamp": 1755780868.253442}}}
{"text": "2025-08-21 18:24:28.253 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.693231", "seconds": 2.693231}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.253893+05:30", "timestamp": 1755780868.253893}}}
{"text": "2025-08-21 18:24:28.254 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.693815", "seconds": 2.693815}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.254477+05:30", "timestamp": 1755780868.254477}}}
{"text": "2025-08-21 18:24:28.255 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.694514", "seconds": 2.694514}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.255176+05:30", "timestamp": 1755780868.255176}}}
{"text": "2025-08-21 18:24:28.255 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.695095", "seconds": 2.695095}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.255757+05:30", "timestamp": 1755780868.255757}}}
{"text": "2025-08-21 18:24:28.256 | ERROR    | app.ws.live:broadcast:253 - Failed to broadcast to client: Object of type Order is not JSON serializable\n", "record": {"elapsed": {"repr": "0:00:02.695648", "seconds": 2.695648}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "broadcast", "level": {"icon": "‚ùå", "name": "ERROR", "no": 40}, "line": 253, "message": "Failed to broadcast to client: Object of type Order is not JSON serializable", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.256310+05:30", "timestamp": 1755780868.25631}}}
{"text": "2025-08-21 18:24:28.256 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.696157", "seconds": 2.696157}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.256819+05:30", "timestamp": 1755780868.256819}}}
{"text": "2025-08-21 18:24:28.257 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.696710", "seconds": 2.69671}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.257372+05:30", "timestamp": 1755780868.257372}}}
{"text": "2025-08-21 18:24:28.257 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.697171", "seconds": 2.697171}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.257833+05:30", "timestamp": 1755780868.257833}}}
{"text": "2025-08-21 18:24:28.258 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.697600", "seconds": 2.6976}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.258262+05:30", "timestamp": 1755780868.258262}}}
{"text": "2025-08-21 18:24:28.258 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.697985", "seconds": 2.697985}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.258647+05:30", "timestamp": 1755780868.258647}}}
{"text": "2025-08-21 18:24:28.259 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.698373", "seconds": 2.698373}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.259035+05:30", "timestamp": 1755780868.259035}}}
{"text": "2025-08-21 18:24:28.259 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.698762", "seconds": 2.698762}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.259424+05:30", "timestamp": 1755780868.259424}}}
{"text": "2025-08-21 18:24:28.259 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.699244", "seconds": 2.699244}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.259906+05:30", "timestamp": 1755780868.259906}}}
{"text": "2025-08-21 18:24:28.260 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.699689", "seconds": 2.699689}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.260351+05:30", "timestamp": 1755780868.260351}}}
{"text": "2025-08-21 18:24:28.260 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.700131", "seconds": 2.700131}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.260793+05:30", "timestamp": 1755780868.260793}}}
{"text": "2025-08-21 18:24:28.261 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.700575", "seconds": 2.700575}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.261237+05:30", "timestamp": 1755780868.261237}}}
{"text": "2025-08-21 18:24:28.261 | INFO     | app.ws.live:disconnect:234 - WebSocket disconnected: 127.0.0.1\n", "record": {"elapsed": {"repr": "0:00:02.701065", "seconds": 2.701065}, "exception": null, "extra": {}, "file": {"name": "live.py", "path": "C:\\Users\\hp\\Desktop\\Dhan Automation\\backend\\app\\ws\\live.py"}, "function": "disconnect", "level": {"icon": "‚ÑπÔ∏è", "name": "INFO", "no": 20}, "line": 234, "message": "WebSocket disconnected: 127.0.0.1", "module": "live", "name": "app.ws.live", "process": {"id": 3056, "name": "MainProcess"}, "thread": {"id": 27404, "name": "MainThread"}, "time": {"repr": "2025-08-21 18:24:28.261727+05:30", "timestamp": 1755780868.261727}}}
